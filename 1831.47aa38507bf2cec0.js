"use strict";(self.webpackChunkesri4_pwa=self.webpackChunkesri4_pwa||[]).push([[1831],{91831:(I,h,t)=>{t.r(h),t.d(h,{clearBoundingBoxCache:()=>B,computeIconLayerResourceSize:()=>a,computeLayerResourceSize:()=>D,computeLayerSize:()=>L,computeObjectLayerResourceSize:()=>y});var s=t(15861),O=t(84792),i=t(26584),_=t(78498),p=t(62208),d=t(5548),E=t(43652);let u=v();function v(){return new _.Z(50)}function B(){u=v()}function D(e,n){if("icon"===e.type)return a(e,n);if("object"===e.type)return y(e,n);throw new i.Z("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")}function L(e,n){return l.apply(this,arguments)}function l(){return(l=(0,s.Z)(function*(e,n){if("icon"===e.type)return M(e,n);if("object"===e.type)return C(e,n);throw new i.Z("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")})).apply(this,arguments)}function a(e,n){return c.apply(this,arguments)}function c(){return(c=(0,s.Z)(function*(e,n){if(e.resource.href)return j(e.resource.href).then(r=>[r.width,r.height]);if(e.resource.primitive)return(0,p.pC)(n)?[n,n]:[256,256];throw new i.Z("symbol3d:invalid-symbol-layer","symbol layers of type Icon must have either an href or a primitive resource")})).apply(this,arguments)}function M(e,n){return a(e,n).then(r=>{if(null==e.size)return r;const o=r[0]/r[1];return o>1?[e.size,e.size/o]:[e.size*o,e.size]})}function j(e){return(0,O.default)(e,{responseType:"image"}).then(n=>n.data)}function y(e,n){return function x(e,n){return f.apply(this,arguments)}(e,n).then(r=>(0,d.dp)(r))}function C(e,n){return m.apply(this,arguments)}function m(){return(m=(0,s.Z)(function*(e,n){const r=yield y(e,n);return(0,E.$K)(r,e)})).apply(this,arguments)}function f(){return(f=(0,s.Z)(function*(e,n){if(!e.isPrimitive){const o=e.resource.href,g=u.get(o);if(void 0!==g)return Promise.resolve(g);const z=yield Promise.all([t.e(5086),t.e(5314),t.e(479),t.e(5268),t.e(8592),t.e(7090)]).then(t.bind(t,47090)),P=yield z.fetch(o,{disableTextures:!0});return u.put(o,P.referenceBoundingBox),P.referenceBoundingBox}let r=null;if(e.resource&&e.resource.primitive&&(r=(0,d.Ue)((0,E.Uz)(e.resource.primitive)),(0,p.pC)(n)))for(let o=0;o<r.length;o++)r[o]*=n;return r?Promise.resolve(r):Promise.reject(new i.Z("symbol:invalid-resource","The symbol does not have a valid resource"))})).apply(this,arguments)}}}]);