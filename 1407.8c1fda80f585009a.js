"use strict";var ds=Object.defineProperty,vs=Object.defineProperties,bs=Object.getOwnPropertyDescriptors,as=Object.getOwnPropertySymbols,Ms=Object.prototype.hasOwnProperty,gs=Object.prototype.propertyIsEnumerable,ns=(D,E,l)=>E in D?ds(D,E,{enumerable:!0,configurable:!0,writable:!0,value:l}):D[E]=l,G=(D,E)=>{for(var l in E||(E={}))Ms.call(E,l)&&ns(D,l,E[l]);if(as)for(var l of as(E))gs.call(E,l)&&ns(D,l,E[l]);return D},os=(D,E)=>vs(D,bs(E));(self.webpackChunkesri4_pwa=self.webpackChunkesri4_pwa||[]).push([[1407,3100],{83100:(D,E,l)=>{function S(_){return _=_||globalThis.location.hostname,R.some(L=>{var C;return null!=(null==(C=_)?void 0:C.match(L))})}function T(_,L){return _&&(L=L||globalThis.location.hostname)?null!=L.match($)||null!=L.match(I)?_.replace("static.arcgis.com","staticdev.arcgis.com"):null!=L.match(W)||null!=L.match(P)?_.replace("static.arcgis.com","staticqa.arcgis.com"):_:_}l.d(E,{pJ:()=>T,XO:()=>S});const $=/^devext.arcgis.com$/,W=/^qaext.arcgis.com$/,I=/^[\w-]*\.mapsdevext.arcgis.com$/,P=/^[\w-]*\.mapsqa.arcgis.com$/,R=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,$,W,/^jsapps.esri.com$/,I,P]},66960:(D,E,l)=>{l.r(E),l.d(E,{getPatternDescriptor:()=>ss,getSizeFromOptions:()=>F,getSymbolLayerFill:()=>i,previewSymbol3D:()=>_s});var S=l(15861),T=l(54346),Z=l(78260),W=(l(8314),l(26584)),I=l(63290),P=l(62208),R=l(10699),_=l(23841),L=l(74741),C=l(33215),ls=l(48521),v=l(71131),z=l(6172),Q=l(86606),rs=l(50998);const j=v.b_.size,A=v.b_.maxSize,H=v.b_.maxOutlineSize,q=v.b_.lineWidth,J=v.b_.tallSymbolWidth,is=I.Z.getLogger("esri.symbols.support.previewSymbol3D");function k(s){const t=s.outline,n=(0,P.pC)(s.material)?s.material.color:null,e=(0,P.pC)(n)?n.toHex():null;if((0,P.Wi)(t)||"pattern"in t&&(0,P.pC)(t.pattern)&&"style"===t.pattern.type&&"none"===t.pattern.style)return"fill"===s.type&&"#ffffff"===e?{color:"#bdc3c7",width:.75}:null;const a=(0,_.F2)(t.size)||0;return{color:"rgba("+((0,P.pC)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(a,H),style:"pattern"in t&&(0,P.pC)(t.pattern)&&"style"===t.pattern.type?(0,L.Sp)(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function N(s,t=1){const n=s.a,e=(0,Z._Y)(s),a=e.h,o=e.s/t,r=100-(100-e.v)/t,{r:p,g:d,b:m}=(0,Z.xr)({h:a,s:o,v:r});return[p,d,m,n]}function B(s){return"water"===s.type?(0,P.Wi)(s.color)?null:s.color:(0,P.Wi)(s.material)||(0,P.Wi)(s.material.color)?null:s.material.color}function i(s,t=0){const n=B(s);if(!n){if("fill"===s.type)return null;const o=(0,v.uH)(L.Ne.r,t);return[o,o,o,100]}const e=n.toRgba();for(let a=0;a<3;a++)e[a]=(0,v.uH)(e[a],t);return e}function ss(s,t){return V.apply(this,arguments)}function V(){return(V=(0,S.Z)(function*(s,t){const n=s.style;return"none"===n?null:{type:"pattern",x:0,y:0,src:yield(0,L.Od)((0,T.V)(`esri/symbols/patterns/${n}.png`),t.toCss(!0)),width:5,height:5}})).apply(this,arguments)}function ts(s){return s.outline?k(s):{color:"rgba(0, 0, 0, 1)",width:1.5}}function es(s,t){const n=B(s);if(!n)return null;let e="rgba(";return e+=(0,v.uH)(n.r,t)+",",e+=(0,v.uH)(n.g,t)+",",e+=(0,v.uH)(n.b,t)+",",e+n.a+");"}function X(s,t){const n=es(s,t);return n?"pattern"in s&&(0,P.pC)(s.pattern)&&"style"===s.pattern.type&&"none"===s.pattern.style?null:{color:n,width:Math.min(s.size?(0,_.F2)(s.size):.75,H),style:"pattern"in s&&(0,P.pC)(s.pattern)&&"style"===s.pattern.type?(0,L.Sp)(s.pattern.style):null,cap:"cap"in s?s.cap:null,join:"join"in s?"miter"===s.join?(0,_.F2)(2):s.join:null}:{}}function K(s,t,n){const e=.75*n;return{type:"linear",x1:e?.25*e:0,y1:e?.5*e:0,x2:e||4,y2:e?.5*e:4,colors:[{color:s,offset:0},{color:t,offset:1}]}}function F(s){const t="number"==typeof(null==s?void 0:s.size)?null==s?void 0:s.size:null;return t?(0,_.F2)(t):null}function Y(){return(Y=(0,S.Z)(function*(s,t){const n="mesh-3d"===s.type,e=s.symbolLayers,a=F(t),o=t&&t.maxSize?(0,_.F2)(t.maxSize):null,r=a||j,p=[];let d=0,m=0,b=!1;for(let y=0;y<e.length;y++){const u=e.getItemAt(y),h=[];if(n&&"fill"!==u.type)continue;const x=v.JZ.fill[0];switch(u.type){case"fill":{const c=k(u),f=Math.min(r,o||A);d=Math.max(d,f),m=Math.max(m,f),b=!0;let M=i(u,0);const g="pattern"in u&&u.pattern,O=B(u);!n&&(0,P.pC)(g)&&"style"===g.type&&"solid"!==g.style&&O&&(M=yield ss(g,O)),h.push({shape:x,fill:M,stroke:c});break}case"line":{const c=X(u,0);if((0,P.Wi)(c))break;const f={stroke:c,shape:x};d=Math.max(d,j),m=Math.max(m,j),h.push(f);break}case"extrude":{const c=G({join:"round",width:1},X(u,-.4)),f=i(u,0),M=i(u,-.2),g=Math.min(r,o||A),O=(0,v.EV)(g);c.width=1,h.push({shape:O[0],fill:M,stroke:c}),h.push({shape:O[1],fill:M,stroke:c}),h.push({shape:O[2],fill:f,stroke:c});const U=.7*j+.5*g;d=Math.max(d,j),m=Math.max(m,U);break}case"water":{const c=B(u),f=N(c),M=N(c,2),g=N(c,3),O=(0,v.ht)();b=!0,h.push({shape:O[0],fill:f}),h.push({shape:O[1],fill:M}),h.push({shape:O[2],fill:g});const w=Math.min(r,o||A);d=Math.max(d,w),m=Math.max(m,w);break}}p.push(h)}return Promise.resolve((0,z.w)(p,[d,m],{node:t&&t.node,scale:b,opacity:t&&t.opacity}))})).apply(this,arguments)}function _s(s,t){if(0===s.symbolLayers.length)return Promise.reject(new W.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(s.type){case"point-3d":return function ms(s,t){const n=F(t),e=t&&t.maxSize?(0,_.F2)(t.maxSize):null,a=t&&t.disableUpsampling,o=s.symbolLayers,r=[];let p=0,d=0;const m=o.getItemAt(o.length-1);let b;return m&&"icon"===m.type&&(b=m.size&&(0,_.F2)(m.size)),o.forEach(y=>{if("icon"!==y.type&&"object"!==y.type)return;const u="icon"===y.type?y.size&&(0,_.F2)(y.size):0,h=n||u?Math.ceil(Math.min(n||u,e||A)):j;if(y&&y.resource&&y.resource.href){const c=function cs(s,t){const n=t&&t.resource,e=n&&n.href;if(s.thumbnail&&s.thumbnail.url)return Promise.resolve(s.thumbnail.url);if(e&&"object"!==t.type)return Promise.resolve((0,Q.nf)(s,t));const a=(0,T.V)("esri/images/Legend/legend3dsymboldefault.png");return s.styleOrigin&&(s.styleOrigin.styleName||s.styleOrigin.styleUrl)?(0,rs.resolveWebStyleSymbol)(s.styleOrigin,{portal:s.styleOrigin.portal},"webRef").catch(o=>o).then(o=>{var r;return(null==o||null==(r=o.thumbnail)?void 0:r.url)||a}):Promise.resolve(a)}(s,y).then(function(f){const M=y.get("material.color"),g=function hs(s){return"icon"===s.type?"multiply":"tint"}(y);return(0,z.r)(f,h,M,g,a)}).then(function(f){const M=f.width,g=f.height;return p=Math.max(p,M),d=Math.max(d,g),[{shape:{type:"image",x:0,y:0,width:M,height:g,src:f.url},fill:null,stroke:null}]});r.push(c)}else{var x;let c=h;"icon"===y.type&&b&&n&&(c=h*(u/b));const f="tall"===(null==t?void 0:t.symbolConfig)||(null==t||null==(x=t.symbolConfig)?void 0:x.isTall)||"object"===y.type&&function us(s){const t=s.depth,n=s.height,e=s.width;return e&&t&&n&&e===t&&e<n}(y);p=Math.max(p,f?J:c),d=Math.max(d,c),r.push(Promise.resolve(function ps(s,t,n){const e=[];if(!s)return e;switch(s.type){case"icon":{const r=t,p=t;switch(s.resource&&s.resource.primitive||C.S){case"circle":e.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:i(s,0),stroke:k(s)});break;case"square":e.push({shape:{type:"path",path:[{command:"M",values:[0,p]},{command:"L",values:[0,0]},{command:"L",values:[r,0]},{command:"L",values:[r,p]},{command:"Z",values:[]}]},fill:i(s,0),stroke:k(s)});break;case"triangle":e.push({shape:{type:"path",path:[{command:"M",values:[0,p]},{command:"L",values:[.5*r,0]},{command:"L",values:[r,p]},{command:"Z",values:[]}]},fill:i(s,0),stroke:k(s)});break;case"cross":e.push({shape:{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[.5*r,p]},{command:"M",values:[0,.5*p]},{command:"L",values:[r,.5*p]}]},stroke:ts(s)});break;case"x":e.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[r,p]},{command:"M",values:[r,0]},{command:"L",values:[0,p]}]},stroke:ts(s)});break;case"kite":e.push({shape:{type:"path",path:[{command:"M",values:[0,.5*p]},{command:"L",values:[.5*r,0]},{command:"L",values:[r,.5*p]},{command:"L",values:[.5*r,p]},{command:"Z",values:[]}]},fill:i(s,0),stroke:k(s)})}break}case"object":switch(s.resource&&s.resource.primitive||ls.S){case"cone":{const a=K(i(s,0),i(s,-.6),n?J:t),o=(0,v.TE)(t,n);e.push({shape:o[0],fill:a}),e.push({shape:o[1],fill:a});break}case"inverted-cone":{const a=i(s,0),o=K(a,i(s,-.6),t),r=(0,v.DY)(t);e.push({shape:r[0],fill:o}),e.push({shape:r[1],fill:a});break}case"cube":{const a=(0,v.Pc)(t,n);e.push({shape:a[0],fill:i(s,0)}),e.push({shape:a[1],fill:i(s,-.3)}),e.push({shape:a[2],fill:i(s,-.5)});break}case"cylinder":{const a=K(i(s,0),i(s,-.6),n?J:t),o=(0,v.EB)(t,n);e.push({shape:o[0],fill:a}),e.push({shape:o[1],fill:a}),e.push({shape:o[2],fill:i(s,0)});break}case"diamond":{const a=(0,v.XX)(t);e.push({shape:a[0],fill:i(s,-.3)}),e.push({shape:a[1],fill:i(s,0)}),e.push({shape:a[2],fill:i(s,-.3)}),e.push({shape:a[3],fill:i(s,-.7)});break}case"sphere":{const a=K(i(s,0),i(s,-.6));a.x1=0,a.y1=0,a.x2=.25*t,a.y2=.25*t,e.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:a});break}case"tetrahedron":{const a=(0,v.tp)(t);e.push({shape:a[0],fill:i(s,-.3)}),e.push({shape:a[1],fill:i(s,0)}),e.push({shape:a[2],fill:i(s,-.6)});break}}}return e}(y,c,f)))}}),(0,R.as)(r).then(function(y){const u=[];return y.forEach(function(h){h.value?u.push(h.value):h.error&&is.warn("error while building swatchInfo!",h.error)}),(0,z.w)(u,[p,d],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})})}(s,t);case"line-3d":return function fs(s,t){const n=s.symbolLayers,e=[],a=(0,Q.YW)(s),o=F(t),r=(t&&t.maxSize?(0,_.F2)(t.maxSize):null)||H;let p,d=0,m=0;return n.forEach((b,y)=>{if(!b||"line"!==b.type&&"path"!==b.type)return;const u=[];switch(b.type){case"line":{const h=X(b,0);if((0,P.Wi)(h))break;const x=h&&h.width||0;0===y&&(p=x);const c=Math.min(o||x,r),f=0===y?c:o?c*(x/p):c,M=f>q/2?2*f:q;m=Math.max(m,f),d=Math.max(d,M),h.width=f,u.push({shape:{type:"path",path:[{command:"M",values:[0,.5*m]},{command:"L",values:[d,.5*m]}]},stroke:h});break}case"path":{const h=Math.min(o||j,r),x=i(b,0),c=i(b,-.2),f=es(b,-.4),M=f?{color:f,width:1}:{};if("quad"===b.profile){const g=b.width,O=b.height,w=(0,v.eb)(g&&O?g/O:1,0===O,0===g),U=os(G({},M),{join:"bevel"});u.push({shape:w[0],fill:c,stroke:U}),u.push({shape:w[1],fill:c,stroke:U}),u.push({shape:w[2],fill:x,stroke:U})}else u.push({shape:v.JZ.pathSymbol3DLayer[0],fill:c,stroke:M}),u.push({shape:v.JZ.pathSymbol3DLayer[1],fill:x,stroke:M});m=Math.max(m,h),d=m}}e.push(u)}),Promise.resolve((0,z.w)(e,[d,m],{node:t&&t.node,scale:a,opacity:t&&t.opacity}))}(s,t);case"polygon-3d":case"mesh-3d":return function ys(s,t){return Y.apply(this,arguments)}(s,t)}return Promise.reject(new W.Z("symbolPreview: swatchInfo3D","symbol not supported."))}}}]);