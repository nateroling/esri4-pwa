var Hj=Object.defineProperty,Jj=Object.defineProperties,Yj=Object.getOwnPropertyDescriptors,OD=Object.getOwnPropertySymbols,Qj=Object.prototype.hasOwnProperty,Xj=Object.prototype.propertyIsEnumerable,PD=(qe,Me,E)=>Me in qe?Hj(qe,Me,{enumerable:!0,configurable:!0,writable:!0,value:E}):qe[Me]=E,Pt=(qe,Me)=>{for(var E in Me||(Me={}))Qj.call(Me,E)&&PD(qe,E,Me[E]);if(OD)for(var E of OD(Me))Xj.call(Me,E)&&PD(qe,E,Me[E]);return qe},$n=(qe,Me)=>Jj(qe,Yj(Me));(self.webpackChunkesri4_pwa=self.webpackChunkesri4_pwa||[]).push([[179],{91829:(qe,Me,E)=>{"use strict";function M(p){return"function"==typeof p}function D(p){const v=p(b=>{Error.call(b),b.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}const Q=D(p=>function(v){p(this),this.message=v?`${v.length} errors occurred during unsubscription:\n${v.map((b,C)=>`${C+1}) ${b.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=v});function B(p,g){if(p){const v=p.indexOf(g);0<=v&&p.splice(v,1)}}class N{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:v}=this;if(v)if(this._parentage=null,Array.isArray(v))for(const O of v)O.remove(this);else v.remove(this);const{initialTeardown:b}=this;if(M(b))try{b()}catch(O){g=O instanceof Q?O.errors:[O]}const{_finalizers:C}=this;if(C){this._finalizers=null;for(const O of C)try{F(O)}catch(w){g=null!=g?g:[],w instanceof Q?g=[...g,...w.errors]:g.push(w)}}if(g)throw new Q(g)}}add(g){var v;if(g&&g!==this)if(this.closed)F(g);else{if(g instanceof N){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(v=this._finalizers)&&void 0!==v?v:[]).push(g)}}_hasParent(g){const{_parentage:v}=this;return v===g||Array.isArray(v)&&v.includes(g)}_addParent(g){const{_parentage:v}=this;this._parentage=Array.isArray(v)?(v.push(g),v):v?[v,g]:g}_removeParent(g){const{_parentage:v}=this;v===g?this._parentage=null:Array.isArray(v)&&B(v,g)}remove(g){const{_finalizers:v}=this;v&&B(v,g),g instanceof N&&g._removeParent(this)}}N.EMPTY=(()=>{const p=new N;return p.closed=!0,p})();const ne=N.EMPTY;function k(p){return p instanceof N||p&&"closed"in p&&M(p.remove)&&M(p.add)&&M(p.unsubscribe)}function F(p){M(p)?p():p.unsubscribe()}const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},x={setTimeout(p,g,...v){const{delegate:b}=x;return(null==b?void 0:b.setTimeout)?b.setTimeout(p,g,...v):setTimeout(p,g,...v)},clearTimeout(p){const{delegate:g}=x;return((null==g?void 0:g.clearTimeout)||clearTimeout)(p)},delegate:void 0};function $(p){x.setTimeout(()=>{const{onUnhandledError:g}=I;if(!g)throw p;g(p)})}function Y(){}const Z=L("C",void 0,void 0);function L(p,g,v){return{kind:p,value:g,error:v}}let T=null;function P(p){if(I.useDeprecatedSynchronousErrorHandling){const g=!T;if(g&&(T={errorThrown:!1,error:null}),p(),g){const{errorThrown:v,error:b}=T;if(T=null,v)throw b}}else p()}class K extends N{constructor(g){super(),this.isStopped=!1,g?(this.destination=g,k(g)&&g.add(this)):this.destination=ie}static create(g,v,b){return new he(g,v,b)}next(g){this.isStopped?de(function X(p){return L("N",p,void 0)}(g),this):this._next(g)}error(g){this.isStopped?de(function re(p){return L("E",void 0,p)}(g),this):(this.isStopped=!0,this._error(g))}complete(){this.isStopped?de(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(g){this.destination.next(g)}_error(g){try{this.destination.error(g)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W=Function.prototype.bind;function te(p,g){return W.call(p,g)}class J{constructor(g){this.partialObserver=g}next(g){const{partialObserver:v}=this;if(v.next)try{v.next(g)}catch(b){oe(b)}}error(g){const{partialObserver:v}=this;if(v.error)try{v.error(g)}catch(b){oe(b)}else oe(g)}complete(){const{partialObserver:g}=this;if(g.complete)try{g.complete()}catch(v){oe(v)}}}class he extends K{constructor(g,v,b){let C;if(super(),M(g)||!g)C={next:null!=g?g:void 0,error:null!=v?v:void 0,complete:null!=b?b:void 0};else{let O;this&&I.useDeprecatedNextContext?(O=Object.create(g),O.unsubscribe=()=>this.unsubscribe(),C={next:g.next&&te(g.next,O),error:g.error&&te(g.error,O),complete:g.complete&&te(g.complete,O)}):C=g}this.destination=new J(C)}}function oe(p){I.useDeprecatedSynchronousErrorHandling?function j(p){I.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=p)}(p):$(p)}function de(p,g){const{onStoppedNotification:v}=I;v&&x.setTimeout(()=>v(p,g))}const ie={closed:!0,next:Y,error:function me(p){throw p},complete:Y},V="function"==typeof Symbol&&Symbol.observable||"@@observable";function ce(p){return p}let ue=(()=>{class p{constructor(v){v&&(this._subscribe=v)}lift(v){const b=new p;return b.source=this,b.operator=v,b}subscribe(v,b,C){const O=function se(p){return p&&p instanceof K||function le(p){return p&&M(p.next)&&M(p.error)&&M(p.complete)}(p)&&k(p)}(v)?v:new he(v,b,C);return P(()=>{const{operator:w,source:z}=this;O.add(w?w.call(O,z):z?this._subscribe(O):this._trySubscribe(O))}),O}_trySubscribe(v){try{return this._subscribe(v)}catch(b){v.error(b)}}forEach(v,b){return new(b=ye(b))((C,O)=>{const w=new he({next:z=>{try{v(z)}catch(fe){O(fe),w.unsubscribe()}},error:O,complete:C});this.subscribe(w)})}_subscribe(v){var b;return null===(b=this.source)||void 0===b?void 0:b.subscribe(v)}[V](){return this}pipe(...v){return function pe(p){return 0===p.length?ce:1===p.length?p[0]:function(v){return p.reduce((b,C)=>C(b),v)}}(v)(this)}toPromise(v){return new(v=ye(v))((b,C)=>{let O;this.subscribe(w=>O=w,w=>C(w),()=>b(O))})}}return p.create=g=>new p(g),p})();function ye(p){var g;return null!==(g=null!=p?p:I.Promise)&&void 0!==g?g:Promise}const Ce=D(p=>function(){p(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ge=(()=>{class p extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(v){const b=new Pe(this,this);return b.operator=v,b}_throwIfClosed(){if(this.closed)throw new Ce}next(v){P(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const b of this.currentObservers)b.next(v)}})}error(v){P(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=v;const{observers:b}=this;for(;b.length;)b.shift().error(v)}})}complete(){P(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:v}=this;for(;v.length;)v.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var v;return(null===(v=this.observers)||void 0===v?void 0:v.length)>0}_trySubscribe(v){return this._throwIfClosed(),super._trySubscribe(v)}_subscribe(v){return this._throwIfClosed(),this._checkFinalizedStatuses(v),this._innerSubscribe(v)}_innerSubscribe(v){const{hasError:b,isStopped:C,observers:O}=this;return b||C?ne:(this.currentObservers=null,O.push(v),new N(()=>{this.currentObservers=null,B(O,v)}))}_checkFinalizedStatuses(v){const{hasError:b,thrownError:C,isStopped:O}=this;b?v.error(C):O&&v.complete()}asObservable(){const v=new ue;return v.source=this,v}}return p.create=(g,v)=>new Pe(g,v),p})();class Pe extends ge{constructor(g,v){super(),this.destination=g,this.source=v}next(g){var v,b;null===(b=null===(v=this.destination)||void 0===v?void 0:v.next)||void 0===b||b.call(v,g)}error(g){var v,b;null===(b=null===(v=this.destination)||void 0===v?void 0:v.error)||void 0===b||b.call(v,g)}complete(){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===v||v.call(g)}_subscribe(g){var v,b;return null!==(b=null===(v=this.source)||void 0===v?void 0:v.subscribe(g))&&void 0!==b?b:ne}}function Ee(p){return M(null==p?void 0:p.lift)}function Ge(p){return g=>{if(Ee(g))return g.lift(function(v){try{return p(v,this)}catch(b){this.error(b)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(p,g,v,b,C){return new ve(p,g,v,b,C)}class ve extends K{constructor(g,v,b,C,O,w){super(g),this.onFinalize=O,this.shouldUnsubscribe=w,this._next=v?function(z){try{v(z)}catch(fe){g.error(fe)}}:super._next,this._error=C?function(z){try{C(z)}catch(fe){g.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=b?function(){try{b()}catch(z){g.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:v}=this;super.unsubscribe(),!v&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}function Te(p,g){return Ge((v,b)=>{let C=0;v.subscribe(Se(b,O=>{b.next(p.call(g,O,C++))}))})}function ct(p){return this instanceof ct?(this.v=p,this):new ct(p)}function Et(p,g,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,b=v.apply(p,g||[]),O=[];return C={},w("next"),w("throw"),w("return"),C[Symbol.asyncIterator]=function(){return this},C;function w(st){b[st]&&(C[st]=function(yt){return new Promise(function(jt,tn){O.push([st,yt,jt,tn])>1||z(st,yt)})})}function z(st,yt){try{!function fe(st){st.value instanceof ct?Promise.resolve(st.value.v).then(De,Ie):We(O[0][2],st)}(b[st](yt))}catch(jt){We(O[0][3],jt)}}function De(st){z("next",st)}function Ie(st){z("throw",st)}function We(st,yt){st(yt),O.shift(),O.length&&z(O[0][0],O[0][1])}}function Gt(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,g=p[Symbol.asyncIterator];return g?g.call(p):(p=function at(p){var g="function"==typeof Symbol&&Symbol.iterator,v=g&&p[g],b=0;if(v)return v.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&b>=p.length&&(p=void 0),{value:p&&p[b++],done:!p}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),v={},b("next"),b("throw"),b("return"),v[Symbol.asyncIterator]=function(){return this},v);function b(O){v[O]=p[O]&&function(w){return new Promise(function(z,fe){!function C(O,w,z,fe){Promise.resolve(fe).then(function(De){O({value:De,done:z})},w)}(z,fe,(w=p[O](w)).done,w.value)})}}}const Pn=p=>p&&"number"==typeof p.length&&"function"!=typeof p;function Sn(p){return M(null==p?void 0:p.then)}function ut(p){return M(p[V])}function bt(p){return Symbol.asyncIterator&&M(null==p?void 0:p[Symbol.asyncIterator])}function xt(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kt=function Wt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function At(p){return M(null==p?void 0:p[Kt])}function Ht(p){return Et(this,arguments,function*(){const v=p.getReader();try{for(;;){const{value:b,done:C}=yield ct(v.read());if(C)return yield ct(void 0);yield yield ct(b)}}finally{v.releaseLock()}})}function Yt(p){return M(null==p?void 0:p.getReader)}function sn(p){if(p instanceof ue)return p;if(null!=p){if(ut(p))return function Ct(p){return new ue(g=>{const v=p[V]();if(M(v.subscribe))return v.subscribe(g);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if(Pn(p))return function mt(p){return new ue(g=>{for(let v=0;v<p.length&&!g.closed;v++)g.next(p[v]);g.complete()})}(p);if(Sn(p))return function ze(p){return new ue(g=>{p.then(v=>{g.closed||(g.next(v),g.complete())},v=>g.error(v)).then(null,$)})}(p);if(bt(p))return we(p);if(At(p))return function ht(p){return new ue(g=>{for(const v of p)if(g.next(v),g.closed)return;g.complete()})}(p);if(Yt(p))return function Xe(p){return we(Ht(p))}(p)}throw xt(p)}function we(p){return new ue(g=>{(function Dt(p,g){var v,b,C,O;return function je(p,g,v,b){return new(v||(v=Promise))(function(O,w){function z(Ie){try{De(b.next(Ie))}catch(We){w(We)}}function fe(Ie){try{De(b.throw(Ie))}catch(We){w(We)}}function De(Ie){Ie.done?O(Ie.value):function C(O){return O instanceof v?O:new v(function(w){w(O)})}(Ie.value).then(z,fe)}De((b=b.apply(p,g||[])).next())})}(this,void 0,void 0,function*(){try{for(v=Gt(p);!(b=yield v.next()).done;)if(g.next(b.value),g.closed)return}catch(w){C={error:w}}finally{try{b&&!b.done&&(O=v.return)&&(yield O.call(v))}finally{if(C)throw C.error}}g.complete()})})(p,g).catch(v=>g.error(v))})}function kt(p,g,v,b=0,C=!1){const O=g.schedule(function(){v(),C?p.add(this.schedule(null,b)):this.unsubscribe()},b);if(p.add(O),!C)return O}function rt(p,g,v=1/0){return M(g)?rt((b,C)=>Te((O,w)=>g(b,O,C,w))(sn(p(b,C))),v):("number"==typeof g&&(v=g),Ge((b,C)=>function on(p,g,v,b,C,O,w,z){const fe=[];let De=0,Ie=0,We=!1;const st=()=>{We&&!fe.length&&!De&&g.complete()},yt=tn=>De<b?jt(tn):fe.push(tn),jt=tn=>{O&&g.next(tn),De++;let un=!1;sn(v(tn,Ie++)).subscribe(Se(g,hn=>{null==C||C(hn),O?yt(hn):g.next(hn)},()=>{un=!0},void 0,()=>{if(un)try{for(De--;fe.length&&De<b;){const hn=fe.shift();w?kt(g,w,()=>jt(hn)):jt(hn)}st()}catch(hn){g.error(hn)}}))};return p.subscribe(Se(g,yt,()=>{We=!0,st()})),()=>{null==z||z()}}(b,C,p,v)))}function Vt(p=1/0){return rt(ce,p)}const Zt=new ue(p=>p.complete());function Nn(p){return p&&M(p.schedule)}function pr(p){return p[p.length-1]}function ar(p){return Nn(pr(p))?p.pop():void 0}function ys(p,g=0){return Ge((v,b)=>{v.subscribe(Se(b,C=>kt(b,p,()=>b.next(C),g),()=>kt(b,p,()=>b.complete(),g),C=>kt(b,p,()=>b.error(C),g)))})}function qr(p,g=0){return Ge((v,b)=>{b.add(p.schedule(()=>v.subscribe(b),g))})}function us(p,g){if(!p)throw new Error("Iterable cannot be null");return new ue(v=>{kt(v,g,()=>{const b=p[Symbol.asyncIterator]();kt(v,g,()=>{b.next().then(C=>{C.done?v.complete():v.next(C.value)})},0,!0)})})}function Ms(p,g){return g?function Os(p,g){if(null!=p){if(ut(p))return function Jr(p,g){return sn(p).pipe(qr(g),ys(g))}(p,g);if(Pn(p))return function mi(p,g){return new ue(v=>{let b=0;return g.schedule(function(){b===p.length?v.complete():(v.next(p[b++]),v.closed||this.schedule())})})}(p,g);if(Sn(p))return function Fs(p,g){return sn(p).pipe(qr(g),ys(g))}(p,g);if(bt(p))return us(p,g);if(At(p))return function Xs(p,g){return new ue(v=>{let b;return kt(v,g,()=>{b=p[Kt](),kt(v,g,()=>{let C,O;try{({value:C,done:O}=b.next())}catch(w){return void v.error(w)}O?v.complete():v.next(C)},0,!0)}),()=>M(null==b?void 0:b.return)&&b.return()})}(p,g);if(Yt(p))return function cs(p,g){return us(Ht(p),g)}(p,g)}throw xt(p)}(p,g):sn(p)}function Pr(...p){const g=ar(p),v=function wr(p,g){return"number"==typeof pr(p)?p.pop():g}(p,1/0),b=p;return b.length?1===b.length?sn(b[0]):Vt(v)(Ms(b,g)):Zt}function rs(p){return p<=0?()=>Zt:Ge((g,v)=>{let b=0;g.subscribe(Se(v,C=>{++b<=p&&(v.next(C),p<=b&&v.complete())}))})}function Le(p,g,...v){return!0===g?(p(),null):!1===g?null:g(...v).pipe(rs(1)).subscribe(()=>p())}function Ft(p){for(let g in p)if(p[g]===Ft)return g;throw Error("Could not find renamed property on target object.")}function rn(p){if("string"==typeof p)return p;if(Array.isArray(p))return"["+p.map(rn).join(", ")+"]";if(null==p)return""+p;if(p.overriddenName)return`${p.overriddenName}`;if(p.name)return`${p.name}`;const g=p.toString();if(null==g)return""+g;const v=g.indexOf("\n");return-1===v?g:g.substring(0,v)}function Dn(p,g){return null==p||""===p?null===g?"":g:null==g||""===g?p:p+" "+g}const jn=Ft({__forward_ref__:Ft});function Rn(p){return p.__forward_ref__=Rn,p.toString=function(){return rn(this())},p}function ln(p){return function Jn(p){return"function"==typeof p&&p.hasOwnProperty(jn)&&p.__forward_ref__===Rn}(p)?p():p}class _n extends Error{constructor(g,v){super(function Nt(p,g){return`NG0${Math.abs(p)}${g?": "+g:""}`}(g,v)),this.code=g}}function Ot(p){return"function"==typeof p?p.name||p.toString():"object"==typeof p&&null!=p&&"function"==typeof p.type?p.type.name||p.type.toString():function nt(p){return"string"==typeof p?p:null==p?"":String(p)}(p)}function Cn(p,g){const v=g?` in ${g}`:"";throw new _n(-201,`No provider for ${Ot(p)} found${v}`)}function jr(p,g){null==p&&function qn(p,g,v,b){throw new Error(`ASSERTION ERROR: ${p}`+(null==b?"":` [Expected=> ${v} ${b} ${g} <=Actual]`))}(g,p,null,"!=")}function Mr(p){return{token:p.token,providedIn:p.providedIn||null,factory:p.factory,value:void 0}}function ts(p){return{providers:p.providers||[],imports:p.imports||[]}}function qs(p){return Zr(p,an)||Zr(p,Bn)}function Zr(p,g){return p.hasOwnProperty(g)?p[g]:null}function St(p){return p&&(p.hasOwnProperty(mn)||p.hasOwnProperty(xr))?p[mn]:null}const an=Ft({\u0275prov:Ft}),mn=Ft({\u0275inj:Ft}),Bn=Ft({ngInjectableDef:Ft}),xr=Ft({ngInjectorDef:Ft});var Un=(()=>((Un=Un||{})[Un.Default=0]="Default",Un[Un.Host=1]="Host",Un[Un.Self=2]="Self",Un[Un.SkipSelf=4]="SkipSelf",Un[Un.Optional=8]="Optional",Un))();let Kn;function $e(p){const g=Kn;return Kn=p,g}function Qe(p,g,v){const b=qs(p);return b&&"root"==b.providedIn?void 0===b.value?b.value=b.factory():b.value:v&Un.Optional?null:void 0!==g?g:void Cn(rn(p),"Injector")}function lt(p){return{toString:p}.toString()}var wt=(()=>((wt=wt||{})[wt.OnPush=0]="OnPush",wt[wt.Default=1]="Default",wt))(),Be=(()=>{return(p=Be||(Be={}))[p.Emulated=0]="Emulated",p[p.None=2]="None",p[p.ShadowDom=3]="ShadowDom",Be;var p})();const dt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Qt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gn=dt||"undefined"!=typeof global&&global||It||Qt,Er={},Gn=[],Gr=Ft({\u0275cmp:Ft}),Gs=Ft({\u0275dir:Ft}),is=Ft({\u0275pipe:Ft}),Tc=Ft({\u0275mod:Ft}),Ji=Ft({\u0275fac:Ft}),Pa=Ft({__NG_ELEMENT_ID__:Ft});let kh=0;function pu(p){return lt(()=>{const v={},b={type:p.type,providersResolver:null,decls:p.decls,vars:p.vars,factory:null,template:p.template||null,consts:p.consts||null,ngContentSelectors:p.ngContentSelectors,hostBindings:p.hostBindings||null,hostVars:p.hostVars||0,hostAttrs:p.hostAttrs||null,contentQueries:p.contentQueries||null,declaredInputs:v,inputs:null,outputs:null,exportAs:p.exportAs||null,onPush:p.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:p.selectors||Gn,viewQuery:p.viewQuery||null,features:p.features||null,data:p.data||{},encapsulation:p.encapsulation||Be.Emulated,id:"c",styles:p.styles||Gn,_:null,setInput:null,schemas:p.schemas||null,tView:null},C=p.directives,O=p.features,w=p.pipes;return b.id+=kh++,b.inputs=xc(p.inputs,v),b.outputs=xc(p.outputs),O&&O.forEach(z=>z(b)),b.directiveDefs=C?()=>("function"==typeof C?C():C).map(Sc):null,b.pipeDefs=w?()=>("function"==typeof w?w():w).map(Ic):null,b})}function Sc(p){return kr(p)||function ni(p){return p[Gs]||null}(p)}function Ic(p){return function So(p){return p[is]||null}(p)}const wc={};function Xo(p){return lt(()=>{const g={type:p.type,bootstrap:p.bootstrap||Gn,declarations:p.declarations||Gn,imports:p.imports||Gn,exports:p.exports||Gn,transitiveCompileScopes:null,schemas:p.schemas||null,id:p.id||null};return null!=p.id&&(wc[p.id]=p.type),g})}function xc(p,g){if(null==p)return Er;const v={};for(const b in p)if(p.hasOwnProperty(b)){let C=p[b],O=C;Array.isArray(C)&&(O=C[1],C=C[0]),v[C]=b,g&&(g[C]=O)}return v}function kr(p){return p[Gr]||null}function Ps(p,g){const v=p[Tc]||null;if(!v&&!0===g)throw new Error(`Type ${rn(p)} does not have '\u0275mod' property.`);return v}function Ni(p){return Array.isArray(p)&&"object"==typeof p[1]}function Ti(p){return Array.isArray(p)&&!0===p[1]}function fu(p){return 0!=(8&p.flags)}function si(p){return null!==p.template}function Xh(p){return 0!=(512&p[2])}function Ii(p,g){return p.hasOwnProperty(Ji)?p[Ji]:null}class Uc{constructor(g,v,b){this.previousValue=g,this.currentValue=v,this.firstChange=b}isFirstChange(){return this.firstChange}}function La(p){return p.type.prototype.ngOnChanges&&(p.setInput=Ra),Fc}function Fc(){const p=rl(this),g=null==p?void 0:p.current;if(g){const v=p.previous;if(v===Er)p.previous=g;else for(let b in g)v[b]=g[b];p.current=null,this.ngOnChanges(g)}}function Ra(p,g,v,b){const C=rl(p)||function Nc(p,g){return p[ja]=g}(p,{previous:Er,current:null}),O=C.current||(C.current={}),w=C.previous,z=this.declaredInputs[v],fe=w[z];O[z]=new Uc(fe&&fe.currentValue,g,w===Er),p[b]=g}const ja="__ngSimpleChanges__";function rl(p){return p[ja]||null}let ol;function as(p){return!!p.listen}const Oe={createRenderer:(p,g)=>function os(){return void 0!==ol?ol:"undefined"!=typeof document?document:void 0}()};function Ae(p){for(;Array.isArray(p);)p=p[0];return p}function vt(p,g){return Ae(g[p.index])}function bn(p,g){const v=g[p];return Ni(v)?v:v[0]}function Tn(p){return 128==(128&p[2])}function nr(p,g){return null==g?null:p[g]}function Tr(p){p[18]=0}function Cr(p,g){p[5]+=g;let v=p,b=p[3];for(;null!==b&&(1===g&&1===v[5]||-1===g&&0===v[5]);)b[5]+=g,v=b,b=b[3]}const wn={lFrame:Ky(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ta(){return wn.bindingsEnabled}function Mn(){return wn.lFrame.lView}function Lr(){return wn.lFrame.tView}function Cs(){let p=Kc();for(;null!==p&&64===p.type;)p=p.parent;return p}function Kc(){return wn.lFrame.currentTNode}function co(p,g){const v=wn.lFrame;v.currentTNode=p,v.isParent=g}function pp(){return wn.lFrame.isParent}function zc(){return wn.isInCheckNoChangesMode}function Gc(p){wn.isInCheckNoChangesMode=p}function ID(p,g){const v=wn.lFrame;v.bindingIndex=v.bindingRootIndex=p,mp(g)}function mp(p){wn.lFrame.currentDirectiveIndex=p}function gp(p){wn.lFrame.currentQueryIndex=p}function xD(p){const g=p[1];return 2===g.type?g.declTNode:1===g.type?p[6]:null}function Zy(p,g,v){if(v&Un.SkipSelf){let C=g,O=p;for(;!(C=C.parent,null!==C||v&Un.Host||(C=xD(O),null===C||(O=O[15],10&C.type))););if(null===C)return!1;g=C,p=O}const b=wn.lFrame=$y();return b.currentTNode=g,b.lView=p,!0}function kc(p){const g=$y(),v=p[1];wn.lFrame=g,g.currentTNode=v.firstChild,g.lView=p,g.tView=v,g.contextLView=p,g.bindingIndex=v.bindingStartIndex,g.inI18n=!1}function $y(){const p=wn.lFrame,g=null===p?null:p.child;return null===g?Ky(p):g}function Ky(p){const g={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:p,child:null,inI18n:!1};return null!==p&&(p.child=g),g}function zy(){const p=wn.lFrame;return wn.lFrame=p.parent,p.currentTNode=null,p.lView=null,p}const Gy=zy;function Hc(){const p=zy();p.isParent=!0,p.tView=null,p.selectedIndex=-1,p.contextLView=null,p.elementDepthCount=0,p.currentDirectiveIndex=-1,p.currentNamespace=null,p.bindingRootIndex=-1,p.bindingIndex=-1,p.currentQueryIndex=0}function na(p){wn.lFrame.selectedIndex=p}function Jc(p,g){for(let v=g.directiveStart,b=g.directiveEnd;v<b;v++){const O=p.data[v].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:z,ngAfterViewInit:fe,ngAfterViewChecked:De,ngOnDestroy:Ie}=O;w&&(p.contentHooks||(p.contentHooks=[])).push(-v,w),z&&((p.contentHooks||(p.contentHooks=[])).push(v,z),(p.contentCheckHooks||(p.contentCheckHooks=[])).push(v,z)),fe&&(p.viewHooks||(p.viewHooks=[])).push(-v,fe),De&&((p.viewHooks||(p.viewHooks=[])).push(v,De),(p.viewCheckHooks||(p.viewCheckHooks=[])).push(v,De)),null!=Ie&&(p.destroyHooks||(p.destroyHooks=[])).push(v,Ie)}}function Yc(p,g,v){ky(p,g,3,v)}function Qc(p,g,v,b){(3&p[2])===v&&ky(p,g,v,b)}function _p(p,g){let v=p[2];(3&v)===g&&(v&=2047,v+=1,p[2]=v)}function ky(p,g,v,b){const O=null!=b?b:-1,w=g.length-1;let z=0;for(let fe=void 0!==b?65535&p[18]:0;fe<w;fe++)if("number"==typeof g[fe+1]){if(z=g[fe],null!=b&&z>=b)break}else g[fe]<0&&(p[18]+=65536),(z<O||-1==O)&&(WD(p,v,g,fe),p[18]=(4294901760&p[18])+fe+2),fe++}function WD(p,g,v,b){const C=v[b]<0,O=v[b+1],z=p[C?-v[b]:v[b]];if(C){if(p[2]>>11<p[18]>>16&&(3&p[2])===g){p[2]+=2048;try{O.call(z)}finally{}}}else try{O.call(z)}finally{}}class vu{constructor(g,v,b){this.factory=g,this.resolving=!1,this.canSeeViewProviders=v,this.injectImpl=b}}function Xc(p,g,v){const b=as(p);let C=0;for(;C<v.length;){const O=v[C];if("number"==typeof O){if(0!==O)break;C++;const w=v[C++],z=v[C++],fe=v[C++];b?p.setAttribute(g,z,fe,w):g.setAttributeNS(w,z,fe)}else{const w=O,z=v[++C];Ep(w)?b&&p.setProperty(g,w,z):b?p.setAttribute(g,w,z):g.setAttribute(w,z),C++}}return C}function Hy(p){return 3===p||4===p||6===p}function Ep(p){return 64===p.charCodeAt(0)}function qc(p,g){if(null!==g&&0!==g.length)if(null===p||0===p.length)p=g.slice();else{let v=-1;for(let b=0;b<g.length;b++){const C=g[b];"number"==typeof C?v=C:0===v||Jy(p,v,C,null,-1===v||2===v?g[++b]:null)}}return p}function Jy(p,g,v,b,C){let O=0,w=p.length;if(-1===g)w=-1;else for(;O<p.length;){const z=p[O++];if("number"==typeof z){if(z===g){w=-1;break}if(z>g){w=O-1;break}}}for(;O<p.length;){const z=p[O];if("number"==typeof z)break;if(z===v){if(null===b)return void(null!==C&&(p[O+1]=C));if(b===p[O+1])return void(p[O+2]=C)}O++,null!==b&&O++,null!==C&&O++}-1!==w&&(p.splice(w,0,g),O=w+1),p.splice(O++,0,v),null!==b&&p.splice(O++,0,b),null!==C&&p.splice(O++,0,C)}function cl(p){return 32767&p}function dl(p,g){let v=function zD(p){return p>>16}(p),b=g;for(;v>0;)b=b[15],v--;return b}let bp=!0;function ed(p){const g=bp;return bp=p,g}let GD=0;function bu(p,g){const v=Cp(p,g);if(-1!==v)return v;const b=g[1];b.firstCreatePass&&(p.injectorIndex=g.length,Mp(b.data,p),Mp(g,null),Mp(b.blueprint,null));const C=td(p,g),O=p.injectorIndex;if(function Yy(p){return-1!==p}(C)){const w=cl(C),z=dl(C,g),fe=z[1].data;for(let De=0;De<8;De++)g[O+De]=z[w+De]|fe[w+De]}return g[O+8]=C,O}function Mp(p,g){p.push(0,0,0,0,0,0,0,0,g)}function Cp(p,g){return-1===p.injectorIndex||p.parent&&p.parent.injectorIndex===p.injectorIndex||null===g[p.injectorIndex+8]?-1:p.injectorIndex}function td(p,g){if(p.parent&&-1!==p.parent.injectorIndex)return p.parent.injectorIndex;let v=0,b=null,C=g;for(;null!==C;){const O=C[1],w=O.type;if(b=2===w?O.declTNode:1===w?C[6]:null,null===b)return-1;if(v++,C=C[15],-1!==b.injectorIndex)return b.injectorIndex|v<<16}return-1}function nd(p,g,v){!function kD(p,g,v){let b;"string"==typeof v?b=v.charCodeAt(0)||0:v.hasOwnProperty(Pa)&&(b=v[Pa]),null==b&&(b=v[Pa]=GD++);const C=255&b;g.data[p+(C>>5)]|=1<<C}(p,g,v)}function qy(p,g,v){if(v&Un.Optional)return p;Cn(g,"NodeInjector")}function eg(p,g,v,b){if(v&Un.Optional&&void 0===b&&(b=null),0==(v&(Un.Self|Un.Host))){const C=p[9],O=$e(void 0);try{return C?C.get(g,b,v&Un.Optional):Qe(g,b,v&Un.Optional)}finally{$e(O)}}return qy(b,g,v)}const ng={};function JD(){return new hl(Cs(),Mn())}function YD(p,g,v,b,C,O){const w=g[1],z=w.data[p+8],Ie=function rd(p,g,v,b,C){const O=p.providerIndexes,w=g.data,z=1048575&O,fe=p.directiveStart,Ie=O>>20,st=C?z+Ie:p.directiveEnd;for(let yt=b?z:z+Ie;yt<st;yt++){const jt=w[yt];if(yt<fe&&v===jt||yt>=fe&&jt.type===v)return yt}if(C){const yt=w[fe];if(yt&&si(yt)&&yt.type===v)return fe}return null}(z,w,v,null==b?function tl(p){return 2==(2&p.flags)}(z)&&bp:b!=w&&0!=(3&z.type),C&Un.Host&&O===z);return null!==Ie?Mu(g,w,Ie,z):ng}function Mu(p,g,v,b){let C=p[v];const O=g.data;if(function VD(p){return p instanceof vu}(C)){const w=C;w.resolving&&function ft(p,g){const v=g?`. Dependency path: ${g.join(" > ")} > ${p}`:"";throw new _n(-200,`Circular dependency in DI detected for ${p}${v}`)}(Ot(O[v]));const z=ed(w.canSeeViewProviders);w.resolving=!0;const fe=w.injectImpl?$e(w.injectImpl):null;Zy(p,b,Un.Default);try{C=p[v]=w.factory(void 0,O,p,b),g.firstCreatePass&&v>=b.directiveStart&&function BD(p,g,v){const{ngOnChanges:b,ngOnInit:C,ngDoCheck:O}=g.type.prototype;if(b){const w=La(g);(v.preOrderHooks||(v.preOrderHooks=[])).push(p,w),(v.preOrderCheckHooks||(v.preOrderCheckHooks=[])).push(p,w)}C&&(v.preOrderHooks||(v.preOrderHooks=[])).push(0-p,C),O&&((v.preOrderHooks||(v.preOrderHooks=[])).push(p,O),(v.preOrderCheckHooks||(v.preOrderCheckHooks=[])).push(p,O))}(v,O[v],g)}finally{null!==fe&&$e(fe),ed(z),w.resolving=!1,Gy()}}return C}function rg(p,g,v){return!!(v[g+(p>>5)]&1<<p)}function sg(p,g){return!(p&Un.Self||p&Un.Host&&g)}class hl{constructor(g,v){this._tNode=g,this._lView=v}get(g,v,b){return function tg(p,g,v,b=Un.Default,C){if(null!==p){const O=function QD(p){if("string"==typeof p)return p.charCodeAt(0)||0;const g=p.hasOwnProperty(Pa)?p[Pa]:void 0;return"number"==typeof g?g>=0?255&g:JD:g}(v);if("function"==typeof O){if(!Zy(g,p,b))return b&Un.Host?qy(C,v,b):eg(g,v,b,C);try{const w=O(b);if(null!=w||b&Un.Optional)return w;Cn(v)}finally{Gy()}}else if("number"==typeof O){let w=null,z=Cp(p,g),fe=-1,De=b&Un.Host?g[16][6]:null;for((-1===z||b&Un.SkipSelf)&&(fe=-1===z?td(p,g):g[z+8],-1!==fe&&sg(b,!1)?(w=g[1],z=cl(fe),g=dl(fe,g)):z=-1);-1!==z;){const Ie=g[1];if(rg(O,z,Ie.data)){const We=YD(z,g,v,w,b,De);if(We!==ng)return We}fe=g[z+8],-1!==fe&&sg(b,g[1].data[z+8]===De)&&rg(O,z,g)?(w=Ie,z=cl(fe),g=dl(fe,g)):z=-1}}}return eg(g,v,b,C)}(this._tNode,this._lView,g,b,v)}}class Hr{constructor(g,v){this._desc=g,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof v?this.__NG_ELEMENT_ID__=v:void 0!==v&&(this.\u0275prov=Mr({token:this,providedIn:v.providedIn||"root",factory:v.factory}))}toString(){return`InjectionToken ${this._desc}`}}function ho(p,g){p.forEach(v=>Array.isArray(v)?ho(v,g):g(v))}function sd(p,g){return g>=p.length-1?p.pop():p.splice(g,1)[0]}const Pu={},od="ngTempTokenPath",uO=/\n/gm,dg="__source",dO=Ft({provide:String,useValue:Ft});let Tu;function hg(p){const g=Tu;return Tu=p,g}function hO(p,g=Un.Default){if(void 0===Tu)throw new _n(203,"");return null===Tu?Qe(p,void 0,g):Tu.get(p,g&Un.Optional?null:void 0,g)}function Kr(p,g=Un.Default){return(function ei(){return Kn}()||hO)(ln(p),g)}const pO=Kr;function xp(p){const g=[];for(let v=0;v<p.length;v++){const b=ln(p[v]);if(Array.isArray(b)){if(0===b.length)throw new _n(900,"");let C,O=Un.Default;for(let w=0;w<b.length;w++){const z=b[w],fe=fO(z);"number"==typeof fe?-1===fe?C=z.token:O|=fe:C=z}g.push(Kr(C,O))}else g.push(Kr(b))}return g}function fO(p){return p.__NG_DI_FLAG__}const Ag="__ngContext__";function Js(p,g){p[Ag]=g}function Vp(p){const g=function Lu(p){return p[Ag]||null}(p);return g?Array.isArray(g)?g:g.lView:null}function $p(p){return p.ngOriginalError}function oP(p,...g){p.error(...g)}class Ru{constructor(){this._console=console}handleError(g){const v=this._findOriginalError(g),b=function iP(p){return p&&p.ngErrorLogger||oP}(g);b(this._console,"ERROR",g),v&&b(this._console,"ORIGINAL ERROR",v)}_findOriginalError(g){let v=g&&$p(g);for(;v&&$p(v);)v=$p(v);return v||null}}const yP=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gn))();function fo(p){return p instanceof Function?p():p}var xi=(()=>((xi=xi||{})[xi.Important=1]="Important",xi[xi.DashCase=2]="DashCase",xi))();function zp(p,g){return undefined(p,g)}function ju(p){const g=p[3];return Ti(g)?g[3]:g}function Gp(p){return Vg(p[13])}function kp(p){return Vg(p[4])}function Vg(p){for(;null!==p&&!Ti(p);)p=p[4];return p}function bl(p,g,v,b,C){if(null!=b){let O,w=!1;Ti(b)?O=b:Ni(b)&&(w=!0,b=b[0]);const z=Ae(b);0===p&&null!==v?null==C?kg(g,v,z):Ua(g,v,z,C||null,!0):1===p&&null!==v?Ua(g,v,z,C||null,!0):2===p?function e_(p,g,v){const b=function fd(p,g){return as(p)?p.parentNode(g):g.parentNode}(p,g);b&&function wP(p,g,v,b){as(p)?p.removeChild(g,v,b):g.removeChild(v)}(p,b,g,v)}(g,z,w):3===p&&g.destroyNode(z),null!=O&&function LP(p,g,v,b,C){const O=v[7];O!==Ae(v)&&bl(g,p,b,O,C);for(let z=10;z<v.length;z++){const fe=v[z];Uu(fe[1],fe,p,g,b,O)}}(g,p,O,v,C)}}function Jp(p,g,v){if(as(p))return p.createElement(g,v);{const b=null!==v?function Wc(p){const g=p.toLowerCase();return"svg"===g?"http://www.w3.org/2000/svg":"math"===g?"http://www.w3.org/1998/MathML/":null}(v):null;return null===b?p.createElement(g):p.createElementNS(b,g)}}function $g(p,g){const v=p[9],b=v.indexOf(g),C=g[3];1024&g[2]&&(g[2]&=-1025,Cr(C,-1)),v.splice(b,1)}function Qp(p,g){if(!(256&g[2])){g[2]&=-129,g[2]|=256,function IP(p,g){let v;if(null!=p&&null!=(v=p.destroyHooks))for(let b=0;b<v.length;b+=2){const C=g[v[b]];if(!(C instanceof vu)){const O=v[b+1];if(Array.isArray(O))for(let w=0;w<O.length;w+=2){const z=C[O[w]],fe=O[w+1];try{fe.call(z)}finally{}}else try{O.call(C)}finally{}}}}(p,g),function SP(p,g){const v=p.cleanup,b=g[7];let C=-1;if(null!==v)for(let O=0;O<v.length-1;O+=2)if("string"==typeof v[O]){const w=v[O+1],z="function"==typeof w?w(g):Ae(g[w]),fe=b[C=v[O+2]],De=v[O+3];"boolean"==typeof De?z.removeEventListener(v[O],fe,De):De>=0?b[C=De]():b[C=-De].unsubscribe(),O+=2}else{const w=b[C=v[O+1]];v[O].call(w)}if(null!==b){for(let O=C+1;O<b.length;O++)b[O]();g[7]=null}}(p,g),1===g[1].type&&as(g[11])&&g[11].destroy();const v=g[17];if(null!==v&&Ti(g[3])){v!==g[3]&&$g(v,g);const b=g[19];null!==b&&b.detachView(p)}}}function zg(p,g,v){return function Gg(p,g,v){let b=g;for(;null!==b&&40&b.type;)b=(g=b).parent;if(null===b)return v[0];if(2&b.flags){const C=p.data[b.directiveStart].encapsulation;if(C===Be.None||C===Be.Emulated)return null}return vt(b,v)}(p,g.parent,v)}function Ua(p,g,v,b,C){as(p)?p.insertBefore(g,v,b,C):g.insertBefore(v,b,C)}function kg(p,g,v){as(p)?p.appendChild(g,v):g.appendChild(v)}function Hg(p,g,v,b,C){null!==b?Ua(p,g,v,b,C):kg(p,g,v)}let Qg=function Yg(p,g,v){return 40&p.type?vt(p,v):null};function md(p,g,v,b){const C=zg(p,b,g),O=g[11],z=function Jg(p,g,v){return Qg(p,g,v)}(b.parent||g[6],b,g);if(null!=C)if(Array.isArray(v))for(let fe=0;fe<v.length;fe++)Hg(O,C,v[fe],z,!1);else Hg(O,C,v,z,!1)}function qg(p,g){return null!==g?p[16][6].projection[g.projection]:null}function ef(p,g,v,b,C,O,w){for(;null!=v;){const z=b[v.index],fe=v.type;if(w&&0===g&&(z&&Js(Ae(z),b),v.flags|=4),64!=(64&v.flags))if(8&fe)ef(p,g,v.child,b,C,O,!1),bl(g,p,C,z,O);else if(32&fe){const De=zp(v,b);let Ie;for(;Ie=De();)bl(g,p,C,Ie,O);bl(g,p,C,z,O)}else 16&fe?t_(p,g,b,v,C,O):bl(g,p,C,z,O);v=w?v.projectionNext:v.next}}function Uu(p,g,v,b,C,O){ef(v,b,p.firstChild,g,C,O,!1)}function t_(p,g,v,b,C,O){const w=v[16],fe=w[6].projection[b.projection];if(Array.isArray(fe))for(let De=0;De<fe.length;De++)bl(g,p,C,fe[De],O);else ef(p,g,fe,w[3],C,O,!0)}function n_(p,g,v){as(p)?p.setAttribute(g,"style",v):g.style.cssText=v}function tf(p,g,v){as(p)?""===v?p.removeAttribute(g,"class"):p.setAttribute(g,"class",v):g.className=v}function r_(p,g,v){let b=p.length;for(;;){const C=p.indexOf(g,v);if(-1===C)return C;if(0===C||p.charCodeAt(C-1)<=32){const O=g.length;if(C+O===b||p.charCodeAt(C+O)<=32)return C}v=C+1}}const s_="ng-template";function jP(p,g,v){let b=0;for(;b<p.length;){let C=p[b++];if(v&&"class"===C){if(C=p[b],-1!==r_(C.toLowerCase(),g,0))return!0}else if(1===C){for(;b<p.length&&"string"==typeof(C=p[b++]);)if(C.toLowerCase()===g)return!0;return!1}}return!1}function i_(p){return 4===p.type&&p.value!==s_}function UP(p,g,v){return g===(4!==p.type||v?p.value:s_)}function FP(p,g,v){let b=4;const C=p.attrs||[],O=function WP(p){for(let g=0;g<p.length;g++)if(Hy(p[g]))return g;return p.length}(C);let w=!1;for(let z=0;z<g.length;z++){const fe=g[z];if("number"!=typeof fe){if(!w)if(4&b){if(b=2|1&b,""!==fe&&!UP(p,fe,v)||""===fe&&1===g.length){if(Qi(b))return!1;w=!0}}else{const De=8&b?fe:g[++z];if(8&b&&null!==p.attrs){if(!jP(p.attrs,De,v)){if(Qi(b))return!1;w=!0}continue}const We=NP(8&b?"class":fe,C,i_(p),v);if(-1===We){if(Qi(b))return!1;w=!0;continue}if(""!==De){let st;st=We>O?"":C[We+1].toLowerCase();const yt=8&b?st:null;if(yt&&-1!==r_(yt,De,0)||2&b&&De!==st){if(Qi(b))return!1;w=!0}}}}else{if(!w&&!Qi(b)&&!Qi(fe))return!1;if(w&&Qi(fe))continue;w=!1,b=fe|1&b}}return Qi(b)||w}function Qi(p){return 0==(1&p)}function NP(p,g,v,b){if(null===g)return-1;let C=0;if(b||!v){let O=!1;for(;C<g.length;){const w=g[C];if(w===p)return C;if(3===w||6===w)O=!0;else{if(1===w||2===w){let z=g[++C];for(;"string"==typeof z;)z=g[++C];continue}if(4===w)break;if(0===w){C+=4;continue}}C+=O?1:2}return-1}return function VP(p,g){let v=p.indexOf(4);if(v>-1)for(v++;v<p.length;){const b=p[v];if("number"==typeof b)return-1;if(b===g)return v;v++}return-1}(g,p)}function o_(p,g,v=!1){for(let b=0;b<g.length;b++)if(FP(p,g[b],v))return!0;return!1}function a_(p,g){return p?":not("+g.trim()+")":g}function $P(p){let g=p[0],v=1,b=2,C="",O=!1;for(;v<p.length;){let w=p[v];if("string"==typeof w)if(2&b){const z=p[++v];C+="["+w+(z.length>0?'="'+z+'"':"")+"]"}else 8&b?C+="."+w:4&b&&(C+=" "+w);else""!==C&&!Qi(w)&&(g+=a_(O,C),C=""),b=w,O=O||!Qi(b);v++}return""!==C&&(g+=a_(O,C)),g}const yr={};function v_(p,g){const v=p.contentQueries;if(null!==v)for(let b=0;b<v.length;b+=2){const C=v[b],O=v[b+1];if(-1!==O){const w=p.data[O];gp(C),w.contentQueries(2,g[O],O)}}}function Fu(p,g,v,b,C,O,w,z,fe,De){const Ie=g.blueprint.slice();return Ie[0]=C,Ie[2]=140|b,Tr(Ie),Ie[3]=Ie[15]=p,Ie[8]=v,Ie[10]=w||p&&p[10],Ie[11]=z||p&&p[11],Ie[12]=fe||p&&p[12]||null,Ie[9]=De||p&&p[9]||null,Ie[6]=O,Ie[16]=2==g.type?p[16]:Ie,Ie}function Ml(p,g,v,b,C){let O=p.data[g];if(null===O)O=function ff(p,g,v,b,C){const O=Kc(),w=pp(),fe=p.data[g]=function l2(p,g,v,b,C,O){return{type:v,index:b,insertBeforeIndex:null,injectorIndex:g?g.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:C,attrs:O,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:g,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?O:O&&O.parent,v,g,b,C);return null===p.firstChild&&(p.firstChild=fe),null!==O&&(w?null==O.child&&null!==fe.parent&&(O.child=fe):null===O.next&&(O.next=fe)),fe}(p,g,v,b,C),function SD(){return wn.lFrame.inI18n}()&&(O.flags|=64);else if(64&O.type){O.type=v,O.value=b,O.attrs=C;const w=function Ao(){const p=wn.lFrame,g=p.currentTNode;return p.isParent?g:g.parent}();O.injectorIndex=null===w?-1:w.injectorIndex}return co(O,!0),O}function Cl(p,g,v,b){if(0===v)return-1;const C=g.length;for(let O=0;O<v;O++)g.push(b),p.blueprint.push(b),p.data.push(null);return C}function Nu(p,g,v){kc(g);try{const b=p.viewQuery;null!==b&&Cf(1,b,v);const C=p.template;null!==C&&E_(p,g,C,1,v),p.firstCreatePass&&(p.firstCreatePass=!1),p.staticContentQueries&&v_(p,g),p.staticViewQueries&&Cf(2,p.viewQuery,v);const O=p.components;null!==O&&function i2(p,g){for(let v=0;v<g.length;v++)P2(p,g[v])}(g,O)}catch(b){throw p.firstCreatePass&&(p.incompleteFirstPass=!0,p.firstCreatePass=!1),b}finally{g[2]&=-5,Hc()}}function Dl(p,g,v,b){const C=g[2];if(256==(256&C))return;kc(g);const O=zc();try{Tr(g),function By(p){return wn.lFrame.bindingIndex=p}(p.bindingStartIndex),null!==v&&E_(p,g,v,2,b);const w=3==(3&C);if(!O)if(w){const De=p.preOrderCheckHooks;null!==De&&Yc(g,De,null)}else{const De=p.preOrderHooks;null!==De&&Qc(g,De,0,null),_p(g,0)}if(function D2(p){for(let g=Gp(p);null!==g;g=kp(g)){if(!g[2])continue;const v=g[9];for(let b=0;b<v.length;b++){const C=v[b],O=C[3];0==(1024&C[2])&&Cr(O,1),C[2]|=1024}}}(g),function C2(p){for(let g=Gp(p);null!==g;g=kp(g))for(let v=10;v<g.length;v++){const b=g[v],C=b[1];Tn(b)&&Dl(C,b,C.template,b[8])}}(g),null!==p.contentQueries&&v_(p,g),!O)if(w){const De=p.contentCheckHooks;null!==De&&Yc(g,De)}else{const De=p.contentHooks;null!==De&&Qc(g,De,1),_p(g,1)}!function r2(p,g){const v=p.hostBindingOpCodes;if(null!==v)try{for(let b=0;b<v.length;b++){const C=v[b];if(C<0)na(~C);else{const O=C,w=v[++b],z=v[++b];ID(w,O),z(2,g[O])}}}finally{na(-1)}}(p,g);const z=p.components;null!==z&&function s2(p,g){for(let v=0;v<g.length;v++)O2(p,g[v])}(g,z);const fe=p.viewQuery;if(null!==fe&&Cf(2,fe,b),!O)if(w){const De=p.viewCheckHooks;null!==De&&Yc(g,De)}else{const De=p.viewHooks;null!==De&&Qc(g,De,2),_p(g,2)}!0===p.firstUpdatePass&&(p.firstUpdatePass=!1),O||(g[2]&=-73),1024&g[2]&&(g[2]&=-1025,Cr(g[3],-1))}finally{Hc()}}function o2(p,g,v,b){const C=g[10],O=!zc(),w=function En(p){return 4==(4&p[2])}(g);try{O&&!w&&C.begin&&C.begin(),w&&Nu(p,g,b),Dl(p,g,v,b)}finally{O&&!w&&C.end&&C.end()}}function E_(p,g,v,b,C){const O=function oi(){return wn.lFrame.selectedIndex}(),w=2&b;try{na(-1),w&&g.length>20&&function l_(p,g,v,b){if(!b)if(3==(3&g[2])){const O=p.preOrderCheckHooks;null!==O&&Yc(g,O,v)}else{const O=p.preOrderHooks;null!==O&&Qc(g,O,0,v)}na(v)}(p,g,20,zc()),v(b,C)}finally{na(O)}}function M_(p){const g=p.tView;return null===g||g.incompleteFirstPass?p.tView=Ed(1,null,p.template,p.decls,p.vars,p.directiveDefs,p.pipeDefs,p.viewQuery,p.schemas,p.consts):g}function Ed(p,g,v,b,C,O,w,z,fe,De){const Ie=20+b,We=Ie+C,st=function a2(p,g){const v=[];for(let b=0;b<g;b++)v.push(b<p?null:yr);return v}(Ie,We),yt="function"==typeof De?De():De;return st[1]={type:p,blueprint:st,template:v,queries:null,viewQuery:z,declTNode:g,data:st.slice().fill(null,Ie),bindingStartIndex:Ie,expandoStartIndex:We,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof O?O():O,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:fe,consts:yt,incompleteFirstPass:!1}}function P_(p,g,v){for(let b in p)if(p.hasOwnProperty(b)){const C=p[b];(v=null===v?{}:v).hasOwnProperty(b)?v[b].push(g,C):v[b]=[g,C]}return v}function S_(p,g,v,b,C,O){const w=O.hostBindings;if(w){let z=p.hostBindingOpCodes;null===z&&(z=p.hostBindingOpCodes=[]);const fe=~g.index;(function f2(p){let g=p.length;for(;g>0;){const v=p[--g];if("number"==typeof v&&v<0)return v}return 0})(z)!=fe&&z.push(fe),z.push(b,C,w)}}function I_(p,g){null!==p.hostBindings&&p.hostBindings(1,g)}function w_(p,g){g.flags|=2,(p.components||(p.components=[])).push(g.index)}function v2(p,g,v){if(v){if(g.exportAs)for(let b=0;b<g.exportAs.length;b++)v[g.exportAs[b]]=p;si(g)&&(v[""]=p)}}function x_(p,g,v){p.flags|=1,p.directiveStart=g,p.directiveEnd=g+v,p.providerIndexes=g}function A_(p,g,v,b,C){p.data[b]=C;const O=C.factory||(C.factory=Ii(C.type)),w=new vu(O,si(C),null);p.blueprint[b]=w,v[b]=w,S_(p,g,0,b,Cl(p,v,C.hostVars,yr),C)}function E2(p,g,v){const b=vt(g,p),C=M_(v),O=p[10],w=bd(p,Fu(p,C,null,v.onPush?64:16,b,g,O,O.createRenderer(b,v),null,null));p[g.index]=w}function b2(p,g,v,b,C,O){const w=O[g];if(null!==w){const z=b.setInput;for(let fe=0;fe<w.length;){const De=w[fe++],Ie=w[fe++],We=w[fe++];null!==z?b.setInput(v,We,De,Ie):v[Ie]=We}}}function M2(p,g){let v=null,b=0;for(;b<g.length;){const C=g[b];if(0!==C)if(5!==C){if("number"==typeof C)break;p.hasOwnProperty(C)&&(null===v&&(v=[]),v.push(C,p[C],g[b+1])),b+=2}else b+=2;else b+=4}return v}function O2(p,g){const v=bn(g,p);if(Tn(v)){const b=v[1];80&v[2]?Dl(b,v,b.template,v[8]):v[5]>0&&vf(v)}}function vf(p){for(let b=Gp(p);null!==b;b=kp(b))for(let C=10;C<b.length;C++){const O=b[C];if(1024&O[2]){const w=O[1];Dl(w,O,w.template,O[8])}else O[5]>0&&vf(O)}const v=p[1].components;if(null!==v)for(let b=0;b<v.length;b++){const C=bn(v[b],p);Tn(C)&&C[5]>0&&vf(C)}}function P2(p,g){const v=bn(g,p),b=v[1];(function T2(p,g){for(let v=g.length;v<p.blueprint.length;v++)g.push(p.blueprint[v])})(b,v),Nu(b,v,v[8])}function bd(p,g){return p[13]?p[14][4]=g:p[13]=g,p[14]=g,g}function Mf(p,g,v){const b=g[10];b.begin&&b.begin();try{Dl(p,g,p.template,v)}catch(C){throw function N_(p,g){const v=p[9],b=v?v.get(Ru,null):null;b&&b.handleError(g)}(g,C),C}finally{b.end&&b.end()}}function R_(p){!function bf(p){for(let g=0;g<p.components.length;g++){const v=p.components[g],b=Vp(v),C=b[1];o2(C,b,C.template,v)}}(p[8])}function Cf(p,g,v){gp(0),g(p,v)}const x2=(()=>Promise.resolve(null))();function Md(p,g,v){let b=v?p.styles:null,C=v?p.classes:null,O=0;if(null!==g)for(let w=0;w<g.length;w++){const z=g[w];"number"==typeof z?O=z:1==O?C=Dn(C,z):2==O&&(b=Dn(b,z+": "+g[++w]+";"))}v?p.styles=b:p.stylesWithoutHost=b,v?p.classes=C:p.classesWithoutHost=C}const Df=new Hr("INJECTOR",-1);class W_{get(g,v=Pu){if(v===Pu){const b=new Error(`NullInjectorError: No provider for ${rn(g)}!`);throw b.name="NullInjectorError",b}return v}}const Of=new Hr("Set Injector scope."),Bu={},R2={};let Pf;function V_(){return void 0===Pf&&(Pf=new W_),Pf}function Z_(p,g=null,v=null,b){const C=$_(p,g,v,b);return C._resolveInjectorDefTypes(),C}function $_(p,g=null,v=null,b){return new j2(p,v,g||V_(),b)}class j2{constructor(g,v,b,C=null){this.parent=b,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const O=[];v&&ho(v,z=>this.processProvider(z,g,v)),ho([g],z=>this.processInjectorType(z,[],O)),this.records.set(Df,Ol(void 0,this));const w=this.records.get(Of);this.scope=null!=w?w.value:null,this.source=C||("object"==typeof g?null:rn(g))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(g=>g.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(g,v=Pu,b=Un.Default){this.assertNotDestroyed();const C=hg(this),O=$e(void 0);try{if(!(b&Un.SkipSelf)){let z=this.records.get(g);if(void 0===z){const fe=function $2(p){return"function"==typeof p||"object"==typeof p&&p instanceof Hr}(g)&&qs(g);z=fe&&this.injectableDefInScope(fe)?Ol(Tf(g),Bu):null,this.records.set(g,z)}if(null!=z)return this.hydrate(g,z)}return(b&Un.Self?V_():this.parent).get(g,v=b&Un.Optional&&v===Pu?null:v)}catch(w){if("NullInjectorError"===w.name){if((w[od]=w[od]||[]).unshift(rn(g)),C)throw w;return function mO(p,g,v,b){const C=p[od];throw g[dg]&&C.unshift(g[dg]),p.message=function yO(p,g,v,b=null){p=p&&"\n"===p.charAt(0)&&"\u0275"==p.charAt(1)?p.substr(2):p;let C=rn(g);if(Array.isArray(g))C=g.map(rn).join(" -> ");else if("object"==typeof g){let O=[];for(let w in g)if(g.hasOwnProperty(w)){let z=g[w];O.push(w+":"+("string"==typeof z?JSON.stringify(z):rn(z)))}C=`{${O.join(", ")}}`}return`${v}${b?"("+b+")":""}[${C}]: ${p.replace(uO,"\n  ")}`}("\n"+p.message,C,v,b),p.ngTokenPath=C,p[od]=null,p}(w,g,"R3InjectorError",this.source)}throw w}finally{$e(O),hg(C)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(g=>this.get(g))}toString(){const g=[];return this.records.forEach((b,C)=>g.push(rn(C))),`R3Injector[${g.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _n(205,!1)}processInjectorType(g,v,b){if(!(g=ln(g)))return!1;let C=St(g);const O=null==C&&g.ngModule||void 0,w=void 0===O?g:O,z=-1!==b.indexOf(w);if(void 0!==O&&(C=St(O)),null==C)return!1;if(null!=C.imports&&!z){let Ie;b.push(w);try{ho(C.imports,We=>{this.processInjectorType(We,v,b)&&(void 0===Ie&&(Ie=[]),Ie.push(We))})}finally{}if(void 0!==Ie)for(let We=0;We<Ie.length;We++){const{ngModule:st,providers:yt}=Ie[We];ho(yt,jt=>this.processProvider(jt,st,yt||Gn))}}this.injectorDefTypes.add(w);const fe=Ii(w)||(()=>new w);this.records.set(w,Ol(fe,Bu));const De=C.providers;if(null!=De&&!z){const Ie=g;ho(De,We=>this.processProvider(We,Ie,De))}return void 0!==O&&void 0!==g.providers}processProvider(g,v,b){let C=Pl(g=ln(g))?g:ln(g&&g.provide);const O=function F2(p,g,v){return z_(p)?Ol(void 0,p.useValue):Ol(function K_(p,g,v){let b;if(Pl(p)){const C=ln(p);return Ii(C)||Tf(C)}if(z_(p))b=()=>ln(p.useValue);else if(function B2(p){return!(!p||!p.useFactory)}(p))b=()=>p.useFactory(...xp(p.deps||[]));else if(function N2(p){return!(!p||!p.useExisting)}(p))b=()=>Kr(ln(p.useExisting));else{const C=ln(p&&(p.useClass||p.provide));if(!function V2(p){return!!p.deps}(p))return Ii(C)||Tf(C);b=()=>new C(...xp(p.deps))}return b}(p),Bu)}(g);if(Pl(g)||!0!==g.multi)this.records.get(C);else{let w=this.records.get(C);w||(w=Ol(void 0,Bu,!0),w.factory=()=>xp(w.multi),this.records.set(C,w)),C=g,w.multi.push(g)}this.records.set(C,O)}hydrate(g,v){return v.value===Bu&&(v.value=R2,v.value=v.factory()),"object"==typeof v.value&&v.value&&function Z2(p){return null!==p&&"object"==typeof p&&"function"==typeof p.ngOnDestroy}(v.value)&&this.onDestroy.add(v.value),v.value}injectableDefInScope(g){if(!g.providedIn)return!1;const v=ln(g.providedIn);return"string"==typeof v?"any"===v||v===this.scope:this.injectorDefTypes.has(v)}}function Tf(p){const g=qs(p),v=null!==g?g.factory:Ii(p);if(null!==v)return v;if(p instanceof Hr)throw new _n(204,!1);if(p instanceof Function)return function U2(p){const g=p.length;if(g>0)throw function Ou(p,g){const v=[];for(let b=0;b<p;b++)v.push(g);return v}(g,"?"),new _n(204,!1);const v=function zs(p){const g=p&&(p[an]||p[Bn]);if(g){const v=function yi(p){if(p.hasOwnProperty("name"))return p.name;const g=(""+p).match(/^function\s*([^\s(]+)/);return null===g?"":g[1]}(p);return console.warn(`DEPRECATED: DI is instantiating a token "${v}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${v}" class.`),g}return null}(p);return null!==v?()=>v.factory(p):()=>new p}(p);throw new _n(204,!1)}function Ol(p,g,v=!1){return{factory:p,value:g,multi:v?[]:void 0}}function z_(p){return null!==p&&"object"==typeof p&&dO in p}function Pl(p){return"function"==typeof p}let Wi=(()=>{class p{static create(v,b){var C;if(Array.isArray(v))return Z_({name:""},b,v,"");{const O=null!==(C=v.name)&&void 0!==C?C:"";return Z_({name:O},v.parent,v.providers,O)}}}return p.THROW_IF_NOT_FOUND=Pu,p.NULL=new W_,p.\u0275prov=Mr({token:p,providedIn:"any",factory:()=>Kr(Df)}),p.__NG_ELEMENT_ID__=-1,p})();function Q2(p,g){Jc(Vp(p)[1],Cs())}function Uf(p,g,v,b,C){const w=C?"class":"style";!function B_(p,g,v,b,C){for(let O=0;O<v.length;){const w=v[O++],z=v[O++],fe=g[w],De=p.data[w];null!==De.setInput?De.setInput(fe,C,b,z):fe[z]=C}}(p,v,g.inputs[w],w,b)}function Ff(p,g,v,b){const C=Mn(),O=Lr(),w=20+p,z=C[11],fe=C[w]=Jp(z,g,function ND(){return wn.lFrame.currentNamespace}()),De=O.firstCreatePass?function AT(p,g,v,b,C,O,w){const z=g.consts,De=Ml(g,p,2,C,nr(z,O));return function gf(p,g,v,b){let C=!1;if(ta()){const O=function g2(p,g,v){const b=p.directiveRegistry;let C=null;if(b)for(let O=0;O<b.length;O++){const w=b[O];o_(v,w.selectors,!1)&&(C||(C=[]),nd(bu(v,g),p,w.type),si(w)?(w_(p,v),C.unshift(w)):C.push(w))}return C}(p,g,v),w=null===b?null:{"":-1};if(null!==O){C=!0,x_(v,p.data.length,O.length);for(let Ie=0;Ie<O.length;Ie++){const We=O[Ie];We.providersResolver&&We.providersResolver(We)}let z=!1,fe=!1,De=Cl(p,g,O.length,null);for(let Ie=0;Ie<O.length;Ie++){const We=O[Ie];v.mergedAttrs=qc(v.mergedAttrs,We.hostAttrs),A_(p,v,g,De,We),v2(De,We,w),null!==We.contentQueries&&(v.flags|=8),(null!==We.hostBindings||null!==We.hostAttrs||0!==We.hostVars)&&(v.flags|=128);const st=We.type.prototype;!z&&(st.ngOnChanges||st.ngOnInit||st.ngDoCheck)&&((p.preOrderHooks||(p.preOrderHooks=[])).push(v.index),z=!0),!fe&&(st.ngOnChanges||st.ngDoCheck)&&((p.preOrderCheckHooks||(p.preOrderCheckHooks=[])).push(v.index),fe=!0),De++}!function u2(p,g){const b=g.directiveEnd,C=p.data,O=g.attrs,w=[];let z=null,fe=null;for(let De=g.directiveStart;De<b;De++){const Ie=C[De],We=Ie.inputs,st=null===O||i_(g)?null:M2(We,O);w.push(st),z=P_(We,De,z),fe=P_(Ie.outputs,De,fe)}null!==z&&(z.hasOwnProperty("class")&&(g.flags|=16),z.hasOwnProperty("style")&&(g.flags|=32)),g.initialInputs=w,g.inputs=z,g.outputs=fe}(p,v)}w&&function _2(p,g,v){if(g){const b=p.localNames=[];for(let C=0;C<g.length;C+=2){const O=v[g[C+1]];if(null==O)throw new _n(-301,!1);b.push(g[C],O)}}}(v,b,w)}return v.mergedAttrs=qc(v.mergedAttrs,v.attrs),C}(g,v,De,nr(z,w)),null!==De.attrs&&Md(De,De.attrs,!1),null!==De.mergedAttrs&&Md(De,De.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,De),De}(w,O,C,0,g,v,b):O.data[w];co(De,!0);const Ie=De.mergedAttrs;null!==Ie&&Xc(z,fe,Ie);const We=De.classes;null!==We&&tf(z,fe,We);const st=De.styles;return null!==st&&n_(z,fe,st),64!=(64&De.flags)&&md(O,C,fe,De),0===function ll(){return wn.lFrame.elementDepthCount}()&&Js(fe,C),function _u(){wn.lFrame.elementDepthCount++}(),function nl(p){return 1==(1&p.flags)}(De)&&(function mf(p,g,v){!ta()||(function m2(p,g,v,b){const C=v.directiveStart,O=v.directiveEnd;p.firstCreatePass||bu(v,g),Js(b,g);const w=v.initialInputs;for(let z=C;z<O;z++){const fe=p.data[z],De=si(fe);De&&E2(g,v,fe);const Ie=Mu(g,p,z,v);Js(Ie,g),null!==w&&b2(0,z-C,Ie,fe,0,w),De&&(bn(v.index,g)[8]=Ie)}}(p,g,v,vt(v,g)),128==(128&v.flags)&&function y2(p,g,v){const b=v.directiveStart,C=v.directiveEnd,w=v.index,z=function wD(){return wn.lFrame.currentDirectiveIndex}();try{na(w);for(let fe=b;fe<C;fe++){const De=p.data[fe],Ie=g[fe];mp(fe),(null!==De.hostBindings||0!==De.hostVars||null!==De.hostAttrs)&&I_(De,Ie)}}finally{na(-1),mp(z)}}(p,g,v))}(O,C,De),function b_(p,g,v){if(fu(g)){const C=g.directiveEnd;for(let O=g.directiveStart;O<C;O++){const w=p.data[O];w.contentQueries&&w.contentQueries(1,v[O],O)}}}(O,De,C)),null!==b&&function yf(p,g,v=vt){const b=g.localNames;if(null!==b){let C=g.index+1;for(let O=0;O<b.length;O+=2){const w=b[O+1],z=-1===w?v(g,p):p[w];p[C++]=z}}}(C,De),Ff}function Nf(){let p=Cs();pp()?function fp(){wn.lFrame.isParent=!1}():(p=p.parent,co(p,!1));const g=p;!function Zc(){wn.lFrame.elementDepthCount--}();const v=Lr();return v.firstCreatePass&&(Jc(v,p),fu(p)&&v.queries.elementEnd(p)),null!=g.classesWithoutHost&&function $D(p){return 0!=(16&p.flags)}(g)&&Uf(v,g,Mn(),g.classesWithoutHost,!0),null!=g.stylesWithoutHost&&function KD(p){return 0!=(32&p.flags)}(g)&&Uf(v,g,Mn(),g.stylesWithoutHost,!1),Nf}function Bf(p,g,v,b){return Ff(p,g,v,b),Nf(),Bf}function Zf(p){return!!p&&"function"==typeof p.then}const jT=function Tv(p){return!!p&&"function"==typeof p.subscribe},Td="en-US";let D1=Td;class J1{}class SI{resolveComponentFactory(g){throw function TI(p){const g=Error(`No component factory found for ${rn(p)}. Did you add it to @NgModule.entryComponents?`);return g.ngComponent=p,g}(g)}}let Ad=(()=>{class p{}return p.NULL=new SI,p})();function II(){return Vl(Cs(),Mn())}function Vl(p,g){return new Zl(vt(p,g))}let Zl=(()=>{class p{constructor(v){this.nativeElement=v}}return p.__NG_ELEMENT_ID__=II,p})();class Q1{}let LI=(()=>{class p{}return p.\u0275prov=Mr({token:p,providedIn:"root",factory:()=>null}),p})();class qf{constructor(g){this.full=g,this.major=g.split(".")[0],this.minor=g.split(".")[1],this.patch=g.split(".").slice(2).join(".")}}const RI=new qf("13.2.6"),e0={};function Ld(p,g,v,b,C=!1){for(;null!==v;){const O=g[v.index];if(null!==O&&b.push(Ae(O)),Ti(O))for(let z=10;z<O.length;z++){const fe=O[z],De=fe[1].firstChild;null!==De&&Ld(fe[1],fe,De,b)}const w=v.type;if(8&w)Ld(p,g,v.child,b);else if(32&w){const z=zp(v,g);let fe;for(;fe=z();)b.push(fe)}else if(16&w){const z=qg(g,v);if(Array.isArray(z))b.push(...z);else{const fe=ju(g[16]);Ld(fe[1],fe,z,b,!0)}}v=C?v.projectionNext:v.next}return b}class jI extends class ku{constructor(g,v){this._lView=g,this._cdRefInjectingView=v,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const g=this._lView,v=g[1];return Ld(v,g,v.firstChild,[])}get context(){return this._lView[8]}set context(g){this._lView[8]=g}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const g=this._lView[3];if(Ti(g)){const v=g[8],b=v?v.indexOf(this):-1;b>-1&&(function Yp(p,g){if(p.length<=10)return;const v=10+g,b=p[v];if(b){const C=b[17];null!==C&&C!==p&&$g(C,b),g>0&&(p[v-1][4]=b[4]);const O=sd(p,10+g);!function MP(p,g){Uu(p,g,g[11],2,null,null),g[0]=null,g[6]=null}(b[1],b);const w=O[19];null!==w&&w.detachView(O[1]),b[3]=null,b[4]=null,b[2]&=-129}return b}(g,b),sd(v,b))}this._attachedToViewContainer=!1}!function Kg(p,g){if(!(256&g[2])){const v=g[11];as(v)&&v.destroyNode&&Uu(p,g,v,3,null,null),function OP(p){let g=p[13];if(!g)return Qp(p[1],p);for(;g;){let v=null;if(Ni(g))v=g[13];else{const b=g[10];b&&(v=b)}if(!v){for(;g&&!g[4]&&g!==p;)Ni(g)&&Qp(g[1],g),g=g[3];null===g&&(g=p),Ni(g)&&Qp(g[1],g),v=g&&g[4]}g=v}}(g)}}(this._lView[1],this._lView)}onDestroy(g){!function O_(p,g,v,b){const C=function j_(p){return p[7]||(p[7]=[])}(g);null===v?C.push(b):(C.push(v),p.firstCreatePass&&function U_(p){return p.cleanup||(p.cleanup=[])}(p).push(b,C.length-1))}(this._lView[1],this._lView,null,g)}markForCheck(){!function Ef(p){for(;p;){p[2]|=64;const g=ju(p);if(Xh(p)&&!g)return p;p=g}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function I2(p,g,v){Gc(!0);try{Mf(p,g,v)}finally{Gc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new _n(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function DP(p,g){Uu(p,g,g[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(g){if(this._attachedToViewContainer)throw new _n(902,"");this._appRef=g}}{constructor(g){super(g),this._view=g}detectChanges(){R_(this._view)}checkNoChanges(){!function w2(p){Gc(!0);try{R_(p)}finally{Gc(!1)}}(this._view)}get context(){return null}}class q1 extends Ad{constructor(g){super(),this.ngModule=g}resolveComponentFactory(g){const v=kr(g);return new t0(v,this.ngModule)}}function eE(p){const g=[];for(let v in p)p.hasOwnProperty(v)&&g.push({propName:p[v],templateName:v});return g}class t0 extends J1{constructor(g,v){super(),this.componentDef=g,this.ngModule=v,this.componentType=g.type,this.selector=function KP(p){return p.map($P).join(",")}(g.selectors),this.ngContentSelectors=g.ngContentSelectors?g.ngContentSelectors:[],this.isBoundToModule=!!v}get inputs(){return eE(this.componentDef.inputs)}get outputs(){return eE(this.componentDef.outputs)}create(g,v,b,C){const O=(C=C||this.ngModule)?function FI(p,g){return{get:(v,b,C)=>{const O=p.get(v,e0,C);return O!==e0||b===e0?O:g.get(v,b,C)}}}(g,C.injector):g,w=O.get(Q1,Oe),z=O.get(LI,null),fe=w.createRenderer(null,this.componentDef),De=this.componentDef.selectors[0][0]||"div",Ie=b?function D_(p,g,v){if(as(p))return p.selectRootElement(g,v===Be.ShadowDom);let b="string"==typeof g?p.querySelector(g):g;return b.textContent="",b}(fe,b,this.componentDef.encapsulation):Jp(w.createRenderer(null,this.componentDef),De,function UI(p){const g=p.toLowerCase();return"svg"===g?"svg":"math"===g?"math":null}(De)),We=this.componentDef.onPush?576:528,st=function nv(p,g){return{components:[],scheduler:p||yP,clean:x2,playerHandler:g||null,flags:0}}(),yt=Ed(0,null,null,1,0,null,null,null,null,null),jt=Fu(null,yt,st,We,null,null,w,fe,z,O);let tn,un;kc(jt);try{const hn=function ev(p,g,v,b,C,O){const w=v[1];v[20]=p;const fe=Ml(w,20,2,"#host",null),De=fe.mergedAttrs=g.hostAttrs;null!==De&&(Md(fe,De,!0),null!==p&&(Xc(C,p,De),null!==fe.classes&&tf(C,p,fe.classes),null!==fe.styles&&n_(C,p,fe.styles)));const Ie=b.createRenderer(p,g),We=Fu(v,M_(g),null,g.onPush?64:16,v[20],fe,b,Ie,O||null,null);return w.firstCreatePass&&(nd(bu(fe,v),w,g.type),w_(w,fe),x_(fe,v.length,1)),bd(v,We),v[20]=We}(Ie,this.componentDef,jt,w,fe);if(Ie)if(b)Xc(fe,Ie,["ng-version",RI.full]);else{const{attrs:qt,classes:Ln}=function zP(p){const g=[],v=[];let b=1,C=2;for(;b<p.length;){let O=p[b];if("string"==typeof O)2===C?""!==O&&g.push(O,p[++b]):8===C&&v.push(O);else{if(!Qi(C))break;C=O}b++}return{attrs:g,classes:v}}(this.componentDef.selectors[0]);qt&&Xc(fe,Ie,qt),Ln&&Ln.length>0&&tf(fe,Ie,Ln.join(" "))}if(un=function Bt(p,g){return p.data[g]}(yt,20),void 0!==v){const qt=un.projection=[];for(let Ln=0;Ln<this.ngContentSelectors.length;Ln++){const Qn=v[Ln];qt.push(null!=Qn?Array.from(Qn):null)}}tn=function tv(p,g,v,b,C){const O=v[1],w=function p2(p,g,v){const b=Cs();p.firstCreatePass&&(v.providersResolver&&v.providersResolver(v),A_(p,b,g,Cl(p,g,1,null),v));const C=Mu(g,p,b.directiveStart,b);Js(C,g);const O=vt(b,g);return O&&Js(O,g),C}(O,v,g);if(b.components.push(w),p[8]=w,C&&C.forEach(fe=>fe(w,g)),g.contentQueries){const fe=Cs();g.contentQueries(1,w,fe.directiveStart)}const z=Cs();return!O.firstCreatePass||null===g.hostBindings&&null===g.hostAttrs||(na(z.index),S_(v[1],z,0,z.directiveStart,z.directiveEnd,g),I_(g,w)),w}(hn,this.componentDef,jt,st,[Q2]),Nu(yt,jt,null)}finally{Hc()}return new BI(this.componentType,tn,Vl(un,jt),jt,un)}}class BI extends class PI{}{constructor(g,v,b,C,O){super(),this.location=b,this._rootLView=C,this._tNode=O,this.instance=v,this.hostView=this.changeDetectorRef=new jI(C),this.componentType=g}get injector(){return new hl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(g){this.hostView.onDestroy(g)}}class $l{}const Kl=new Map;class rE extends $l{constructor(g,v){super(),this._parent=v,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new q1(this);const b=Ps(g);this._bootstrapComponents=fo(b.bootstrap),this._r3Injector=$_(g,v,[{provide:$l,useValue:this},{provide:Ad,useValue:this.componentFactoryResolver}],rn(g)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(g)}get(g,v=Wi.THROW_IF_NOT_FOUND,b=Un.Default){return g===Wi||g===$l||g===Df?this:this._r3Injector.get(g,v,b)}destroy(){const g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(v=>v()),this.destroyCbs=null}onDestroy(g){this.destroyCbs.push(g)}}class n0 extends class VI{}{constructor(g){super(),this.moduleType=g,null!==Ps(g)&&function ZI(p){const g=new Set;!function v(b){const C=Ps(b,!0),O=C.id;null!==O&&(function tE(p,g,v){if(g&&g!==v)throw new Error(`Duplicate module registered for ${p} - ${rn(g)} vs ${rn(g.name)}`)}(O,Kl.get(O),b),Kl.set(O,b));const w=fo(C.imports);for(const z of w)g.has(z)||(g.add(z),v(z))}(p)}(g)}create(g){return new rE(this.moduleType,g)}}function r0(p){return g=>{setTimeout(p,void 0,g)}}const Fo=class ow extends ge{constructor(g=!1){super(),this.__isAsync=g}emit(g){super.next(g)}subscribe(g,v,b){var C,O,w;let z=g,fe=v||(()=>null),De=b;if(g&&"object"==typeof g){const We=g;z=null===(C=We.next)||void 0===C?void 0:C.bind(We),fe=null===(O=We.error)||void 0===O?void 0:O.bind(We),De=null===(w=We.complete)||void 0===w?void 0:w.bind(We)}this.__isAsync&&(fe=r0(fe),z&&(z=r0(z)),De&&(De=r0(De)));const Ie=super.subscribe({next:z,error:fe,complete:De});return g instanceof N&&g.add(Ie),Ie}};function Fd(...p){}Symbol;const g0=new Hr("Application Initializer");let _0=(()=>{class p{constructor(v){this.appInits=v,this.resolve=Fd,this.reject=Fd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((b,C)=>{this.resolve=b,this.reject=C})}runInitializers(){if(this.initialized)return;const v=[],b=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let C=0;C<this.appInits.length;C++){const O=this.appInits[C]();if(Zf(O))v.push(O);else if(jT(O)){const w=new Promise((z,fe)=>{O.subscribe({complete:z,error:fe})});v.push(w)}}Promise.all(v).then(()=>{b()}).catch(C=>{this.reject(C)}),0===v.length&&b(),this.initialized=!0}}return p.\u0275fac=function(v){return new(v||p)(Kr(g0,8))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const Qu=new Hr("AppId",{providedIn:"root",factory:function LE(){return`${v0()}${v0()}${v0()}`}});function v0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const RE=new Hr("Platform Initializer"),Xu=new Hr("Platform ID"),Zw=new Hr("appBootstrapListener");let $w=(()=>{class p{log(v){console.log(v)}warn(v){console.warn(v)}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();const aa=new Hr("LocaleId",{providedIn:"root",factory:()=>pO(aa,Un.Optional|Un.SkipSelf)||function Kw(){return"undefined"!=typeof $localize&&$localize.locale||Td}()}),Hw=(()=>Promise.resolve(0))();function E0(p){"undefined"==typeof Zone?Hw.then(()=>{p&&p.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",p)}class ci{constructor({enableLongStackTrace:g=!1,shouldCoalesceEventChangeDetection:v=!1,shouldCoalesceRunChangeDetection:b=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fo(!1),this.onMicrotaskEmpty=new Fo(!1),this.onStable=new Fo(!1),this.onError=new Fo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const C=this;C._nesting=0,C._outer=C._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(C._inner=C._inner.fork(new Zone.TaskTrackingZoneSpec)),g&&Zone.longStackTraceZoneSpec&&(C._inner=C._inner.fork(Zone.longStackTraceZoneSpec)),C.shouldCoalesceEventChangeDetection=!b&&v,C.shouldCoalesceRunChangeDetection=b,C.lastRequestAnimationFrameId=-1,C.nativeRequestAnimationFrame=function Jw(){let p=gn.requestAnimationFrame,g=gn.cancelAnimationFrame;if("undefined"!=typeof Zone&&p&&g){const v=p[Zone.__symbol__("OriginalDelegate")];v&&(p=v);const b=g[Zone.__symbol__("OriginalDelegate")];b&&(g=b)}return{nativeRequestAnimationFrame:p,nativeCancelAnimationFrame:g}}().nativeRequestAnimationFrame,function Xw(p){const g=()=>{!function Qw(p){p.isCheckStableRunning||-1!==p.lastRequestAnimationFrameId||(p.lastRequestAnimationFrameId=p.nativeRequestAnimationFrame.call(gn,()=>{p.fakeTopEventTask||(p.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{p.lastRequestAnimationFrameId=-1,M0(p),p.isCheckStableRunning=!0,b0(p),p.isCheckStableRunning=!1},void 0,()=>{},()=>{})),p.fakeTopEventTask.invoke()}),M0(p))}(p)};p._inner=p._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(v,b,C,O,w,z)=>{try{return jE(p),v.invokeTask(C,O,w,z)}finally{(p.shouldCoalesceEventChangeDetection&&"eventTask"===O.type||p.shouldCoalesceRunChangeDetection)&&g(),UE(p)}},onInvoke:(v,b,C,O,w,z,fe)=>{try{return jE(p),v.invoke(C,O,w,z,fe)}finally{p.shouldCoalesceRunChangeDetection&&g(),UE(p)}},onHasTask:(v,b,C,O)=>{v.hasTask(C,O),b===C&&("microTask"==O.change?(p._hasPendingMicrotasks=O.microTask,M0(p),b0(p)):"macroTask"==O.change&&(p.hasPendingMacrotasks=O.macroTask))},onHandleError:(v,b,C,O)=>(v.handleError(C,O),p.runOutsideAngular(()=>p.onError.emit(O)),!1)})}(C)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ci.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ci.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(g,v,b){return this._inner.run(g,v,b)}runTask(g,v,b,C){const O=this._inner,w=O.scheduleEventTask("NgZoneEvent: "+C,g,Yw,Fd,Fd);try{return O.runTask(w,v,b)}finally{O.cancelTask(w)}}runGuarded(g,v,b){return this._inner.runGuarded(g,v,b)}runOutsideAngular(g){return this._outer.run(g)}}const Yw={};function b0(p){if(0==p._nesting&&!p.hasPendingMicrotasks&&!p.isStable)try{p._nesting++,p.onMicrotaskEmpty.emit(null)}finally{if(p._nesting--,!p.hasPendingMicrotasks)try{p.runOutsideAngular(()=>p.onStable.emit(null))}finally{p.isStable=!0}}}function M0(p){p.hasPendingMicrotasks=!!(p._hasPendingMicrotasks||(p.shouldCoalesceEventChangeDetection||p.shouldCoalesceRunChangeDetection)&&-1!==p.lastRequestAnimationFrameId)}function jE(p){p._nesting++,p.isStable&&(p.isStable=!1,p.onUnstable.emit(null))}function UE(p){p._nesting--,b0(p)}class qw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fo,this.onMicrotaskEmpty=new Fo,this.onStable=new Fo,this.onError=new Fo}run(g,v,b){return g.apply(v,b)}runGuarded(g,v,b){return g.apply(v,b)}runOutsideAngular(g){return g()}runTask(g,v,b,C){return g.apply(v,b)}}let C0=(()=>{class p{constructor(v){this._ngZone=v,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),v.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ci.assertNotInAngularZone(),E0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())E0(()=>{for(;0!==this._callbacks.length;){let v=this._callbacks.pop();clearTimeout(v.timeoutId),v.doneCb(this._didWork)}this._didWork=!1});else{let v=this.getPendingTasks();this._callbacks=this._callbacks.filter(b=>!b.updateCb||!b.updateCb(v)||(clearTimeout(b.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(v=>({source:v.source,creationLocation:v.creationLocation,data:v.data})):[]}addCallback(v,b,C){let O=-1;b&&b>0&&(O=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==O),v(this._didWork,this.getPendingTasks())},b)),this._callbacks.push({doneCb:v,timeoutId:O,updateCb:C})}whenStable(v,b,C){if(C&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(v,b,C),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(v,b,C){return[]}}return p.\u0275fac=function(v){return new(v||p)(Kr(ci))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})(),FE=(()=>{class p{constructor(){this._applications=new Map,D0.addToWindow(this)}registerApplication(v,b){this._applications.set(v,b)}unregisterApplication(v){this._applications.delete(v)}unregisterAllApplications(){this._applications.clear()}getTestability(v){return this._applications.get(v)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(v,b=!0){return D0.findTestabilityInTree(this,v,b)}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();class ex{addToWindow(g){}findTestabilityInTree(g,v,b){return null}}let no,D0=new ex;const NE=new Hr("AllowMultipleToken");function BE(p,g,v=[]){const b=`Platform: ${g}`,C=new Hr(b);return(O=[])=>{let w=WE();if(!w||w.injector.get(NE,!1))if(p)p(v.concat(O).concat({provide:C,useValue:!0}));else{const z=v.concat(O).concat({provide:C,useValue:!0},{provide:Of,useValue:"platform"});!function sx(p){if(no&&!no.destroyed&&!no.injector.get(NE,!1))throw new _n(400,"");no=p.get(VE);const g=p.get(RE,null);g&&g.forEach(v=>v())}(Wi.create({providers:z,name:b}))}return function ix(p){const g=WE();if(!g)throw new _n(401,"");return g}()}}function WE(){return no&&!no.destroyed?no:null}let VE=(()=>{class p{constructor(v){this._injector=v,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(v,b){const z=function ox(p,g){let v;return v="noop"===p?new qw:("zone.js"===p?void 0:p)||new ci({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==g?void 0:g.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==g?void 0:g.ngZoneRunCoalescing)}),v}(b?b.ngZone:void 0,{ngZoneEventCoalescing:b&&b.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:b&&b.ngZoneRunCoalescing||!1}),fe=[{provide:ci,useValue:z}];return z.run(()=>{const De=Wi.create({providers:fe,parent:this.injector,name:v.moduleType.name}),Ie=v.create(De),We=Ie.injector.get(Ru,null);if(!We)throw new _n(402,"");return z.runOutsideAngular(()=>{const st=z.onError.subscribe({next:yt=>{We.handleError(yt)}});Ie.onDestroy(()=>{P0(this._modules,Ie),st.unsubscribe()})}),function ax(p,g,v){try{const b=v();return Zf(b)?b.catch(C=>{throw g.runOutsideAngular(()=>p.handleError(C)),C}):b}catch(b){throw g.runOutsideAngular(()=>p.handleError(b)),b}}(We,z,()=>{const st=Ie.injector.get(_0);return st.runInitializers(),st.donePromise.then(()=>(function wS(p){jr(p,"Expected localeId to be defined"),"string"==typeof p&&(D1=p.toLowerCase().replace(/_/g,"-"))}(Ie.injector.get(aa,Td)||Td),this._moduleDoBootstrap(Ie),Ie))})})}bootstrapModule(v,b=[]){const C=ZE({},b);return function nx(p,g,v){const b=new n0(v);return Promise.resolve(b)}(0,0,v).then(O=>this.bootstrapModuleFactory(O,C))}_moduleDoBootstrap(v){const b=v.injector.get(O0);if(v._bootstrapComponents.length>0)v._bootstrapComponents.forEach(C=>b.bootstrap(C));else{if(!v.instance.ngDoBootstrap)throw new _n(403,"");v.instance.ngDoBootstrap(b)}this._modules.push(v)}onDestroy(v){this._destroyListeners.push(v)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _n(404,"");this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v()),this._destroyed=!0}get destroyed(){return this._destroyed}}return p.\u0275fac=function(v){return new(v||p)(Kr(Wi))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();function ZE(p,g){return Array.isArray(g)?g.reduce(ZE,p):Object.assign(Object.assign({},p),g)}let O0=(()=>{class p{constructor(v,b,C,O,w){this._zone=v,this._injector=b,this._exceptionHandler=C,this._componentFactoryResolver=O,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const z=new ue(De=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{De.next(this._stable),De.complete()})}),fe=new ue(De=>{let Ie;this._zone.runOutsideAngular(()=>{Ie=this._zone.onStable.subscribe(()=>{ci.assertNotInAngularZone(),E0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,De.next(!0))})})});const We=this._zone.onUnstable.subscribe(()=>{ci.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{De.next(!1)}))});return()=>{Ie.unsubscribe(),We.unsubscribe()}});this.isStable=Pr(z,fe.pipe(function ds(p={}){const{connector:g=(()=>new ge),resetOnError:v=!0,resetOnComplete:b=!0,resetOnRefCountZero:C=!0}=p;return O=>{let w=null,z=null,fe=null,De=0,Ie=!1,We=!1;const st=()=>{null==z||z.unsubscribe(),z=null},yt=()=>{st(),w=fe=null,Ie=We=!1},jt=()=>{const tn=w;yt(),null==tn||tn.unsubscribe()};return Ge((tn,un)=>{De++,!We&&!Ie&&st();const hn=fe=null!=fe?fe:g();un.add(()=>{De--,0===De&&!We&&!Ie&&(z=Le(jt,C))}),hn.subscribe(un),w||(w=new he({next:qt=>hn.next(qt),error:qt=>{We=!0,st(),z=Le(yt,v,qt),hn.error(qt)},complete:()=>{Ie=!0,st(),z=Le(yt,b),hn.complete()}}),Ms(tn).subscribe(w))})(O)}}()))}bootstrap(v,b){if(!this._initStatus.done)throw new _n(405,"");let C;C=v instanceof J1?v:this._componentFactoryResolver.resolveComponentFactory(v),this.componentTypes.push(C.componentType);const O=function rx(p){return p.isBoundToModule}(C)?void 0:this._injector.get($l),z=C.create(Wi.NULL,[],b||C.selector,O),fe=z.location.nativeElement,De=z.injector.get(C0,null),Ie=De&&z.injector.get(FE);return De&&Ie&&Ie.registerApplication(fe,De),z.onDestroy(()=>{this.detachView(z.hostView),P0(this.components,z),Ie&&Ie.unregisterApplication(fe)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new _n(101,"");try{this._runningTick=!0;for(let v of this._views)v.detectChanges()}catch(v){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(v))}finally{this._runningTick=!1}}attachView(v){const b=v;this._views.push(b),b.attachToAppRef(this)}detachView(v){const b=v;P0(this._views,b),b.detachFromAppRef()}_loadComponent(v){this.attachView(v.hostView),this.tick(),this.components.push(v),this._injector.get(Zw,[]).concat(this._bootstrapListeners).forEach(C=>C(v))}ngOnDestroy(){this._views.slice().forEach(v=>v.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return p.\u0275fac=function(v){return new(v||p)(Kr(ci),Kr(Wi),Kr(Ru),Kr(Ad),Kr(_0))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function P0(p,g){const v=p.indexOf(g);v>-1&&p.splice(v,1)}let KE=!0;const Ox=BE(null,"core",[{provide:Xu,useValue:"unknown"},{provide:VE,deps:[Wi]},{provide:FE,deps:[]},{provide:$w,deps:[]}]);let Px=(()=>{class p{constructor(v){}}return p.\u0275fac=function(v){return new(v||p)(Kr(O0))},p.\u0275mod=Xo({type:p}),p.\u0275inj=ts({}),p})(),Vd=null;function ec(){return Vd}const Eo=new Hr("DocumentToken");let HA=(()=>{class p{}return p.\u0275fac=function(v){return new(v||p)},p.\u0275mod=Xo({type:p}),p.\u0275inj=ts({}),p})();const mb="browser";function yb(p){return p===mb}class K0 extends class e3 extends class Ix{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Sx(p){Vd||(Vd=p)}(new K0)}onAndCancel(g,v,b){return g.addEventListener(v,b,!1),()=>{g.removeEventListener(v,b,!1)}}dispatchEvent(g,v){g.dispatchEvent(v)}remove(g){g.parentNode&&g.parentNode.removeChild(g)}createElement(g,v){return(v=v||this.getDefaultDocument()).createElement(g)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(g){return g.nodeType===Node.ELEMENT_NODE}isShadowRoot(g){return g instanceof DocumentFragment}getGlobalEventTarget(g,v){return"window"===v?window:"document"===v?g:"body"===v?g.body:null}getBaseHref(g){const v=function t3(){return rc=rc||document.querySelector("base"),rc?rc.getAttribute("href"):null}();return null==v?null:function n3(p){Qd=Qd||document.createElement("a"),Qd.setAttribute("href",p);const g=Qd.pathname;return"/"===g.charAt(0)?g:`/${g}`}(v)}resetBaseElement(){rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(g){return function mA(p,g){g=encodeURIComponent(g);for(const v of p.split(";")){const b=v.indexOf("="),[C,O]=-1==b?[v,""]:[v.slice(0,b),v.slice(b+1)];if(C.trim()===g)return decodeURIComponent(O)}return null}(document.cookie,g)}}let Qd,rc=null;const _b=new Hr("TRANSITION_ID"),s3=[{provide:g0,useFactory:function r3(p,g,v){return()=>{v.get(_0).donePromise.then(()=>{const b=ec(),C=g.querySelectorAll(`style[ng-transition="${p}"]`);for(let O=0;O<C.length;O++)b.remove(C[O])})}},deps:[_b,Eo,Wi],multi:!0}];class z0{static init(){!function tx(p){D0=p}(new z0)}addToWindow(g){gn.getAngularTestability=(b,C=!0)=>{const O=g.findTestabilityInTree(b,C);if(null==O)throw new Error("Could not find testability for element.");return O},gn.getAllAngularTestabilities=()=>g.getAllTestabilities(),gn.getAllAngularRootElements=()=>g.getAllRootElements(),gn.frameworkStabilizers||(gn.frameworkStabilizers=[]),gn.frameworkStabilizers.push(b=>{const C=gn.getAllAngularTestabilities();let O=C.length,w=!1;const z=function(fe){w=w||fe,O--,0==O&&b(w)};C.forEach(function(fe){fe.whenStable(z)})})}findTestabilityInTree(g,v,b){if(null==v)return null;const C=g.getTestability(v);return null!=C?C:b?ec().isShadowRoot(v)?this.findTestabilityInTree(g,v.host,!0):this.findTestabilityInTree(g,v.parentElement,!0):null}}let i3=(()=>{class p{build(){return new XMLHttpRequest}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();const Xd=new Hr("EventManagerPlugins");let qd=(()=>{class p{constructor(v,b){this._zone=b,this._eventNameToPlugin=new Map,v.forEach(C=>C.manager=this),this._plugins=v.slice().reverse()}addEventListener(v,b,C){return this._findPluginFor(b).addEventListener(v,b,C)}addGlobalEventListener(v,b,C){return this._findPluginFor(b).addGlobalEventListener(v,b,C)}getZone(){return this._zone}_findPluginFor(v){const b=this._eventNameToPlugin.get(v);if(b)return b;const C=this._plugins;for(let O=0;O<C.length;O++){const w=C[O];if(w.supports(v))return this._eventNameToPlugin.set(v,w),w}throw new Error(`No event manager plugin found for event ${v}`)}}return p.\u0275fac=function(v){return new(v||p)(Kr(Xd),Kr(ci))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();class vb{constructor(g){this._doc=g}addGlobalEventListener(g,v,b){const C=ec().getGlobalEventTarget(this._doc,g);if(!C)throw new Error(`Unsupported event target ${C} for event ${v}`);return this.addEventListener(C,v,b)}}let Eb=(()=>{class p{constructor(){this._stylesSet=new Set}addStyles(v){const b=new Set;v.forEach(C=>{this._stylesSet.has(C)||(this._stylesSet.add(C),b.add(C))}),this.onStylesAdded(b)}onStylesAdded(v){}getAllStyles(){return Array.from(this._stylesSet)}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})(),sc=(()=>{class p extends Eb{constructor(v){super(),this._doc=v,this._hostNodes=new Map,this._hostNodes.set(v.head,[])}_addStylesToHost(v,b,C){v.forEach(O=>{const w=this._doc.createElement("style");w.textContent=O,C.push(b.appendChild(w))})}addHost(v){const b=[];this._addStylesToHost(this._stylesSet,v,b),this._hostNodes.set(v,b)}removeHost(v){const b=this._hostNodes.get(v);b&&b.forEach(bb),this._hostNodes.delete(v)}onStylesAdded(v){this._hostNodes.forEach((b,C)=>{this._addStylesToHost(v,C,b)})}ngOnDestroy(){this._hostNodes.forEach(v=>v.forEach(bb))}}return p.\u0275fac=function(v){return new(v||p)(Kr(Eo))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();function bb(p){ec().remove(p)}const G0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k0=/%COMP%/g;function eh(p,g,v){for(let b=0;b<g.length;b++){let C=g[b];Array.isArray(C)?eh(p,C,v):(C=C.replace(k0,p),v.push(C))}return v}function Db(p){return g=>{if("__ngUnwrap__"===g)return p;!1===p(g)&&(g.preventDefault(),g.returnValue=!1)}}let H0=(()=>{class p{constructor(v,b,C){this.eventManager=v,this.sharedStylesHost=b,this.appId=C,this.rendererByCompId=new Map,this.defaultRenderer=new J0(v)}createRenderer(v,b){if(!v||!b)return this.defaultRenderer;switch(b.encapsulation){case Be.Emulated:{let C=this.rendererByCompId.get(b.id);return C||(C=new d3(this.eventManager,this.sharedStylesHost,b,this.appId),this.rendererByCompId.set(b.id,C)),C.applyToHost(v),C}case 1:case Be.ShadowDom:return new h3(this.eventManager,this.sharedStylesHost,v,b);default:if(!this.rendererByCompId.has(b.id)){const C=eh(b.id,b.styles,[]);this.sharedStylesHost.addStyles(C),this.rendererByCompId.set(b.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return p.\u0275fac=function(v){return new(v||p)(Kr(qd),Kr(sc),Kr(Qu))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();class J0{constructor(g){this.eventManager=g,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(g,v){return v?document.createElementNS(G0[v]||v,g):document.createElement(g)}createComment(g){return document.createComment(g)}createText(g){return document.createTextNode(g)}appendChild(g,v){g.appendChild(v)}insertBefore(g,v,b){g&&g.insertBefore(v,b)}removeChild(g,v){g&&g.removeChild(v)}selectRootElement(g,v){let b="string"==typeof g?document.querySelector(g):g;if(!b)throw new Error(`The selector "${g}" did not match any elements`);return v||(b.textContent=""),b}parentNode(g){return g.parentNode}nextSibling(g){return g.nextSibling}setAttribute(g,v,b,C){if(C){v=C+":"+v;const O=G0[C];O?g.setAttributeNS(O,v,b):g.setAttribute(v,b)}else g.setAttribute(v,b)}removeAttribute(g,v,b){if(b){const C=G0[b];C?g.removeAttributeNS(C,v):g.removeAttribute(`${b}:${v}`)}else g.removeAttribute(v)}addClass(g,v){g.classList.add(v)}removeClass(g,v){g.classList.remove(v)}setStyle(g,v,b,C){C&(xi.DashCase|xi.Important)?g.style.setProperty(v,b,C&xi.Important?"important":""):g.style[v]=b}removeStyle(g,v,b){b&xi.DashCase?g.style.removeProperty(v):g.style[v]=""}setProperty(g,v,b){g[v]=b}setValue(g,v){g.nodeValue=v}listen(g,v,b){return"string"==typeof g?this.eventManager.addGlobalEventListener(g,v,Db(b)):this.eventManager.addEventListener(g,v,Db(b))}}class d3 extends J0{constructor(g,v,b,C){super(g),this.component=b;const O=eh(C+"-"+b.id,b.styles,[]);v.addStyles(O),this.contentAttr=function l3(p){return"_ngcontent-%COMP%".replace(k0,p)}(C+"-"+b.id),this.hostAttr=function u3(p){return"_nghost-%COMP%".replace(k0,p)}(C+"-"+b.id)}applyToHost(g){super.setAttribute(g,this.hostAttr,"")}createElement(g,v){const b=super.createElement(g,v);return super.setAttribute(b,this.contentAttr,""),b}}class h3 extends J0{constructor(g,v,b,C){super(g),this.sharedStylesHost=v,this.hostEl=b,this.shadowRoot=b.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const O=eh(C.id,C.styles,[]);for(let w=0;w<O.length;w++){const z=document.createElement("style");z.textContent=O[w],this.shadowRoot.appendChild(z)}}nodeOrShadowRoot(g){return g===this.hostEl?this.shadowRoot:g}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(g,v){return super.appendChild(this.nodeOrShadowRoot(g),v)}insertBefore(g,v,b){return super.insertBefore(this.nodeOrShadowRoot(g),v,b)}removeChild(g,v){return super.removeChild(this.nodeOrShadowRoot(g),v)}parentNode(g){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(g)))}}let p3=(()=>{class p extends vb{constructor(v){super(v)}supports(v){return!0}addEventListener(v,b,C){return v.addEventListener(b,C,!1),()=>this.removeEventListener(v,b,C)}removeEventListener(v,b,C){return v.removeEventListener(b,C)}}return p.\u0275fac=function(v){return new(v||p)(Kr(Eo))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();const Pb=["alt","control","meta","shift"],m3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tb={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},y3={alt:p=>p.altKey,control:p=>p.ctrlKey,meta:p=>p.metaKey,shift:p=>p.shiftKey};let g3=(()=>{class p extends vb{constructor(v){super(v)}supports(v){return null!=p.parseEventName(v)}addEventListener(v,b,C){const O=p.parseEventName(b),w=p.eventCallback(O.fullKey,C,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ec().onAndCancel(v,O.domEventName,w))}static parseEventName(v){const b=v.toLowerCase().split("."),C=b.shift();if(0===b.length||"keydown"!==C&&"keyup"!==C)return null;const O=p._normalizeKey(b.pop());let w="";if(Pb.forEach(fe=>{const De=b.indexOf(fe);De>-1&&(b.splice(De,1),w+=fe+".")}),w+=O,0!=b.length||0===O.length)return null;const z={};return z.domEventName=C,z.fullKey=w,z}static getEventFullKey(v){let b="",C=function _3(p){let g=p.key;if(null==g){if(g=p.keyIdentifier,null==g)return"Unidentified";g.startsWith("U+")&&(g=String.fromCharCode(parseInt(g.substring(2),16)),3===p.location&&Tb.hasOwnProperty(g)&&(g=Tb[g]))}return m3[g]||g}(v);return C=C.toLowerCase()," "===C?C="space":"."===C&&(C="dot"),Pb.forEach(O=>{O!=C&&y3[O](v)&&(b+=O+".")}),b+=C,b}static eventCallback(v,b,C){return O=>{p.getEventFullKey(O)===v&&C.runGuarded(()=>b(O))}}static _normalizeKey(v){return"esc"===v?"escape":v}}return p.\u0275fac=function(v){return new(v||p)(Kr(Eo))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();const M3=BE(Ox,"browser",[{provide:Xu,useValue:mb},{provide:RE,useValue:function v3(){K0.makeCurrent(),z0.init()},multi:!0},{provide:Eo,useFactory:function b3(){return function Vc(p){ol=p}(document),document},deps:[]}]),C3=[{provide:Of,useValue:"root"},{provide:Ru,useFactory:function E3(){return new Ru},deps:[]},{provide:Xd,useClass:p3,multi:!0,deps:[Eo,ci,Xu]},{provide:Xd,useClass:g3,multi:!0,deps:[Eo]},{provide:H0,useClass:H0,deps:[qd,sc,Qu]},{provide:Q1,useExisting:H0},{provide:Eb,useExisting:sc},{provide:sc,useClass:sc,deps:[Eo]},{provide:C0,useClass:C0,deps:[ci]},{provide:qd,useClass:qd,deps:[Xd,ci]},{provide:class qA{},useClass:i3,deps:[]}];let D3=(()=>{class p{constructor(v){if(v)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(v){return{ngModule:p,providers:[{provide:Qu,useValue:v.appId},{provide:_b,useExisting:Qu},s3]}}}return p.\u0275fac=function(v){return new(v||p)(Kr(p,12))},p.\u0275mod=Xo({type:p}),p.\u0275inj=ts({providers:C3,imports:[HA,Px]}),p})();"undefined"!=typeof window&&window;var em,Re=E(17626),Q0=E(73386),dr=E(15861),Gl=E(91558),Ls=E(48701),j3=E(89726),U3=E(94573),er=E(26584),th=E(86810),X0=E(58817),q0=E(47996),F3=E(47877),Rs=E(63290),Fr=E(10699),ke=E(77712),nh=E(90912),zn=E(76898),N3=E(99433),B3=E(85931),Wo=E(8314),W3=(E(82255),E(55342));let rh=em=class extends th.wq{constructor(p){super(p),this.type="none"}clone(){return new em({type:this.type})}};(0,Re._)([(0,W3.J)({none:"none",stayAbove:"stay-above"})],rh.prototype,"type",void 0),rh=em=(0,Re._)([(0,zn.j)("esri.ground.NavigationConstraint")],rh);var tm,wb=E(92236);const xb=Rs.Z.getLogger("esri.Ground");let Vo=tm=class extends((0,th.eC)(q0.Z)){constructor(p){super(p),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Ls.Z;const g=b=>{b.parent&&b.parent!==this&&"remove"in b.parent&&b.parent.remove(b),b.parent=this,"elevation"!==b.type&&"base-elevation"!==b.type&&xb.error(`Layer '${b.title}, id:${b.id}' of type '${b.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",b=>g(b.item)),this.layers.on("after-remove",b=>(b=>{b.parent=null})(b.item))}initialize(){this.when().catch(p=>{xb.error("#load()","Failed to load ground",p)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const p=this.layers.removeAll();for(const g of p)g.destroy();this.layers.destroy()}normalizeCtorArgs(p){return p&&"resourceInfo"in p&&(this._set("resourceInfo",p.resourceInfo),delete(p=Pt({},p)).resourceInfo),p}set layers(p){this._set("layers",(0,j3.Z)(p,this._get("layers")))}writeLayers(p,g,v,b){const C=[];p&&(b=$n(Pt({},b),{layerContainerType:"ground"}),p.forEach(O=>{if("write"in O){const w={};(0,U3.sM)(O)().write(w,b)&&C.push(w)}else b&&b.messages&&b.messages.push(new er.Z("layer:unsupported",`Layers (${O.title}, ${O.id}) of type '${O.declaredClass}' cannot be persisted in the ground`,{layer:O}))})),g.layers=C}load(p){return this.addResolvingPromise(this._loadFromSource(p)),Promise.resolve(this)}loadAll(){return(0,F3.G)(this,p=>{p(this.layers)})}queryElevation(p,g){var v=this;return(0,dr.Z)(function*(){yield v.load({signal:null==g?void 0:g.signal});const{ElevationQuery:b}=yield E.e(1991).then(E.bind(E,1991));(0,Fr.k_)(g);const C=new b,O=v.layers.filter(Ab).toArray();return C.queryAll(O,p,g)})()}createElevationSampler(p,g){var v=this;return(0,dr.Z)(function*(){yield v.load({signal:null==g?void 0:g.signal});const{ElevationQuery:b}=yield E.e(1991).then(E.bind(E,1991));(0,Fr.k_)(g);const C=new b,O=v.layers.filter(Ab).toArray();return C.createSamplerAll(O,p,g)})()}clone(){const p={opacity:this.opacity,surfaceColor:(0,X0.d9)(this.surfaceColor),navigationConstraint:(0,X0.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(p.loadStatus="loaded"),new tm({resourceInfo:this.resourceInfo}).set(p)}read(p,g){this.resourceInfo||this._set("resourceInfo",{data:p,context:g}),super.read(p,g)}_loadFromSource(p){const g=this.resourceInfo;return g?this._loadLayersFromJSON(g.data,g.context,p):Promise.resolve(null)}_loadLayersFromJSON(p,g,v){const b=g&&g.origin||"web-scene",C=g&&g.portal||null,O=g&&g.url||null;return Promise.all([E.e(8277),E.e(1074)]).then(E.bind(E,71074)).then(({populateOperationalLayers:w})=>{(0,Fr.k_)(v);const z=[];return p.layers&&Array.isArray(p.layers)&&z.push(w(this.layers,p.layers,{context:{origin:b,url:O,portal:C,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),(0,Fr.as)(z)}).then(()=>{})}};function Ab(p){return"elevation"===p.type||function V3(p){return p&&"createElevationSampler"in p}(p)}(0,Re._)([(0,ke.Cb)({json:{read:!1}})],Vo.prototype,"layers",null),(0,Re._)([(0,N3.c)("layers")],Vo.prototype,"writeLayers",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Vo.prototype,"resourceInfo",void 0),(0,Re._)([(0,ke.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:nh.z8,read:{reader:wb.b,source:"transparency"},write:{writer:(p,g)=>{g.transparency=(0,wb.a)(p)},target:"transparency"}}})],Vo.prototype,"opacity",void 0),(0,Re._)([(0,ke.Cb)({type:Gl.Z,json:{type:[nh.z8],write:(p,g)=>{g.surfaceColor=p.toJSON().slice(0,3)}}})],Vo.prototype,"surfaceColor",void 0),(0,Re._)([(0,ke.Cb)({type:rh,json:{write:!0}})],Vo.prototype,"navigationConstraint",void 0),Vo=tm=(0,Re._)([(0,zn.j)("esri.Ground")],Vo);const sh=Vo;var Br=E(14517),kl=E(46882),ih=E(61885),dn=E(62208),bo=E(66656);function Z3(p){var g;return!(!(p&&p.loaded&&"capabilities"in p&&null!=p&&null!=(g=p.capabilities)&&g.operations&&"supportsEditing"in p.capabilities.operations&&!0===p.capabilities.operations.supportsEditing)||"editingEnabled"in p&&!p.editingEnabled)}var Lb=E(59318),Rb=(E(21726),E(33954));const jb=Rs.Z.getLogger("esri.support.basemapUtils");const H3=Rs.Z.getLogger("esri.support.groundUtils"),Gb={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var Y3=E(6432),Q3=E(6119);let Mo=class extends((0,Q3.Q)((0,Y3.K)(ih.Z.EventedMixin(Br.Z)))){constructor(p){super(p),this.allLayers=new kl.Z({getCollections:()=>{var g,v,b;return[null==(g=this.basemap)?void 0:g.baseLayers,null==(v=this.ground)?void 0:v.layers,this.layers,null==(b=this.basemap)?void 0:b.referenceLayers]},getChildrenFunction:g=>"layers"in g?g.layers:null}),this.allTables=new kl.Z({getCollections:()=>[this.tables,this.layers],getChildrenFunction:g=>{const v=[];return"tables"in g&&v.push(g.tables),"layers"in g&&v.push(g.layers),v},itemFilterFunction:g=>{const v=g.parent;return v&&"tables"in v&&v.tables.includes(g)}}),this.basemap=null,this.editableLayers=new kl.Z({getCollections:()=>[this.allLayers],itemFilterFunction:Z3}),this.ground=new sh,this._basemapCache={}}destroy(){var p,g;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(p=this.ground)||p.destroy(),null==(g=this.basemap)||g.destroy(),function K3(p){for(const g in p){const v=p[g];!1===(null==v?void 0:v.destroyed)&&v.destroy(),delete p[g]}}(this._basemapCache),this._basemapCache=null}castBasemap(p){return function Ub(p,g){var v;let b;if("string"==typeof p){if(!(p in Rb.s)){const C=Object.entries(Rb.s).filter(([O,w])=>Lb.Z.apiKey&&!w.classic||!Lb.Z.apiKey&&w.classic&&!w.deprecated).map(([O])=>`"${O}"`).join(", ");return jb.warn(`Unable to find basemap definition for: ${p}. Try one of these: ${C}`),null}g&&(b=g[p]),b||(b=Q0.default.fromId(p),g&&(g[p]=b))}else b=(0,nh.se)(Q0.default,p);return null!=(v=b)&&v.destroyed&&(jb.warn("The provided basemap is already destroyed",{basemap:b}),b=null),b}(p,this._basemapCache)}castGround(p){const g=function J3(p){let g=null;return"string"==typeof p?p in Gb?g=new sh({resourceInfo:{data:{layers:[Gb[p]]}}}):H3.warn(`Unable to find ground definition for: ${p}. Try "world-elevation"`):g=(0,nh.se)(sh,p),g}(p);return(0,dn.Wi)(g)?this._get("ground"):g}findLayerById(p){return this.allLayers.find(g=>g.id===p)}findTableById(p){return this.allTables.find(g=>g.id===p)}};(0,Re._)([(0,ke.Cb)({readOnly:!0,dependsOn:[]})],Mo.prototype,"allLayers",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Mo.prototype,"allTables",void 0),(0,Re._)([(0,ke.Cb)({type:Q0.default})],Mo.prototype,"basemap",void 0),(0,Re._)([(0,bo.p)("basemap")],Mo.prototype,"castBasemap",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Mo.prototype,"editableLayers",void 0),(0,Re._)([(0,ke.Cb)({type:sh,nonNullable:!0})],Mo.prototype,"ground",void 0),(0,Re._)([(0,bo.p)("ground")],Mo.prototype,"castGround",null),Mo=(0,Re._)([(0,zn.j)("esri.Map")],Mo);const kb=Mo;var Hl=E(88879),Wa=E(76687),Hb=E(56354),gr=E(32917),bi=E(23841),X3=E(59289),oh=E(2004),Mi=E(49672),io=E(54614),Jb=E(37053),q3=E(2584),ah=E(35575),Co=E(72392);const lh={widthBreakpoint:{getValue(p){const g=p.viewSize[0],v=p.breakpoints,b=this.values;return g<=v.xsmall?b.xsmall:g<=v.small?b.small:g<=v.medium?b.medium:g<=v.large?b.large:b.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(p){const g=p.viewSize[1],v=p.breakpoints,b=this.values;return g<=v.xsmall?b.xsmall:g<=v.small?b.small:g<=v.medium?b.medium:g<=v.large?b.large:b.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(p){const g=p.viewSize,C=this.values;return g[1]>=g[0]?C.portrait:C.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},sm={xsmall:544,small:768,medium:992,large:1200};function im(p,g){return g?lh[p].valueToClassName[g].split(" "):[]}const tL=p=>{let g=class extends p{constructor(...v){super(...v),this._breakpointsHandles=new Co.Z,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=sm}initialize(){this._breakpointsHandles.add((0,gr.YP)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),gr.nn))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=(0,dn.SC)(this._breakpointsHandles))}set breakpoints(v){if(v===this._get("breakpoints"))return;const b=function eL(p){return p&&p.xsmall<p.small&&p.small<p.medium&&p.medium<p.large}(v);if(!b){const C=JSON.stringify(sm,null,2);console.warn("provided breakpoints are not valid, using defaults:"+C)}this._set("breakpoints",Pt({},v=b?v:sm))}_updateClassNames(){if(!this.container)return;const v=ah.Z.acquire(),b=ah.Z.acquire();let C,O=!1;for(C in lh){const w=this[C],z=lh[C].getValue({viewSize:this.size,breakpoints:this.breakpoints});w!==z&&(O=!0,this[C]=z,im(C,w).forEach(fe=>b.push(fe)),im(C,z).forEach(fe=>v.push(fe)))}O&&(this._applyClassNameChanges(v,b),ah.Z.release(v),ah.Z.release(b))}_applyClassNameChanges(v,b){const C=this.container;C&&(b.forEach(O=>C.classList.remove(O)),v.forEach(O=>C.classList.add(O)))}_removeActiveClassNames(){const v=this.container;if(!v)return;let b;for(b in lh)im(b,this[b]).forEach(C=>v.classList.remove(C))}};return(0,Re._)([(0,ke.Cb)()],g.prototype,"breakpoints",null),(0,Re._)([(0,ke.Cb)()],g.prototype,"orientation",void 0),(0,Re._)([(0,ke.Cb)()],g.prototype,"widthBreakpoint",void 0),(0,Re._)([(0,ke.Cb)()],g.prototype,"heightBreakpoint",void 0),g=(0,Re._)([(0,zn.j)("esri.views.BreakpointsOwner")],g),g};var ua=E(40764),Va=E(50618),Yb=(E(50645),E(62996)),Qb=E(70257);let ca=class extends Br.Z{constructor(){super(...arguments),this.items=new Ls.Z,this._watchUpdatingTracking=new Qb.t,this._callbacks=new Map,this._projector=(0,Yb.E)(),this._hiddenProjector=(0,Yb.E)()}get needsRender(){return this.items.length>0}initialize(){const p=document.createElement("div");p.className="esri-overlay-surface",this._set("surface",p),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),p.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,g=>{for(const v of g.added){const b=()=>v.render();this._callbacks.set(v,b),this._projector.append(this.surface,b)}for(const v of g.removed){const b=this._projector.detach(this._callbacks.get(v));this.surface.removeChild(b.domNode),this._callbacks.delete(v)}})}addItem(p){this.items.add(p)}removeItem(p){this.items.remove(p)}destroy(){this.items.removeAll(),this._callbacks.forEach(p=>this._projector.detach(p)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(p){const g=this._hiddenSurface,v=this._hiddenProjector;let b=null;const C=()=>(b=p.render(),b);v.append(g,C),v.renderNow();const O={left:0,top:0,right:0,bottom:0};if(b&&b.domNode){const w=b.domNode.getBoundingClientRect();O.left=w.left,O.top=w.top,O.right=w.right,O.bottom=w.bottom}for(v.detach(C);g.firstChild;)g.removeChild(g.firstChild);return O}overlaps(p,g){const v=this.computeBoundingRect(p),b=this.computeBoundingRect(g);return Math.max(v.left,b.left)<=Math.min(v.right,b.right)&&Math.max(v.top,b.top)<=Math.min(v.bottom,b.bottom)}get hasVisibleItems(){return this.items.some(p=>p.visible)}renderCanvas(p){if(!this.items.some(v=>v.visible))return;const g=p.getContext("2d");g.save(),g.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(v=>{g.save(),v.renderCanvas(g),g.restore()}),g.restore()}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],ca.prototype,"surface",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ca.prototype,"items",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ca.prototype,"needsRender",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ca.prototype,"_watchUpdatingTracking",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],ca.prototype,"updating",void 0),ca=(0,Re._)([(0,zn.j)("esri.views.overlay.ViewOverlay")],ca);const Xb=ca;E(52515);var Jl=E(17770),om=E(7074),Yn=E(27e3),rr=E(83960),di=E(6785),qb=E(27306),ic=E(21286),Yl=E(77275),am=(E(16730),E(15348));const eM=["B","kB","MB","GB","TB"];var Za=E(80542),sL=E(87183),tM=E(67736),uh=E(88411),nM=E(36630),iL=E(66845),rM=E(46679);const sM=Rs.Z.getLogger("esri.widgets.Feature.support.featureUtils"),aL=/href=(""|'')/gi,lL=/(\{([^\{\r\n]+)\})/g,uL=/\'/g,iM=/^\s*expression\//i,cL=/(\n)/gi,dL=/[\u00A0-\u9999<>\&]/gim,hL=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,pL=/^(?:mailto:|tel:)/,oM="relationships/",lm=(0,uh.Ze)("short-date-short-time");function aM(p){if(!(0,dn.Wi)(p))return p.get("sourceLayer")||p.get("layer")}function ch(p,g){return um.apply(this,arguments)}function um(){return(um=(0,dr.Z)(function*(p,g){return"function"==typeof p?p.call(null,g):p})).apply(this,arguments)}function lM(p=""){if(p)return!pL.test(p.trim().toLowerCase())}function uM(p){return!!p&&iM.test(p)}function cM(p,g){const v=function fL(p,g){if(!uM(g)||!p)return null;const v=g.replace(iM,"").toLowerCase();let b;return p.some(C=>C.name.toLowerCase()===v&&(b=C,!0)),b}(g,null==p?void 0:p.fieldName);return v?v.title||null:p?p.label||p.fieldName:null}function dh(p,g){const v=cm(g,p);return v?v.name:p}function cm(p,g){return p&&"function"==typeof p.getField?p.getField(g):null}function dM(p){return`${p}`.trim()}function $a({attributes:p,globalAttributes:g,layer:v,text:b,expressionAttributes:C,fieldInfoMap:O}){return b?dm({formattedAttributes:g,template:bL(b,Pt(Pt(Pt({},g),C),p),v),fieldInfoMap:O}):""}function dm({formattedAttributes:p,template:g,fieldInfoMap:v}){return dM(function yL(p){return p.replace(aL,"")}((0,Yl.gx)((0,Yl.gx)(g,b=>function mL(p,g){const v=g.get(p.toLowerCase());return`{${v&&v.fieldName||p}}`}(b,v)),p)))}function hm(p,g){return p.replace(lL,(v,b,C)=>{const O=cm(g,C);return O?`{${O.name}}`:b})}function bL(p,g,v){const b=hm(p,v);return b&&b.replace(hL,(C,O,w)=>function EL(p,g,v){const b=(g=dM(g))&&"{"!==g[0];return(0,Yl.gx)(p,function vL(p,g=!1){const v=Pt({},p);return Object.keys(v).forEach(b=>function _L(p,g,v=!1){const b=g[p];if("string"==typeof b){const C="%27",O=(v?encodeURIComponent(b):b).replace(uL,C);g[p]=O}}(b,v,g)),v}(v,b))}(C,O||w,g))}function hM(p,g){const b=g.fieldName,C=pM(g.fieldInfos,b),O=null==C?void 0:C.clone(),w=g.preventPlacesFormatting,z=g.layer,fe=cm(z,b);if(O&&"date"===(null==fe?void 0:fe.type)){const Ie=O.format||new iL.Z;Ie.dateFormat=Ie.dateFormat||"short-date-short-time",Ie.dateTimeFormatOptions=function CL(p){return"feature"===(null==p?void 0:p.type)}(z)&&z.datesInUnknownTimezone||function OL(p){return!(null==p||!p.layer)}(z)&&function DL(p){return"map-image"===(null==p?void 0:p.type)}(z.layer)&&z.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,O.format=Ie}const De=O&&O.format;return"string"==typeof(p=function ML(p,g){if("string"==typeof p&&g&&null==g.dateFormat&&(null!=g.places||null!=g.digitSeparator)){const v=Number(p);if(!isNaN(v))return v}return p}(p,De))||null==p||null==De?oc(p):w?(0,am.uf)(p,$n(Pt({},(0,am.sh)(De)),{minimumFractionDigits:0,maximumFractionDigits:20})):De.format(p)}function pM(p,g){if(!p||!p.length||!g)return;const v=g.toLowerCase();let b;return p.some(C=>!(!C.fieldName||C.fieldName.toLowerCase()!==v||(b=C,0))),b}function fM(p){const g=[];if(!p)return g;const{fieldInfos:v,content:b}=p;return v&&g.push(...v),b&&Array.isArray(b)&&b.forEach(C=>{if("fields"===C.type){const O=C&&C.fieldInfos;O&&g.push(...O)}}),g}function pm(p){return p.replace(dL,g=>`&#${g.charCodeAt(0)};`)}function oc(p){return"string"==typeof p?p.replace(cL,'<br class="esri-text-new-line" />'):p}function fm({fieldInfos:p,attributes:g,layer:v,graphic:b,fieldInfoMap:C,relatedInfos:O}){const w={};return null==O||O.forEach(z=>function jL(p,g){p&&g&&(g.relatedFeatures&&g.relatedFeatures&&g.relatedFeatures.forEach(v=>mM({attributes:p,graphic:v,relatedInfo:g})),g.relatedStatsFeatures&&g.relatedStatsFeatures&&g.relatedStatsFeatures.forEach(v=>mM({attributes:p,graphic:v,relatedInfo:g})))}(w,z)),Object.keys(g).forEach(z=>{w[z]=function wL(p){const{value:g,fieldName:v,fieldInfos:b,fieldInfoMap:C,layer:O,graphic:w}=p;if(null==g)return"";const z=function TL({fieldName:p,value:g,graphic:v,layer:b}){if(Zo(p)||!b||"function"!=typeof b.getFieldDomain)return null;const C=b.getFieldDomain(p,{feature:v});return C&&"coded-value"===C.type?C.getName(g):null}({fieldName:v,value:g,graphic:w,layer:O});if(z)return z;const fe=function PL({fieldName:p,graphic:g,layer:v}){if(Zo(p)||!v||"function"!=typeof v.getFeatureType)return null;const{typeIdField:b}=v;if(!b||p!==b)return null;const C=v.getFeatureType(g);return C?C.name:null}({fieldName:v,graphic:w,layer:O});if(fe)return fe;if(C.get(v.toLowerCase()))return hM(g,{fieldInfos:b,fieldName:v,layer:O});const De=O&&O.fieldsIndex;return De&&De.isDateField(v)?(0,uh.p6)(g,lm):oc(g)}({fieldName:z,fieldInfos:p,fieldInfoMap:C,layer:v,value:g[z],graphic:b})}),w}function xL(p,g){return mm.apply(this,arguments)}function mm(){return(mm=(0,dr.Z)(function*(p,g){var v,b;const{layer:C,graphic:O,outFields:w,objectIds:z,returnGeometry:fe,spatialReference:De}=p,Ie=z[0];if("number"!=typeof Ie&&"string"!=typeof Ie)return sM.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",{layer:C,graphic:O,objectId:Ie,requiredFields:w}),null;if(null==(v=C.capabilities)||null==(b=v.operations)||!b.supportsQuery)return sM.warn("The specified layer cannot be queried. The following fields will not be available.",{layer:C,graphic:O,requiredFields:w,returnGeometry:fe}),null;const We=C.createQuery();return We.objectIds=z,We.outFields=null!=w&&w.length?w:[C.objectIdField],We.returnGeometry=!!fe,We.returnZ=!!fe,We.returnM=!!fe,We.outSpatialReference=De,(yield C.queryFeatures(We,g)).features[0]})).apply(this,arguments)}function AL(p){return ym.apply(this,arguments)}function ym(){return(ym=(0,dr.Z)(function*(p){var g;if(null==(g=p.expressionInfos)||!g.length)return!1;const v=yield(0,rM.LC)(),{arcadeUtils:{hasGeometryFunctions:b}}=v;return b(p)})).apply(this,arguments)}function gm(){return(gm=(0,dr.Z)(function*({graphic:p,popupTemplate:g,layer:v,spatialReference:b},C){if(!v||!g||("function"==typeof v.load&&(yield v.load(C)),!p.attributes))return;const O=p.attributes[v.objectIdField];if(null==O)return;const w=[O],z=yield g.getRequiredFields(v.fieldsIndex),fe=(0,nM.R9)(z,p),De=fe?[]:z,Ie=g.returnGeometry||(yield AL(g));if(fe&&!Ie)return;const We=yield xL({layer:v,graphic:p,outFields:De,objectIds:w,returnGeometry:Ie,spatialReference:b},C);We&&(We.geometry&&(p.geometry=We.geometry),We.attributes&&(p.attributes=Pt(Pt({},p.attributes),We.attributes)))})).apply(this,arguments)}function Zo(p=""){return!!p&&-1!==p.indexOf(oM)}function mM({attributes:p,graphic:g,relatedInfo:v}){p&&g&&v&&Object.keys(g.attributes).forEach(b=>{const C=function RL(p){return p?`${oM}${p.layerId}/${p.fieldName}`:""}({layerId:v.relation.id.toString(),fieldName:b});p[C]=g.attributes[b]})}const yM=p=>{if(!p)return!1;const g=p.toUpperCase();return g.indexOf("CURRENT_TIMESTAMP")>-1||g.indexOf("CURRENT_DATE")>-1||g.indexOf("CURRENT_TIME")>-1},gM=({layer:p,method:g,query:v,definitionExpression:b})=>{var C,O;if(null==(C=p.capabilities)||null==(O=C.query)||!O.supportsCacheHint||"attachments"===g)return;const w=(0,dn.pC)(v.where)&&v.where,z=(0,dn.pC)(v.geometry)&&v.geometry;yM(b)||yM(w)||"extent"===(null==z?void 0:z.type)||"tile"===v.resultType||(v.cacheHint=!0)},_M={editing:!1,operations:{add:!0,update:!0,delete:!0}},vM=Ls.Z.ofType(sL.Z);let oo=class extends Za.r{constructor(p){super(p),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities=Pt({},_M),this.activeAttachmentInfo=null,this.attachmentInfos=new vM,this.graphic=null,this.mode="view",this.handles.add([(0,Yn.S1)(this,"graphic",()=>this._graphicChanged())])}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(p){return Pt(Pt({},_M),p)}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}getAttachments(){var p=this;return(0,dr.Z)(function*(){const{_attachmentLayer:g,attachmentInfos:v}=p;if(!g||"function"!=typeof g.queryAttachments)throw new er.Z("invalid-layer","getAttachments(): A valid layer is required.");const b=p._getFeatureId(),C=new tM.Z({objectIds:[b],returnMetadata:!0}),O=[],w=g.queryAttachments(C).then(fe=>fe[b]||O).catch(()=>O);p._getAttachmentsPromise=w,p.notifyChange("state");const z=yield w;return v.removeAll(),z.length&&v.addMany(z),p._getAttachmentsPromise=null,p.notifyChange("state"),z})()}addAttachment(p){var g=this;return(0,dr.Z)(function*(){const{_attachmentLayer:v,attachmentInfos:b,graphic:C,abilities:O}=g;if(!p)throw new er.Z("invalid-attachment","addAttachment(): An attachment is required.",{attachment:p});if(!O.operations.add)throw new er.Z("invalid-abilities","addAttachment(): add abilities are required.");if(!v||"function"!=typeof v.addAttachment)throw new er.Z("invalid-layer","addAttachment(): A valid layer is required.");const w=v.addAttachment(C,p).then(fe=>g._queryAttachment(fe.objectId)),z=yield w;return b.add(z),z})()}deleteAttachment(p){var g=this;return(0,dr.Z)(function*(){const{_attachmentLayer:v,attachmentInfos:b,graphic:C,abilities:O}=g;if(!p)throw new er.Z("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:p});if(!O.operations.delete)throw new er.Z("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!v||"function"!=typeof v.deleteAttachments)throw new er.Z("invalid-layer","deleteAttachment(): A valid layer is required.");const w=v.deleteAttachments(C,[p.id]).then(()=>p),z=yield w;return b.remove(z),z})()}updateAttachment(p,g=this.activeAttachmentInfo){var v=this;return(0,dr.Z)(function*(){const{_attachmentLayer:b,attachmentInfos:C,graphic:O,abilities:w}=v;if(!p)throw new er.Z("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:p});if(!g)throw new er.Z("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:g});if(!w.operations.update)throw new er.Z("invalid-abilities","updateAttachment(): Update abilities are required.");const z=C.findIndex(Ie=>Ie===g);if(!b||"function"!=typeof b.updateAttachment)throw new er.Z("invalid-layer","updateAttachment(): A valid layer is required.");const fe=b.updateAttachment(O,g.id,p).then(Ie=>v._queryAttachment(Ie.objectId)),De=yield fe;return C.splice(z,1,De),De})()}_queryAttachment(p){var g=this;return(0,dr.Z)(function*(){if(!p)throw new er.Z("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:v}=g,b=g._getFeatureId(),C=new tM.Z({objectIds:[b],attachmentsWhere:`AttachmentId=${p}`,returnMetadata:!0});return v.queryAttachments(C).then(O=>O[b][0])})()}_getFeatureId(){const{_attachmentLayer:p,graphic:g}=this;if(!p||!g)return null;const{objectIdField:v}=p,{attributes:b}=g;return b&&b[v]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:p}=this,g=aM(p);this._attachmentLayer=g?"scene"===g.type&&(0,dn.pC)(g.associatedLayer)?g.associatedLayer:g:null}};(0,Re._)([(0,ke.Cb)()],oo.prototype,"abilities",void 0),(0,Re._)([(0,bo.p)("abilities")],oo.prototype,"castAbilities",null),(0,Re._)([(0,ke.Cb)()],oo.prototype,"activeAttachmentInfo",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,type:vM})],oo.prototype,"attachmentInfos",void 0),(0,Re._)([(0,ke.Cb)({type:Hl.Z})],oo.prototype,"graphic",void 0),(0,Re._)([(0,ke.Cb)()],oo.prototype,"mode",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],oo.prototype,"state",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],oo.prototype,"supportsResizeAttachments",null),oo=(0,Re._)([(0,zn.j)("esri.widgets.Attachments.AttachmentsViewModel")],oo);const _m=oo;var BL=E(54346),hi=E(38570),Ci=E(25552),Xt=E(94450);const EM={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},vm=window.CSS;let Qs=class extends di.Z{constructor(p,g){super(p,g),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new _m,this.visibleElements=Pt({},EM),this._supportsImageOrientation=vm&&vm.supports&&vm.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own((0,Yn.on)(this,"viewModel.attachmentInfos","change",()=>this.scheduleRender()),(0,Yn.S1)(this,"viewModel.mode",()=>this._modeChanged()))}get effectiveDisplayType(){const{displayType:p}=this;return p&&"auto"!==p?p:this.viewModel.supportsResizeAttachments?"preview":"list"}castVisibleElements(p){return Pt(Pt({},EM),p)}addAttachment(){const{_addAttachmentForm:p,viewModel:g}=this;return this._set("submitting",!0),this._set("error",null),g.addAttachment(p).then(v=>(this._set("submitting",!1),this._set("error",null),g.mode="view",v)).catch(v=>{throw this._set("submitting",!1),this._set("error",new er.Z("attachments:add-attachment",this.messages.addErrorMessage,v)),v})}deleteAttachment(p){const{viewModel:g}=this;return this._set("submitting",!0),this._set("error",null),g.deleteAttachment(p).then(v=>(this._set("submitting",!1),this._set("error",null),g.mode="view",v)).catch(v=>{throw this._set("submitting",!1),this._set("error",new er.Z("attachments:delete-attachment",this.messages.deleteErrorMessage,v)),v})}updateAttachment(){const{viewModel:p}=this,{_updateAttachmentForm:g}=this;return this._set("submitting",!0),this._set("error",null),p.updateAttachment(g).then(v=>(this._set("submitting",!1),this._set("error",null),p.mode="view",v)).catch(v=>{throw this._set("submitting",!1),this._set("error",new er.Z("attachments:update-attachment",this.messages.updateErrorMessage,v)),v})}render(){const{submitting:p,viewModel:g}=this,{state:v}=g;return(0,Xt.u)("div",{class:this.classes("esri-attachments","esri-widget")},p?this.renderProgressBar():null,"loading"===v?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:p,visibleElements:g}=this;return p&&g.errorMessage?(0,Xt.u)("div",{key:"error-message",class:"esri-attachments__error-message"},p.message):null}renderAttachments(){const{mode:p,activeAttachmentInfo:g}=this.viewModel;return"add"===p?this.renderAddForm():"edit"===p?this.renderDetailsForm(g):this.renderAttachmentContainer()}renderLoading(){return(0,Xt.u)("div",{class:"esri-attachments__loader-container",key:"loader"},(0,Xt.u)("div",{class:"esri-attachments__loader"}))}renderProgressBar(){return this.visibleElements.progressBar?(0,Xt.u)("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null}renderAddForm(){const{submitting:p,selectedFile:g}=this,v=p||!g,b=this.visibleElements.cancelAddButton?(0,Xt.u)("button",{type:"button",bind:this,disabled:p,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--tertiary","esri-button--small","esri-button--half",p&&"esri-button--disabled")},this.messages.cancel):null,C=this.visibleElements.addSubmitButton?(0,Xt.u)("button",{type:"submit",disabled:v,class:this.classes("esri-button","esri-button--secondary","esri-button--small","esri-button--half",{"esri-button--disabled":v})},this.messages.add):null,O=g?(0,Xt.u)("span",{key:"file-name",class:"esri-attachments__file-name"},g.name):null,w=(0,Xt.u)("form",{bind:this,afterCreate:hi.Yo,afterRemoved:hi.pV,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,Xt.u)("fieldset",{class:"esri-attachments__file-fieldset"},O,(0,Xt.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},g?this.messages.changeFile:this.messages.selectFile,(0,Xt.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),C,b);return(0,Xt.u)("div",{key:"add-form-container",class:"esri-attachments__form-node"},w)}renderDetailsForm(p){const{visibleElements:g,viewModel:v,selectedFile:b,submitting:C}=this,{contentType:O,size:w,url:z}=p,{abilities:fe}=v,De=C||!b,Ie=fe.editing&&fe.operations.delete&&g.deleteButton?(0,Xt.u)("button",{key:"delete-button",type:"button",disabled:C,bind:this,onclick:qt=>this._submitDeleteAttachment(qt,p),class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-attachments__delete-button",{"esri-button--disabled":C})},this.messages.delete):null,We=fe.editing&&fe.operations.update&&g.updateButton?(0,Xt.u)("button",{disabled:De,key:"update-button",type:"submit",class:this.classes("esri-button","esri-button--small","esri-button--third",{"esri-button--disabled":De})},this.messages.update):null,st=this.visibleElements.cancelUpdateButton?(0,Xt.u)("button",{disabled:C,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-button--third",{"esri-button--disabled":C})},this.messages.cancel):null,yt=b?(0,Xt.u)("span",{key:"file-name",class:"esri-attachments__file-name"},b.name):null,jt=fe.editing&&fe.operations.update?(0,Xt.u)("fieldset",{key:"file",class:"esri-attachments__file-fieldset"},yt,(0,Xt.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},this.messages.changeFile,(0,Xt.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,tn=(0,Xt.u)("fieldset",{key:"size",class:"esri-attachments__metadata-fieldset"},(0,Xt.u)("label",null,function rL(p,g){let v=0===g?0:Math.floor(Math.log(g)/Math.log(qb.Y8.KILOBYTES));v=(0,ic.uZ)(v,0,eM.length-1);const b=(0,am.uf)(g/qb.Y8.KILOBYTES**v,{maximumFractionDigits:2});return(0,Yl.gx)(p.units.bytes[eM[v]],{fileSize:b})}(this.messagesUnits,w))),un=(0,Xt.u)("fieldset",{key:"content-type",class:"esri-attachments__metadata-fieldset"},(0,Xt.u)("label",null,O)),hn=(0,Xt.u)("form",{bind:this,afterCreate:hi.Yo,afterRemoved:hi.pV,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},(0,Xt.u)("div",{class:"esri-attachments__metadata"},tn,un),jt,(0,Xt.u)("div",{class:"esri-attachments__actions"},Ie,st,We));return(0,Xt.u)("div",{key:"edit-form-container",class:"esri-attachments__form-node"},(0,Xt.u)("a",{class:"esri-attachments__item-link",href:z,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:p,size:400}),(0,Xt.u)("div",{class:"esri-attachments__item-link-overlay"},(0,Xt.u)("span",{class:"esri-attachments__item-link-overlay-icon"},(0,Xt.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Xt.u)("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),(0,Xt.u)("path",{fill:"none",d:"M0 0h32v32H0z"}))))),hn)}renderImageMask({attachmentInfo:p,size:g}){const{supportsResizeAttachments:v}=this.viewModel,{contentType:b,name:C,url:O}=p,w=v&&function WL(p){const g=p.toLowerCase();return"image/bmp"===g||"image/emf"===g||"image/exif"===g||"image/gif"===g||"image/x-icon"===g||"image/jpeg"===g||"image/png"===g||"image/tiff"===g||"image/x-wmf"===g}(b),z=this._getCSSTransform(p,w),fe=z?{transform:z,"image-orientation":"none"}:{},De=-1===O.indexOf("?")?"?":"&",Ie=w?`${O}${De}w=${g}`:function VL(p){const g=(0,BL.V)("esri/themes/base/images/files/");return p?"text/plain"===p?`${g}text-32.svg`:"application/pdf"===p?`${g}pdf-32.svg`:"text/csv"===p?`${g}csv-32.svg`:"application/gpx+xml"===p?`${g}gpx-32.svg`:"application/x-dwf"===p?`${g}cad-32.svg`:"application/postscript"===p||"application/json"===p||"text/xml"===p||"model/vrml"===p?`${g}code-32.svg`:"application/x-zip-compressed"===p||"application/x-7z-compressed"===p||"application/x-gzip"===p||"application/x-tar"===p||"application/x-gtar"===p||"application/x-bzip2"===p||"application/gzip"===p||"application/x-compress"===p||"application/x-apple-diskimage"===p||"application/x-rar-compressed"===p||"application/zip"===p?`${g}zip-32.svg`:-1!==p.indexOf("image/")?`${g}image-32.svg`:-1!==p.indexOf("audio/")?`${g}sound-32.svg`:-1!==p.indexOf("video/")?`${g}video-32.svg`:-1!==p.indexOf("msexcel")||-1!==p.indexOf("ms-excel")||-1!==p.indexOf("spreadsheetml")?`${g}excel-32.svg`:-1!==p.indexOf("msword")||-1!==p.indexOf("ms-word")||-1!==p.indexOf("wordprocessingml")?`${g}word-32.svg`:-1!==p.indexOf("powerpoint")||-1!==p.indexOf("presentationml")?`${g}report-32.svg`:`${g}generic-32.svg`:`${g}generic-32.svg`}(b),st={"esri-attachments__image--resizable":v};return(0,Xt.u)("div",{class:this.classes({"esri-attachments__item-mask--icon":!w},"esri-attachments__item-mask")},(0,Xt.u)("img",{styles:fe,alt:C,src:Ie,class:this.classes(st,"esri-attachments__image")}))}renderAttachmentInfo({attachmentInfo:p,displayType:g}){const{viewModel:v}=this,{abilities:b}=v,{name:C,url:O}=p,w=this.renderImageMask({attachmentInfo:p,size:"list"===g?48:400}),z=b.editing?(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",(0,hi.dZ)(this.container)?"esri-icon-left":"esri-icon-right")}):null,fe=[w,(0,Xt.u)("label",{class:"esri-attachments__label"},(0,Xt.u)("span",{class:"esri-attachments__filename"},C||this.messages.noTitle),z)],De=b.editing?(0,Xt.u)("button",{key:"details-button",bind:this,class:"esri-attachments__item-button",title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":p.id,onclick:()=>this._startEditAttachment(p),type:"button"},fe):(0,Xt.u)("a",{key:"details-link",class:"esri-attachments__item-button",href:O,target:"_blank"},fe);return(0,Xt.u)("li",{class:"esri-attachments__item",key:p},De)}renderAttachmentContainer(){const{effectiveDisplayType:p,viewModel:g,visibleElements:v}=this,{attachmentInfos:b,abilities:C}=g,O=b&&b.length,w={"esri-attachments__container--list":"preview"!==p,"esri-attachments__container--preview":"preview"===p},z=C.editing&&C.operations.add&&v.addButton?(0,Xt.u)("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes("esri-button","esri-button--tertiary","esri-attachments__add-attachment-button"),type:"button"},(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null,fe=O?(0,Xt.u)("ul",{class:"esri-attachments__items"},b.toArray().map(De=>this.renderAttachmentInfo({attachmentInfo:De,displayType:p}))):(0,Xt.u)("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return(0,Xt.u)("div",{key:"attachments-container",class:this.classes("esri-attachments__container",w)},fe,z)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(p){const g=p.target,v=g&&g.files&&g.files.item(0);this._set("selectedFile",v)}_submitDeleteAttachment(p,g){p.preventDefault(),this.deleteAttachment(g)}_submitAddAttachment(p){p.preventDefault(),this.addAttachment()}_submitUpdateAttachment(p){p.preventDefault(),this.updateAttachment()}_startEditAttachment(p){const{viewModel:g}=this;g.activeAttachmentInfo=p,g.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(p){p.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(p,g){const{orientationInfo:v}=p;return!this._supportsImageOrientation&&g&&v?[v.rotation?`rotate(${v.rotation}deg)`:"",v.mirrored?"scaleX(-1)":""].join(" "):""}};(0,Re._)([(0,rr.B)("viewModel.abilities")],Qs.prototype,"abilities",void 0),(0,Re._)([(0,ke.Cb)()],Qs.prototype,"displayType",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Qs.prototype,"effectiveDisplayType",null),(0,Re._)([(0,rr.B)("viewModel.graphic")],Qs.prototype,"graphic",void 0),(0,Re._)([(0,ke.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Qs.prototype,"label",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/Attachments/t9n/Attachments")],Qs.prototype,"messages",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/core/t9n/Units")],Qs.prototype,"messagesUnits",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Qs.prototype,"selectedFile",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Qs.prototype,"submitting",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Qs.prototype,"error",void 0),(0,Re._)([(0,ke.Cb)({type:_m})],Qs.prototype,"viewModel",void 0),(0,Re._)([(0,ke.Cb)()],Qs.prototype,"visibleElements",void 0),(0,Re._)([(0,bo.p)("visibleElements")],Qs.prototype,"castVisibleElements",null),Qs=(0,Re._)([(0,zn.j)("esri.widgets.Attachments")],Qs);const ZL=Qs;let ac=class extends _m{constructor(p){super(p),this.description=null,this.title=null}};(0,Re._)([(0,ke.Cb)()],ac.prototype,"description",void 0),(0,Re._)([(0,ke.Cb)()],ac.prototype,"title",void 0),ac=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],ac);const Em=ac;function bm(p,g){const v=function bM(p){return(0,ic.uZ)(Math.ceil(p),1,6)}(p.level),b=`h${v}`;return delete p.level,(0,Xt.u)(b,$n(Pt({},p),{class:(0,hi.Sh)("esri-widget__heading",p.class),role:"heading","aria-level":String(v)}),g)}let Xl=class extends di.Z{constructor(p,g){super(p,g),this.description=null,this.headingLevel=2,this.title=null}render(){return(0,Xt.u)("div",{class:"esri-feature-element-info"},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:p}=this;return p?(0,Xt.u)(bm,{level:this.headingLevel,class:"esri-feature-element-info__title"},p):null}renderDescription(){const{description:p}=this;return p?(0,Xt.u)("div",{key:"description",class:"esri-feature-element-info__description"},p):null}};(0,Re._)([(0,ke.Cb)()],Xl.prototype,"description",void 0),(0,Re._)([(0,ke.Cb)()],Xl.prototype,"headingLevel",void 0),(0,Re._)([(0,ke.Cb)()],Xl.prototype,"title",void 0),Xl=(0,Re._)([(0,zn.j)("esri.widgets.Feature.support.FeatureElementInfo")],Xl);const Cm=Xl;let Do=class extends di.Z{constructor(p,g){super(p,g),this._featureElementInfo=null,this.attachmentsWidget=new ZL,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new Em}initialize(){this._featureElementInfo=new Cm,(0,Yn.S1)(this,["viewModel.description","viewModel.title","headingLevel"],()=>this._setupFeatureElementInfo()),(0,Yn.S1)(this,"viewModel.graphic",p=>this.attachmentsWidget.graphic=p)}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var p;const{attachmentsWidget:g}=this;return(0,Xt.u)("div",{class:"esri-feature-attachments"},null==(p=this._featureElementInfo)?void 0:p.render(),null==g?void 0:g.render())}_setupFeatureElementInfo(){const{description:p,title:g,headingLevel:v}=this;this._featureElementInfo.set({description:p,title:g,headingLevel:v})}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],Do.prototype,"attachmentsWidget",void 0),(0,Re._)([(0,rr.B)("viewModel.description")],Do.prototype,"description",void 0),(0,Re._)([(0,rr.B)("attachmentsWidget.displayType")],Do.prototype,"displayType",void 0),(0,Re._)([(0,rr.B)("viewModel.graphic")],Do.prototype,"graphic",void 0),(0,Re._)([(0,ke.Cb)()],Do.prototype,"headingLevel",void 0),(0,Re._)([(0,rr.B)("viewModel.title")],Do.prototype,"title",void 0),(0,Re._)([(0,ke.Cb)({type:Em})],Do.prototype,"viewModel",void 0),Do=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureAttachments")],Do);const zL=Do;let da=class extends((0,Za.p)(Br.Z)){constructor(p){super(p),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add((0,Yn.S1)(this,"creator",g=>{this._destroyContent(),this._createContent(g)}))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:p,graphic:g,destroyer:v}=this;p&&(ch(v,{graphic:g}).catch(()=>null),this._set("created",null))}_createContent(p){var g=this;return(0,dr.Z)(function*(){const{graphic:v}=g,b=ch(p,{graphic:v}).catch(()=>null);g._loadingPromise=b,g.notifyChange("state");const C=yield b;b===g._loadingPromise&&(g._loadingPromise=null,g.notifyChange("state"),g._set("created",C))})()}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],da.prototype,"created",void 0),(0,Re._)([(0,ke.Cb)()],da.prototype,"creator",void 0),(0,Re._)([(0,ke.Cb)()],da.prototype,"destroyer",void 0),(0,Re._)([(0,ke.Cb)({type:Hl.Z})],da.prototype,"graphic",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],da.prototype,"state",null),da=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],da);const hh=da;var Dm=E(40669);let ql=class extends di.Z{constructor(p,g){super(p,g),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=v=>{Array.from(v.querySelectorAll("a")).forEach(b=>{lM(b.href)&&!b.hasAttribute("target")&&b.setAttribute("target","_blank")})}}renderLoading(){return(0,Xt.u)("div",{class:"esri-feature-content__loader-container",key:"loader"},(0,Xt.u)("div",{class:"esri-feature-content__loader"}))}renderCreated(){var p;const g=null==(p=this.viewModel)?void 0:p.created;return g?g instanceof HTMLElement?(0,Xt.u)("div",{key:g,bind:g,afterCreate:this._attachToNode}):(0,Dm.Qd)(g)?(0,Xt.u)("div",{key:g},!g.destroyed&&g.render()):(0,Xt.u)("div",{key:g,innerHTML:g,afterCreate:this._addTargetToAnchors}):null}render(){var p;const g=null==(p=this.viewModel)?void 0:p.state;return(0,Xt.u)("div",{class:"esri-feature-content"},"loading"===g?this.renderLoading():this.renderCreated())}_attachToNode(p){p.appendChild(this)}};(0,Re._)([(0,rr.B)("viewModel.creator")],ql.prototype,"creator",void 0),(0,Re._)([(0,rr.B)("viewModel.graphic")],ql.prototype,"graphic",void 0),(0,Re._)([(0,ke.Cb)({type:hh})],ql.prototype,"viewModel",void 0),ql=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureContent")],ql);const ph=ql;var GL=E(38439),MM=E(25621);let $o=class extends Br.Z{constructor(p){super(p),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:p,fieldInfos:g}=this,v=[];return null==g||g.forEach(b=>{if(b.hasOwnProperty("visible")&&!b.visible)return;const C=b.clone();C.label=cM(C,p),v.push(C)}),v}};(0,Re._)([(0,ke.Cb)()],$o.prototype,"attributes",void 0),(0,Re._)([(0,ke.Cb)({type:[GL.Z]})],$o.prototype,"expressionInfos",void 0),(0,Re._)([(0,ke.Cb)()],$o.prototype,"description",void 0),(0,Re._)([(0,ke.Cb)({type:[MM.Z]})],$o.prototype,"fieldInfos",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],$o.prototype,"formattedFieldInfos",null),(0,Re._)([(0,ke.Cb)()],$o.prototype,"title",void 0),$o=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],$o);const fh=$o,kL=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];let ao=class extends di.Z{constructor(p,g){super(p,g),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new fh,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new Cm,(0,Yn.S1)(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo())}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(p,g){const{attributes:v}=this.viewModel,b=p.fieldName,C=p.label||b,O=v?null==v[b]?"":v[b]:"",w=!(!p.format||!p.format.dateFormat),z="number"!=typeof O||w?function JL(p,g){if("string"!=typeof g||!g)return g;const v=function HL(p){let g=null;return kL.some(v=>(v.pattern.test(p)&&(g=v),!!g)),g}(g);if(!v)return g;const b=g.match(v.pattern),O=(0,Yl.gx)((0,Yl.gx)(v.label,{messages:p,hierPart:b&&b[2]}),{appName:v.appName});return g.replace(v.pattern,`<a${v.target?` target="${v.target}"`:""} href="$1"${"_blank"===v.target?' rel="noreferrer"':""}>${O}</a>`)}(this.messagesURIUtils,O):this._forceLTR(O),fe={"esri-feature-fields__field-data--date":w};return(0,Xt.u)("tr",{key:`fields-element-info-row-${b}-${g}`},(0,Xt.u)("th",{key:`fields-element-info-row-header-${b}-${g}`,class:"esri-feature-fields__field-header",innerHTML:C}),(0,Xt.u)("td",{key:`fields-element-info-row-data-${b}-${g}`,class:this.classes("esri-feature-fields__field-data",fe),innerHTML:z}))}renderFields(){const{formattedFieldInfos:p}=this.viewModel;return null!=p&&p.length?(0,Xt.u)("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},(0,Xt.u)("tbody",null,p.map((g,v)=>this.renderFieldInfo(g,v)))):null}render(){var p;return(0,Xt.u)("div",{class:"esri-feature-fields"},null==(p=this._featureElementInfo)?void 0:p.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:p,title:g}=this;this._featureElementInfo.set({description:p,title:g})}_forceLTR(p){return`&lrm;${p}`}};(0,Re._)([(0,rr.B)("viewModel.attributes")],ao.prototype,"attributes",void 0),(0,Re._)([(0,rr.B)("viewModel.description")],ao.prototype,"description",void 0),(0,Re._)([(0,rr.B)("viewModel.expressionInfos")],ao.prototype,"expressionInfos",void 0),(0,Re._)([(0,rr.B)("viewModel.fieldInfos")],ao.prototype,"fieldInfos",void 0),(0,Re._)([(0,rr.B)("viewModel.title")],ao.prototype,"title",void 0),(0,Re._)([(0,ke.Cb)({type:fh})],ao.prototype,"viewModel",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/Feature/t9n/Feature")],ao.prototype,"messages",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/support/t9n/uriUtils")],ao.prototype,"messagesURIUtils",void 0),ao=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureFields")],ao);const CM=ao;var YL=E(77891),QL=E(84792),Pm=E(84952),XL=E(67010),qL=E(60776),eR=E(4728);const DM=Rs.Z.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),OM=new Map;function uc(p){if(!Zo(p))return null;const[g,v]=p.split("/").slice(1);return{layerId:g,fieldName:v}}function rR({originRelationship:p,relationships:g,layerId:v}){let b;return g&&g.some(C=>(`${C.relatedTableId}`===v&&C.id===p.id&&(b=C),!!b)),b}function sR(p,g){const v=g.toLowerCase();for(const b in p)if(b.toLowerCase()===v)return p[b];return null}function aR(p,g,v,b){const C=new XL.Z;return C.outFields=["*"],C.relationshipId="number"==typeof g.id?g.id:parseInt(g.id,10),C.objectIds=[p.attributes[v.objectIdField]],v.queryRelatedFeatures(C,b)}function lR(p,g,v){let b=0;const C=[];for(;b<g.length;)C.push(`${p} IN (${g.slice(b,v+b)})`),b+=v;return C.join(" OR ")}function Tm(){return(Tm=(0,dr.Z)(function*(p,g,v,b){const C=v.layerId.toString(),{layerInfo:O,queryTask:w,relation:z,relatedFields:fe,outStatistics:De}=g,Ie=rR({originRelationship:z,relationships:O.relationships,layerId:C});if(Ie.relationshipTableId&&Ie.keyFieldInRelationshipTable){const st=(yield aR(p,Ie,v,b))[p.attributes[v.objectIdField]];if(!st)return null;const yt=st.features.map(jt=>jt.attributes[O.objectIdField]);if((null==De?void 0:De.length)>0&&O.supportsStatistics){const jt=new Pm.Z;jt.where=lR(O.objectIdField,yt,1e3),jt.outFields=fe,jt.outStatistics=De;const tn={features:Promise.resolve(st),statsFeatures:w.execute(jt)};return(0,Fr.as)(tn)}}const We=null==Ie?void 0:Ie.keyField;if(We){const st=(0,nM.H7)(fR(O.fields,We)),yt=sR(p.attributes,z.keyField),jt=st?`${We}=${yt}`:`${We}='${yt}'`,tn=w.execute(new Pm.Z({where:jt,outFields:g.relatedFields}),b),un=g.outStatistics&&g.outStatistics.length>0&&O.supportsStatistics?w.execute(new Pm.Z({where:jt,outFields:g.relatedFields,outStatistics:g.outStatistics}),b):null,hn={features:tn};return un&&(hn.statsFeatures=un),(0,Fr.as)(hn)}return null})).apply(this,arguments)}function fR(p,g){if(null!=p){g=g.toLowerCase();for(const v of p)if(v&&v.name.toLowerCase()===g)return v}return null}const PM={chartAnimation:!0};let js=class extends Br.Z{constructor(p){super(p),this.abilities=Pt({},PM),this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(p){return Pt(Pt({},PM),p)}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(p){this._setContentElementMedia(p)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(p){const{formattedMediaInfoCount:g}=this;this.activeMediaInfoIndex=(p+g)%g}_pageContentElementMedia(p){const{activeMediaInfoIndex:g}=this;this._setContentElementMedia(g+p)}_formatMediaInfos(){const{attributes:p,mediaInfos:g,formattedAttributes:v,expressionAttributes:b,fieldInfoMap:C,layer:O}=this;return null==g?void 0:g.map(w=>{const z=null==w?void 0:w.clone();if(!z)return null;if(z.title=$a({attributes:p,fieldInfoMap:C,globalAttributes:v,expressionAttributes:b,layer:O,text:z.title}),z.caption=$a({attributes:p,fieldInfoMap:C,globalAttributes:v,expressionAttributes:b,layer:O,text:z.caption}),z.altText=$a({attributes:p,fieldInfoMap:C,globalAttributes:v,expressionAttributes:b,layer:O,text:z.altText}),"image"===z.type){const{value:fe}=z;return this._setImageValue({value:fe,formattedAttributes:v,layer:O}),z.value.sourceURL?z:void 0}if("pie-chart"===z.type||"line-chart"===z.type||"column-chart"===z.type||"bar-chart"===z.type){const{value:fe}=z;return this._setChartValue({value:fe,chartType:z.type,attributes:p,formattedAttributes:v,layer:O}),z}return null}).filter(Boolean)}_setImageValue(p){const{fieldInfoMap:g}=this,{value:v,formattedAttributes:b,layer:C}=p,{linkURL:O,sourceURL:w}=v;if(w){const z=hm(w,C);v.sourceURL=dm({formattedAttributes:b,template:z,fieldInfoMap:g})}if(O){const z=hm(O,C);v.linkURL=dm({formattedAttributes:b,template:z,fieldInfoMap:g})}}_setChartValue(p){const{value:g,attributes:v,formattedAttributes:b,chartType:C,layer:O}=p,{popupTemplate:w,relatedInfos:z}=this,{fields:fe,normalizeField:De}=g;if(g.fields=function gL(p,g){return p&&p.map(v=>dh(v,g))}(fe,O),De&&(g.normalizeField=dh(De,O)),!fe.some(We=>!!(null!=b[We]||Zo(We)&&z.size)))return;const Ie=null==w?void 0:w.fieldInfos;fe.forEach(We=>{if(Zo(We))return void(g.series=[...g.series,...this._getRelatedChartInfos({fieldInfos:Ie,fieldName:We,formattedAttributes:b,chartType:C,value:g})]);const st=this._getChartOption({value:g,attributes:v,chartType:C,formattedAttributes:b,fieldName:We,fieldInfos:Ie});g.series.push(st)})}_getRelatedChartInfos(p){var g;const{fieldInfos:v,fieldName:b,formattedAttributes:C,chartType:O,value:w}=p,z=[],fe=uc(b),{layerId:De,fieldName:Ie}=fe,We=null==(g=this.relatedInfos)?void 0:g.get(De.toString());if(!We)return z;const{relatedFeatures:st,relation:yt}=We;if(!yt||!st)return z;const{cardinality:jt}=yt;return st.forEach(tn=>{const{attributes:un}=tn;un&&Object.keys(un).forEach(hn=>{hn===Ie&&z.push(this._getChartOption({value:w,attributes:un,formattedAttributes:C,fieldName:b,chartType:O,relatedFieldName:hn,fieldInfos:v}))})}),"one-to-many"===jt||"many-to-many"===jt?z:[z[0]]}_getTooltip({label:p,value:g,chartType:v}){return"pie-chart"===v?p:`${p}: ${g}`}_getChartOption(p){var g;const{value:v,attributes:b,formattedAttributes:C,fieldName:O,relatedFieldName:w,fieldInfos:z,chartType:fe}=p,{layer:De}=this,{normalizeField:Ie,tooltipField:We}=v,st=Ie?Zo(Ie)?b[uc(Ie).fieldName]:b[Ie]:null,yt=w&&void 0!==b[w]?b[w]:void 0!==b[O]?b[O]:C[O],jt=void 0===yt?null:yt&&st?yt/st:yt,tn=new YL.Z({value:jt});if(Zo(O)){const Qn=uc(O),ur=uc(We),Yr=ur?ur.fieldName:null,ji=hM(jt,{fieldInfos:z,fieldName:w,layer:De,preventPlacesFormatting:!!st}),Oc=Qn?Qn.label||Qn.fieldName:w;return tn.tooltip=this._getTooltip({label:Yr&&void 0!==b[Yr]?b[Yr]:Oc,value:ji,chartType:fe}),tn}const un=pM(z,O),hn=dh(O,De),qt=We&&void 0!==C[We]?C[We]:cM(un||new MM.Z({fieldName:hn}),null==(g=this.popupTemplate)?void 0:g.expressionInfos);return tn.tooltip=this._getTooltip({label:qt,value:C[hn],chartType:fe}),tn}};(0,Re._)([(0,ke.Cb)()],js.prototype,"abilities",void 0),(0,Re._)([(0,bo.p)("abilities")],js.prototype,"castAbilities",null),(0,Re._)([(0,ke.Cb)()],js.prototype,"activeMediaInfoIndex",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],js.prototype,"activeMediaInfo",null),(0,Re._)([(0,ke.Cb)()],js.prototype,"attributes",void 0),(0,Re._)([(0,ke.Cb)()],js.prototype,"description",void 0),(0,Re._)([(0,ke.Cb)()],js.prototype,"fieldInfoMap",void 0),(0,Re._)([(0,ke.Cb)()],js.prototype,"formattedAttributes",void 0),(0,Re._)([(0,ke.Cb)()],js.prototype,"expressionAttributes",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],js.prototype,"formattedMediaInfos",null),(0,Re._)([(0,ke.Cb)()],js.prototype,"layer",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],js.prototype,"formattedMediaInfoCount",null),(0,Re._)([(0,ke.Cb)()],js.prototype,"mediaInfos",void 0),(0,Re._)([(0,ke.Cb)()],js.prototype,"popupTemplate",void 0),(0,Re._)([(0,ke.Cb)()],js.prototype,"relatedInfos",void 0),(0,Re._)([(0,ke.Cb)()],js.prototype,"title",void 0),js=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],js);const Ka=js;var TM=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],yR=[{name:"default",colors:[].concat(TM.slice(30,39),TM.slice(28,30).reverse())},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],gR=E(56683);const Sm=new Map([["ar",()=>E.e(3309).then(E.bind(E,93309)).then(p=>p.a)],["bg-bg",()=>E.e(2504).then(E.bind(E,82504)).then(p=>p.b)],["bs-ba",()=>E.e(88).then(E.bind(E,88)).then(p=>p.b)],["ca-es",()=>E.e(2371).then(E.bind(E,32371)).then(p=>p.c)],["cs-cz",()=>E.e(3690).then(E.bind(E,93690)).then(p=>p.c)],["da-dk",()=>E.e(2125).then(E.bind(E,42125)).then(p=>p.d)],["de-de",()=>E.e(7396).then(E.bind(E,7396)).then(p=>p.d)],["de-ch",()=>E.e(2479).then(E.bind(E,62479)).then(p=>p.d)],["el-gr",()=>E.e(9548).then(E.bind(E,39548)).then(p=>p.e)],["en-us",()=>E.e(700).then(E.bind(E,20700)).then(p=>p.e)],["en-ca",()=>E.e(7028).then(E.bind(E,37028)).then(p=>p.e)],["es-es",()=>E.e(4824).then(E.bind(E,54824)).then(p=>p.e)],["et-ee",()=>E.e(3914).then(E.bind(E,23914)).then(p=>p.e)],["fi-fi",()=>E.e(1299).then(E.bind(E,1299)).then(p=>p.f)],["fr-fr",()=>E.e(9856).then(E.bind(E,39856)).then(p=>p.f)],["he-il",()=>E.e(4609).then(E.bind(E,24609)).then(p=>p.h)],["hr-hr",()=>E.e(7731).then(E.bind(E,87731)).then(p=>p.h)],["hu-hu",()=>E.e(7127).then(E.bind(E,57127)).then(p=>p.h)],["id-id",()=>E.e(6560).then(E.bind(E,36560)).then(p=>p.i)],["it-it",()=>E.e(7708).then(E.bind(E,67708)).then(p=>p.i)],["ja-jp",()=>E.e(6651).then(E.bind(E,36651)).then(p=>p.j)],["ko-kr",()=>E.e(7016).then(E.bind(E,7016)).then(p=>p.k)],["lt-lt",()=>E.e(5010).then(E.bind(E,5010)).then(p=>p.l)],["lv-lv",()=>E.e(2620).then(E.bind(E,92620)).then(p=>p.l)],["nb-no",()=>E.e(5237).then(E.bind(E,55237)).then(p=>p.n)],["nl-nl",()=>E.e(948).then(E.bind(E,948)).then(p=>p.n)],["pl-pl",()=>E.e(8351).then(E.bind(E,58351)).then(p=>p.p)],["pt-br",()=>E.e(6681).then(E.bind(E,86681)).then(p=>p.p)],["pt-pt",()=>E.e(8110).then(E.bind(E,48110)).then(p=>p.p)],["ro-ro",()=>E.e(8372).then(E.bind(E,78372)).then(p=>p.r)],["ru-ru",()=>E.e(8073).then(E.bind(E,88073)).then(p=>p.r)],["sk-sk",()=>E.e(7419).then(E.bind(E,7419)).then(p=>p.s)],["sl-sl",()=>E.e(1218).then(E.bind(E,11218)).then(p=>p.s)],["sr-rs",()=>E.e(5302).then(E.bind(E,85302)).then(p=>p.s)],["sv-se",()=>E.e(6079).then(E.bind(E,86079)).then(p=>p.s)],["th-th",()=>E.e(5508).then(E.bind(E,55508)).then(p=>p.t)],["tr-tr",()=>E.e(6844).then(E.bind(E,56844)).then(p=>p.t)],["uk-ua",()=>E.e(4978).then(E.bind(E,4978)).then(p=>p.u)],["vi-vn",()=>E.e(9202).then(E.bind(E,29202)).then(p=>p.v)],["zh-cn",()=>E.e(865).then(E.bind(E,70865)).then(p=>p.z)],["zh-hk",()=>E.e(3207).then(E.bind(E,3207)).then(p=>p.z)],["zh-tw",()=>E.e(3207).then(E.bind(E,3207)).then(p=>p.z)]]);function vR(p){return p?Sm.has(p.toLowerCase())?p.toLowerCase():function _R(p){const g=p.split("-")[0].toLowerCase();let v=null;for(const b of Sm.keys())if(b.startsWith(g)){v=b;break}return v}(p)||"en-us":"en-us"}let eu,cc;function Im(){return(Im=(0,dr.Z)(function*(p=(0,gR.Kd)()){if(p=vR(p),eu&&p===cc)return eu;eu=E.e(4430).then(E.bind(E,4430)).then(g=>g.i),cc=p;try{const[g,v]=yield Promise.all([eu,Sm.get(cc)()]);cc===p&&(g.am4core.options.defaultLocale=v.default),g.am4core.options.suppressWarnings=!0,g.am4core.options.autoDispose=!0}catch(g){return eu=null,cc=null,null}return eu})).apply(this,arguments)}var IM=E(38745);const ms_mediaIcon="esri-feature-media__icon";let Di=class extends di.Z{constructor(p,g){var v;super(p,g),v=this,this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new Ka,this.messages=null,this._getChartDependencies=function(){var b=(0,dr.Z)(function*(C){const O=yield function ER(){return Im.apply(this,arguments)}(),{destroyed:w,viewModel:z}=v;if(w||!z||!C)return;const{activeMediaInfo:fe}=z;v._renderChart({chartDiv:C,mediaInfo:fe,chartsModule:O})});return function(C){return b.apply(this,arguments)}}()}initialize(){this._featureElementInfo=new Cm,this.own((0,Yn.S1)(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],()=>this._setupMediaRefreshTimer()),(0,Yn.S1)(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo()))}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var p;return(0,Xt.u)("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},null==(p=this._featureElementInfo)?void 0:p.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:p}=this.viewModel;return p?(0,Xt.u)("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(p){const{_refreshIntervalInfo:g}=this,{activeMediaInfoIndex:v,formattedMediaInfoCount:b}=this.viewModel,{value:C,refreshInterval:O,altText:w,title:z,type:fe}=p,{sourceURL:De,linkURL:Ie}=C,We=lM(Ie)?"_blank":"_self",st="_blank"===We?"noreferrer":"",yt=O?g:null,un=(0,Xt.u)("img",{alt:w||z,key:`media-${fe}-${v}-${b}-${yt?yt.timestamp:0}`,src:yt?yt.sourceURL:De});return(Ie?(0,Xt.u)("a",{title:z,href:Ie,rel:st,target:We},un):null)||un}renderChartMediaInfo(p){const{activeMediaInfoIndex:g,formattedMediaInfoCount:v}=this.viewModel;return(0,Xt.u)("div",{key:`media-${p.type}-${g}-${v}`,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:p}=this.viewModel;return p?"image"===p.type?this.renderImageMediaInfo(p):-1!==p.type.indexOf("chart")?this.renderChartMediaInfo(p):null:null}renderMediaInfo(){const{activeMediaInfo:p}=this.viewModel;if(!p)return null;const g=p.title?(0,Xt.u)("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:p.title}):null,v=p.caption?(0,Xt.u)("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:p.caption}):null;return(0,Xt.u)("div",{key:"media-container",class:"esri-feature-media__item-container"},(0,Xt.u)("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()),g,v)}renderMediaPageButton(p){if(this.viewModel.formattedMediaInfoCount<2)return null;const g="previous"===p,v=g?this.messages.previous:this.messages.next,b=this.classes("esri-feature-media__button",g?"esri-feature-media__previous":"esri-feature-media__next"),C=g?this.classes(ms_mediaIcon,"esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):this.classes(ms_mediaIcon,"esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),O=g?this.classes(ms_mediaIcon,"esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):this.classes(ms_mediaIcon,"esri-feature-media__next-icon--rtl","esri-icon-left-triangle-arrow");return(0,Xt.u)("button",{type:"button",key:g?"media-previous":"media-next",title:v,"aria-label":v,tabIndex:0,class:b,bind:this,onclick:g?this._previous:this._next},(0,Xt.u)("span",{"aria-hidden":"true",class:C}),(0,Xt.u)("span",{"aria-hidden":"true",class:O}))}_setupFeatureElementInfo(){const{description:p,title:g}=this;this._featureElementInfo.set({description:p,title:g})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_handleMediaKeyup(p){const g=(0,Jl.kK)(p);"ArrowLeft"===g&&(p.stopPropagation(),this.viewModel.previous()),"ArrowRight"===g&&(p.stopPropagation(),this.viewModel.next())}_renderChart(p){const{abilities:g}=this.viewModel,{chartsModule:v,chartDiv:b,mediaInfo:C}=p,{value:O,type:w}=C,{am4core:z}=v,fe=function bR(p,g="default"){const v=yR.find(b=>b.name===g);return v?v.colors.map(b=>p.color(b)):null}(z);(0,IM.$o)()&&z.useTheme(v.am4themes_dark);const Ie=window.matchMedia("(prefers-reduced-motion: reduce)");g.chartAnimation&&!Ie.matches?z.useTheme(v.am4themes_animated):z.unuseTheme(v.am4themes_animated),z.useTheme(function De(st){st instanceof z.ColorSet&&fe&&(st.list=fe)});const We="pie-chart"===w?this._createPieChart(p):this._createXYChart(p);b.setAttribute("aria-label",C.altText||C.title),We.data=O.series.map(st=>({tooltip:st.tooltip,value:st.value})).filter(st=>"pie-chart"!==w||st.value>0)}_customizeChartTooltip(p,g){p.label.wrap=!0,p.label.maxWidth=200,p.autoTextColor=!1,p.getFillFromObject=!1,p.label.fill=g.color("#ffffff"),p.background.fill=g.color({r:0,g:0,b:0,a:.7})}_createPieChart(p){const{chartDiv:g,chartsModule:v}=p,{am4core:b,am4charts:C}=v,O=b.create(g,C.PieChart);O.rtl=(0,hi.dZ)(this.container);const w=O.series.push(new C.PieSeries);return w.labels.template.disabled=!0,w.ticks.template.disabled=!0,w.dataFields.value="value",w.dataFields.category="tooltip",this._customizeChartTooltip(w.tooltip,b),O}_getMinSeriesValue(p){let g=0;return p.forEach(v=>g=Math.min(v.value,g)),g}_createColumnChart(p,g){const{chartsModule:v,mediaInfo:b}=g,{value:C}=b,{am4core:O,am4charts:w}=v,z=p.xAxes.push(new w.CategoryAxis);z.dataFields.category="tooltip",z.renderer.labels.template.disabled=!0,this._customizeChartTooltip(z.tooltip,O),z.tooltip.events.on("sizechanged",()=>{z.tooltip.dy=-z.tooltip.contentHeight});const fe=p.yAxes.push(new w.ValueAxis),De=fe.renderer.labels.template;fe.renderer.minLabelPosition=.05,fe.renderer.maxLabelPosition=.95,fe.min=this._getMinSeriesValue(C.series),this._customizeChartTooltip(fe.tooltip,O),De.wrap=!0;const Ie=p.series.push(new w.ColumnSeries);Ie.dataFields.valueY="value",Ie.dataFields.categoryX="tooltip",p.cursor=new w.XYCursor,C.series.length>15&&(p.scrollbarX=new O.Scrollbar)}_createBarChart(p,g){const{chartsModule:v,mediaInfo:b}=g,{value:C}=b,{am4core:O,am4charts:w}=v,z=p.yAxes.push(new w.CategoryAxis);z.dataFields.category="tooltip",z.renderer.inversed=!0,z.renderer.labels.template.disabled=!0,this._customizeChartTooltip(z.tooltip,O),z.tooltip.events.on("sizechanged",()=>{z.tooltip.dx=z.tooltip.contentWidth});const fe=p.xAxes.push(new w.ValueAxis),De=fe.renderer.labels.template;fe.renderer.minLabelPosition=.05,fe.renderer.maxLabelPosition=.95,fe.min=this._getMinSeriesValue(C.series),this._customizeChartTooltip(fe.tooltip,O),De.wrap=!0;const Ie=p.series.push(new w.ColumnSeries);Ie.dataFields.valueX="value",Ie.dataFields.categoryY="tooltip",p.cursor=new w.XYCursor,C.series.length>15&&(p.scrollbarY=new O.Scrollbar)}_createLineChart(p,g){const{chartsModule:v,mediaInfo:b}=g,{value:C}=b,{am4core:O,am4charts:w}=v,z=p.xAxes.push(new w.CategoryAxis);z.dataFields.category="tooltip",z.renderer.labels.template.disabled=!0,this._customizeChartTooltip(z.tooltip,O),z.tooltip.events.on("sizechanged",()=>{z.tooltip.dy=-z.tooltip.contentHeight});const fe=p.yAxes.push(new w.ValueAxis),De=fe.renderer.labels.template;fe.renderer.minLabelPosition=.05,fe.renderer.maxLabelPosition=.95,fe.min=this._getMinSeriesValue(C.series),this._customizeChartTooltip(fe.tooltip,O),De.wrap=!0;const Ie=p.series.push(new w.LineSeries);Ie.dataFields.categoryX="tooltip",Ie.dataFields.valueY="value",p.cursor=new w.XYCursor,C.series.length>15&&(p.scrollbarX=new O.Scrollbar)}_createXYChart(p){const{chartDiv:g,chartsModule:v,mediaInfo:b}=p,{type:C}=b,{am4core:O,am4charts:w}=v,z=O.create(g,w.XYChart);return z.rtl=(0,hi.dZ)(this.container),"column-chart"===C&&this._createColumnChart(z,p),"bar-chart"===C&&this._createBarChart(z,p),"line-chart"===C&&this._createLineChart(z,p),z}_clearMediaRefreshTimer(){const{_refreshTimer:p}=this;p&&(clearTimeout(p),this._refreshTimer=null)}_updateMediaInfoTimestamp(p){const g=Date.now();this._refreshIntervalInfo={timestamp:g,sourceURL:this._getImageSource(p,g)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:p}=this.viewModel;p&&"image"===p.type&&p.refreshInterval&&this._setRefreshTimeout(p)}_setRefreshTimeout(p){const{refreshInterval:g,value:v}=p;if(!g)return;const b=6e4*g;this._updateMediaInfoTimestamp(v.sourceURL);const C=setInterval(()=>{this._updateMediaInfoTimestamp(v.sourceURL)},b);this._refreshTimer=C}_getImageSource(p,g){const v=-1!==p.indexOf("?")?"&":"?",[b,C=""]=p.split("#");return`${b}${v}timestamp=${g}${C?"#":""}${C}`}};(0,Re._)([(0,rr.B)("viewModel.attributes")],Di.prototype,"attributes",void 0),(0,Re._)([(0,rr.B)("viewModel.activeMediaInfoIndex")],Di.prototype,"activeMediaInfoIndex",void 0),(0,Re._)([(0,rr.B)("viewModel.description")],Di.prototype,"description",void 0),(0,Re._)([(0,rr.B)("viewModel.fieldInfoMap")],Di.prototype,"fieldInfoMap",void 0),(0,Re._)([(0,rr.B)("viewModel.layer")],Di.prototype,"layer",void 0),(0,Re._)([(0,rr.B)("viewModel.mediaInfos")],Di.prototype,"mediaInfos",void 0),(0,Re._)([(0,rr.B)("viewModel.popupTemplate")],Di.prototype,"popupTemplate",void 0),(0,Re._)([(0,rr.B)("viewModel.relatedInfos")],Di.prototype,"relatedInfos",void 0),(0,Re._)([(0,rr.B)("viewModel.title")],Di.prototype,"title",void 0),(0,Re._)([(0,ke.Cb)({type:Ka})],Di.prototype,"viewModel",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/Feature/t9n/Feature")],Di.prototype,"messages",void 0),Di=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureMedia")],Di);const wM=Di;var MR=E(47562),CR=(E(55664),E(55013),E(16615),E(82561),E(75484)),DR=E(64531),xM=E(501),OR=E(38159),PR=E(15382);const TR=["$datastore","$map","$layer","$aggregatedfeatures"],IR=Rs.Z.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function wR(p){return"string"==typeof p?oc(pm(p)):Array.isArray(p)?function xR(p){return`<ul class="esri-widget__list">${p.map(g=>`<li>${"string"==typeof g?oc(pm(g)):g}</li>`).join("")}</ul>`}(p):"esri.arcade.Dictionary"===(null==p?void 0:p.declaredClass)?function AR(p){return`<table class="esri-widget__table">${p.keys().map(g=>{const v=p.field(g);return`<tr><th>${g}</th><td>${"string"==typeof v?oc(pm(v)):v}</td></tr>`}).join("")}</table>`}(p):p}function LR({aggregatedFeatures:p,arcadeUtils:g,featureSetVars:v,context:b,viewInfo:C,map:O,graphic:w,interceptor:z}){v.forEach(fe=>{const De=fe.toLowerCase();if("$map"===De&&(b.vars[De]=g.convertMapToFeatureSetCollection({map:O,spatialReference:C.sr,interceptor:z})),"$layer"===De&&(b.vars[De]=g.convertFeatureLayerToFeatureSet({layer:w.sourceLayer,spatialReference:C.sr,interceptor:z})),"$datastore"===De&&(b.vars[De]=g.convertServiceUrlToWorkspace({url:w.sourceLayer.url,spatialReference:C.sr,interceptor:z})),"$aggregatedfeatures"===De){const We=w.layer,{fields:st,objectIdField:yt,geometryType:jt,spatialReference:tn,displayField:un}=We,hn=new PR.default($n(Pt({fields:st,objectIdField:yt,geometryType:jt,spatialReference:tn,displayField:un},"feature"===We.type?{templates:We.templates,typeIdField:We.typeIdField,types:We.types}:null),{source:p}));b.vars[De]=g.convertFeatureLayerToFeatureSet({layer:hn,spatialReference:C.sr,interceptor:z})}})}function AM(){return E.e(5068).then(E.bind(E,75068))}function RR(p){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,dr.Z)(function*({graphic:p,view:g}){const{isAggregate:v,layer:b}=p;if(!v||!b||"2d"!==(null==g?void 0:g.type))return[];const C=yield g.whenLayerView(b);if(!C.createQuery||!C.queryFeatures)return[];const O=C.createQuery();O.aggregateIds=[p.getObjectId()];const{features:w}=yield C.queryFeatures(O);return w})).apply(this,arguments)}function LM(p){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,dr.Z)(function*({expressionInfo:p,arcadeUtils:g,interceptor:v,spatialReference:b,map:C,graphic:O,view:w}){if(!p||!p.expression)return null;const z=g.createSyntaxTree(p.expression),fe=TR.filter(yt=>g.hasVariable(z,yt)),[De]=yield(0,Fr.$6)([RR({graphic:O,view:w}),g.loadScriptDependencies(z,!0,fe)]),Ie=g.getViewInfo({spatialReference:b}),We=g.createExecContext(O,Ie);We.interceptor=v,We.useAsync=!0,LR({aggregatedFeatures:De,arcadeUtils:g,featureSetVars:fe,context:We,viewInfo:Ie,map:C,graphic:O,interceptor:v});const st=g.createFunction(z,We);return g.executeAsyncFunction(st,We).catch(yt=>IR.error("arcade-execution-error",{error:yt,graphic:O,expressionInfo:p}))})).apply(this,arguments)}function jR(p){return jm.apply(this,arguments)}function jm(){return(jm=(0,dr.Z)(function*({expressionInfos:p,spatialReference:g,graphic:v,interceptor:b,map:C,view:O}){if(!p||!p.length)return{};const w=yield AM(),z={};for(const Ie of p)z[`expression/${Ie.name}`]=LM({expressionInfo:Ie,arcadeUtils:w,interceptor:b,spatialReference:g,map:C,graphic:v,view:O});const fe=yield(0,Fr.as)(z),De={};for(const Ie in fe)De[Ie]=wR(fe[Ie].value);return De})).apply(this,arguments)}let Li=class extends((0,Za.p)(Br.Z)){constructor(p){var g;super(p),g=this,this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:v}=this;v&&v.abort(),this._abortController=null},this._createVM=()=>{var v,b;const C=null==(v=this.contentElement)?void 0:v.type;null==(b=this.contentElementViewModel)||b.destroy();const O="fields"===C?new fh:"media"===C?new Ka:"text"===C?new hh:null;this._set("contentElementViewModel",O)},this._compile=(0,dr.Z)(function*(){g._cancelQuery();const v=new AbortController;g._abortController=v,yield g._compileExpression(),g._abortController===v&&(g._abortController=null)}),this._compileThrottled=(0,om.P)(this._compile,1,this),this._compileExpression=(0,dr.Z)(function*(){const{expressionInfo:v,graphic:b,interceptor:C,spatialReference:O,map:w,view:z,_abortController:fe}=g;if(!(v&&b&&O&&w))return void g._set("contentElement",null);const De=yield AM();if(fe!==g._abortController)return;const Ie=yield LM({arcadeUtils:De,expressionInfo:v,graphic:b,interceptor:C,map:w,spatialReference:O,view:z});if(!Ie||"esri.arcade.Dictionary"!==Ie.declaredClass)return void g._set("contentElement",null);const We=yield(0,MR.x)(Ie,fe.signal),st=null==We?void 0:We.type,yt="media"===st?DR.Z.fromJSON(We):"text"===st?xM.Z.fromJSON(We):"fields"===st?CR.Z.fromJSON(We):null;g._set("contentElement",yt)}),this.handles.add([(0,Yn.S1)(this,["expressionInfo","graphic","map","spatialReference","view"],this._compileThrottled),(0,Yn.S1)(this,"contentElement",this._createVM)])}destroy(){var p;this._cancelQuery(),null==(p=this.contentElementViewModel)||p.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var p;return(null==(p=this.view)?void 0:p.spatialReference)||null}set spatialReference(p){void 0!==p?this._override("spatialReference",p):this._clearOverride("spatialReference")}get state(){const{_abortController:p,contentElement:g,contentElementViewModel:v}=this;return p?"loading":g||v?"ready":"disabled"}get map(){var p;return(null==(p=this.view)?void 0:p.map)||null}set map(p){void 0!==p?this._override("map",p):this._clearOverride("map")}};(0,Re._)([(0,ke.Cb)()],Li.prototype,"_abortController",void 0),(0,Re._)([(0,ke.Cb)({type:OR.Z})],Li.prototype,"expressionInfo",void 0),(0,Re._)([(0,ke.Cb)({type:Hl.Z})],Li.prototype,"graphic",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Li.prototype,"contentElement",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Li.prototype,"contentElementViewModel",void 0),(0,Re._)([(0,ke.Cb)()],Li.prototype,"interceptor",void 0),(0,Re._)([(0,ke.Cb)()],Li.prototype,"spatialReference",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Li.prototype,"state",null),(0,Re._)([(0,ke.Cb)()],Li.prototype,"map",null),(0,Re._)([(0,ke.Cb)()],Li.prototype,"view",void 0),Li=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],Li);const Um=Li;let yh=class extends di.Z{constructor(p,g){super(p,g),this.viewModel=new Um}initialize(){(0,Yn.S1)(this,"viewModel.contentElementViewModel",()=>this._setupExpressionWidget())}destroy(){this._destroyContentWidget()}renderLoading(){return(0,Xt.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,Xt.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}render(){var p;const{state:g}=this.viewModel;return(0,Xt.u)("div",{class:"esri-feature-expression"},"loading"===g?this.renderLoading():"disabled"===g?null:null==(p=this._contentWidget)?void 0:p.render())}_destroyContentWidget(){const{_contentWidget:p}=this;p&&(p.viewModel=null,p.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:p,contentElement:g}=this.viewModel,v=null==g?void 0:g.type;this._destroyContentWidget();const b=p?"fields"===v?new CM({viewModel:p}):"media"===v?new wM({viewModel:p}):"text"===v?new ph({viewModel:p}):null:null;this._contentWidget=b,this.scheduleRender()}};(0,Re._)([(0,ke.Cb)({type:Um})],yh.prototype,"viewModel",void 0),yh=(0,Re._)([(0,zn.j)("esri.widgets.Feature.FeatureExpression")],yh);const FR=yh;var gh;const RM="content-view-models",jM="esri.widgets.FeatureViewModel",WR=Rs.Z.getLogger(jM),UM={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let ls=gh=class extends Br.Z{constructor(p){super(p),this._handles=new Co.Z,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=(0,om.P)(this._graphicChanged,1,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities=Pt({},UM),this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=g=>{const{abilities:v}=this;return"attachments"===g.type&&v.attachmentsContent||"custom"===g.type&&v.customContent||"fields"===g.type&&v.fieldsContent||"media"===g.type&&v.mediaContent||"text"===g.type&&v.textContent||"expression"===g.type&&v.expressionContent},this._handles.add((0,Yn.S1)(this,["graphic","_effectivePopupTemplate","abilities"],()=>this.graphicChangedThrottled()))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return(0,dn.pC)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return function IL(p,g){const v=new Map;return p&&p.forEach(b=>{const C=dh(b.fieldName,g);b.fieldName=C,v.set(C.toLowerCase(),b)}),v}(fM(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return aM(this.graphic)}castAbilities(p){return Pt(Pt({},UM),p)}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(p){this._set("graphic",p?p.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(p){void 0!==p?this._override("spatialReference",p):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(p){void 0!==p?this._override("map",p):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(p,g){const v=this.contentViewModels[p];v instanceof Ka&&v.setActiveMedia(g)}nextMedia(p){const g=this.contentViewModels[p];g instanceof Ka&&g.next()}previousMedia(p){const g=this.contentViewModels[p];g instanceof Ka&&g.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}_graphicChanged(){var p=this;return(0,dr.Z)(function*(){p._cancelFeatureQuery(),p._error=null,p._clear();const{graphic:g}=p;if(!g)return;const v=new AbortController;p._featureAbortController=v;try{yield p._queryFeature({signal:v.signal})}catch(b){(0,Fr.D_)(b)||(p._error=b,WR.error("error","The popupTemplate could not be displayed for this feature.",{error:b,graphic:g,popupTemplate:p._effectivePopupTemplate}))}p._featureAbortController===v&&(p._featureAbortController=null)})()}_cancelFeatureQuery(){const{_featureAbortController:p}=this;p&&p.abort(),this._featureAbortController=null}_compileContentElement(p,g){return"attachments"===p.type?this._compileAttachments(p,g):"custom"===p.type?this._compileCustom(p,g):"fields"===p.type?this._compileFields(p,g):"media"===p.type?this._compileMedia(p,g):"text"===p.type?this._compileText(p,g):"expression"===p.type?this._compileExpression(p,g):void 0}_compileContent(p){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(p)?p.filter(this._isAllowedContentType).map((g,v)=>this._compileContentElement(g,v)):"string"==typeof p?this._compileText(new xM.Z({text:p}),0).text:p}_destroyContentViewModels(){var p;null==(p=this._handles)||p.remove(RM),this.contentViewModels.forEach(g=>g&&!g.destroyed&&g.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(p,g){const{formattedAttributes:v}=this,{contentElement:b,contentElementViewModel:C}=p,O=null==b?void 0:b.type;C&&O&&("fields"===O&&(this._createFieldsFormattedAttributes({contentElement:b,contentElementIndex:g,formattedAttributes:v}),C.set(this._createFieldsVMParams(b,g))),"media"===O&&(this._createMediaFormattedAttributes({contentElement:b,contentElementIndex:g,formattedAttributes:v}),C.set(this._createMediaVMParams(b,g))),"text"===O&&C.set(this._createTextVMParams(b)))}_compileExpression(p,g){const{expressionInfo:v}=p,{graphic:b,map:C,spatialReference:O,view:w}=this,z=new Um({expressionInfo:v,graphic:b,interceptor:gh.interceptor,map:C,spatialReference:O,view:w});return this.contentViewModels[g]=z,this._handles.add((0,Yn.S1)(z,"contentElementViewModel",()=>this._setExpressionContentVM(z,g)),RM),p}_compileAttachments(p,g){const{graphic:v}=this,{description:b,title:C}=p;return this.contentViewModels[g]=new Em(Pt({graphic:v},this._compileTitleAndDesc({title:C,description:b}))),p}_compileCustom(p,g){const{graphic:v}=this,{creator:b,destroyer:C}=p;return this.contentViewModels[g]=new hh({graphic:v,creator:b,destroyer:C}),p}_compileTitleAndDesc({title:p,description:g}){const{_fieldInfoMap:v,_sourceLayer:b,graphic:C,formattedAttributes:O,_expressionAttributes:w}=this,{attributes:z}=C,fe=O.global;return{title:$a({attributes:z,fieldInfoMap:v,globalAttributes:fe,expressionAttributes:w,layer:b,text:p}),description:$a({attributes:z,fieldInfoMap:v,globalAttributes:fe,expressionAttributes:w,layer:b,text:g})}}_createFieldsVMParams(p,g){const{_effectivePopupTemplate:v,formattedAttributes:b}=this,C=Pt(Pt({},b.global),b.content[g]),O=(null==p?void 0:p.fieldInfos)||(null==v?void 0:v.fieldInfos),w=null==O?void 0:O.filter(({fieldName:Ie})=>uM(Ie)||Zo(Ie)||C.hasOwnProperty(Ie)),z=null==v?void 0:v.expressionInfos,{description:fe,title:De}=p;return Pt({attributes:C,expressionInfos:z,fieldInfos:w},this._compileTitleAndDesc({title:De,description:fe}))}_compileFields(p,g){const v=p.clone(),b=new fh(this._createFieldsVMParams(p,g));return this.contentViewModels[g]=b,v.fieldInfos=b.formattedFieldInfos.slice(0),v}_createMediaVMParams(p,g){const{abilities:v,graphic:b,_fieldInfoMap:C,formattedAttributes:O,_effectivePopupTemplate:w,relatedInfos:z,_sourceLayer:fe,_expressionAttributes:De}=this,{attributes:Ie}=b,{description:We,mediaInfos:st,title:yt}=p;return Pt({abilities:{chartAnimation:v.chartAnimation},activeMediaInfoIndex:p.activeMediaInfoIndex||0,attributes:Ie,layer:fe,fieldInfoMap:C,formattedAttributes:Pt(Pt({},O.global),O.content[g]),expressionAttributes:De,mediaInfos:st,popupTemplate:w,relatedInfos:z},this._compileTitleAndDesc({title:yt,description:We}))}_compileMedia(p,g){const v=p.clone(),b=new Ka(this._createMediaVMParams(p,g));return v.mediaInfos=b.formattedMediaInfos.slice(0),this.contentViewModels[g]=b,v}_createTextVMParams(p){const{graphic:g,_fieldInfoMap:v,_sourceLayer:b,_expressionAttributes:C}=this;if(p&&p.text){const{attributes:O}=g;p.text=$a({attributes:O,fieldInfoMap:v,globalAttributes:this.formattedAttributes.global,expressionAttributes:C,layer:b,text:p.text})}return{graphic:g,creator:p.text}}_compileText(p,g){const v=p.clone();return this.contentViewModels[g]=new hh(this._createTextVMParams(v)),v}_compileLastEditInfo(){const{_effectivePopupTemplate:p,_sourceLayer:g,graphic:v}=this;if(!p)return;const{lastEditInfoEnabled:b}=p,C=null==g?void 0:g.editFieldsInfo;return b&&C?function SL(p,g){const{creatorField:v,creationDateField:b,editorField:C,editDateField:O}=p;if(!g)return;const w=g[O];if("number"==typeof w){const fe=g[C];return{type:"edit",date:(0,uh.p6)(w,lm),user:fe}}const z=g[b];if("number"==typeof z){const fe=g[v];return{type:"create",date:(0,uh.p6)(z,lm),user:fe}}return null}(C,v.attributes):void 0}_compileTitle(p){const{_fieldInfoMap:g,_sourceLayer:v,graphic:b,_expressionAttributes:C}=this,{attributes:O}=b;return $a({attributes:O,fieldInfoMap:g,globalAttributes:this.formattedAttributes.global,expressionAttributes:C,layer:v,text:p})}_getTitle(){var p=this;return(0,dr.Z)(function*(){const{_effectivePopupTemplate:g,graphic:v}=p;return ch(null==g?void 0:g.title,{graphic:v})})()}_getContent(){var p=this;return(0,dr.Z)(function*(){const{_effectivePopupTemplate:g,graphic:v}=p;return ch(null==g?void 0:g.content,{graphic:v})})()}_queryFeature(p){var g=this;return(0,dr.Z)(function*(){const{_featureAbortController:v,_sourceLayer:b,graphic:C,_effectivePopupTemplate:O,spatialReference:w,map:z,view:fe}=g,{content:{value:De},title:{value:Ie}}=yield(0,Fr.as)({content:g._getContent(),title:g._getTitle()});if(v!==g._featureAbortController||!C)return;yield function LL(p,g){return gm.apply(this,arguments)}({graphic:C,popupTemplate:O,layer:b,spatialReference:w},p);const{expressionAttributes:{value:We}}=yield(0,Fr.as)({checkForRelatedFeatures:g._checkForRelatedFeatures(p),expressionAttributes:jR({expressionInfos:null==O?void 0:O.expressionInfos,spatialReference:w,graphic:C,map:z,interceptor:gh.interceptor,view:fe})});v===g._featureAbortController&&C&&(g._expressionAttributes=We,g._graphicExpressionAttributes=Pt(Pt({},C.attributes),We),g._set("formattedAttributes",g._createFormattedAttributes(De)),g._set("title",g._compileTitle(Ie)),g._set("lastEditInfo",g._compileLastEditInfo()||null),g._set("content",g._compileContent(De)||null))})()}_createMediaFormattedAttributes({contentElement:p,contentElementIndex:g,formattedAttributes:v}){const{_effectivePopupTemplate:b,graphic:C,relatedInfos:O,_sourceLayer:w,_fieldInfoMap:z,_graphicExpressionAttributes:fe}=this;v.content[g]=fm({fieldInfos:null==b?void 0:b.fieldInfos,graphic:C,attributes:Pt(Pt({},fe),p.attributes),layer:w,fieldInfoMap:z,relatedInfos:O})}_createFieldsFormattedAttributes({contentElement:p,contentElementIndex:g,formattedAttributes:v}){if(p.fieldInfos){const{graphic:b,relatedInfos:C,_sourceLayer:O,_fieldInfoMap:w,_graphicExpressionAttributes:z}=this;v.content[g]=fm({fieldInfos:p.fieldInfos,graphic:b,attributes:Pt(Pt({},z),p.attributes),layer:O,fieldInfoMap:w,relatedInfos:C})}}_createFormattedAttributes(p){const{_effectivePopupTemplate:g,graphic:v,relatedInfos:b,_sourceLayer:C,_fieldInfoMap:O,_graphicExpressionAttributes:w}=this,fe={global:fm({fieldInfos:null==g?void 0:g.fieldInfos,graphic:v,attributes:w,layer:C,fieldInfoMap:O,relatedInfos:b}),content:[]};return Array.isArray(p)&&p.forEach((De,Ie)=>{"fields"===De.type&&this._createFieldsFormattedAttributes({contentElement:De,contentElementIndex:Ie,formattedAttributes:fe}),"media"===De.type&&this._createMediaFormattedAttributes({contentElement:De,contentElementIndex:Ie,formattedAttributes:fe})}),fe}_checkForRelatedFeatures(p){const{graphic:g,_effectivePopupTemplate:v}=this;return this._queryRelatedInfos(g,fM(v),p)}_queryRelatedInfos(p,g,v){var b=this;return(0,dr.Z)(function*(){const{relatedInfos:C,_sourceLayer:O}=b;C.clear();const w=(0,dn.pC)(O.associatedLayer)?yield O.associatedLayer.load(v):O;if(!w)return;const z=g.filter(Ie=>Ie&&Zo(Ie.fieldName));if(!z||!z.length)return;g.forEach(Ie=>b._configureRelatedInfo(Ie,w));const fe=yield function dR({relatedInfos:p,layer:g},v){const b={};return p.forEach((C,O)=>{const{relation:w}=C;if(!w){const We=new er.Z("relation-required","A relation is required on a layer to retrieve related records.");throw DM.error(We),We}const{relatedTableId:z}=w;if("number"!=typeof z){const We=new er.Z("A related table ID is required on a layer to retrieve related records.");throw DM.error(We),We}const fe=`${g.url}/${z}`,De=OM.get(fe),Ie=De||function cR(p,g){return(0,QL.default)(p,{query:{f:"json"},signal:g&&g.signal})}(fe,v);De||OM.set(fe,Ie),b[O]=Ie}),(0,Fr.as)(b)}({relatedInfos:C,layer:w},v);Object.keys(fe).forEach(Ie=>{var We;const st=C.get(Ie.toString()),yt=null==(We=fe[Ie])?void 0:We.value;st&&yt&&(st.layerInfo=yt.data)});const De=yield function hR({graphic:p,relatedInfos:g,layer:v},b){const C={};return g.forEach((O,w)=>{O.layerInfo&&(C[w]=function uR(p,g,v,b){return Tm.apply(this,arguments)}(p,O,v,b))}),(0,Fr.as)(C)}({graphic:p,relatedInfos:C,layer:w},v);Object.keys(De).forEach(Ie=>{var We;!function oR(p,g){if(!g||!p)return;const{features:v,statsFeatures:b}=p,C=v&&v.value;g.relatedFeatures=C?C.features:[];const O=b&&b.value;g.relatedStatsFeatures=O?O.features:[]}(null==(We=De[Ie])?void 0:We.value,C.get(Ie.toString()))})})()}_configureRelatedInfo(p,g){const{relatedInfos:v}=this,b=uc(p.fieldName);if(!b)return;const{layerId:C,fieldName:O}=b;if(!C)return;const w=v.get(C.toString())||function iR(p,g){const v=function nR(p,g){if(!g.relationships)return null;let v=null;const{relationships:b}=g;return b.some(C=>C.id===parseInt(p,10)&&(v=C,!0)),v}(p,g);if(!v)return;const b=`${g.url}/${v.relatedTableId}`;return{url:b,queryTask:new eR.Z({url:b,sourceSpatialReference:g.spatialReference}),relation:v,relatedFields:[],outStatistics:[]}}(C,g);w&&(function pR({relatedInfo:p,fieldName:g,fieldInfo:v}){if(p.relatedFields.push(g),v.statisticType){const b=new qL.Z({statisticType:v.statisticType,onStatisticField:g,outStatisticFieldName:g});p.outStatistics.push(b)}}({relatedInfo:w,fieldName:O,fieldInfo:p}),this.relatedInfos.set(C,w))}};ls.interceptor=new class NR{constructor(g,v){this.preLayerQueryCallback=g,this.preRequestCallback=v,this.preLayerQueryCallback||(this.preLayerQueryCallback=b=>{}),this.preRequestCallback||(this.preLayerQueryCallback=b=>{})}}(({query:p,layer:g,method:v})=>{gM({layer:g,method:v,query:p,definitionExpression:`${g.definitionExpression} ${g.serviceDefinitionExpression}`})},({queryPayload:p,layer:g,method:v})=>{gM({layer:g,method:v,query:p,definitionExpression:`${g.definitionExpression} ${g.serviceDefinitionExpression}`})}),(0,Re._)([(0,ke.Cb)()],ls.prototype,"_error",void 0),(0,Re._)([(0,ke.Cb)()],ls.prototype,"_featureAbortController",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"_effectivePopupTemplate",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"_fieldInfoMap",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"_sourceLayer",null),(0,Re._)([(0,ke.Cb)()],ls.prototype,"abilities",void 0),(0,Re._)([(0,bo.p)("abilities")],ls.prototype,"castAbilities",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"content",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"contentViewModels",void 0),(0,Re._)([(0,ke.Cb)({type:Boolean})],ls.prototype,"defaultPopupTemplateEnabled",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"state",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"formattedAttributes",void 0),(0,Re._)([(0,ke.Cb)({type:Hl.Z,value:null})],ls.prototype,"graphic",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"lastEditInfo",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"relatedInfos",void 0),(0,Re._)([(0,ke.Cb)()],ls.prototype,"spatialReference",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"title",void 0),(0,Re._)([(0,ke.Cb)()],ls.prototype,"map",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ls.prototype,"waitingForContent",null),(0,Re._)([(0,ke.Cb)()],ls.prototype,"view",void 0),ls=gh=(0,Re._)([(0,zn.j)(jM)],ls);const Fm=ls,FM=p=>{let g=class extends p{constructor(){super(...arguments),this.renderNodeContent=v=>(0,Dm.Qd)(v)&&!v.destroyed?(0,Xt.u)("div",{key:v},v.render()):v instanceof HTMLElement?(0,Xt.u)("div",{key:v,bind:v,afterCreate:this._attachToNode}):(0,Dm.o)(v)?(0,Xt.u)("div",{key:v,bind:v.domNode,afterCreate:this._attachToNode}):null}_attachToNode(v){v.appendChild(this)}};return g=(0,Re._)([(0,zn.j)("esri.widgets.Feature.ContentMixin")],g),g};var Ko=E(97059);const Zs_contentElement="esri-feature__content-element",NM={title:!0,content:!0,lastEditedInfo:!0};let $s=class extends(FM(di.Z)){constructor(p,g){super(p,g),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements=Pt({},NM),this.map=null,this.view=null,this.viewModel=new Fm}initialize(){this.own((0,Yn.S1)(this,"viewModel.contentViewModels",()=>this._setupContentWidgets()))}loadDependencies(){return E.e(1360).then(E.bind(E,61360))}destroy(){this._destroyContentWidgets()}castVisibleElements(p){return Pt(Pt({},NM),p)}render(){const{state:p}=this.viewModel,g=(0,Xt.u)("div",{class:"esri-feature__size-container",key:"container"},this.renderTitle(),"error"===p?this.renderError():"loading"===p?this.renderLoading():this.renderContentContainer());return(0,Xt.u)("div",{class:this.classes("esri-feature","esri-widget")},g)}setActiveMedia(p,g){this.viewModel.setActiveMedia(p,g)}nextMedia(p){this.viewModel.nextMedia(p)}previousMedia(p){this.viewModel.previousMedia(p)}renderError(){const{messagesCommon:p,messages:g,visibleElements:v}=this;return(0,Xt.u)("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},v.title?(0,Xt.u)("div",{key:"error-title",slot:"title"},p.errorMessage):null,(0,Xt.u)("div",{key:"error-message",slot:"message"},g.loadingError))}renderLoading(){return(0,Xt.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,Xt.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}renderContentContainer(){const{visibleElements:p}=this;return p.content?(0,Xt.u)("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:p,title:g}=this;return p.title?(0,Xt.u)(bm,{level:this.headingLevel,class:"esri-feature__title",innerHTML:g}):null}renderContent(){const p=this.viewModel.content,g="content";if(!p)return null;if(Array.isArray(p))return p.length?(0,Xt.u)("div",{key:`${g}-content-elements`},p.map(this.renderContentElement,this)):null;if("string"==typeof p){const v=this._contentWidgets[0];return!v||v.destroyed?null:(0,Xt.u)("div",{key:`${g}-content`},v.render())}return this.renderNodeContent(p)}renderContentElement(p,g){const{visibleElements:v}=this;if("boolean"!=typeof v.content&&!v.content[p.type])return null;switch(p.type){case"attachments":return this.renderAttachments(g);case"custom":return this.renderCustom(p,g);case"fields":return this.renderFields(g);case"media":return this.renderMedia(g);case"text":return this.renderText(p,g);case"expression":return this.renderExpression(g);default:return null}}renderAttachments(p){const g=this._contentWidgets[p];if(!g||g.destroyed)return null;const{state:v,attachmentInfos:b}=g.viewModel;return"loading"===v||b.length>0?(0,Xt.u)("div",{key:this._buildKey("attachments-element",p),class:this.classes(Zs_contentElement)},g.render()):null}renderExpression(p){const g=this._contentWidgets[p];return!g||g.destroyed?null:(0,Xt.u)("div",{key:this._buildKey("expression-element",p),class:Zs_contentElement},g.render())}renderCustom(p,g){const{creator:v}=p,b=this._contentWidgets[g];return!b||b.destroyed?null:v?(0,Xt.u)("div",{key:this._buildKey("custom-element",g),class:Zs_contentElement},b.render()):null}renderFields(p){const g=this._contentWidgets[p];return!g||g.destroyed?null:(0,Xt.u)("div",{key:this._buildKey("fields-element",p),class:Zs_contentElement},g.render())}renderMedia(p){const g=this._contentWidgets[p];return!g||g.destroyed?null:(0,Xt.u)("div",{key:this._buildKey("media-element",p),class:Zs_contentElement},g.render())}renderLastEditInfo(){const{visibleElements:p,messages:g}=this,{lastEditInfo:v}=this.viewModel;if(!v||!p.lastEditedInfo)return null;const{date:b,user:C}=v,w=(0,Ko.n)("edit"===v.type?C?g.lastEditedByUser:g.lastEdited:C?g.lastCreatedByUser:g.lastCreated,{date:b,user:C});return(0,Xt.u)("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info",Zs_contentElement)},w)}renderText(p,g){const b=this._contentWidgets[g];return!b||b.destroyed?null:p.text?(0,Xt.u)("div",{key:this._buildKey("text-element",g),class:this.classes(Zs_contentElement,"esri-feature__text")},b.render()):null}_buildKey(p,...g){return`${p}__${this.get("viewModel.graphic.uid")||"0"}-${g.join("-")}`}_destroyContentWidget(p){p&&(p.viewModel=null,!p.destroyed&&p.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(p=>this._destroyContentWidget(p)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:p,visibleElements:g}=this,v=this.get("viewModel.content"),{contentViewModels:b}=this.viewModel;if(Array.isArray(v))v.forEach((C,O)=>{"attachments"===C.type&&(this._contentWidgets[O]=new zL({displayType:C.displayType,headingLevel:g.title?p+1:p,viewModel:b[O]})),"fields"===C.type&&(this._contentWidgets[O]=new CM({viewModel:b[O]})),"media"===C.type&&(this._contentWidgets[O]=new wM({viewModel:b[O]})),"text"===C.type&&(this._contentWidgets[O]=new ph({viewModel:b[O]})),"custom"===C.type&&(this._contentWidgets[O]=new ph({viewModel:b[O]})),"expression"===C.type&&(this._contentWidgets[O]=new FR({viewModel:b[O]}))},this);else{const C=b[0];C&&!C.destroyed&&(this._contentWidgets[0]=new ph({viewModel:C}))}this.scheduleRender()}};(0,Re._)([(0,rr.B)("viewModel.graphic")],$s.prototype,"graphic",void 0),(0,Re._)([(0,rr.B)("viewModel.defaultPopupTemplateEnabled")],$s.prototype,"defaultPopupTemplateEnabled",void 0),(0,Re._)([(0,ke.Cb)()],$s.prototype,"headingLevel",void 0),(0,Re._)([(0,ke.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],$s.prototype,"label",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/Feature/t9n/Feature")],$s.prototype,"messages",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/t9n/common")],$s.prototype,"messagesCommon",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/support/t9n/uriUtils")],$s.prototype,"messagesURIUtils",void 0),(0,Re._)([(0,rr.B)("viewModel.spatialReference")],$s.prototype,"spatialReference",void 0),(0,Re._)([(0,rr.B)("viewModel.title")],$s.prototype,"title",void 0),(0,Re._)([(0,ke.Cb)()],$s.prototype,"visibleElements",void 0),(0,Re._)([(0,bo.p)("visibleElements")],$s.prototype,"castVisibleElements",null),(0,Re._)([(0,rr.B)("viewModel.map")],$s.prototype,"map",void 0),(0,Re._)([(0,rr.B)("viewModel.view")],$s.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({type:Fm})],$s.prototype,"viewModel",void 0),$s=(0,Re._)([(0,zn.j)("esri.widgets.Feature")],$s);const VR=$s;let za=class extends ih.Z.EventedAccessor{constructor(p){super(p),this._anchorHandles=new Co.Z,this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([(0,Yn.YP)(this,["screenLocationEnabled","location","view.size","view.stationary"],()=>this._updateScreenPointAndHandle()),(0,Yn.YP)(this,["view","view.ready"],()=>this._wireUpView())])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const p="view";if(this._anchorHandles.remove(p),this._viewpointHandle=null,!this.get("view.ready"))return;this._setScreenLocation();const{view:g}=this,b=(0,Yn.Wy)(g,"3d"===g.type?"camera":"viewpoint",()=>this._viewpointChange());this._anchorHandles.add(b,p),this._viewpointHandle=b,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit("view-change")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:p,location:g,screenLocationEnabled:v}=this;!p||(g&&v?p.resume():p.pause())}_setScreenLocation(){const{location:p,view:g,screenLocationEnabled:v}=this,b=this.get("view.ready"),C=v&&b&&(0,dn.pC)(p)?g.toScreen(p):null;this._set("screenLocation",C)}};(0,Re._)([(0,ke.Cb)()],za.prototype,"location",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],za.prototype,"screenLocation",void 0),(0,Re._)([(0,ke.Cb)()],za.prototype,"screenLocationEnabled",void 0),(0,Re._)([(0,ke.Cb)()],za.prototype,"view",void 0),za=(0,Re._)([(0,zn.j)("esri.widgets.support.AnchorElementViewModel")],za);const BM=za;let _h=class extends BM{constructor(p){super(p),this.visible=!1}};(0,Re._)([(0,ke.Cb)()],_h.prototype,"visible",void 0),_h=(0,Re._)([(0,zn.j)("esri.widgets.CompassViewModel")],_h);const WM=_h;let Ga=class extends di.Z{constructor(p,g){super(p,g),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new WM,this.visible=!1}initialize(){this.own([(0,Yn.YP)(this,"visible",p=>this._visibleChange(p))])}destroy(){this._animationPromise=null}show(p){const{location:g,promise:v}=p;g&&(this.viewModel.location=g),this.visible=!0,v&&v.catch(()=>{}).then(()=>this.hide())}hide(){this.visible=!1}render(){const{visible:p}=this,{screenLocation:g}=this.viewModel,v=!!g,O={"esri-spinner--start":p&&v,"esri-spinner--finish":!p&&v},w=this._getPositionStyles();return(0,Xt.u)("div",{class:this.classes("esri-spinner",O),styles:w})}_visibleChange(p){if(p)return void(this.viewModel.screenLocationEnabled=!0);const g=(0,Fr.e4)(this._animationDelay);this._animationPromise=g,g.catch(()=>{}).then(()=>{this._animationPromise===g&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:p,view:g}=this.viewModel;if(!g||(0,dn.Wi)(p))return{};const{padding:v}=g;return{left:p.x-v.left+"px",top:p.y-v.top+"px"}}};(0,Re._)([(0,rr.B)("viewModel.location")],Ga.prototype,"location",void 0),(0,Re._)([(0,rr.B)("viewModel.view")],Ga.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({type:WM})],Ga.prototype,"viewModel",void 0),(0,Re._)([(0,rr.B)("viewModel.visible")],Ga.prototype,"visible",void 0),Ga=(0,Re._)([(0,zn.j)("esri.widgets.Spinner")],Ga);const $R=Ga;E(29132),E(65787);var Bm=E(46367),KR=E(63602),zR=E(59397),dc=E(48753),GR=E(10671),hc=(E(71131),E(86606));function Vm(p){return p&&"opacity"in p?p.opacity*Vm(p.parent):1}function Zm(){return(Zm=(0,dr.Z)(function*(p,g){var v,b;if(!p)return;const C=p.sourceLayer,O=null!=(v=(0,dn.pC)(g)&&null!=(b=g.useSourceLayer)&&b?C:p.layer)?v:C,w=Vm(O);if((0,dn.pC)(p.symbol)&&(!(0,dn.pC)(g)||!0!==g.ignoreGraphicSymbol)){const qt="web-style"===p.symbol.type?yield p.symbol.fetchSymbol((0,dn.pC)(g)?g.abortOptions:null):p.symbol.clone();return(0,hc.tb)(qt,null,w),qt}const z=(0,dn.pC)(g)&&g.renderer||O&&"renderer"in O&&O.renderer;let fe=z&&"getSymbolAsync"in z?yield z.getSymbolAsync(p,g):null;if(!fe)return;if(fe="web-style"===fe.type?yield fe.fetchSymbol((0,dn.pC)(g)?g.abortOptions:null):fe.clone(),!("visualVariables"in z)||!z.visualVariables||!z.visualVariables.length)return(0,hc.tb)(fe,null,w),fe;if("arcadeRequiredForVisualVariables"in z&&z.arcadeRequiredForVisualVariables&&((0,dn.Wi)(g)||(0,dn.Wi)(g.arcade))){const qt=Pt({},(0,dn.Wg)(g));qt.arcade=yield(0,rM.LC)(),g=qt}const De=yield Promise.resolve().then(E.bind(E,81808)),Ie=[],We=[],st=[],yt=[];for(const qt of z.visualVariables)switch(qt.type){case"color":Ie.push(qt);break;case"opacity":We.push(qt);break;case"rotation":yt.push(qt);break;case"size":qt.target||st.push(qt)}const jt=!!Ie.length&&Ie[Ie.length-1],tn=jt?De.getColor(jt,p,g):null,un=!!We.length&&We[We.length-1];let hn=un?De.getOpacity(un,p,g):null;if(null!=w&&(hn=null!=hn?hn*w:w),(0,hc.tb)(fe,tn,hn),st.length){const qt=De.getAllSizes(st,p,g);yield(0,hc.e3)(fe,qt)}for(const qt of yt)(0,hc.BR)(fe,De.getRotationAngle(qt,p,g),qt.axis);return fe})).apply(this,arguments)}var nu=E(58677);const vh_iconZoom="esri-icon-zoom-in-magnifying-glass",ha=new dc.Z({id:"zoom-to-feature",title:"{messages.zoom}",className:vh_iconZoom}),Km=new dc.Z({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"}),ka=new dc.Z({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:vh_iconZoom}),Ha=new dc.Z({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:"esri-icon-table"}),pa=Rs.Z.getLogger("esri.widgets.Popup.PopupViewModel");function ZM(p){const{selectedFeature:g,location:v,view:b}=p;return b?"3d"===b.type?g||v:p.get("selectedFeature.geometry")||v:null}function qR(p,g){if("3d"!==(null==g?void 0:g.type)||!p||"esri.Graphic"!==p.declaredClass)return!0;const v=g.getViewForGraphic(p);if(v&&"whenGraphicBounds"in v){let b=!1;return v.whenGraphicBounds(p,{useViewElevation:!0}).then(C=>{b=!C||!C.boundingBox||C.boundingBox[0]===C.boundingBox[3]&&C.boundingBox[1]===C.boundingBox[4]&&C.boundingBox[2]===C.boundingBox[5]}).catch(()=>{const C=new er.Z("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:p});pa.error(C)}),b}return!0}function zm(){return(zm=(0,dr.Z)(function*(p){const{location:g,selectedFeature:v,view:b,zoomFactor:C}=p,O=ZM(p);if(!O){const De=new er.Z("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:O,view:b});return pa.error(De),Promise.reject(De)}const w=b.scale/C,z=p.get("selectedFeature.geometry")||g,fe=z&&"point"===z.type&&qR(v,b);ha.active=!0,ha.disabled=!0;try{yield p.view.goTo({target:O,scale:fe?w:void 0})}finally{ha.active=!1,ha.disabled=!1,p.zoomToLocation=null,fe&&(p.location=z)}})).apply(this,arguments)}function Gm(){return(Gm=(0,dr.Z)(function*(p){const{selectedFeature:g,view:v}=p;if("2d"!==(null==v?void 0:v.type)){const z=new er.Z("zoomToCluster:invalid-view","View must be 2d MapView.",{view:v});throw pa.error(z),z}if(!g.isAggregate){const z=new er.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:g});throw pa.error(z),z}const b=g.sourceLayer,C=yield v.whenLayerView(b),O=C.createQuery();O.aggregateIds=[g.getObjectId()],ka.active=!0,ka.disabled=!0;const{extent:w}=yield C.queryExtent(O);yield v.goTo({target:w}),ka.active=!1,ka.disabled=!1})).apply(this,arguments)}function km(){return(km=(0,dr.Z)(function*(p){const{selectedFeature:g,view:v}=p;if("2d"!==(null==v?void 0:v.type)){const z=new er.Z("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:v});throw pa.error(z),z}if(!g.isAggregate){const z=new er.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:g});throw pa.error(z),z}const b=g.sourceLayer,C=yield v.whenLayerView(b),O=C.createQuery();O.aggregateIds=[g.getObjectId()];const{extent:w}=yield C.queryExtent(O);p.selectedClusterBoundaryFeature.geometry=w,v.graphics.add(p.selectedClusterBoundaryFeature)})).apply(this,arguments)}function Hm(){return(Hm=(0,dr.Z)(function*(p){const{selectedFeature:g,view:v}=p;if("2d"!==(null==v?void 0:v.type)){const z=new er.Z("browseAggregateFeatures:invalid-view","View must be 2d MapView.",{view:v});throw pa.error(z),z}if(!g.isAggregate){const z=new er.Z("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:g});throw pa.error(z),z}const b=g.sourceLayer,C=yield v.whenLayerView(b),O=C.createQuery();O.aggregateIds=[g.getObjectId()],Ha.active=!0,Ha.disabled=!0;const{features:w}=yield C.queryFeatures(O);Ha.active=!1,Ha.disabled=!1,v.popup.open({features:[g].concat(w),featureMenuOpen:!0})})).apply(this,arguments)}const $M=p=>{let g=class extends p{constructor(...v){super(...v),this.goToOverride=null,this.view=null}callGoTo(v){const{view:b}=this;return this.goToOverride?this.goToOverride(b,v):b.goTo(v.target,v.options)}};return(0,Re._)([(0,ke.Cb)()],g.prototype,"goToOverride",void 0),(0,Re._)([(0,ke.Cb)()],g.prototype,"view",void 0),g=(0,Re._)([(0,zn.j)("esri.widgets.support.GoTo")],g),g};var i6=E(88493);const pc=Ls.Z.ofType({key:"type",defaultKeyValue:"button",base:zR.Z,typeMap:{button:dc.Z,toggle:GR.Z}}),KM="esri.widgets.Popup.PopupViewModel",zM=Rs.Z.getLogger(KM);let Dr=class extends($M(BM)){constructor(p){super(p),this._handles=new Co.Z,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new pc,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new Hl.Z({symbol:new i6.Z({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(p=>p.waitingForContent)}initialize(){this._handles.add([(0,Yn.S1)(this,["autoOpenEnabled","view"],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),(0,Yn.YP)(this,["highlightEnabled","selectedFeature","visible","view"],()=>this._highlightFeature()),(0,Yn.YP)(this,"view.animation.state",p=>this._animationStateChange(p)),(0,Yn.YP)(this,"location",p=>this._locationChange(p)),(0,Yn.YP)(this,"selectedFeature",p=>this._selectedFeatureChange(p)),(0,Yn.YP)(this,["selectedFeatureIndex","featureCount","featuresPerPage"],()=>this._selectedFeatureIndexChange()),(0,Yn.YP)(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],()=>this._setGraphicOnFeatureViewModels()),(0,Yn.YP)(this,"featureViewModels",()=>this._featureViewModelsChange()),this.on("trigger-action",p=>function(p){const{event:g,view:v}=p,{action:b}=g,C=v&&v.popup;if(!b)return Promise.reject(new er.Z("trigger-action:missing-arguments","Event has no action"));if(!C)return Promise.reject(new er.Z("trigger-action:missing-arguments","view.popup is missing"));const{disabled:O,id:w}=b;if(!w)return Promise.reject(new er.Z("trigger-action:invalid-action","action.id is missing"));if(O)return Promise.reject(new er.Z("trigger-action:invalid-action","Action is disabled"));if(w===ha.id)return function e6(p){return zm.apply(this,arguments)}(C.viewModel).catch(Fr.H9);if(w===ka.id)return function t6(p){return Gm.apply(this,arguments)}(C.viewModel);if(w===Ha.id)return C.featureMenuOpen=!C.featureMenuOpen,C.viewModel.browseClusterEnabled=!C.viewModel.browseClusterEnabled,Promise.resolve();if(C.viewModel.browseClusterEnabled=!1,w===Km.id){C.close();const{selectedFeature:z}=C;if(!z)return Promise.reject(new er.Z(`trigger-action:${Km.id}`,"selectedFeature is required",{selectedFeature:z}));const{sourceLayer:fe}=z;return fe?fe.remove(z):v.graphics.remove(z),Promise.resolve()}return Promise.resolve()}({event:p,view:this.view})),(0,Yn.Nj)(this,"waitingForResult",()=>this._waitingForResultChange(),!0),(0,Yn.YP)(this,["features","view","view.map","view.spatialReference"],()=>this._updateFeatureVMs()),(0,Yn.YP)(this,["view.scale"],this._viewScaleChange),(0,Yn.Nj)(this,"visible",()=>this.browseClusterEnabled=!1),(0,Yn.YP)(this,"browseClusterEnabled",p=>p?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const p=this._get("allActions")||new pc;p.removeAll();const{actions:g,defaultActions:v,defaultPopupTemplateEnabled:b,includeDefaultActions:C,selectedFeature:O}=this,w=C?v.concat(g):g,z=O&&("function"==typeof O.getEffectivePopupTemplate&&O.getEffectivePopupTemplate(b)||O.popupTemplate),fe=z&&z.actions,De=z&&z.overwriteActions?fe:fe?fe.concat(w):w;return De&&De.filter(Boolean).forEach(Ie=>p.add(Ie)),p}get defaultActions(){var p;const g=this._get("defaultActions")||new pc;return g.removeAll(),g.addMany(null!=(p=this.selectedFeature)&&p.isAggregate?[ka.clone(),Ha.clone()]:[ha.clone()]),g}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(p){const g=p||[];this._set("features",g);const{pendingPromisesCount:v,promiseCount:b,selectedFeatureIndex:C}=this,O=b&&g.length;O&&v&&-1===C?this.selectedFeatureIndex=0:O&&-1!==C||(this.selectedFeatureIndex=g.length?0:-1)}get location(){return this._get("location")||null}set location(p){const g=this.get("view.spatialReference.isWebMercator");p&&p.get("spatialReference.isWGS84")&&g&&(p=(0,Bm.$)(p)),this._set("location",p)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(p){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(p)||!p.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",p),(p=p.slice(0)).forEach(g=>{this._pendingPromises.add(g),g.then(C=>{this._pendingPromises.has(g)&&this._updateFeatures(C),this._updatePendingPromises(g)},()=>this._updatePendingPromises(g))}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:p,selectedFeatureIndex:g}=this;return-1===g?null:p[g]||null}get selectedFeatureIndex(){const p=this._get("selectedFeatureIndex");return"number"==typeof p?p:-1}set selectedFeatureIndex(p){const{featureCount:g}=this;p=isNaN(p)||p<-1||!g?-1:(p+g)%g,this._set("selectedFeatureIndex",p)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:p}=this,g=ZM(this);if(!g){const v=new er.Z("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:g,view:p});return zM.error(v),Promise.reject(v)}return this.callGoTo({target:{target:g,scale:p.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(p,g){const{view:v}=this;if(!v||!p){const b=new er.Z("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:p,view:v});return zM.error(b),Promise.reject(b)}return v.fetchPopupFeatures(p,{event:g&&g.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:g&&g.signal})}open(p){const g=$n(Pt({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},p),{visible:!0}),{fetchFeatures:v}=g;delete g.fetchFeatures,v&&this._setFetchFeaturesPromises(g.location);const b=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const C of b)delete g[C];this.set(g)}triggerAction(p){const g=this.allActions.getItemAt(p);g&&!g.disabled&&this.emit("trigger-action",{action:g})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){(function s6(p){var g;null!=(g=p.selectedFeature)&&g.isAggregate&&(p.features=p.features.filter(v=>v.isAggregate))})(this),this._clearBrowsedClusterGraphics()}enableClusterBrowsing(){var p=this;return(0,dr.Z)(function*(){yield function n6(p){return km.apply(this,arguments)}(p),yield function r6(p){return Hm.apply(this,arguments)}(p)})()}_animationStateChange(p){this.zoomToLocation||(ha.disabled="waiting-for-target"===p)}_clearBrowsedClusterGraphics(){var p;const g=null==(p=this.view)?void 0:p.graphics;g&&(g.remove(this.selectedClusterBoundaryFeature),g.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){var p;if(null!=(p=this.selectedFeature)&&p.isAggregate)return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.browseClusterEnabled=!1,this.features=[this.selectedFeature])}_locationChange(p){const{selectedFeature:g,updateLocationEnabled:v}=this;v&&p&&(!g||g.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:p,featureCount:g,featurePage:v,featuresPerPage:b,featureViewModels:C}=this;if(null===v)return;const O=((v-1)*b+g)%g;C.slice(O,O+b).forEach((z,fe)=>{z&&!z.graphic&&(z.graphic=p[O+fe])})}_selectedFeatureChange(p){var g=this;return(0,dr.Z)(function*(){if(!p)return;const{location:v,updateLocationEnabled:b,view:C}=g;if(g.browseClusterEnabled)return g._selectedClusterFeature&&(C.graphics.remove(g._selectedClusterFeature),g._selectedClusterFeature=null),p.isAggregate?void 0:(p.symbol=yield function JR(p,g){return Zm.apply(this,arguments)}(p),g._selectedClusterFeature=p,void C.graphics.add(g._selectedClusterFeature));!b&&v||!p.geometry?b&&!p.geometry&&g.centerAtLocation().then(()=>{g.location=C.center.clone()}):g.location=(0,dn.Wg)(g._getPointFromGeometry(p.geometry))})()}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(p){return this._fetchFeaturesWithController(this._getScreenPoint(p||this.location)).then(g=>{const{clientOnlyGraphics:v,promisesPerLayerView:b}=g,C=Promise.resolve(v),O=b.map(w=>w.promise);this.promises=[C,...O]})}_destroyFeatureVMs(){this.featureViewModels.forEach(p=>p&&!p.destroyed&&p.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:p,features:g,featureViewModels:v}=this;if(null!=p&&p.isAggregate||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!g||!g.length)return;const b=v.slice(0),C=[];g.forEach((O,w)=>{if(!O)return;let z=null;if(b.some((Ie,We)=>(Ie&&Ie.graphic===O&&(z=Ie,b.splice(We,1)),!!z)),z)C[w]=z;else{var fe,De;const Ie=new Fm({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:null==(fe=this.view)?void 0:fe.spatialReference,graphic:O===p?O:null,map:null==(De=this.view)?void 0:De.map,view:this.view});C[w]=Ie}}),b.forEach(O=>O&&!O.destroyed&&O.destroy()),this._set("featureViewModels",C)}_getScreenPoint(p){const{view:g}=this;return g&&p&&"function"==typeof g.toScreen?g.toScreen(p):null}_autoOpenEnabledChange(){const p="auto-fetch-features",{_handles:g,autoOpenEnabled:v}=this;if(g.remove(p),v&&this.view){const b=this.view.on("click",C=>{"mouse"===C.pointerType&&0!==C.button||this._fetchFeaturesAndOpen(C)},nu.f.WIDGET);g.add(b,p)}}_cancelFetchingFeatures(){const p=this._fetchFeaturesController;p&&p.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(p,g){this._cancelFetchingFeatures();const v=new AbortController,{signal:b}=v;this._fetchFeaturesController=v,this.notifyChange("waitingForResult");const C=this.fetchFeatures(p,{signal:b,event:g});return C.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),C}_fetchFeaturesAndOpen(p){const{screenPoint:g,mapPoint:v}=p,{view:b}=this;this._fetchFeaturesWithController(g,p).then(C=>{const{clientOnlyGraphics:O,promisesPerLayerView:w,location:z}=C,fe=[Promise.resolve(O),...w.map(De=>De.promise)];return b.popup.open({location:z||v,promises:fe}),C})}_updatePendingPromises(p){p&&this._pendingPromises.has(p)&&(this._pendingPromises.delete(p),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(p){return(0,dn.Wi)(p)?null:"point"===p.type?p:"extent"===p.type?p.center:"polygon"===p.type?p.centroid:"multipoint"===p.type||"polyline"===p.type?p.extent.center:null}_getLayerView(p,g){return(0,dr.Z)(function*(){return yield p.when(),p.whenLayerView(g)})()}_highlightFeature(){var p=this;return(0,dr.Z)(function*(){const g="highlight";p._handles.remove(g);const{selectedFeature:v,highlightEnabled:b,view:C,visible:O}=p;if(!(v&&C&&b&&O))return;let{layer:w,sourceLayer:z}=v;if("map-notes"!==(null==z?void 0:z.type)&&"subtype-group"!==(null==z?void 0:z.type)||(w=z),!(w&&w instanceof KR.Z))return;const fe=p._getLayerView(C,w);p._highlightPromise=fe;const De=yield fe;if(!(De&&function YR(p){return p&&"function"==typeof p.highlight}(De)&&p._highlightPromise===fe&&p.selectedFeature&&p.highlightEnabled&&p.visible))return;const Ie="imagery"===w.type?void 0:"objectIdField"in w&&w.objectIdField,We=v.attributes,yt=De.highlight(We&&Ie&&We[Ie]||v);p._handles.add(yt,g)})()}_updateFeatures(p){const{features:g}=this;if(!p||!p.length)return;if(!g.length)return void(this.features=p);const v=p.filter(b=>-1===g.indexOf(b));this.features=g.concat(v)}};(0,Re._)([(0,ke.Cb)()],Dr.prototype,"featurePage",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"isLoadingFeature",null),(0,Re._)([(0,ke.Cb)({type:pc})],Dr.prototype,"actions",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"active",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"allActions",null),(0,Re._)([(0,ke.Cb)({type:Boolean})],Dr.prototype,"defaultPopupTemplateEnabled",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"autoCloseEnabled",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"autoOpenEnabled",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"browseClusterEnabled",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"content",void 0),(0,Re._)([(0,ke.Cb)({type:pc,readOnly:!0})],Dr.prototype,"defaultActions",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"featureCount",null),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"features",null),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"featuresPerPage",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"featureViewModelAbilities",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"featureViewModels",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"highlightEnabled",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"includeDefaultActions",void 0),(0,Re._)([(0,ke.Cb)({type:Mi.Z})],Dr.prototype,"location",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"pendingPromisesCount",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"selectedClusterBoundaryFeature",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"waitingForResult",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"promiseCount",null),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"promises",null),(0,Re._)([(0,ke.Cb)({value:null,readOnly:!0})],Dr.prototype,"selectedFeature",null),(0,Re._)([(0,ke.Cb)({value:-1})],Dr.prototype,"selectedFeatureIndex",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"selectedFeatureViewModel",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Dr.prototype,"state",null),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"title",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"updateLocationEnabled",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"visible",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"zoomFactor",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"zoomToLocation",void 0),(0,Re._)([(0,ke.Cb)()],Dr.prototype,"centerAtLocation",null),Dr=(0,Re._)([(0,zn.j)(KM)],Dr);const GM=Dr;var Ki=E(24940);const kM="selected-index",HM="popup-spinner",In_shadow="esri-popup--shadow",In_button="esri-popup__button",In_icon="esri-popup__icon",JM={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},YM="esri-popup";function zo(p,g){return void 0===g?`${YM}__${p}`:`${YM}__${p}-${g}`}const QM="esri.widgets.Popup",XM=Rs.Z.getLogger(QM),qM={closeButton:!0,featureNavigation:!0};let tr=class extends(FM(di.Z)){constructor(p,g){super(p,g),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new Co.Z,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([v])=>{null!=v&&v.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=(0,om.P)(()=>this._displaySpinner(),0),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new GM,this.visible=null,this.visibleElements=Pt({},qM),this._addSelectedFeatureIndexHandle(),this.own([(0,Yn.YP)(this,"viewModel.screenLocation",()=>this._positionContainer()),(0,Yn.YP)(this,["viewModel.active","dockEnabled"],()=>this._toggleScreenLocationEnabled()),(0,Yn.YP)(this,"viewModel.screenLocation",(v,b)=>{!!v!=!!b&&this.reposition()}),(0,Yn.YP)(this,["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],()=>this.reposition()),(0,Yn.YP)(this,"spinnerEnabled",v=>this._spinnerEnabledChange(v)),(0,Yn.YP)(this,"viewModel.view.size",(v,b)=>this._updateDockEnabledForViewSize(v,b)),(0,Yn.YP)(this,"viewModel.view",(v,b)=>this._viewChange(v,b)),(0,Yn.YP)(this,"viewModel.view.ready",(v,b)=>this._viewReadyChange(v,b)),(0,Yn.YP)(this,["viewModel.waitingForResult","viewModel.location"],()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),(0,Yn.YP)(this,["selectedFeatureWidget.viewModel.title","selectedFeatureWidget.viewModel.state"],()=>this._setTitleFromFeatureWidget()),(0,Yn.YP)(this,["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.state"],()=>this._setContentFromFeatureWidget()),(0,Yn.Nj)(this,"collapsed",()=>{var v,b;"xsmall"===(null==(v=this.viewModel)||null==(b=v.view)?void 0:b.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),(0,Yn.on)(this,"viewModel.allActions","change",()=>this._watchActions()),(0,Yn.S1)(this,"viewModel.allActions",()=>this._watchActions()),(0,Yn.YP)(this,"viewModel.featureViewModels",()=>this._featureMenuViewportScrollTop())])}destroy(){var p,g;this._destroySelectedFeatureWidget(),this._destroySpinner(),null==(p=this._handles)||p.destroy(),this._unobserveFeatureMenuObserver(),null==(g=this._featureMenuIntersectionObserver)||g.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var p,g,v,b,C,O,w;return!!(this.selectedFeatureWidget?(null==(p=this.selectedFeatureWidget)||null==(g=p.viewModel)?void 0:g.waitingForContent)||"error"===(null==(v=this.selectedFeatureWidget)||null==(b=v.viewModel)?void 0:b.state)||(null==(C=this.selectedFeatureWidget)||null==(O=C.viewModel)?void 0:O.content):null==(w=this.viewModel)?void 0:w.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(p){this._set("actionsMenuOpen",!!p)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||JM}set dockOptions(p){const g=Pt({},JM),v=this.get("viewModel.view.breakpoints"),b={};v&&(b.width=v.xsmall,b.height=v.xsmall);const C=Pt(Pt({},g),p),O=Pt(Pt({},g.breakpoint),b),{breakpoint:w}=C;!0===w?C.breakpoint=O:"object"==typeof w&&(C.breakpoint=Pt(Pt({},O),w)),this._set("dockOptions",C),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:p,visibleElements:g,headingLevel:v}=this,{selectedFeatureViewModel:b}=this.viewModel,C=$n(Pt({},g),{title:!1});return b?(p?(p.viewModel=b,p.visibleElements=C):this._feature=new VR({headingLevel:v+1,viewModel:b,visibleElements:C}),this._feature):null}castVisibleElements(p){return Pt(Pt({},qM),p)}blur(){const{active:p}=this.viewModel;p||XM.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(p,g){return this.viewModel.fetchFeatures(p,g)}focus(){const{active:p}=this.viewModel;p||XM.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(p){var g,v;this._handles.remove(kM);const O={collapsed:!!p&&!!p.collapsed,actionsMenuOpen:!!p&&!!p.actionsMenuOpen,featureMenuOpen:!!p&&!!p.featureMenuOpen};"xsmall"===(null==(g=this.viewModel)||null==(v=g.view)?void 0:v.widthBreakpoint)&&(O.collapsed=!0),this.set(O),this.viewModel.open(p),this._shouldFocus(p),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(p){this.viewModel.triggerAction(p)}render(){var p,g,v,b;const{actionsMenuOpen:C,dockEnabled:O,featureMenuVisible:w,dividedActions:z,currentAlignment:fe,currentDockPosition:De}=this,{active:Ie}=this.viewModel,{menuActions:We}=z,tn=null==(p=this.selectedFeature)||null==(g=p.layer)?void 0:g.title,un=null==(v=this.selectedFeature)||null==(b=v.layer)?void 0:b.id;return(0,Xt.u)("div",{class:this.classes("esri-popup",{"esri-popup--aligned-top-center":"top-center"===fe,"esri-popup--aligned-bottom-center":"bottom-center"===fe,"esri-popup--aligned-top-left":"top-left"===fe,"esri-popup--aligned-bottom-left":"bottom-left"===fe,"esri-popup--aligned-top-right":"top-right"===fe,"esri-popup--aligned-bottom-right":"bottom-right"===fe,"esri-popup--is-docked":Ie&&O,[In_shadow]:Ie&&!O,"esri-popup--is-docked-top-left":"top-left"===De,"esri-popup--is-docked-top-center":"top-center"===De,"esri-popup--is-docked-top-right":"top-right"===De,"esri-popup--is-docked-bottom-left":"bottom-left"===De,"esri-popup--is-docked-bottom-center":"bottom-center"===De,"esri-popup--is-docked-bottom-right":"bottom-right"===De,"esri-popup--feature-menu-open":w,"esri-popup--actions-menu-open":Ie&&We.length>1&&C}),role:"presentation","data-layer-title":tn,"data-layer-id":un,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},Ie?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(In_icon,"esri-icon-loading-indicator","esri-rotating")})}renderNavigationLoading(){const{messagesCommon:p}=this;return this.viewModel.pendingPromisesCount?(0,Xt.u)("div",{key:zo("loading-container"),role:"presentation",class:"esri-popup__loading-container","aria-label":p.loading,title:p.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const p=(0,hi.dZ)(this.container);return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(In_icon,{"esri-icon-right-triangle-arrow":p,"esri-popup__pagination-previous-icon--rtl":p,"esri-icon-left-triangle-arrow":!p,"esri-popup__pagination-previous-icon":!p})})}renderPreviousButton(){const{messages:p}=this;return(0,Xt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(In_button,"esri-popup__pagination-previous"),"aria-label":p.previous,title:p.previous},this.renderPreviousIcon())}renderNextIcon(){const p=(0,hi.dZ)(this.container);return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(In_icon,{"esri-icon-left-triangle-arrow":p,"esri-popup__pagination-next-icon--rtl":p,"esri-icon-right-triangle-arrow":!p,"esri-popup__pagination-next-icon":!p})})}renderNextButton(){const{messages:p}=this;return(0,Xt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(In_button,"esri-popup__pagination-next"),"aria-label":p.next,title:p.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:p,featureMenuId:g,messagesCommon:v}=this,{featureCount:b,selectedFeatureIndex:C}=this.viewModel;return(0,Xt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(In_button,"esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":g,"aria-expanded":p.toString(),"aria-label":v.menu,title:v.menu},this._getPageText(b,C))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:p}=this,g=this._wouldDockTo();return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes({"esri-icon-minimize":p,"esri-popup__icon--dock-icon":!p,"esri-icon-dock-right":!p&&("top-right"===g||"bottom-right"===g),"esri-icon-dock-left":!p&&("top-left"===g||"bottom-left"===g),"esri-icon-maximize":!p&&"top-center"===g,"esri-icon-dock-bottom":!p&&"bottom-center"===g},In_icon)})}renderDockButton(){var p,g,v;const{dockEnabled:b,messages:C}=this,O=null==(p=this.viewModel)||null==(g=p.view)?void 0:g.widthBreakpoint,w=b?C.undock:C.dock;return"xsmall"!==O&&null!=(v=this.dockOptions)&&v.buttonEnabled?(0,Xt.u)("div",{role:"button","aria-label":w,title:w,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(In_button,"esri-popup__button--dock")},this.renderDockIcon()):null}renderTitle(){const{title:p}=this.viewModel,{titleId:g,collapsible:v,contentCollapsed:b,messagesCommon:C}=this,O={"esri-popup__header-container--button":v},w=(0,Xt.u)(bm,{level:this.headingLevel,class:"esri-popup__header-title",innerHTML:p}),z=v?(0,Xt.u)("button",{key:`${p}--collapsible`,id:g,title:b?C.expand:C.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",O),"aria-expanded":b?"false":"true",onclick:this._toggleCollapsed,type:"button"},w):(0,Xt.u)("div",{key:p,id:g,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",O)},w);return p?z:null}renderCloseIcon(){return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(In_icon,"esri-icon-close")})}renderCloseButton(){const{visibleElements:p,messagesCommon:g}=this;return p.closeButton?(0,Xt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:In_button,"aria-label":g.close,title:g.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return(0,Xt.u)("header",{class:"esri-popup__header"},this.renderTitle(),(0,Xt.u)("div",{class:"esri-popup__header-buttons"},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:p,hasContent:g,contentCollapsed:v}=this,{content:b}=this.viewModel;return g&&!v?(0,Xt.u)("article",{key:b,enterAnimation:this._createFeatureUpdatedAnimation(),id:p,class:"esri-popup__content"},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:p,actionsMenuButtonId:g,actionsMenuOpen:v,dividedActions:b,messagesCommon:C}=this,O=v?C.close:C.open,{menuActions:w}=b;return w.length?(0,Xt.u)("div",{key:zo("actions-menu-button"),class:this.classes(In_button,"esri-popup__actions-menu-button"),role:"button",id:g,"aria-haspopup":"true","aria-controls":v?p:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":O,title:O},(0,Xt.u)("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null}renderMenuActions(){const{actionsMenuId:p,actionsMenuButtonId:g,actionsMenuOpen:v,dividedActions:b}=this,{menuActions:C}=b;return C.length&&v?(0,Xt.u)("ul",{id:p,role:"menu","aria-labelledby":g,key:zo("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},C.toArray().map(O=>this.renderAction({action:O,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:p}=this.dividedActions;return!!p.length&&p.toArray().map(g=>this.renderAction({action:g,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:p,menuActions:g}=this.dividedActions,v=!!p.length,b=!!g.length;return v||b?(0,Xt.u)("div",{key:"inline-actions-container","data-inline-actions":v.toString(),"data-menu-actions":b.toString(),class:"esri-popup__inline-actions-container"},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?(0,Xt.u)("section",{key:zo("navigation"),class:this.classes("esri-popup__navigation")},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:p,dividedActions:g}=this,{inlineActions:v,menuActions:b}=g,C=!!v.length,w={"esri-popup__footer--has-pagination":p,"esri-popup__footer--has-actions":C,"esri-popup__footer--has-actions-menu":!!b.length};return p||C?(0,Xt.u)("div",{key:zo("feature-buttons"),class:this.classes("esri-popup__footer",w)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:p}=this,{featureViewModels:g,isLoadingFeature:v}=this.viewModel,b=(0,Ko.n)(p.selectedFeatures,{total:g.length});return(0,Xt.u)("section",{key:zo("menu"),class:"esri-popup__feature-menu"},(0,Xt.u)("strong",{class:"esri-popup__feature-menu-header"},b),(0,Xt.u)("nav",{bind:this,class:"esri-popup__feature-menu-viewport","data-node-ref":"_featureMenuViewportNode",afterCreate:hi.Yo},this.renderFeatureMenu(),(0,Xt.u)("div",{class:"esri-popup__feature-menu-observer",bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),v?(0,Xt.u)("div",{class:"esri-popup__feature-menu-loader"},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:(0,Xt.u)("div",{key:zo("pointer"),class:"esri-popup__pointer",role:"presentation"},(0,Xt.u)("div",{class:this.classes("esri-popup__pointer-direction",In_shadow)}))}renderMainContainer(){const{dockEnabled:p,currentAlignment:g,currentDockPosition:v,titleId:b,contentId:C,collapsible:O,hasContent:w,contentCollapsed:z,visibleElements:fe}=this,{title:De}=this.viewModel,Ie="bottom-left"===g||"bottom-center"===g||"bottom-right"===g||"top-left"===v||"top-center"===v||"top-right"===v,We="top-left"===g||"top-center"===g||"top-right"===g||"bottom-left"===v||"bottom-center"===v||"bottom-right"===v;return(0,Xt.u)("div",{class:this.classes("esri-popup__main-container","esri-widget",{[In_shadow]:p,"esri-popup--is-collapsible":O,"esri-popup--is-collapsed":z}),tabIndex:fe.closeButton?null:-1,role:"dialog","aria-labelledby":De?b:"","aria-describedby":w&&!z?C:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},Ie?this.renderFooter():null,Ie?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),We?this.renderFooter():null,We?this.renderFeatureMenuContainer():null)}renderContent(){var p;const g=null==(p=this.viewModel)?void 0:p.content;return g?"string"==typeof g?(0,Xt.u)("div",{key:g,innerHTML:g}):this.renderNodeContent(g):null}renderActionText(p){return(0,Xt.u)("span",{key:"text",class:"esri-popup__action-text"},p)}renderActionIcon(p){const g=this._getActionClass(p),v=this._getActionImage(p),b={"esri-icon-loading-indicator":p.active,"esri-rotating":p.active,[In_icon]:!!g,"esri-popup__action-image":!p.active&&!!v};return g&&(b[g]=!p.active),(0,Xt.u)("span",{key:"icon","aria-hidden":"true",class:this.classes(In_icon,b),styles:this._getIconStyles(v)})}renderAction(p){const{action:g,type:v}=p,b=this._getActionTitle(g),C={"esri-popup__action":"toggle"!==g.type,"esri-popup__action-toggle":"toggle"===g.type,"esri-popup__action-toggle--on":"toggle"===g.type&&g.value,"esri-popup__button--disabled":g.disabled},O=[this.renderActionIcon(g),this.renderActionText(b)],w="menu-item"===v?(0,Xt.u)("li",{key:g.uid,role:"menuitem",tabIndex:0,title:b,"aria-label":b,class:this.classes(In_button,C),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":g.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},O):(0,Xt.u)("div",{key:g.uid,role:"button",tabIndex:0,title:b,"aria-label":b,class:this.classes(In_button,C),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":g.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},O);return g.visible?w:null}renderFeatureMenuItem(p,g){const{messages:v,messagesCommon:b}=this,{selectedFeatureIndex:C,selectedFeatureViewModel:O}=this.viewModel,w=p===O,z={"esri-popup__feature-menu-item--selected":w},fe=w?(0,Xt.u)("span",{key:zo(`feature-menu-selected-feature-${C}`),title:v.selectedFeature,"aria-label":v.selectedFeature,class:"esri-icon-check-mark"}):null,De=(0,Xt.u)("span",{innerHTML:p.title||b.untitled});return(0,Xt.u)("li",{role:"menuitem",tabIndex:-1,key:zo(`feature-menu-feature-${C}`),class:this.classes(z,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":g,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},(0,Xt.u)("span",{class:"esri-popup__feature-menu-title"},De,fe))}renderFeatureMenu(){const{featureMenuId:p}=this,{featureViewModels:g}=this.viewModel;return g.length>1?(0,Xt.u)("ol",{class:"esri-popup__feature-menu-list",id:p,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},g.filter(v=>!!v.graphic).map((v,b)=>this.renderFeatureMenuItem(v,b))):null}_getActionTitle(p){const{messages:g,selectedFeature:v,messagesCommon:b}=this,{id:C}=p,O=null==v?void 0:v.attributes,w="zoom-to-feature"===C?(0,Ko.n)(p.title,{messages:g}):"remove-selected-feature"===C?(0,Ko.n)(p.title,{messages:b}):"zoom-to-clustered-features"===C||"browse-clustered-features"===C?(0,Ko.n)(p.title,{messages:g}):p.title;return w&&O?(0,Ko.n)(w,O):w}_getActionClass(p){const{selectedFeature:g}=this,v=null==g?void 0:g.attributes,{className:b,image:C}=p,O=C||b?b:"esri-icon-default-action";return O&&v?(0,Ko.n)(O,v):O}_getActionImage(p){const{selectedFeature:g}=this,v=null==g?void 0:g.attributes,{image:b}=p;return b&&v?(0,Ko.n)(b,v):b}_createFeatureUpdatedAnimation(){return(0,hi.vU)("enter","esri-popup--feature-updated")}_getInlineActionCount(){const{maxInlineActions:p,featureNavigationVisible:g}=this;if("number"!=typeof p)return null;const v=Math.round(p);return Math.max(g?v-1:v,0)}_watchActions(){const{allActions:p}=this.viewModel;this.notifyChange("dividedActions");const g="actions";this._handles.remove(g),p&&p.forEach(v=>{this._handles.add((0,Yn.YP)(v,["uid","active","className","disabled","id","title","image","visible"],()=>this.scheduleRender()),g)})}_divideActions(){const{allActions:p}=this.viewModel,g=p.filter(O=>O.visible),v=this._getInlineActionCount(),b=null===v,C=0===v;return{inlineActions:b?g.slice(0):C?new Ls.Z:g.slice(0,v),menuActions:b?new Ls.Z:g.slice(C?0:v)}}_featureMenuOpenChanged(p){p?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(p){p?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:p,messagesCommon:g}=this;var v,b;p&&(this.viewModel.title="error"===(null==(v=p.viewModel)?void 0:v.state)?g.errorMessage:(null==(b=p.viewModel)?void 0:b.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:p}=this;p&&(this.viewModel.content=p)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(p){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(p),this._featureMenuIntersectionObserverNode=p}_handleFeatureMenuKeyup(p){"Escape"===(0,Jl.kK)(p)&&(p.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(p){"Escape"===(0,Jl.kK)(p)&&(p.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(p){const g=(0,Jl.kK)(p),{_featureMenuNode:v}=this,b=p.currentTarget["data-feature-index"];if(!v)return;const C=v.querySelectorAll("li"),O=C.length;"ArrowUp"!==g?"ArrowDown"!==g?"Home"!==g?"End"!==g||(p.stopPropagation(),C[C.length-1].focus()):(p.stopPropagation(),C[0].focus()):(p.stopPropagation(),C[(b+1+O)%O].focus()):(p.stopPropagation(),C[(b-1+O)%O].focus())}_handleActionMenuItemKeyup(p){const g=(0,Jl.kK)(p),{_actionsMenuNode:v}=this,b=p.currentTarget.dataset.actionUid,{menuActions:C}=this.dividedActions,O=C.findIndex(fe=>fe.uid===b);if(!v)return;const w=v.querySelectorAll("li"),z=w.length;"ArrowUp"!==g?"ArrowDown"!==g?"Home"!==g?"End"!==g||(p.stopPropagation(),w[w.length-1].focus()):(p.stopPropagation(),w[0].focus()):(p.stopPropagation(),w[(O+1+z)%z].focus()):(p.stopPropagation(),w[(O-1+z)%z].focus())}_handleMainKeyup(p){const g=(0,Jl.kK)(p);"ArrowLeft"===g&&(p.stopPropagation(),this.previous()),"ArrowRight"===g&&(p.stopPropagation(),this.next())}_spinnerEnabledChange(p){if(this._destroySpinner(),!p)return;const g=this.get("viewModel.view");this._createSpinner(g)}_hideSpinner(){const{_spinner:p}=this;p&&(p.location=null,p.hide())}_displaySpinner(){const{_spinner:p}=this;if(!p)return;const{location:g,waitingForResult:v}=this.viewModel;v?p.show({location:g}):p.hide()}_getIconStyles(p){return{"background-image":p?`url(${p})`:""}}_shouldFocus(p){var g=this;return(0,dr.Z)(function*(){p.shouldFocus&&(yield(0,gr.N1)(()=>{var v;return!0===(null==(v=g.viewModel)?void 0:v.active)}),g.focus())})()}_addSelectedFeatureIndexHandle(){const p=(0,Yn.YP)(this,"viewModel.selectedFeatureIndex",(g,v)=>this._selectedFeatureIndexUpdated(g,v));this._handles.add(p,kM)}_selectedFeatureIndexUpdated(p,g){const{featureCount:v}=this;v&&p!==g&&-1!==p&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:p}=this;p&&(p.viewModel=null,p&&!p.destroyed&&p.destroy()),this._feature=null}_isScreenLocationWithinView(p,g){return p.x>-1&&p.y>-1&&p.x<=g.width&&p.y<=g.height}_isOutsideView(p){const{popupHeight:g,popupWidth:v,screenLocation:b,side:C,view:O}=p;if(isNaN(v)||isNaN(g)||!O||!b)return!1;const w=O.padding;return"right"===C&&b.x+v/2>O.width-w.right||"left"===C&&b.x-v/2<w.left||"top"===C&&b.y-g<w.top||"bottom"===C&&b.y+g>O.height-w.bottom}_calculateAutoAlignment(p){if("auto"!==p)return p;const{_pointerOffsetInPx:g,_containerNode:v,_mainContainerNode:b,viewModel:C}=this,{screenLocation:O,view:w}=C;if((0,dn.Wi)(O)||!w||!v)return"top-center";if(!this._isScreenLocationWithinView(O,w))return this._get("currentAlignment")||"top-center";function z(Ln){return parseInt(Ln.replace(/[^-\d\.]/g,""),10)}const fe=b?window.getComputedStyle(b,null):null,De=fe?z(fe.getPropertyValue("max-height")):0,Ie=fe?z(fe.getPropertyValue("height")):0,{height:We,width:st}=v.getBoundingClientRect(),yt=st+g,jt=Math.max(We,De,Ie)+g,tn=this._isOutsideView({popupHeight:jt,popupWidth:yt,screenLocation:O,side:"right",view:w}),un=this._isOutsideView({popupHeight:jt,popupWidth:yt,screenLocation:O,side:"left",view:w}),hn=this._isOutsideView({popupHeight:jt,popupWidth:yt,screenLocation:O,side:"top",view:w}),qt=this._isOutsideView({popupHeight:jt,popupWidth:yt,screenLocation:O,side:"bottom",view:w});return un?hn?"bottom-right":"top-right":tn?hn?"bottom-left":"top-left":hn?qt?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(p){return"function"==typeof p?p.call(this):p}_getCurrentAlignment(){const{alignment:p,dockEnabled:g}=this;return g||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(p)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(p){const g=["left","right"];return(0,hi.dZ)(this.container)&&g.reverse(),p.replace(/leading/gi,g[0]).replace(/trailing/gi,g[1])}_callDockPosition(p){return"function"==typeof p?p.call(this):p}_getDockPosition(){var p;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(p=this.dockOptions)?void 0:p.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(p){var g;if("auto"!==p)return p;const v=null==(g=this.viewModel)?void 0:g.view,b=(0,hi.dZ)(this.container)?"top-left":"top-right";if(!v)return b;const C=v.padding||{left:0,right:0,top:0,bottom:0},O=v.width-C.left-C.right,{breakpoints:w}=v;return w&&O<=w.xsmall?"bottom-center":b}_positionContainer(p=this._containerNode){if(p&&(this._containerNode=p),!p)return;const{screenLocation:g}=this.viewModel,{width:v}=p.getBoundingClientRect(),b=this._calculatePositionStyle(g,v);b&&(p.style.top=b.top,p.style.left=b.left,p.style.bottom=b.bottom,p.style.right=b.right)}_calculateFullWidth(p){const{currentAlignment:g,_pointerOffsetInPx:v}=this;return"top-left"===g||"bottom-left"===g||"top-right"===g||"bottom-right"===g?p+v:p}_calculateAlignmentPosition(p,g,v,b){const{currentAlignment:C,_pointerOffsetInPx:O}=this,w=b/2,z=v.height-g,fe=v.width-p,{padding:De}=this.view;return"bottom-center"===C?{top:g+O-De.top,left:p-w-De.left}:"top-left"===C?{bottom:z+O-De.bottom,right:fe+O-De.right}:"bottom-left"===C?{top:g+O-De.top,right:fe+O-De.right}:"top-right"===C?{bottom:z+O-De.bottom,left:p+O-De.left}:"bottom-right"===C?{top:g+O-De.top,left:p+O-De.left}:"top-center"===C?{bottom:z+O-De.bottom,left:p-w-De.left}:void 0}_calculatePositionStyle(p,g){const{dockEnabled:v,view:b}=this;if(!b)return;if(v)return{left:"",top:"",right:"",bottom:""};if((0,dn.Wi)(p)||!g)return;const C=this._calculateFullWidth(g),O=this._calculateAlignmentPosition(p.x,p.y,b,C);return O?{top:void 0!==O.top?`${O.top}px`:"auto",left:void 0!==O.left?`${O.left}px`:"auto",bottom:void 0!==O.bottom?`${O.bottom}px`:"auto",right:void 0!==O.right?`${O.right}px`:"auto"}:void 0}_viewChange(p,g){p&&g&&(this.close(),this.clear())}_viewReadyChange(p,g){if(p){const v=this.get("viewModel.view");this._wireUpView(v)}else g&&(this.close(),this.clear())}_wireUpView(p){if(this._destroySpinner(),!p)return;const{spinnerEnabled:g}=this;g&&this._createSpinner(p),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(p,g,v){const[b,C]=p,[O,w]=g,{width:z,height:fe}=v;return b<=z&&O>z||b>z&&O<=z||C<=fe&&w>fe||C>fe&&w<=fe}_updateDockEnabledForViewSize(p,g){if(!p||!g)return;const v=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},b=v.left+v.right,C=v.top+v.bottom,O=[],w=[];O[0]=p[0]-b,O[1]=p[1]-C,w[0]=g[0]-b,w[1]=g[1]-C;const{dockOptions:z}=this;this._dockingThresholdCrossed(O,w,z.breakpoint)&&this._setDockEnabledForViewSize(z),this._setCurrentDockPosition()}_focusDockButtonNode(p){this._focusDockButton&&(this._focusDockButton=!1,p.focus())}_closeButtonNodeUpdated(p){return this._focusClose?(this._focusClose=!1,void p.focus()):this._blurClose?(this._blurClose=!1,void p.blur()):void 0}_mainContainerNodeUpdated(p){return this._mainContainerNode=p,this._focusContainer?(this._focusContainer=!1,void p.focus()):this._blurContainer?(this._blurContainer=!1,void p.blur()):void 0}_featureMenuNodeUpdated(p){if(this._featureMenuNode=p,!p||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const g=p.querySelectorAll("li");g.length&&g[0].focus()}_actionsMenuNodeUpdated(p){if(this._actionsMenuNode=p,!p||!this._focusFirstAction)return;this._focusFirstAction=!1;const g=p.querySelectorAll("li");g.length&&g[0].focus()}_focusFeatureMenuButtonNode(p){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,p.focus())}_focusActionsMenuButtonNode(p){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,p.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:p,viewModel:g}=this;g&&(g.screenLocationEnabled=g.active&&!p)}_shouldDockAtCurrentViewSize(p){var g,v;const b=p.breakpoint,C=null==(g=this.viewModel)||null==(v=g.view)?void 0:v.ui;if(!C)return!1;const{width:O,height:w}=C;if(isNaN(O)||isNaN(w))return!1;const z=b.hasOwnProperty("width")&&O<=b.width,fe=b.hasOwnProperty("height")&&w<=b.height;return z||fe}_setDockEnabledForViewSize(p){p.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(p))}_getPageText(p,g){return this.featureNavigationVisible?(0,Ko.n)(this.messages.pageText,{index:g+1,total:p}):null}_destroySpinner(){const{_spinner:p,view:g}=this;p&&(g&&g.ui&&g.ui.remove(this._spinner,HM),p.destroy(),this._spinner=null)}_createSpinner(p){p&&(this._spinner=new $R({view:p}),p.ui.add(this._spinner,{key:HM,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const p=!this.featureMenuOpen;this._featureMenuOpenChanged(p),this.actionsMenuOpen=!1,this.featureMenuOpen=p}_toggleActionsMenu(){const p=!this.actionsMenuOpen;this._actionsMenuOpenChanged(p),this.featureMenuOpen=!1,this.actionsMenuOpen=p}_triggerAction(p){const g=p.currentTarget.dataset.actionUid,{allActions:v}=this.viewModel,b=v.findIndex(O=>O.uid===g),C=v.getItemAt(b);C&&"toggle"===C.type&&(C.value=!C.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(b)}_selectFeature(p){const g=p.currentTarget["data-feature-index"];isNaN(g)||(this.viewModel.selectedFeatureIndex=g),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"actionsMenuId",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"actionsMenuButtonId",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"featureMenuId",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"titleId",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"contentId",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"hasContent",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"featureNavigationVisible",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"collapsible",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"featureMenuVisible",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"contentCollapsed",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"dividedActions",null),(0,Re._)([(0,rr.B)("viewModel.actions")],tr.prototype,"actions",void 0),(0,Re._)([(0,ke.Cb)()],tr.prototype,"actionsMenuOpen",null),(0,Re._)([(0,ke.Cb)()],tr.prototype,"alignment",void 0),(0,Re._)([(0,rr.B)("viewModel.autoCloseEnabled")],tr.prototype,"autoCloseEnabled",void 0),(0,Re._)([(0,rr.B)("viewModel.autoOpenEnabled")],tr.prototype,"autoOpenEnabled",void 0),(0,Re._)([(0,rr.B)("viewModel.defaultPopupTemplateEnabled")],tr.prototype,"defaultPopupTemplateEnabled",void 0),(0,Re._)([(0,rr.B)("viewModel.content")],tr.prototype,"content",void 0),(0,Re._)([(0,ke.Cb)()],tr.prototype,"collapsed",void 0),(0,Re._)([(0,ke.Cb)()],tr.prototype,"collapseEnabled",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"currentAlignment",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"currentDockPosition",null),(0,Re._)([(0,ke.Cb)()],tr.prototype,"dockOptions",null),(0,Re._)([(0,ke.Cb)()],tr.prototype,"dockEnabled",void 0),(0,Re._)([(0,rr.B)("viewModel.featureCount")],tr.prototype,"featureCount",void 0),(0,Re._)([(0,ke.Cb)()],tr.prototype,"featureMenuOpen",void 0),(0,Re._)([(0,rr.B)("viewModel.features")],tr.prototype,"features",void 0),(0,Re._)([(0,rr.B)("viewModel.goToOverride")],tr.prototype,"goToOverride",void 0),(0,Re._)([(0,ke.Cb)()],tr.prototype,"headingLevel",void 0),(0,Re._)([(0,rr.B)("viewModel.highlightEnabled")],tr.prototype,"highlightEnabled",void 0),(0,Re._)([(0,rr.B)("viewModel.location")],tr.prototype,"location",void 0),(0,Re._)([(0,ke.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],tr.prototype,"label",void 0),(0,Re._)([(0,ke.Cb)()],tr.prototype,"maxInlineActions",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/Popup/t9n/Popup")],tr.prototype,"messages",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/t9n/common")],tr.prototype,"messagesCommon",void 0),(0,Re._)([(0,rr.B)("viewModel.promises")],tr.prototype,"promises",void 0),(0,Re._)([(0,rr.B)("viewModel.selectedFeature")],tr.prototype,"selectedFeature",void 0),(0,Re._)([(0,rr.B)("viewModel.selectedFeatureIndex")],tr.prototype,"selectedFeatureIndex",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],tr.prototype,"selectedFeatureWidget",null),(0,Re._)([(0,ke.Cb)()],tr.prototype,"spinnerEnabled",void 0),(0,Re._)([(0,rr.B)("viewModel.title")],tr.prototype,"title",void 0),(0,Re._)([(0,rr.B)("viewModel.updateLocationEnabled")],tr.prototype,"updateLocationEnabled",void 0),(0,Re._)([(0,rr.B)("viewModel.view")],tr.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({type:GM}),function c6(p){return g=>{g.hasOwnProperty("_delegatedEventNames")||(g._delegatedEventNames=g._delegatedEventNames?g._delegatedEventNames.slice():[]);const v=g._delegatedEventNames,b=Array.isArray(p)?p:function l6(p){return p.split(",").map(g=>g.trim())}(p);v.push(...b)}}(["triggerAction","trigger-action"])],tr.prototype,"viewModel",void 0),(0,Re._)([(0,rr.B)("viewModel.visible")],tr.prototype,"visible",void 0),(0,Re._)([(0,ke.Cb)()],tr.prototype,"visibleElements",void 0),(0,Re._)([(0,bo.p)("visibleElements")],tr.prototype,"castVisibleElements",null),(0,Re._)([(0,Ki.h)()],tr.prototype,"_close",null),(0,Re._)([(0,Ki.h)()],tr.prototype,"_toggleDockEnabled",null),(0,Re._)([(0,Ki.h)()],tr.prototype,"_toggleFeatureMenu",null),(0,Re._)([(0,Ki.h)()],tr.prototype,"_toggleActionsMenu",null),(0,Re._)([(0,Ki.h)()],tr.prototype,"_triggerAction",null),(0,Re._)([(0,Ki.h)()],tr.prototype,"_selectFeature",null),(0,Re._)([(0,Ki.h)()],tr.prototype,"_next",null),(0,Re._)([(0,Ki.h)()],tr.prototype,"_previous",null),tr=(0,Re._)([(0,zn.j)(QM)],tr);const eC=tr,Jm=[0,0];function tC(p){p&&((0,ua.cS)(p),p.parentNode&&p.parentNode.removeChild(p))}const y6=p=>{let g=class extends p{constructor(...v){super(...v),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch("cursor",b=>{const C=this.surface;C&&C.setAttribute("data-cursor",b)}),this.watch("interacting",b=>{const C=this.surface;C&&C.setAttribute("data-interacting",b.toString())})])}initialize(){this.handles.add(this.watch("ui",(v,b)=>this._handleUIChange(v,b))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(v){const b=this._get("container");if(b===v)return;const C="dom-size";if(this.handles.remove(C),this._stopMeasuring(),b&&(b.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),tC(this.root),this._set("root",null),(0,ua.YD)(this.userContent,b),tC(this.userContent),this._set("userContent",null)),v){v.classList.add("esri-view");const O=document.createElement("div");O.className="esri-view-user-storage",(0,ua.YD)(v,O),v.appendChild(O),this._set("userContent",O);const w=document.createElement("div");w.className="esri-view-root",v.insertBefore(w,v.firstChild),this._set("root",w);const z=document.createElement("div");z.className="esri-view-surface",z.setAttribute("role","application"),z.tabIndex=0,w.appendChild(z),this._set("surface",z);const fe=new Xb;w.appendChild(fe.surface),this._set("overlay",fe),fe.watch("needsRender",De=>{De&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=(0,Va.A)({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add((0,gr.YP)(()=>this.size,De=>{const[Ie,We]=De,st="esri-view-surface--inset-outline";Ie>=document.body.clientWidth||We>=document.body.clientHeight?z.classList.add(st):z.classList.remove(st)},gr.nn),C),this._set("container",v),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const v=document.activeElement===this.surface;return document.hasFocus()&&v}get popup(){return this._get("popup")||new eC({view:this})}set popup(v){const b=this._get("popup");b&&b!==v&&b.destroy(),this._set("popup",v)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(v,b,C){const O=this.position;return v-=O[0],b-=O[1],C?(C[0]=v,C[1]=b):C=[v,b],C}containerToPage(v,b,C){const O=this.position;return v+=O[0],b+=O[1],C?(C[0]=v,C[1]=b):C=[v,b],C}_handleUIChange(v,b){b&&(this.handles.remove("ui"),b.destroy()),v&&this._wireUI(v),this._set("ui",v)}_wireUI(v){this.handles.remove("ui"),v&&(v.view=this,this.handles.add([(0,gr.YP)(()=>this.root,b=>{v.container=b?function p6(p){const g=document.createElement("div");return p.appendChild(g),g}(b):null},gr.nn),(0,gr.YP)(()=>this.popup,(b,C)=>{const O="popup";C&&v.remove(C,O),b&&(b.view=v.view,v.add(b,{key:O,position:"manual"}))},gr.nn)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const v=this._freqInfo;v.freq=16,v.time=750,this.handles.add([(()=>{const b=()=>{v.freq=16,v.time=750};return window.addEventListener("resize",b),{remove(){window.removeEventListener("resize",b)}}})(),(0,Va.A)({prepare:b=>{const C=this._measure(),O=this._freqInfo;if(O.time+=b.deltaTime,C&&(O.freq=16,this._get("resizing")||this._set("resizing",!0)),O.time<O.freq)return;O.time=0;const w=this._position();O.freq=w||C?16:Math.min(750,2*O.freq),!C&&O.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const v=this.container,b=v?v.clientWidth:0,C=v?v.clientHeight:0;if(0===b||0===C)return this.suspended||this._set("suspended",!0),!1;const O=this.width,w=this.height;return b===O&&C===w?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",b),this._set("height",C),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:O,oldHeight:w,width:b,height:C}),!0)}_position(){const b=this.position,C=function h6(p){const g=(p.ownerDocument||window.document).defaultView,v=p.getBoundingClientRect();return Jm[0]=v.left+g.pageXOffset,Jm[1]=v.top+g.pageYOffset,Jm}(this.container);return!(b&&C[0]===b[0]&&C[1]===b[1]||(this._set("position",[C[0],C[1]]),0))}forceDOMReadyCycle(){}};return(0,Re._)([(0,ke.Cb)({value:null,cast:v=>(0,ua.L7)(v)})],g.prototype,"container",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],g.prototype,"focused",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],g.prototype,"height",void 0),(0,Re._)([(0,ke.Cb)({type:eC})],g.prototype,"popup",null),(0,Re._)([(0,ke.Cb)({type:Xb})],g.prototype,"overlay",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],g.prototype,"position",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],g.prototype,"resizing",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],g.prototype,"root",void 0),(0,Re._)([(0,ke.Cb)({value:null,readOnly:!0})],g.prototype,"size",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],g.prototype,"surface",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],g.prototype,"suspended",void 0),(0,Re._)([(0,ke.Cb)()],g.prototype,"ui",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],g.prototype,"userContent",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],g.prototype,"width",void 0),(0,Re._)([(0,ke.Cb)()],g.prototype,"widthBreakpoint",void 0),g=(0,Re._)([(0,zn.j)("esri.views.DOMContainer")],g),g},g6=p=>{let g=class extends p{fetchPopupFeatures(v,b){var C=this;return(0,dr.Z)(function*(){yield C.when();const{location:O,queryArea:w,layerViewsAndGraphics:z,clientOnlyGraphics:fe}=yield C._prepareFetchPopupFeatures(v,b),De=Promise.resolve(fe),Ie=C._queryLayerPopupFeatures(w,z,b),We=Ie.map(st=>st.promise);return{location:O,clientOnlyGraphics:fe,allGraphicsPromise:(0,Fr.WW)([De,...We]).then(B3.xH),promisesPerLayerView:Ie}})()}_queryLayerPopupFeatures(v,b,C){return b.map(({layerView:O,graphics:w})=>{const z={clientGraphics:w,event:(0,dn.pC)(C)?C.event:null,signal:(0,dn.pC)(C)?C.signal:null,defaultPopupTemplateEnabled:!!(0,dn.pC)(C)&&!!C.defaultPopupTemplateEnabled},fe=O.fetchPopupFeatures(v,z);return{layerView:O,promise:fe}})}_isValidPopupGraphic(v,b){return v&&!!v.getEffectivePopupTemplate((0,dn.pC)(b)&&b.defaultPopupTemplateEnabled)}_prepareFetchPopupFeatures(v,b){var C=this;return(0,dr.Z)(function*(){const{clientGraphics:O,queryArea:w,location:z}=yield C._popupHitTestGraphics(v,b),fe=C._getFetchPopupLayerViews(),{layerViewsAndGraphics:De,clientOnlyGraphics:Ie}=C._graphicsPerFetchPopupLayerView(O,fe);return{clientOnlyGraphics:Ie,layerViewsAndGraphics:De,queryArea:w,location:z}})()}_popupHitTestGraphics(v,b){var C=this;return(0,dr.Z)(function*(){const{results:O,mapPoint:w}=yield C.popupHitTest(v),z=O.filter(De=>C._isValidPopupGraphic(De.graphic,b)),fe=z.length?z[0].mapPoint:null;return{clientGraphics:z.map(De=>De.graphic),queryArea:w,location:w||fe}})()}_getFetchPopupLayerViews(){const v=[];return this.allLayerViews.forEach(b=>{this._isValidPopupLayerView(b)&&v.push(b)}),(0,dn.pC)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&v.push(this.graphicsView),v.reverse()}_isValidPopupLayerView(v){return(0,dn.pC)(v)&&(!("layer"in v)||!v.suspended)&&"fetchPopupFeatures"in v}_graphicsPerFetchPopupLayerView(v,b){const C=[],O=new Map,w=b.map(z=>{const fe=[];return O.set("layer"in z?z.layer:z.graphics,fe),{layerView:z,graphics:fe}});for(const z of v){const fe=O.get(z.layer)||O.get(z.sourceLayer)||null;fe?fe.push(z):C.push(z)}return{layerViewsAndGraphics:w,clientOnlyGraphics:C}}};return g=(0,Re._)([(0,zn.j)("esri.views.PopupView")],g),g};var _6=E(97478),nC=E(54024),rC=E(60330),Ym=E(28705),Qm=E(79334),sC=E(65234);const v6=Rs.Z.getLogger("esri.support.AnalysesCollection");let bh=class extends Ym.a{constructor(p){super(p),this.handles.add(this.on("before-add",g=>{(0,dn.Wi)(g.item)||g.item.parent===this.owner&&(v6.warn("Analysis inside the collection must be unique. Not adding this element again."),g.preventDefault())}))}_own(p){p.parent=this.owner}_release(p){p.parent=null}};bh=(0,Re._)([(0,zn.j)("esri.support.AnalysesCollection")],bh);var iC=E(51815);let fa=class extends Br.Z{constructor(p){super(p),this.view=null,this.baseLayerViews=new Ls.Z,this.referenceLayerViews=new Ls.Z,this._loadingHandle=(0,Yn.S1)(this,"view.map.basemap",g=>{g&&g.load().catch(()=>{})})}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var p,g;if(this.view&&this.view.suspended)return!1;const v=null==(p=this.view)||null==(g=p.map)?void 0:g.basemap;return!!v&&!!v.loaded&&(this.baseLayerViews.some(b=>b.updating)||this.referenceLayerViews.some(b=>b.updating))}};(0,Re._)([(0,ke.Cb)({constructOnly:!0})],fa.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],fa.prototype,"baseLayerViews",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],fa.prototype,"referenceLayerViews",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],fa.prototype,"suspended",null),(0,Re._)([(0,ke.Cb)({type:Boolean,readOnly:!0})],fa.prototype,"updating",null),fa=(0,Re._)([(0,zn.j)("esri.views.BasemapView")],fa);var Mh=E(88159);const E6=Rs.Z.getLogger("esri.views.LayerViewManager");class b6{constructor(g,v,b){this.layer=g,this.view=v,this.layerViewImporter=b,this._controller=new AbortController,this._deferred=(0,Fr.dD)(),this._started=!1,this.done=!1,(0,Fr.fu)(this._controller.signal,()=>{const C=new er.Z("cancelled:layerview-create","layerview creation cancelled",{layer:g});this._deferred.reject(C)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:g}=this;if(!g)return;const{layer:v,view:b}=this;v.emit("layerview-destroy",{view:b,layerView:g}),b.emit("layerview-destroy",{layer:v,layerView:g}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}start(){var g=this;return(0,dr.Z)(function*(){if(g._started)return;g._started=!0;const{_controller:{signal:v},layer:b,view:C}=g;g._map=C.map;try{var O,w;let z,fe;if(yield b.load({signal:v}),"prefetchResources"in b&&(yield b.prefetchResources({signal:v})),b.createLayerView)z=yield b.createLayerView(C,{signal:v});else{if(!g.layerViewImporter.hasLayerViewModule(b))throw new er.Z("layer:view-not-supported","No layerview implementation was found");const Ie=yield g.layerViewImporter.importLayerView(b);(0,Fr.k_)(v),z="default"in Ie?new Ie.default({layer:b,view:C}):new Ie({layer:b,view:C})}const De=()=>{fe=(0,dn.hw)(fe),z.destroyed||z.destroy(),z.layer=null,z.parent=null,z.view=null,g.done=!0};fe=(0,Fr.fu)(v,De),(0,Fr.k_)(v);try{yield z.when()}catch(Ie){throw De(),Ie}if(!(null==(O=g._map)||null==(w=O.allLayers)?void 0:w.includes(b)))return De(),void g._deferred.reject(new er.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:b}));g.layerView=z,b.emit("layerview-create",{view:C,layerView:z}),C.emit("layerview-create",{layer:b,layerView:z}),g.done=!0,g._deferred.resolve(z)}catch(z){b.emit("layerview-create-error",{view:C,error:z}),C.emit("layerview-create-error",{layer:b,error:z}),g.done=!0,g._deferred.reject(new er.Z("layerview:create-error","layerview creation failed",{layer:b,error:z}))}})()}}let zi=class extends Za.r{constructor(p){super(p),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new Qb.t,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var g;const v=null==(g=this.view.map)?void 0:g.allLayers;if(v)for(const b of v)this.layerViewImporter.hasLayerViewModule(b)&&this.layerViewImporter.importLayerView(b)},this._reschedule=()=>((0,dn.Wi)(this._workPromise)&&(this._workPromise=(0,Fr.dD)()),this.handles.remove("reschedule"),this.handles.add((0,Va.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var g,v,b;const C=this.view.map;if(this._map!==C&&(this.clear(),this._map=C),(0,dn.Wi)(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const O=new kl.Z({getCollections:()=>this._rootCollectionNames.map(fe=>this.get(fe)),getChildrenFunction:fe=>fe&&"layers"in fe?fe.layers:null});if(!O)return this._workPromise.resolve(),void(this._workPromise=null);for(const fe of O)this._createLayerView(fe);this._refreshCollections();for(const[fe,De]of this._layerLayerViewInfoMap)O.includes(fe)||(this._layerLayerViewInfoMap.delete(De.layer),De.destroy());const w=O.filter(fe=>"group"===fe.type).map(fe=>fe.layers),z=[null==C||null==(g=C.ground)?void 0:g.layers,null==C||null==(v=C.basemap)?void 0:v.baseLayers,null==C||null==(b=C.basemap)?void 0:b.referenceLayers,null==C?void 0:C.layers,...w].filter(fe=>!!fe);this.handles.add(z.map(fe=>this._watchUpdatingTracking.addOnCollectionChange(()=>fe,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([(0,gr.on)(()=>{var p,g;return null==(p=this.view)||null==(g=p.map)?void 0:g.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,gr.YP)(()=>{const p=this.view,g=null==p?void 0:p.map;return[null==g?void 0:g.basemap,null==g?void 0:g.ground,null==g?void 0:g.layers,null==p?void 0:p.ready]},()=>this._reschedule(),gr.tX)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const p=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&p.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(p)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return(0,dn.pC)(this._workPromise)||this._watchUpdatingTracking.updating||(0,Mh.oE)(this._layerLayerViewInfoMap,p=>!p.done)}get updatingRemaining(){let p=0;for(const g of this._layerLayerViewInfoMap.values())g.done||++p;return p}clear(){if(!this.destroyed){for(const p of this._layerLayerViewInfoMap.values())p.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}whenLayerView(p){var g=this;return(0,dr.Z)(function*(){if(yield g._reschedule(),!g._layerLayerViewInfoMap.has(p))throw new er.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:p});return g._layerLayerViewInfoMap.get(p).promise})()}_refreshCollections(){for(const[p,g]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(p),this.get(g),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(p,g,v){if(!p||!g)return void(g&&g.removeAll());let b=0;for(const C of p){const O=this._layerLayerViewInfoMap.get(C);if(!O||!O.layerView)continue;const w=O.layerView;w.layer=C,w.parent=v,g.getItemAt(b)!==w&&g.splice(b,0,w),C.layers&&this._populateLayerViewsOwners(C.layers,w.layerViews,w),b+=1}b<g.length&&g.splice(b,g.length)}_createLayerView(p){if(this._layerLayerViewInfoMap.has(p))return this.view.ready&&this._layerLayerViewInfoMap.get(p).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");p.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(p)&&this.layerViewImporter.importLayerView(p);const g=new b6(p,this.view,this.layerViewImporter);g.promise.then(()=>this._refreshCollections(),v=>{var b,C;v&&((0,Fr.D_)(v)||"cancelled:layerview-create"===v.name)||E6.error(`Failed to create layerview for layer title:'${null!=(b=p.title)?b:"no title"}', id:'${null!=(C=p.id)?C:"no id"}' of type '${p.type}'.`,{layer:p,error:v}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(p,g),this.view.ready&&g.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,Re._)([(0,ke.Cb)()],zi.prototype,"_workPromise",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zi.prototype,"_watchUpdatingTracking",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zi.prototype,"_layersToLayerViews",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zi.prototype,"_rootCollectionNames",null),(0,Re._)([(0,ke.Cb)()],zi.prototype,"layerViewImporter",void 0),(0,Re._)([(0,ke.Cb)()],zi.prototype,"supportsGround",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zi.prototype,"updating",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zi.prototype,"updatingRemaining",null),(0,Re._)([(0,ke.Cb)({constructOnly:!0})],zi.prototype,"view",void 0),zi=(0,Re._)([(0,zn.j)("esri.views.LayerViewManager")],zi);const M6=zi;let Ri=class extends Br.Z{constructor(p){super(p),this.factor=1.5,this.offset=(0,bi.vW)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,Re._)([(0,ke.Cb)({type:Number})],Ri.prototype,"factor",void 0),(0,Re._)([(0,ke.Cb)({nonNullable:!0})],Ri.prototype,"offset",void 0),(0,Re._)([(0,ke.Cb)()],Ri.prototype,"position",void 0),(0,Re._)([(0,ke.Cb)({type:Number,range:{min:0}})],Ri.prototype,"size",void 0),(0,Re._)([(0,ke.Cb)()],Ri.prototype,"maskUrl",void 0),(0,Re._)([(0,ke.Cb)()],Ri.prototype,"maskEnabled",void 0),(0,Re._)([(0,ke.Cb)()],Ri.prototype,"overlayUrl",void 0),(0,Re._)([(0,ke.Cb)()],Ri.prototype,"overlayEnabled",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Ri.prototype,"version",null),(0,Re._)([(0,ke.Cb)({type:Boolean})],Ri.prototype,"visible",void 0),Ri=(0,Re._)([(0,zn.j)("esri.views.Magnifier")],Ri);const oC=Ri;var aC=E(74447);let mc=class extends Br.Z{constructor(p,g){var v;super({}),this._stage=p,this._textureRequests=new Map,this._frameTask=null!=(v=null==g?void 0:g.registerTask(aC.T8.TEXTURE_UNLOAD))?v:aC.sq}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(p=>this._releaseTextureRequest(p)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(p,g,v){const b=this.makeUid(p);let C=this._textureRequests.get(b);return C||(C={referenceCount:0,texture:g(),textureAsync:null,abortController:null,onRemove:v},this._stage&&(this._stage.add(C.texture),this._stage.loadImmediate(C.texture)),this._textureRequests.set(b,C)),C.referenceCount++,{uid:b,texture:C.texture,release:()=>this._release(b)}}_release(p){const g=this._textureRequests.get(p);g?(g.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+p),g.referenceCount--,g.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(p))):console.warn(`TextureCollection: texture doesn't exist: '${p}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(p){if(!this._textureRequests)return;const g=this._textureRequests.get(p);!g||g.referenceCount>0||(this._releaseTextureRequest(g),this._textureRequests.delete(p))}_releaseTextureRequest(p){var g;p.onRemove&&p.onRemove(),p.texture?null==(g=this._stage)||g.remove(p.texture):p.abortController&&(p.abortController.abort(),p.abortController=null)}makeUid(p,g=null){return(0,dn.pC)(g)?`${p}.${g}px`:p}};(0,Re._)([(0,ke.Cb)()],mc.prototype,"_frameTask",void 0),(0,Re._)([(0,ke.Cb)()],mc.prototype,"updating",null),mc=(0,Re._)([(0,zn.j)("esri.views.3d.support.TextureCollection")],mc);var lC,p,Ks=E(35216);(p=lC||(lC={}))[p.Left=0]="Left",p[p.Middle=1]="Middle",p[p.Right=2]="Right";const uC=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],cC={};function dC(p){return!!cC[p]}uC.forEach(p=>{cC[p]=!0});class D6{constructor(g){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=g,this.inputManager=null}connect(g){g&&this.disconnect(),this.inputManager=g,this.handlers.forEach(({handler:v,priority:b},C)=>this.inputManager.installHandlers(C,[v],b))}disconnect(){this.inputManager&&this.handlers.forEach((g,v)=>this.inputManager.uninstallHandlers(v)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(g,v,b,C){const O=Array.isArray(g)?g:g.split(",");if(!function C6(p){for(const g of p)if(!dC(g))return!1;return!0}(O))return O.some(dC)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let w,z;Array.isArray(v)?z=v:(w=v,z=[]),"function"==typeof b?w=b:C=b,C=null!=C?C:nu.f.DEFAULT;const fe=this._createUniqueGroupName(),De=new O6(this.view,O,z,w);this.handlers.set(fe,{handler:De,priority:C});for(const Ie of O){const We=this.handlerCounts.get(Ie)||0;this.handlerCounts.set(Ie,We+1)}return this.inputManager&&this.inputManager.installHandlers(fe,[De],C),{remove:()=>this._removeHandler(fe,O)}}hasHandler(g){return!!this.handlerCounts.get(g)}_removeHandler(g,v){if(this.handlers.has(g)){this.handlers.delete(g);for(const b of v){const C=this.handlerCounts.get(b);void 0===C?console.error("Trying to remove handler for event that has no handlers registered: ",b):1===C?this.handlerCounts.delete(b):this.handlerCounts.set(b,C-1)}}this.inputManager&&this.inputManager.uninstallHandlers(g)}_createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class O6 extends Ks.a{constructor(g,v,b,C){super(!0),this.view=g;for(const O of v)switch(O){case"click":this.registerIncoming("click",b,w=>C(this._wrapClick(w)));break;case"double-click":this.registerIncoming("double-click",b,w=>C(this._wrapDoubleClick(w)));break;case"immediate-click":this.registerIncoming("immediate-click",b,w=>C(this._wrapImmediateClick(w)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",b,w=>C(this._wrapImmediateDoubleClick(w)));break;case"hold":this.registerIncoming("hold",b,w=>C(this._wrapHold(w)));break;case"drag":this.registerIncoming("drag",b,w=>{const z=this._wrapDrag(w);z&&C(z)});break;case"key-down":this.registerIncoming("key-down",b,w=>C(this._wrapKeyDown(w)));break;case"key-up":this.registerIncoming("key-up",b,w=>C(this._wrapKeyUp(w)));break;case"pointer-down":this.registerIncoming("pointer-down",b,w=>C(this._wrapPointer(w,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",b,w=>C(this._wrapPointer(w,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",b,w=>C(this._wrapPointer(w,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",b,w=>C(this._wrapPointerDrag(w)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",b,w=>C(this._wrapMouseWheel(w)));break;case"pointer-enter":this.registerIncoming("pointer-enter",b,w=>C(this._wrapPointer(w,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",b,w=>C(this._wrapPointer(w,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",b,w=>{C(this._wrapGamepad(w))});break;case"focus":this.registerIncoming("focus",b,w=>{C(this._wrapFocus(w))});break;case"blur":this.registerIncoming("blur",b,w=>{C(this._wrapBlur(w))})}}_wrapFocus(g){return{type:"focus",timestamp:g.timestamp,native:g.data.native,cancelable:g.cancelable,stopPropagation:()=>g.stopPropagation(),async:v=>g.async(v),preventDefault:()=>g.preventDefault()}}_wrapBlur(g){return{type:"blur",timestamp:g.timestamp,native:g.data.native,cancelable:g.cancelable,stopPropagation:()=>g.stopPropagation(),async:v=>g.async(v),preventDefault:()=>g.preventDefault()}}_wrapClick(g){const{pointerType:v,button:b,buttons:C,x:O,y:w,native:z,eventId:fe}=g.data,{cancelable:De,timestamp:Ie}=g;return{type:"click",pointerType:v,button:b,buttons:C,x:O,y:w,native:z,timestamp:Ie,screenPoint:(0,bi.vW)(O,w),mapPoint:this._getMapPoint(O,w),eventId:fe,cancelable:De,stopPropagation:()=>g.stopPropagation(),async:We=>g.async(We),preventDefault:()=>g.preventDefault()}}_wrapDoubleClick(g){const{pointerType:v,button:b,buttons:C,x:O,y:w,native:z,eventId:fe}=g.data,{cancelable:De,timestamp:Ie}=g;return{type:"double-click",pointerType:v,button:b,buttons:C,x:O,y:w,native:z,timestamp:Ie,mapPoint:this._getMapPoint(O,w),eventId:fe,cancelable:De,stopPropagation:()=>g.stopPropagation(),async:We=>g.async(We),preventDefault:()=>g.preventDefault()}}_wrapImmediateClick(g){const{pointerType:v,button:b,buttons:C,x:O,y:w,native:z,eventId:fe}=g.data,De=z.pointerId,{cancelable:Ie,timestamp:We}=g;return{type:"immediate-click",pointerId:De,pointerType:v,button:b,buttons:C,x:O,y:w,native:z,timestamp:We,mapPoint:this._getMapPoint(O,w),eventId:fe,cancelable:Ie,stopPropagation:()=>g.stopPropagation(),async:st=>g.async(st),preventDefault:()=>g.preventDefault()}}_wrapImmediateDoubleClick(g){const{pointerType:v,button:b,buttons:C,x:O,y:w,native:z,eventId:fe}=g.data,De=z.pointerId,{cancelable:Ie,timestamp:We}=g;return{type:"immediate-double-click",pointerId:De,pointerType:v,button:b,buttons:C,x:O,y:w,native:z,timestamp:We,mapPoint:this._getMapPoint(O,w),eventId:fe,cancelable:Ie,stopPropagation:()=>g.stopPropagation(),async:st=>g.async(st),preventDefault:()=>g.preventDefault()}}_wrapHold(g){const{pointerType:v,button:b,buttons:C,x:O,y:w,native:z}=g.data,{cancelable:fe,timestamp:De}=g;return{type:"hold",pointerType:v,button:b,buttons:C,x:O,y:w,native:z,timestamp:De,mapPoint:this._getMapPoint(O,w),cancelable:fe,stopPropagation:()=>g.stopPropagation(),async:Ie=>g.async(Ie),preventDefault:()=>g.preventDefault()}}_getMapPoint(g,v){return this.view.toMap((0,bi.vW)(g,v),{exclude:[]})}_wrapDrag(g){const v=g.data,{x:b,y:C}=v.center,{action:O,pointerType:w,button:z}=v;if("start"===O&&(this.latestDragStart=v),!this.latestDragStart)return;const fe=v.pointer.native,De=v.buttons,{cancelable:Ie,timestamp:We}=g,st={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===O&&(this.latestDragStart=void 0),{type:"drag",action:O,x:b,y:C,origin:st,pointerType:w,button:z,buttons:De,radius:v.radius,angle:(0,ic.BV)(v.angle),native:fe,timestamp:We,cancelable:Ie,stopPropagation:()=>g.stopPropagation(),async:yt=>g.async(yt),preventDefault:()=>g.preventDefault()}}_wrapKeyDown(g){const{key:v,repeat:b,native:C}=g.data,{cancelable:O,timestamp:w}=g;return{type:"key-down",key:v,repeat:b,native:C,timestamp:w,cancelable:O,stopPropagation:()=>g.stopPropagation(),async:z=>g.async(z),preventDefault:()=>g.preventDefault()}}_wrapKeyUp(g){const{key:v,native:b}=g.data,{cancelable:C,timestamp:O}=g;return{type:"key-up",key:v,native:b,timestamp:O,cancelable:C,stopPropagation:()=>g.stopPropagation(),async:w=>g.async(w),preventDefault:()=>g.preventDefault()}}_wrapPointer(g,v){const{x:b,y:C,button:O,buttons:w,native:z,eventId:fe}=g.data,De=z.pointerId,Ie=z.pointerType,{cancelable:We,timestamp:st}=g;return{type:v,x:b,y:C,pointerId:De,pointerType:Ie,button:O,buttons:w,native:z,timestamp:st,eventId:fe,cancelable:We,stopPropagation:()=>g.stopPropagation(),async:yt=>g.async(yt),preventDefault:()=>g.preventDefault()}}_wrapPointerDrag(g){const{x:v,y:b,buttons:C,native:O,eventId:w}=g.data.currentEvent,{button:z}=g.data.startEvent,fe=g.data.startEvent.native.pointerId,De=g.data.startEvent.native.pointerType,Ie=g.data.action,We={x:g.data.startEvent.x,y:g.data.startEvent.y},{cancelable:st,timestamp:yt}=g;return{type:"pointer-drag",x:v,y:b,pointerId:fe,pointerType:De,button:z,buttons:C,action:Ie,origin:We,native:O,timestamp:yt,eventId:w,cancelable:st,stopPropagation:()=>g.stopPropagation(),async:jt=>g.async(jt),preventDefault:()=>g.preventDefault()}}_wrapMouseWheel(g){const{cancelable:v,data:b,timestamp:C}=g,{x:O,y:w,deltaY:z,native:fe}=b;return{type:"mouse-wheel",x:O,y:w,deltaY:z,native:fe,timestamp:C,cancelable:v,stopPropagation:()=>g.stopPropagation(),async:De=>g.async(De),preventDefault:()=>g.preventDefault()}}_wrapGamepad(g){const{action:v,state:b,device:C}=g.data,{cancelable:O,timestamp:w}=g,{buttons:z,axes:fe}=b;return{type:"gamepad",device:C,timestamp:w,action:v,buttons:z,axes:fe,cancelable:O,stopPropagation:()=>g.stopPropagation(),async:De=>g.async(De),preventDefault:()=>g.preventDefault()}}}var yc,hC,pC;(function(p){p[p.USER=0]="USER",p[p.MANAGER=1]="MANAGER"})(yc||(yc={})),function(p){p[p.None=0]="None",p[p.Unfocused=1]="Unfocused",p[p.Focused=2]="Focused",p[p.Unselected=4]="Unselected",p[p.Selected=8]="Selected",p[p.All=15]="All"}(hC||(hC={})),function(p){p[p.None=0]="None",p[p.Custom1=16]="Custom1",p[p.Custom2=32]="Custom2",p[p.Custom3=64]="Custom3",p[p.Custom4=128]="Custom4",p[p.Custom5=256]="Custom5",p[p.Custom6=512]="Custom6",p[p.Custom7=1024]="Custom7",p[p.Custom8=2048]="Custom8",p[p.Custom9=4096]="Custom9",p[p.Custom10=8192]="Custom10",p[p.Custom11=16384]="Custom11",p[p.Custom12=32768]="Custom12",p[p.All=65520]="All"}(pC||(pC={}));const P6=Rs.Z.getLogger("esri.views.interactive.interactiveToolUtils");function T6(p){return[p.on("before-add",g=>{const v=g.item;if(null==v||p.includes(v))return P6.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void g.preventDefault()}),p.on("after-remove",g=>{const v=g.item;v.visible=!1,v.active&&(v.view.activeTool=null),v.destroy()})]}function Ch(p){return p.visible&&p.getEditableFlag(yc.USER)&&p.getEditableFlag(yc.MANAGER)}function Oo(p){return(0,bi.vW)(p.x,p.y)}function fC(p,g){const v=(p instanceof HTMLElement?p:p.surface).getBoundingClientRect();return(0,bi.vW)(g.clientX-v.left,g.clientY-v.top)}function mC(p,g){return g instanceof Event?fC(p,g):Oo(g)}function yC(p){if(p instanceof Event)return!0;if("object"==typeof p&&"type"in p)switch(p.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class S6{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(g,v){const b=()=>g.stopPropagation();switch(g.type){case"pointer-move":gC(g.pointerType)&&this._pointerLocations.set(g.pointerId,{x:g.x,y:g.y,pointerType:g.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(b(),"end"===g.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!_C(g))break;const C=Oo(g),O=this._intersect(C,g.pointerType,v.forEachTool);if((0,dn.Wi)(O))break;const w=this._findToolAndManipulatorByKey(O,v.forEachTool,Dh),z=(0,dn.yw)(w,De=>De.manipulator),fe=(0,dn.yw)(w,De=>De.tool);!((0,dn.pC)(z)&&(0,dn.pC)(fe)&&z.interactive)||z.grabbable&&z.grabbableForEvent(g)||!z.grabbing||z.dragging||this._ungrabManipulatorBeforeDragging(z,fe,g),(0,dn.pC)(z)&&z.interactive&&z.grabbable&&z.grabbableForEvent(g)&&!z.grabbing&&(this._grabbedManipulators.set(g.pointerId,{key:O,start:C,pointerType:g.pointerType}),1===this._grabbedManipulators.size&&v.activeTool!==O.tool&&(this._currentlyActiveTool=v.activeTool,this._revertToActiveTool=!0,v.setActiveTool(O.tool)),z.grabbing=!0,z.events.emit("grab-changed",{action:"start",pointerType:g.pointerType,screenPoint:C}),b());break}case"pointer-up":this._handlePointerEnd(g,v);break;case"pointer-drag":{if(!_C(g))break;const C=this._grabbedManipulators.get(g.pointerId),O=this._draggedManipulators.get(g.pointerId),w=(0,dn.yw)(C||O,({key:Ie})=>Ie),z=this._findManipulatorByKey(w,v.forEachTool);if((0,dn.Wi)(z))break;const fe=Oo(g);fe.x=(0,ic.uZ)(fe.x,0,v.view.width),fe.y=(0,ic.uZ)(fe.y,0,v.view.height);const De=(0,dn.Wg)(C||O).start;switch(g.action){case"start":case"update":"update"!==g.action&&1!==this._grabbedManipulators.size||(z.dragging=!0,z.events.emit("drag",O?{action:"update",start:De,screenPoint:fe}:{action:"start",start:De,screenPoint:fe,pointerType:g.pointerType}),this._draggedManipulators.set(g.pointerId,{key:(0,dn.Wg)(w),start:De}));break;case"end":z.dragging=!1,O&&z.events.emit("drag",{action:"end",start:De,screenPoint:fe}),this._draggedManipulators.delete(g.pointerId),this._handlePointerEnd(g,v)}b();break}case"immediate-click":{const C=Oo(g),O=this._intersect(C,g.pointerType,v.forEachTool),w=this._findToolAndManipulatorByKey(O,v.forEachTool,Dh);if(function I6(p){return!!p.native.shiftKey}(g)||v.forEachTool(Ie=>{if((!(0,dn.pC)(w)||w.tool!==Ie||Ie.automaticManipulatorSelection)&&Ie.manipulators){let We=!1;Ie.manipulators.forEach(({manipulator:st})=>{st.selected&&(st.selected=!1,We=!0)}),We&&Ie.manipulatorSelectionChanged&&Ie.manipulatorSelectionChanged()}}),(0,dn.Wi)(w))break;const{manipulator:z,tool:fe}=w;if(!z.interactive)break;z.selectable&&fe.automaticManipulatorSelection&&(z.selected=!z.selected,fe.manipulatorSelectionChanged&&fe.manipulatorSelectionChanged()),z.events.emit("immediate-click",{screenPoint:C,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:b});break}case"click":{const C=Oo(g),O=this._intersect(C,g.pointerType,v.forEachTool),w=this._findManipulatorByKey(O,v.forEachTool);if((0,dn.Wi)(w)||!w.interactive)break;w.events.emit(g.type,{screenPoint:C,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey}),b();break}case"double-click":{const C=Oo(g),O=this._intersect(C,g.pointerType,v.forEachTool),w=this._findManipulatorByKey(O,v.forEachTool);if((0,dn.Wi)(w)||!w.interactive)break;w.events.emit("double-click",{screenPoint:C,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:b});break}case"immediate-double-click":{const C=Oo(g),O=this._intersect(C,g.pointerType,v.forEachTool),w=this._findManipulatorByKey(O,v.forEachTool);if((0,dn.Wi)(w)||!w.interactive)break;w.events.emit("immediate-double-click",{screenPoint:C,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:b});break}}this._updateCursor(v.forEachTool)}_ungrabManipulatorBeforeDragging(g,v,b){g.grabbing=!1,g.events.emit("grab-changed",{action:"end",pointerType:b.pointerType,screenPoint:Oo(b)}),this._grabbedManipulators.forEach(({key:C},O)=>{C.tool===v&&v.manipulators.findById(C.manipulatorId)===g&&this._grabbedManipulators.delete(O)})}_handlePointerEnd(g,v){const b=(0,dn.yw)(this._grabbedManipulators.get(g.pointerId),({key:O})=>O),C=this._findManipulatorByKey(b,v.forEachTool);(0,dn.pC)(C)&&!C.dragging&&(1===this._grabbedManipulators.size&&0===this._draggedManipulators.size&&this._revertToActiveTool&&(v.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),C.grabbing&&(C.grabbing=!1,C.events.emit("grab-changed",{action:"end",pointerType:g.pointerType,screenPoint:Oo(g)})),this._grabbedManipulators.delete(g.pointerId))}_cursorFromMap(g,v){let b=null;return(0,Mh.oE)(g,({key:C})=>{const O=this._findManipulatorByKey(C,v);return!!((0,dn.pC)(O)&&O.interactive&&"cursor"in O&&O.cursor)&&(b=O.cursor,!0)}),b}_updateCursor(g){this._cursor=this._grabbedManipulators.size>0?this._cursorFromMap(this._grabbedManipulators,g)||"grabbing":this._hoveredManipulators.size>0?this._cursorFromMap(this._hoveredManipulators,g)||"pointer":null}clearPointers(g,v,b=!0,C){const O=w=>w.tool===g&&((0,dn.Wi)(C)||w.manipulatorId===C);this._grabbedManipulators.forEach(({key:w,pointerType:z},fe)=>{if(O(w)){this._grabbedManipulators.delete(fe);const De=this._findManipulatorByKey(w,v);(0,dn.pC)(De)&&(De.grabbing=!1,De.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:z}))}}),this._draggedManipulators.forEach(({key:w},z)=>{if(O(w)){this._draggedManipulators.delete(z);const fe=this._findManipulatorByKey(w,v);(0,dn.pC)(fe)&&(fe.dragging=!1,fe.events.emit("drag",{action:"cancel"}))}}),b&&this._hoveredManipulators.forEach(({key:w},z)=>{if(O(w)){this._hoveredManipulators.delete(z);const fe=this._findManipulatorByKey(w,v);(0,dn.pC)(fe)&&(fe.hovering=!1)}}),this._updateCursor(v)}_intersect(g,v,b){let C=null;return b(O=>{if(null==O.manipulators||!Ch(O))return!1;const w=O.manipulators.intersect(g,v);return!(0,dn.Wi)(w)&&(C={manipulatorId:w.id,tool:O},!0)}),C}updateHoveredStateFromKnownPointers(g){this._pointerLocations.forEach((v,b)=>{this._updateHoveredStateForPointerAtScreenPosition((0,bi.vW)(v.x,v.y),b,v.pointerType,g)})}handleHoverEvent(g,v){"pointer-up"!==g.type&&"immediate-click"!==g.type&&"pointer-move"!==g.type||!gC(g.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Oo(g),g.pointerId,g.pointerType,v)}_updateHoveredStateForPointerAtScreenPosition(g,v,b,C){const O=this._intersect(g,b,C);let w=this._findManipulatorByKey(O,C);const z=(0,dn.yw)(this._hoveredManipulators.get(v),({key:De})=>De),fe=this._findManipulatorByKey(z,C);(0,dn.pC)(w)&&!w.interactive&&(w=null),fe!==w&&((0,dn.pC)(fe)&&(fe.hovering=!1),(0,dn.pC)(w)?(w.hovering=!0,this._hoveredManipulators.set(v,{key:(0,dn.Wg)(O)})):this._hoveredManipulators.delete(v),this._updateCursor(C))}_findManipulatorByKey(g,v){return this._findToolAndManipulatorByKey(g,v,Dh)?Dh.manipulator:null}_findToolAndManipulatorByKey(g,v,b){return(0,dn.Wi)(g)?null:(b.tool=null,b.manipulator=null,v(C=>{if(C!==g.tool||null==C.manipulators||!Ch(C))return!1;const O=C.manipulators.findById(g.manipulatorId);return!!(0,dn.pC)(O)&&(b.manipulator=O,b.tool=C,!0)}),b.manipulator?b:null)}}function gC(p){return"mouse"===p}function _C(p){return"mouse"!==p.pointerType||0===p.button}const Dh={manipulator:null,tool:null},vC=Rs.Z.getLogger("esri.views.ToolViewManager"),EC="attached",Xm="tools";let Go=class extends Za.r{constructor(p){super(p),this._manipulatorState=new S6,this.tools=new Ls.Z,this.cursor=null,this._forEachTool=g=>{for(const v of this.tools.items)if(g(v))return}}initialize(){this.handles.add([this.view.on(uC,p=>{this._handleInputEvent(p)},nu.f.TOOL),...T6(this.tools),this.tools.on("before-remove",({item:p})=>{this._manipulatorState.clearPointers(p,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}set activeTool(p){if((0,dn.pC)(p)&&!this.view.ready)return void vC.error("Cannot set active tool while view is not ready.");if(p===this.activeTool)return void((0,dn.pC)(p)&&vC.warn("Tool is already active - ignoring activation request."));const g=this.activeTool;this._set("activeTool",p),(0,dn.pC)(g)&&g.deactivate(),(0,dn.pC)(p)&&p.activate(),this._removeIncompleteTools(p);const v=(0,dn.Wi)(this.activeTool);for(const b of this.tools){b.setEditableFlag(yc.MANAGER,v||b===this.activeTool);const C=Ch(b);!v&&C||this._manipulatorState.clearPointers(b,this._forEachTool,!C)}this._updateCursor()}get updating(){var p,g;return this.updatingHandles.updating||this.tools.some(v=>v.updating)||null!=(p=null==(g=this.textures)?void 0:g.updating)&&p}attach(){"3d"===this.view.type?(this._set("textures",new mc(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([this.view.state.watch("camera",()=>{this._forEachManipulator(p=>{null!=p.onViewChange&&p.onViewChange()})}),this.view.elevationProvider.on("elevation-change",p=>{this._forEachManipulator(g=>{null!=g.onElevationChange&&g.onElevationChange(p)})}),(0,nC.kB)(()=>this._set("textures",(0,dn.SC)(this.textures)))],EC)):this.handles.add(this.view.watch("extent",()=>{this._forEachManipulator(p=>{null!=p.onViewChange&&p.onViewChange()})}))}detach(){(0,dn.pC)(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(EC)}_forEachManipulator(p){this._forEachTool(g=>{g.manipulators&&g.manipulators.forEach(({manipulator:v})=>p(v,g))})}_handleInputEvent(p){let g=!1;const v=$n(Pt({},p),{stopPropagation:()=>{g=!0,p.stopPropagation()}});(0,dn.pC)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(v):this._forEachTool(b=>{!g&&b.visible&&b.handleInputEvent(v)}),!g&&"key-down"===p.type&&"Escape"===p.key&&this.activeTool&&(p.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(v,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:b=>{this.activeTool=b},view:this.view}),!g&&(0,dn.pC)(this.activeTool)&&this.activeTool.handleInputEventAfter(v),this._manipulatorState.handleHoverEvent(v,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(Xm),this._forEachTool(p=>{if(p instanceof Br.Z){const g=(0,Yn.YP)(p,["cursor","visible","editable"],()=>{Ch(p)||this._manipulatorState.clearPointers(p,this._forEachTool),this._updateCursor()});this.handles.add(g,Xm)}p.manipulators&&this.handles.add(p.manipulators.on("change",g=>{g.removed.forEach(({id:v})=>{this._manipulatorState.clearPointers(p,this._forEachTool,!0,v)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),Xm)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let p=this._manipulatorState.cursor;this._forEachTool(g=>!(!(0,dn.pC)(g.cursor)||!g.visible||(p=g.cursor,0))),this._get("cursor")!==p&&this._set("cursor",p)}_removeIncompleteTools(p){this.tools.filter(g=>((0,dn.Wi)(p)||g!==p)&&!g.created).forEach(g=>{this.tools.remove(g)})}};(0,Re._)([(0,ke.Cb)({constructOnly:!0,nonNullable:!0})],Go.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,nonNullable:!0})],Go.prototype,"textures",void 0),(0,Re._)([(0,ke.Cb)({value:null})],Go.prototype,"activeTool",null),(0,Re._)([(0,ke.Cb)({readOnly:!0,type:Ls.Z})],Go.prototype,"tools",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Go.prototype,"cursor",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Go.prototype,"updating",null),Go=(0,Re._)([(0,zn.j)("esri.views.ToolViewManager")],Go);const w6=Go;let ru=class extends Br.Z{constructor(p){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===p.mapping?"standard":x6.test(p.id)?"spacemouse":"unknown",this.nativeIndex=p.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return A6[this.deviceType]}};(0,Re._)([(0,ke.Cb)({nonNullable:!0,readOnly:!0})],ru.prototype,"nativeIndex",void 0),(0,Re._)([(0,ke.Cb)({type:String,readOnly:!0})],ru.prototype,"deviceType",null),(0,Re._)([(0,ke.Cb)({type:Number,readOnly:!0})],ru.prototype,"axisThreshold",null),ru=(0,Re._)([(0,zn.j)("esri.views.input.gamepad.GamepadInputDevice")],ru);const x6=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),A6={standard:.15,spacemouse:.025,unknown:0},qm=ru;let gc=class extends Br.Z{constructor(...p){super(...p),this.devices=new Ls.Z,this.enabledFocusMode="document"}};(0,Re._)([(0,ke.Cb)({type:Ls.Z.ofType(qm),readOnly:!0})],gc.prototype,"devices",void 0),(0,Re._)([(0,ke.Cb)({type:["document","view","none"]})],gc.prototype,"enabledFocusMode",void 0),gc=(0,Re._)([(0,zn.j)("esri.views.input.gamepad.GamepadSettings")],gc);const L6=gc;let Oh=class extends Br.Z{constructor(){super(...arguments),this.gamepad=new L6}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],Oh.prototype,"gamepad",void 0),Oh=(0,Re._)([(0,zn.j)("esri.views.input.Input")],Oh);const R6=Oh;let ma=class extends Br.Z{constructor(p){super(p),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,Re._)([(0,ke.Cb)({type:Boolean,nonNullable:!0})],ma.prototype,"enabled",void 0),(0,Re._)([(0,ke.Cb)({type:qm})],ma.prototype,"device",void 0),(0,Re._)([(0,ke.Cb)({type:["pan","zoom"],nonNullable:!0})],ma.prototype,"mode",void 0),(0,Re._)([(0,ke.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],ma.prototype,"tiltDirection",void 0),(0,Re._)([(0,ke.Cb)({type:Number,nonNullable:!0})],ma.prototype,"velocityFactor",void 0),ma=(0,Re._)([(0,zn.j)("esri.views.navigation.gamepad.GamepadSettings")],ma);const bC=ma;let Ja=class extends Br.Z{constructor(p){super(p),this.browserTouchPanEnabled=!0,this.gamepad=new bC,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,Re._)([(0,ke.Cb)({type:Boolean})],Ja.prototype,"browserTouchPanEnabled",void 0),(0,Re._)([(0,ke.Cb)({type:bC,nonNullable:!0})],Ja.prototype,"gamepad",void 0),(0,Re._)([(0,ke.Cb)({type:Boolean})],Ja.prototype,"momentumEnabled",void 0),(0,Re._)([(0,ke.Cb)({type:Boolean})],Ja.prototype,"mouseWheelZoomEnabled",void 0),Ja=(0,Re._)([(0,zn.j)("esri.views.navigation.Navigation")],Ja);const MC=Ja;var Oi,j6=E(38305);function CC(p){const g=p.url&&(0,j6.Qc)(p.url);return null==(p.spatialReference&&p.spatialReference.vcsWkid)&&(0,dn.pC)(g)&&"ImageServer"===g.serverType||!DC(p)||!p.heightModelInfo?function PC(p){return OC(p)?!!(p.capabilities&&p.capabilities.data&&p.capabilities.data.supportsZ):TC(p)}(p)?Qm.Z.deriveUnitFromSR(B6,p.spatialReference):null:p.heightModelInfo}function DC(p){return"heightModelInfo"in p}function OC(p){if("unknown"===p.type||!("capabilities"in p))return!1;switch(p.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function N6(p){return null!=p.layers||TC(p)||OC(p)||DC(p)}function TC(p){switch(p.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"analysis":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}!function(p){p[p.Ok=0]="Ok",p[p.Units=1]="Units",p[p.HeightModel=2]="HeightModel",p[p.CRS=3]="CRS",p[p.Unsupported=4]="Unsupported"}(Oi||(Oi={}));const B6=new Qm.Z({heightModel:"gravity-related-height"});var Ph=E(59617);let ty,ny=null;function W6(p){return ry.apply(this,arguments)}function ry(){return ry=(0,dr.Z)(function*(p){ny||(ny=Promise.all([E.e(8592),E.e(5082)]).then(E.bind(E,35082)).then(g=>ty=g)),yield ny,(0,Fr.k_)(p)}),ry.apply(this,arguments)}function SC(p,g,v,b){return sy.apply(this,arguments)}function sy(){return sy=(0,dr.Z)(function*(p,g,v,b){if(!p)return null;const C=p.spatialReference;return(0,io.kR)()||(0,io.Up)(C,g)?(0,io.iV)(p,g):ty?ty.projectGeometry(p,g,v,b):(yield Promise.race([W6(b),(0,io.zD)(b)]),SC(p,g,v,b))}),sy.apply(this,arguments)}const IC=Rs.Z.getLogger("esri.views.support.DefaultsFromMap");IC.level="info";let zr=class extends Br.Z{constructor(p){super(p),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.logDebugInformation=!1,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=(0,dn.IM)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return(0,dn.pC)(this.userSpatialReference)?this.userSpatialReference:(0,dn.Wg)(this._spatialReferenceTask.spatialReference)}get extent(){return(0,dn.Wg)(this._extentTask.extent)}get heightModelInfo(){return(0,dn.Wg)(this._heightModelInfoTask.heightModelInfo)}get vcsWkid(){return(0,dn.Wg)(this._heightModelInfoTask.vcsWkid)}get latestVcsWkid(){return(0,dn.Wg)(this._heightModelInfoTask.latestVcsWkid)}get viewingMode(){return(0,dn.Wi)(this.userSpatialReference)||this.userSpatialReference.equals((0,dn.Wg)(this._spatialReferenceTask.spatialReference))?(0,dn.Wg)(this._spatialReferenceTask.viewingMode):null}get tileInfo(){return(0,dn.Wg)(this._tileInfoTask.tileInfo)}get mapCollections(){var p,g,v,b;const C=null==(p=this.map)?void 0:p.call(this),O=[];return(0,dn.pC)(this.priorityCollection)&&O.push(this.priorityCollection),O.push({parent:null==C?void 0:C.basemap,layers:null==C||null==(g=C.basemap)?void 0:g.baseLayers},{layers:null==C?void 0:C.layers},{parent:null==C?void 0:C.ground,layers:null==C||null==(v=C.ground)?void 0:v.layers},{parent:null==C?void 0:C.basemap,layers:null==C||null==(b=C.basemap)?void 0:b.referenceLayers}),O}get _allLayers(){var p,g;const v=this._collectLayers(this.mapCollections);return this._debug("Collected",null!=(p=null==(g=v.layers)?void 0:g.length)?p:0,"layers, updating",v.updating),v}get _spatialReferenceTask(){var p,g;if(this.suspended)return null!=(g=this._get("_spatialReferenceTask"))?g:{updating:!1};const{layers:v,updating:b}=this._allLayers,C={candidates:null};for(const w of v)if(this._processSpatialReferenceCandidates(w,C),C.candidates&&1===C.candidates.length)break;if(1!==(null==(p=C.candidates)?void 0:p.length)&&b)return{updating:!0};const O=this._pickSpatialReferenceCandidate(C.candidates);return this._debug("Finished spatial reference",(0,dn.pC)(O)?`${O.spatialReference.wkid}:${(0,dn.pC)(O.viewingMode)?(0,Ph.M7)(O.viewingMode):"global/local"}`:"none available"),{spatialReference:(0,dn.pC)(O)?O.spatialReference:null,viewingMode:(0,dn.pC)(O)?O.viewingMode:null,updating:!1}}get _tileInfoTask(){var p,g,v,b,C,O,w,z;if(!this.required.tileInfo)return null!=(z=this._get("_tileInfoTask"))?z:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:fe,updating:De}=this._collectLayers([{parent:null==(p=this.map)||null==(g=p.call(this))?void 0:g.basemap,layers:null==(v=this.map)||null==(b=v.call(this))||null==(C=b.basemap)?void 0:C.baseLayers},{layers:null==(O=this.map)||null==(w=O.call(this))?void 0:w.layers}]);if(fe&&fe.length>0&&"tileInfo"in fe[0]){const Ie=fe[0].tileInfo;return{tileInfo:Ie&&Ie.spatialReference.equals(this.spatialReference)?Ie:null,updating:!1}}return{updating:De}}get _heightModelInfoTask(){var p,g;if(!this.required.heightModelInfo||this.suspended&&null!=(p=this._get("_heightModelInfoTask"))&&p.heightModelInfo)return null!=(g=this._get("_heightModelInfoTask"))?g:{updating:!1};const{layers:v,updating:b}=this._allLayers;for(const fe of v){var C,O;if(this._debug("Considering",null!=(C=null!=(O=fe.title)?O:fe.id)?C:fe.declaredClass,"for height model info"),N6(fe)){const De=CC(fe);var w,z;if(De)return this._debug("Derived height model info",De),{heightModelInfo:De,vcsWkid:null==(w=fe.spatialReference)?void 0:w.vcsWkid,latestVcsWkid:null==(z=fe.spatialReference)?void 0:z.latestVcsWkid,updating:!1}}this._debug("Layer does not support height models")}return this._debug("No height model info found,","updating",b),{updating:b}}get _extentCandidatesTask(){var p;if(this.suspended||!this.required.extent)return null!=(p=this._get("_extentCandidatesTask"))?p:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const g=this._allLayers,v=g.updating,b=[];for(const O of g.layers){var C;const w="fullExtents"in O&&O.fullExtents||((0,dn.pC)(O.fullExtent)?[O.fullExtent]:[]),z=this.requiresExtentInSpatialReference?null:w[0],fe=null!=(C=w.find(De=>De.spatialReference.equals(this.spatialReference)))?C:z;if(fe)return{candidates:[{extent:fe,layer:O}],updating:!1};if(this._getSupportedSpatialReferences(O).length>0)for(const De of w)b.push({extent:De,layer:O})}return{candidates:b,updating:v}}get _extentTask(){var p=this;const{candidates:g,updating:v}=this._extentCandidatesTask;if(v)return{updating:v};if((0,dn.Wi)(g)||0===g.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const b=this._pickExtentCandidate(g),C=this.spatialReference;return b.extent.equals(this._projectExtentTask.input)&&C.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:(0,dn.pC)(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:((0,dn.pC)(this._projectExtentTask.task)&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=(0,dn.IM)(this._projectExtentTask.task)),this._debug("Starting project extent task for",b.extent),this._projectExtentTask={input:b.extent.clone(),output:null,spatialReference:C.clone(),task:(0,Fr.vr)(function(){var O=(0,dr.Z)(function*(w){try{const z=yield SC(b.extent,C,b.layer.portalItem,w);p._debug("Project extent task finished",z),p._projectExtentTask=$n(Pt({},p._projectExtentTask),{task:null,output:z})}catch(z){if((0,Fr.Hc)(w))return;p._projectExtentTask=$n(Pt({},p._projectExtentTask),{task:null})}});return function(w){return O.apply(this,arguments)}}())},{updating:!0})}_processSpatialReferenceCandidates(p,g){var v;const b=this._getSupportedSpatialReferences(p);if(0!==b.length)if(this._debug("Spatial reference candidates from",null!=(v=p.title)?v:p.id,":",b.map(C=>`${C.spatialReference.wkid}:${(0,dn.pC)(C.viewingMode)?(0,Ph.M7)(C.viewingMode):"global/local"}`).join(", ")),g.candidates){const C=[],O=(w,z)=>(0,dn.Wi)(w.viewingMode)?z.viewingMode:((0,dn.Wi)(z.viewingMode)||w.viewingMode===z.viewingMode)&&w.viewingMode;for(const w of g.candidates)for(const z of b){if(!w.spatialReference.equals(z.spatialReference))continue;const fe=O(w,z);if(!1!==fe){C.push({spatialReference:w.spatialReference,viewingMode:fe});break}}C.length>0&&(g.candidates=C)}else g.candidates=b}_pickSpatialReferenceCandidate(p){const g=this.defaultSpatialReference;return!p||p.length<1?(0,dn.pC)(g)?{spatialReference:g,viewingMode:null}:null:((0,dn.pC)(g)&&p.length>1&&p.some(({spatialReference:v})=>v.equals(g))&&(p=p.filter(({spatialReference:v})=>v.equals(g))),p.length>1&&p.some(({viewingMode:v})=>v!==Ph.JY.Local)&&(p=p.filter(({viewingMode:v})=>v!==Ph.JY.Local)),p[0])}_getSupportedSpatialReferences(p){const g="supportedSpatialReferences"in p&&p.supportedSpatialReferences||(p.spatialReference?[p.spatialReference]:[]);if(0===g.length)return[];const v=[];for(const b of g){const C=this.getSpatialReferenceSupport({spatialReference:b,layer:p});if((0,dn.pC)(C)){const O=(0,dn.pC)(C.constraints)?C.constraints:[{spatialReference:b}];for(const{spatialReference:w,viewingMode:z}of O)(!this.requiresExtentInSpatialReference||(0,dn.Wi)(this.userSpatialReference)||w.equals(this.userSpatialReference))&&v.push({spatialReference:w,viewingMode:z})}}return v}_pickExtentCandidate(p){const g=this.spatialReference;return p.find(({extent:v})=>g.equals(v.spatialReference))||p[0]}_collectLayers(p){var g;if("loaded"!==this._loadMaybe(null==(g=this.map)?void 0:g.call(this)))return{layers:[],updating:!0};const v={layers:[],preloading:-1,updating:!1};for(const b of p)if(this._collectCollection(b,v),v.preloading===this.sourcePreloadCount)break;return{layers:v.layers,updating:v.updating}}_collectCollection(p,g){if(p.layers){switch(this._loadMaybe(p.parent)){case"loading":return g.updating=!0,void++g.preloading;case"failed":return}for(const C of p.layers){switch(this._loadMaybe(C)){case"failed":continue;case"loading":g.updating=!0,++g.preloading;break;case"loaded":var v,b;g.updating||(this._debug("Considering layer",null!=(v=null!=(b=C.title)?b:C.id)?v:C.declaredClass),g.layers.push(C)),"layers"in C&&this._collectCollection({layers:C.layers},g)}if(g.preloading===this.sourcePreloadCount)break}}}_loadMaybe(p){return p&&"loadStatus"in p?"not-loaded"===p.loadStatus?(this._debug("Triggering load",null!=(g=null!=(v=p.title)?v:p.id)?g:p.declaredClass),p.load(),"loading"):p.loadStatus:"loaded";var g,v}_debug(...p){this.logDebugInformation&&IC.info(...p)}};(0,Re._)([(0,ke.Cb)()],zr.prototype,"required",void 0),(0,Re._)([(0,ke.Cb)({constructOnly:!0})],zr.prototype,"map",void 0),(0,Re._)([(0,ke.Cb)({constructOnly:!0})],zr.prototype,"getSpatialReferenceSupport",void 0),(0,Re._)([(0,ke.Cb)()],zr.prototype,"defaultSpatialReference",void 0),(0,Re._)([(0,ke.Cb)()],zr.prototype,"userSpatialReference",void 0),(0,Re._)([(0,ke.Cb)()],zr.prototype,"sourcePreloadCount",void 0),(0,Re._)([(0,ke.Cb)()],zr.prototype,"priorityCollection",void 0),(0,Re._)([(0,ke.Cb)()],zr.prototype,"logDebugInformation",void 0),(0,Re._)([(0,ke.Cb)()],zr.prototype,"requiresExtentInSpatialReference",void 0),(0,Re._)([(0,ke.Cb)()],zr.prototype,"suspended",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"ready",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"heightModelInfoReady",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"spatialReference",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"extent",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"heightModelInfo",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"vcsWkid",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"latestVcsWkid",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"viewingMode",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"tileInfo",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"mapCollections",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"_allLayers",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"_spatialReferenceTask",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"_tileInfoTask",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"_heightModelInfoTask",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],zr.prototype,"_extentCandidatesTask",null),(0,Re._)([(0,ke.Cb)()],zr.prototype,"_extentTask",null),(0,Re._)([(0,ke.Cb)()],zr.prototype,"_projectExtentTask",void 0),zr=(0,Re._)([(0,zn.j)("esri.views.support.DefaultsFromMap")],zr);const V6=zr;var Th;const Sh=Rs.Z.getLogger("esri.views.View");let ir=Th=class extends((0,Za.p)(ih.Z.EventedMixin((0,rC.v)(Br.Z)))){constructor(p){super(p),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new kl.Z({getCollections:()=>{var g,v,b;return[null==(g=this.basemapView)?void 0:g.baseLayerViews,null==(v=this.groundView)?void 0:v.layerViews,this.layerViews,null==(b=this.basemapView)?void 0:b.referenceLayerViews]},getChildrenFunction:g=>g.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new iC.J,this.analyses=new bh,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Ls.Z,this.magnifier=new oC,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new R6,this.navigation=new MC,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new D6(this),this.persistableViewModels=new Ls.Z,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch("preconditionsReady",g=>{var v,b;g?(this._currentSpatialReference=this.spatialReference,Th.views.add(this)):(this._currentSpatialReference=null,Th.views.remove(this)),this.notifyChange("spatialReference"),!g&&this.ready?(null==(v=this.layerViewManager)||v.clear(),null==(b=this.toolViewManager)||b.detach(),(0,dn.pC)(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):g&&!this.ready&&((0,dn.pC)(this.analysisViewManager)&&this.analysisViewManager.attach(),this._startup(),this.toolViewManager.attach())},!0))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,(0,gr.N1)(()=>this.ready)))),this.basemapView=new fa({view:this}),this.layerViewManager=new M6({view:this,layerViewImporter:{importLayerView:p=>this.importLayerView(p),hasLayerViewModule:p=>this.hasLayerViewModule(p)},supportsGround:this.supportsGround}),this.toolViewManager=new w6({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([(0,gr.YP)(()=>this.initialExtentRequired,p=>this.defaultsFromMap.required=$n(Pt({},this.defaultsFromMap.required),{extent:p}),{sync:!0,initial:!0}),(0,gr.YP)(()=>this.ready,p=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=p,this.defaultsFromMap.userSpatialReference=p?this.spatialReference:this._userSpatialReference)},{sync:!0}),(0,gr.YP)(()=>this._userSpatialReference,p=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=p)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){var p=this;let g=null;this.handles.add([(0,gr.YP)(()=>{var v;return null==(v=this.defaultsFromMap)?void 0:v.ready},v=>{var b;const C=(null==(b=this.map)?void 0:b.allLayers.length)>0;if(v&&!this.spatialReference&&C){if((0,dn.pC)(g))return;const O=(0,nC.kB)(()=>g=(0,dn.IM)(g));g=(0,Fr.vr)(function(){var w=(0,dr.Z)(function*(z){try{yield(0,Fr.e4)(p.spatialReferenceWarningDelay,null,z)}catch(fe){return}finally{g=null}Sh.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(z){return w.apply(this,arguments)}}()),this.handles.add(O,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,dn.SC)(this.graphics),this.analyses=(0,dn.SC)(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager=(0,dn.SC)(this.toolViewManager),this.layerViewManager=(0,dn.SC)(this.layerViewManager),this.basemapView=(0,dn.SC)(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const p=this.map;this.map=null,null==p||p.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Sh.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new V6(Pt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:p=>this.getSpatialReferenceSupport(p)},this._defaultsFromMapSettings))}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var p;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||q0.Z.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!(this._currentSpatialReference||null!=(p=this.defaultsFromMap)&&p.ready)||!this.typeSpecificPreconditionsReady)}set map(p){var g;p!==this._get("map")&&(null!=(g=p)&&g.destroyed&&(Sh.warn("#map","The provided map is already destroyed",{map:p}),p=null),q0.Z.isLoadable(p)&&p.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",p))}get spatialReference(){var p,g;let v=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return v&&null!=(p=this.defaultsFromMap)&&null!=(g=p.required)&&g.heightModelInfo&&(v=v.clone(),v.vcsWkid=this.defaultsFromMap.vcsWkid,v.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),v}set spatialReference(p){const g=!(0,Jb.fS)(p,this._get("spatialReference"));this._set("_userSpatialReference",p),g&&(this._set("spatialReference",p),this._spatialReferenceChanged(p))}_spatialReferenceChanged(p){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var p;return null==(p=this.defaultsFromMap)?void 0:p.extent}get cursor(){const p=this.toolViewManager?this.toolViewManager.cursor:null;return(0,dn.pC)(p)?p:this._cursor||"default"}set cursor(p){this._cursor=p,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(p){return this.layerViewManager.whenLayerView(p)}getDefaultSpatialReference(){var p;return null==(p=this.defaultsFromMap)?void 0:p.spatialReference}getDefaultHeightModelInfo(){var p,g,v;return null!=(p=null!=(g=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?g:null==(v=this.defaultsFromMap)?void 0:v.heightModelInfo)?p:null}importLayerView(p){throw new er.Z("importLayerView() not implemented")}hasLayerViewModule(p){return!1}validate(){return(0,dr.Z)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{}}_validateSpatialReference(p){return(0,dn.pC)(this.getSpatialReferenceSupport({spatialReference:p}))}when(p,g){return this.isResolved()&&!this.ready&&Sh.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(p,g)}forceReadyCycle(){this.ready&&((0,gr.gx)(()=>!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(p){this.toolViewManager.tools.add(p),this.activeTool=p}tryFatalErrorRecovery(){this.fatalError=null}};ir.views=new Ls.Z,(0,Re._)([(0,ke.Cb)()],ir.prototype,"_userSpatialReference",void 0),(0,Re._)([(0,rr.B)("toolViewManager.activeTool")],ir.prototype,"activeTool",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"allLayerViews",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"groundView",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"animation",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"basemapView",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"_defaultsFromMapSettings",null),(0,Re._)([(0,ke.Cb)()],ir.prototype,"defaultsFromMap",null),(0,Re._)([(0,ke.Cb)()],ir.prototype,"fatalError",void 0),(0,Re._)([(0,ke.Cb)({type:oh.Z})],ir.prototype,"extent",void 0),(0,Re._)([(0,ke.Cb)((0,Ym.z)(iC.J,"graphics"))],ir.prototype,"graphics",void 0),(0,Re._)([(0,ke.Cb)((0,Ym.z)(bh,"analyses"))],ir.prototype,"analyses",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,type:Qm.Z})],ir.prototype,"heightModelInfo",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"interacting",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"navigating",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ir.prototype,"preconditionsReady",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"typeSpecificPreconditionsReady",void 0),(0,Re._)([(0,ke.Cb)({type:Ls.Z,readOnly:!0})],ir.prototype,"layerViews",void 0),(0,Re._)([(0,ke.Cb)({type:oC})],ir.prototype,"magnifier",void 0),(0,Re._)([(0,ke.Cb)({value:null,type:kb})],ir.prototype,"map",null),(0,Re._)([(0,ke.Cb)()],ir.prototype,"padding",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"ready",void 0),(0,Re._)([(0,ke.Cb)({type:sC.Z})],ir.prototype,"spatialReference",null),(0,Re._)([(0,ke.Cb)()],ir.prototype,"spatialReferenceWarningDelay",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"stationary",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"supportsGround",void 0),(0,Re._)([(0,ke.Cb)({type:_6.Z})],ir.prototype,"timeExtent",void 0),(0,Re._)([(0,rr.B)("toolViewManager.tools")],ir.prototype,"tools",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"toolViewManager",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"type",void 0),(0,Re._)([(0,ke.Cb)({type:Number})],ir.prototype,"scale",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"updating",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"initialExtentRequired",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"initialExtent",null),(0,Re._)([(0,ke.Cb)()],ir.prototype,"cursor",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"input",void 0),(0,Re._)([(0,ke.Cb)({type:MC,nonNullable:!0})],ir.prototype,"navigation",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"layerViewManager",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"analysisViewManager",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"width",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"height",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"resizing",void 0),(0,Re._)([(0,ke.Cb)({value:null,readOnly:!0})],ir.prototype,"size",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"suspended",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"viewEvents",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],ir.prototype,"persistableViewModels",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"_isValid",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"_readyCycleForced",void 0),(0,Re._)([(0,ke.Cb)()],ir.prototype,"_currentSpatialReference",void 0),ir=Th=(0,Re._)([(0,zn.j)("esri.views.View")],ir);const Z6=ir;let ya=class extends rC.D{constructor(p){super(p),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((p,g)=>this._dfd={resolve:p,reject:g}))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new er.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())}update(p,g){g||(g=(0,Fr.y8)(p)?"waiting-for-target":"running"),this._set("target",p),this._set("state",g)}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],ya.prototype,"done",null),(0,Re._)([(0,ke.Cb)({readOnly:!0,type:String})],ya.prototype,"state",void 0),(0,Re._)([(0,ke.Cb)()],ya.prototype,"target",void 0),ya=(0,Re._)([(0,zn.j)("esri.views.ViewAnimation")],ya),function(p){p.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(ya||(ya={}));const iy=ya;var Ih=E(78041),Es=E(24926);class $6{constructor(g,v,b,C){const O=g.targetGeometry,w=v.targetGeometry;C?"string"==typeof C&&(C=(0,Ih.Qc)(C)||Ih.LI.ease):C=Ih.LI.ease,this.easing=C,this.duration=b,this.sCenterX=O.x,this.sCenterY=O.y,this.sScale=g.scale,this.sRotation=g.rotation,this.tCenterX=w.x,this.tCenterY=w.y,this.tScale=v.scale,this.tRotation=v.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(g,v){const b=this.easing(v);let C,O,w,z;v>=1?(C=this.tCenterX,O=this.tCenterY,w=this.tRotation,z=this.tScale):(C=this.sCenterX+b*this.dCenterX,O=this.sCenterY+b*this.dCenterY,w=this.sRotation+b*this.dRotation,z=this.sScale+b*this.dScale),g.targetGeometry.x=C,g.targetGeometry.y=O,g.scale=z,g.rotation=w}}let ko=class extends Br.Z{constructor(p){super(p),this.duration=200,this.transition=null,this.easing=Ih.LI.ease,this.view=null,this.viewpoint=null,this.viewpoint=new Wa.Z({targetGeometry:new Mi.Z,scale:0,rotation:0}),this._updateTask=(0,Va.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(p,g,v){this.stop(),(0,Es.JG)(this.viewpoint,g),this.transition=new $6(this.viewpoint,p.target,v&&v.duration||this.duration,v&&v.easing||this.easing);const C=()=>{this.animation===p&&this._updateTask&&("finished"===p.state&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return p.when(C,C),this._startTime=performance.now(),this._updateTask.resume(),this.animation=p,p}animateContinous(p,g){this.stop(),this.updateFunction=g,this.viewpoint=p;const v=new iy({target:p.clone()}),b=()=>{this.animation===v&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return v.when(b,b),this._startTime=performance.now(),this._updateTask.resume(),this.animation=v,v}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(p){const g=this.animation;if(g&&g.state!==iy.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,p.deltaTime);else{const v=(performance.now()-this._startTime)/this.transition.duration,b=v>=1;this.transition.applyRatio(this.viewpoint,v),b&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,Re._)([(0,ke.Cb)()],ko.prototype,"animation",void 0),(0,Re._)([(0,ke.Cb)()],ko.prototype,"duration",void 0),(0,Re._)([(0,ke.Cb)()],ko.prototype,"transition",void 0),(0,Re._)([(0,ke.Cb)()],ko.prototype,"easing",void 0),(0,Re._)([(0,ke.Cb)()],ko.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)()],ko.prototype,"viewpoint",void 0),ko=(0,Re._)([(0,zn.j)("esri.views.2d.AnimationManager")],ko);const K6=ko;class z6{constructor(g){this.view=g,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{this._updateRequested=!1;const{basemapView:v,graphicsView:b,labelManager:C,layerViews:O,state:{id:w}}=this.view;v.baseLayerViews.forEach(this._updateLayerView,this),O.forEach(this._updateLayerView,this),v.referenceLayerViews.forEach(this._updateLayerView,this),(0,dn.pC)(C)&&(C.lastUpdateId!==w&&(C.viewChange(),C.lastUpdateId=w),C.updateRequested&&C.processUpdate(this._updateParameters)),(0,dn.pC)(b)&&(b.lastUpdateId!==w&&(b.viewChange(),b.lastUpdateId=w),b.updateRequested&&b.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){this._frameTaskHandle||(this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",g=>{this.stationary=g,this.requestFrame()}),this._frameTaskHandle=(0,Va.A)(this),this.requestUpdate())}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(g){const v=this.view.state,b=g.lastUpdateId;null!=b&&(this.stationary||g.moving)||(g.moving=!0,g.moveStart()),b!==v.id&&g.viewChange(),this.stationary&&g.moving&&(g.moving=!1,g.moveEnd()),g.lastUpdateId=v.id,g.updateRequested&&g.processUpdate(this._updateParameters),"layerViews"in g&&g.layerViews.forEach(this._updateLayerView,this)}}function Us(){return Promise.all([Promise.all([E.e(5086),E.e(5314),E.e(5506),E.e(8592),E.e(4376)]).then(E.bind(E,34376)),Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(2339)]).then(E.bind(E,2339))])}const _c=()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(9516),E.e(8592),E.e(5391)]).then(E.bind(E,55391))),wh=()=>Us().then(()=>Promise.all([E.e(5086),E.e(3755),E.e(5024),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(1607)]).then(E.bind(E,68915))),wC={"base-dynamic":()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(5207),E.e(4126)]).then(E.bind(E,54126))),"base-tile":_c,"bing-maps":_c,csv:wh,"geo-rss":()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(5072)]).then(E.bind(E,5072))),feature:wh,geojson:wh,graphics:()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(3375)]).then(E.bind(E,63375))),group:()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(408)]).then(E.bind(E,60408))),imagery:()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(6926),E.e(5207),E.e(8594),E.e(4127),E.e(8592),E.e(3825)]).then(E.bind(E,53825))),"imagery-tile":()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(6926),E.e(8594),E.e(4127),E.e(8592),E.e(1795)]).then(E.bind(E,51795))),kml:()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(5868)]).then(E.bind(E,85868))),"map-image":()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(5207),E.e(8592),E.e(7618)]).then(E.bind(E,69772))),"map-notes":()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(6899)]).then(E.bind(E,36899))),"ogc-feature":()=>Us().then(()=>Promise.all([E.e(5086),E.e(3755),E.e(5024),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(1607),E.e(6829)]).then(E.bind(E,96829))),"open-street-map":_c,route:()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(9066)]).then(E.bind(E,9066))),stream:()=>Us().then(()=>Promise.all([E.e(5086),E.e(3755),E.e(5024),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(1607),E.e(9051)]).then(E.bind(E,39051))),"subtype-group":()=>Us().then(()=>Promise.all([E.e(5086),E.e(3755),E.e(5024),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(1607),E.e(5876)]).then(E.bind(E,65876))),tile:_c,"vector-tile":()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(8364),E.e(2039)]).then(E.bind(E,1651))),wcs:()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(6926),E.e(8594),E.e(4127),E.e(8592),E.e(1795)]).then(E.bind(E,51795))),"web-tile":_c,wfs:wh,wms:()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(5207),E.e(8592),E.e(6053)]).then(E.bind(E,6053))),wmts:()=>Us().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(9516),E.e(9300)]).then(E.bind(E,49300))),analysis:null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var ay,k6=E(72258),oy=E(33190),Gi=E(67831),H6=E(25748);const Y6=Rs.Z.getLogger("esri.views.MapView");let Ya=ay=class extends Br.Z{constructor(p){super(p),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if((0,dn.Wi)(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,io.iV)(this.geometry,this.spatialReference)}catch(p){return Y6.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:p}),null}return this.geometry}constrain(p,g){if((0,dn.Wi)(this.normalizedGeometry))return p;const v=p.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,oy.aV)(this.normalizedGeometry,v):(0,oy.CI)(this.normalizedGeometry,v))return p;const{coordinate:b}=function J6(p,g){const{spatialReference:v}=g,b=[g.x,g.y];let C=Number.POSITIVE_INFINITY,O=0,w=0;const z=[0,0],fe="extent"===p.type?[[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]]]:p.rings;for(const De of fe)for(let Ie=0;Ie<De.length-1;Ie++){(0,H6.Tx)(z,b,De,Ie);const We=(0,Gi.b)(b,z);We<C&&(C=We,O=z[0],w=z[1])}return{coordinate:new Mi.Z({x:O,y:w,spatialReference:v}),distance:C}}(this.normalizedGeometry,v);return b&&(p.targetGeometry=b),p}clone(){var p,g;return new ay({geometry:null==(p=this.geometry)?void 0:p.clone(),spatialReference:null==(g=this.spatialReference)?void 0:g.clone()})}};var ly;(0,Re._)([(0,ke.Cb)({constructOnly:!0})],Ya.prototype,"geometry",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Ya.prototype,"normalizedGeometry",null),(0,Re._)([(0,ke.Cb)({constructOnly:!0})],Ya.prototype,"spatialReference",void 0),Ya=ay=(0,Re._)([(0,zn.j)("esri.views.2d.constraints.GeometryConstraint")],Ya);let vc=ly=class extends Br.Z{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(p,g){return this.enabled&&g&&(this.rotationEnabled||(p.rotation=g.rotation)),p}clone(){return new ly({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,Re._)([(0,ke.Cb)()],vc.prototype,"enabled",void 0),(0,Re._)([(0,ke.Cb)()],vc.prototype,"rotationEnabled",void 0),vc=ly=(0,Re._)([(0,zn.j)("esri.views.2d.constraints.RotationConstraint")],vc);const AC=vc;var uy;let Pi=uy=class extends Br.Z{constructor(p){super(p),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let p,{lods:g,minScale:v,maxScale:b,minZoom:C,maxZoom:O}=this,w=-1,z=-1,fe=!1,De=!1;if(0!==v&&0!==b&&v<b&&([v,b]=[b,v]),!g||!g.length)return this._set("effectiveMinScale",v),void this._set("effectiveMaxScale",b);g=g.map(Ie=>Ie.clone()),g.sort((Ie,We)=>We.scale-Ie.scale),g.forEach((Ie,We)=>Ie.level=We);for(const Ie of g)!fe&&v>0&&v>=Ie.scale&&(w=Ie.level,fe=!0),!De&&b>0&&b>=Ie.scale&&(z=p?p.level:-1,De=!0),p=Ie;-1===C&&(C=0===v?0:w),-1===O&&(O=0===b?g.length-1:z),C=Math.max(C,0),C=Math.min(C,g.length-1),O=Math.max(O,0),O=Math.min(O,g.length-1),C>O&&([C,O]=[O,C]),v=g[C].scale,b=g[O].scale,g.splice(0,C),g.splice(O-C+1,g.length),g.forEach((Ie,We)=>{this._lodByScale[Ie.scale]=Ie,this._scales[We]=Ie.scale}),this._set("effectiveLODs",g),this._set("effectiveMinZoom",C),this._set("effectiveMaxZoom",O),this._set("effectiveMinScale",v),this._set("effectiveMaxScale",b)}constrain(p,g){if(g&&p.scale===g.scale)return p;const v=this.effectiveMinScale,b=this.effectiveMaxScale,C=p.targetGeometry,O=g&&g.targetGeometry,z=0!==v&&p.scale>v;if(0!==b&&p.scale<b||z){const fe=z?v:b;if(O){const De=(fe-g.scale)/(p.scale-g.scale);C.x=O.x+(C.x-O.x)*De,C.y=O.y+(C.y-O.y)*De}p.scale=fe}return this.snapToZoom&&this.effectiveLODs&&(p.scale=this._getClosestScale(p.scale)),p}fit(p){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(p,null);const g=this.scaleToZoom(p.scale),v=Math.abs(g-Math.floor(g));return p.scale=this.zoomToScale(v>.99?Math.round(g):Math.floor(g)),p}zoomToScale(p){if(!this.effectiveLODs)return 0;p-=this.effectiveMinZoom,p=Math.max(0,p);const g=this._scales;if(p<=0)return g[0];if(p>=g.length)return g[g.length-1];const v=Math.round(p-.5),b=Math.round(p);return g[b]+(b-p)*(g[v]-g[b])}scaleToZoom(p){if(!this.effectiveLODs)return-1;const g=this._scales;let v,b;if(p>=g[0])return this.effectiveMinZoom;if(p<=g[g.length-1])return this.effectiveMaxZoom;for(let C=0;C<g.length-1;C++){if(v=g[C],b=g[C+1],b===p)return C+this.effectiveMinZoom+1;if(v>p&&b<p)return C+this.effectiveMinZoom+1-(p-b)/(v-b)}}snapToClosestScale(p){if(!this.effectiveLODs)return p;const g=this.scaleToZoom(p);return this.zoomToScale(Math.round(g))}snapToNextScale(p,g=.5){if(!this.effectiveLODs)return p*g;const v=Math.round(this.scaleToZoom(p));return this.zoomToScale(v+1)}snapToPreviousScale(p,g=2){if(!this.effectiveLODs)return p*g;const v=Math.round(this.scaleToZoom(p));return this.zoomToScale(v-1)}clone(){return new uy({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(p){return this._lodByScale[p]||(p=this._scales.reduce((g,v)=>Math.abs(v-p)<=Math.abs(g-p)?v:g,this._scales[0])),this._lodByScale[p].scale}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],Pi.prototype,"effectiveLODs",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Pi.prototype,"effectiveMinZoom",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Pi.prototype,"effectiveMaxZoom",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Pi.prototype,"effectiveMinScale",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Pi.prototype,"effectiveMaxScale",void 0),(0,Re._)([(0,ke.Cb)()],Pi.prototype,"lods",void 0),(0,Re._)([(0,ke.Cb)()],Pi.prototype,"minZoom",void 0),(0,Re._)([(0,ke.Cb)()],Pi.prototype,"maxZoom",void 0),(0,Re._)([(0,ke.Cb)()],Pi.prototype,"minScale",void 0),(0,Re._)([(0,ke.Cb)()],Pi.prototype,"maxScale",void 0),(0,Re._)([(0,ke.Cb)()],Pi.prototype,"snapToZoom",void 0),Pi=uy=(0,Re._)([(0,zn.j)("esri.views.2d.constraints.ZoomConstraint")],Pi);const LC=Pi;var Q6=E(37118);const X6={base:null,key:"type",typeMap:{extent:oh.Z,polygon:Q6.Z}};let bs=class extends Br.Z{constructor(p){super(p),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null)}set geometry(p){this._set("geometry",p||null)}get version(){var p;return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),(null!=(p=this._get("version"))?p:0)+1}get _defaultLODs(){var p,g,v;const b=null==(p=this.view)||null==(g=p.defaultsFromMap)?void 0:g.tileInfo,C=null==(v=this.view)?void 0:v.spatialReference;return b&&C&&b.spatialReference.equals(C)?b.lods:null}get _geometry(){var p;return new Ya({geometry:this.geometry,spatialReference:null==(p=this.view)?void 0:p.spatialReference})}get _rotation(){return new AC({rotationEnabled:this.rotationEnabled})}get _zoom(){const p=this._get("_zoom"),g=this.lods||this._defaultLODs,v=this.minZoom,b=this.maxZoom,C=this.minScale,O=this.maxScale,w=this.snapToZoom;return p&&p.lods===g&&p.minZoom===v&&p.maxZoom===b&&p.minScale===C&&p.maxScale===O&&p.snapToZoom===w?p:new LC({lods:g,minZoom:v,maxZoom:b,minScale:C,maxScale:O,snapToZoom:w})}canZoomInTo(p){const g=this.effectiveMaxScale;return 0===g||p>=g}canZoomOutTo(p){const g=this.effectiveMinScale;return 0===g||p<=g}constrain(p,g){return this._zoom.constrain(p,g),this._rotation.constrain(p,g),this._geometry.constrain(p,g),p}constrainByGeometry(p){return this._geometry.constrain(p)}fit(p){return this._zoom.fit(p)}zoomToScale(p){return this._zoom.zoomToScale(p)}scaleToZoom(p){return this._zoom.scaleToZoom(p)}snapScale(p){return this._zoom.snapToClosestScale(p)}snapToNextScale(p){return this._zoom.snapToNextScale(p)}snapToPreviousScale(p){return this._zoom.snapToPreviousScale(p)}};(0,Re._)([(0,ke.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],bs.prototype,"effectiveLODs",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],bs.prototype,"effectiveMinScale",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],bs.prototype,"effectiveMaxScale",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],bs.prototype,"effectiveMinZoom",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],bs.prototype,"effectiveMaxZoom",void 0),(0,Re._)([(0,ke.Cb)({types:X6,value:null})],bs.prototype,"geometry",null),(0,Re._)([(0,ke.Cb)({type:[k6.Z]})],bs.prototype,"lods",void 0),(0,Re._)([(0,ke.Cb)()],bs.prototype,"minScale",void 0),(0,Re._)([(0,ke.Cb)()],bs.prototype,"maxScale",void 0),(0,Re._)([(0,ke.Cb)()],bs.prototype,"minZoom",void 0),(0,Re._)([(0,ke.Cb)()],bs.prototype,"maxZoom",void 0),(0,Re._)([(0,ke.Cb)()],bs.prototype,"rotationEnabled",void 0),(0,Re._)([(0,ke.Cb)()],bs.prototype,"snapToZoom",void 0),(0,Re._)([(0,ke.Cb)()],bs.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],bs.prototype,"version",null),(0,Re._)([(0,ke.Cb)()],bs.prototype,"_defaultLODs",null),(0,Re._)([(0,ke.Cb)({type:Ya})],bs.prototype,"_geometry",null),(0,Re._)([(0,ke.Cb)({type:AC})],bs.prototype,"_rotation",null),(0,Re._)([(0,ke.Cb)({readOnly:!0,type:LC})],bs.prototype,"_zoom",null),bs=(0,Re._)([(0,zn.j)("esri.views.2d.MapViewConstraints")],bs);const RC=bs;var py,jC=E(99770),q6=E(39863),xh=E(31478),e8=E(12225),cy=E(46342),su=E(30217),dy=E(49966),UC=E(9545);function hy(p){return function t8(p){return p instanceof Float32Array&&p.length>=2}(p)||function n8(p){return Array.isArray(p)&&p.length>=2}(p)}const Ho=[0,0];let ga=py=class extends th.wq{constructor(p){super(p),this._viewpoint2D={center:(0,jC.a)(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new oh.Z,this.id=0,this.inverseTransform=(0,cy.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,cy.c)(),this.transformNoRotation=(0,cy.c)(),this.displayMat3=(0,dy.c)(),this.displayViewMat3=(0,dy.c)(),this.viewMat3=(0,dy.c)(),this.viewMat2d=(0,e8.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(p){this._set("pixelRatio",p),this._update()}set size(p){this._set("size",p),this._update()}set viewpoint(p){if(p){const g=this._viewpoint2D,v=p.targetGeometry;g.center[0]=v.x,g.center[1]=v.y,g.rotation=p.rotation,g.scale=p.scale,g.spatialReference=v.spatialReference}this._update()}copy(p){const g=this.size,v=this.viewpoint;return v&&g?(this.viewpoint=(0,Es.JG)(v,p.viewpoint),this._set("size",(0,Gi.c)(g,p.size))):(this.viewpoint=p.viewpoint.clone(),this._set("size",[p.size[0],p.size[1]])),this._set("pixelRatio",p.pixelRatio),this}clone(){return new py({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(p,g,v){return hy(g)?(0,Gi.t)(p,g,this.inverseTransform):(Ho[0]=g,Ho[1]=v,(0,Gi.t)(p,Ho,this.inverseTransform))}toScreen(p,g,v){return hy(g)?(0,Gi.t)(p,g,this.transform):(Ho[0]=g,Ho[1]=v,(0,Gi.t)(p,Ho,this.transform))}toScreenNoRotation(p,g,v){return hy(g)?(0,Gi.t)(p,g,this.transformNoRotation):(Ho[0]=g,Ho[1]=v,(0,Gi.t)(p,Ho,this.transformNoRotation))}getScreenTransform(p,g){const{center:v}=this._viewpoint2D,b=this._get("pixelRatio")||1,C=this._get("size");return(0,Es.Rb)(p,v,C,g,0,b),p}_update(){const{center:p,spatialReference:g,scale:v,rotation:b}=this._viewpoint2D,C=this._get("pixelRatio")||1,O=this._get("size"),w=new Wa.Z({targetGeometry:new Mi.Z(p[0],p[1],g),scale:v,rotation:b});if(this._set("viewpoint",w),!O||!g||!v)return;this.resolution=(0,Es.uG)(w),this.rotation=b,this.scale=v,this.spatialReference=g,(0,Gi.c)(this.center,p),(0,su.s)(this.displayMat3,0!==O[0]?2/O[0]:0,0,0,0,0!==O[1]?-2/O[1]:0,0,-1,1,1);const De=(0,su.b)(this.viewMat3),Ie=(0,UC.f)(O[0]/2,O[1]/2),We=(0,UC.f)(-O[0]/2,-O[1]/2),st=(0,q6.t)(b);(0,su.c)(De,De,Ie),(0,su.r)(De,De,st),(0,su.c)(De,De,We),(0,su.m)(this.displayViewMat3,this.displayMat3,De);const yt=(0,xh.a)(this.viewMat2d,Ie);return(0,xh.r)(yt,yt,st),(0,xh.t)(yt,yt,We),(0,Es.bk)(this.extent,w,O),(0,Es.Ck)(this.transform,w,O,C),(0,xh.i)(this.inverseTransform,this.transform),(0,Es.Jp)(this.transformNoRotation,w,O,C),this.worldScreenWidth=(0,Es.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],ga.prototype,"id",void 0),(0,Re._)([(0,ke.Cb)({value:1,json:{write:!0}})],ga.prototype,"pixelRatio",null),(0,Re._)([(0,ke.Cb)({json:{write:!0}})],ga.prototype,"size",null),(0,Re._)([(0,ke.Cb)()],ga.prototype,"spatialReference",void 0),(0,Re._)([(0,ke.Cb)({type:Wa.Z,json:{write:!0}})],ga.prototype,"viewpoint",null),ga=py=(0,Re._)([(0,zn.j)("esri.views.2d.ViewState")],ga);const FC=ga;var fy,my;let Jo=fy=class extends Br.Z{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new fy({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,Re._)([(0,ke.Cb)()],Jo.prototype,"left",void 0),(0,Re._)([(0,ke.Cb)()],Jo.prototype,"top",void 0),(0,Re._)([(0,ke.Cb)()],Jo.prototype,"right",void 0),(0,Re._)([(0,ke.Cb)()],Jo.prototype,"bottom",void 0),Jo=fy=(0,Re._)([(0,zn.j)("esri.views.2d.PaddedViewState.Padding")],Jo);let iu=my=class extends FC{constructor(...p){super(...p),this.paddedViewState=new FC,this._updateContent=(()=>{const g=(0,jC.a)();return()=>{const v=this._get("size"),b=this._get("padding");if(!v||!b)return;const C=this.paddedViewState;(0,Gi.s)(g,b.left+b.right,b.top+b.bottom),(0,Gi.f)(g,v,g),(0,Gi.c)(C.size,g);const O=C.viewpoint;O&&(this.viewpoint=O)}})(),this.watch(["size","padding"],this._updateContent,!0),this.padding=new Jo,this.size=[0,0]}set padding(p){this._set("padding",p||new Jo)}set viewpoint(p){if(p){const g=p.clone();this.paddedViewState.viewpoint=p,(0,Es.H4)(g,p,this._get("size"),this._get("padding"));const v=this._viewpoint2D,b=g.targetGeometry;v.center[0]=b.x,v.center[1]=b.y,v.rotation=g.rotation,v.scale=g.scale,v.spatialReference=b.spatialReference,this._update()}}clone(){return new my({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,Re._)([(0,ke.Cb)()],iu.prototype,"paddedViewState",void 0),(0,Re._)([(0,ke.Cb)({type:Jo})],iu.prototype,"padding",null),(0,Re._)([(0,ke.Cb)()],iu.prototype,"viewpoint",null),iu=my=(0,Re._)([(0,zn.j)("esri.views.2d.PaddedViewState")],iu);const r8=iu;E(17083);var s8=E(9598);function yy(p,g){switch(g){case"primary":return"touch"===p.pointerType||0===p.button;case"secondary":return"touch"!==p.pointerType&&2===p.button;case"tertiary":return"touch"!==p.pointerType&&1===p.button}}E(58098),E(8480),E(79527);class NC extends Ks.a{constructor(g,v){super(!0),this.view=g,this.registerIncoming("double-click",v,b=>this._handleDoubleClick(b,v))}_handleDoubleClick(g,v){yy(g.data,"primary")&&(g.stopPropagation(),v?this.view.mapViewNavigation.zoomOut([g.data.x,g.data.y]):this.view.mapViewNavigation.zoomIn([g.data.x,g.data.y]))}}class i8 extends Ks.a{constructor(g,v,b){super(!0),this.view=g,this.pointerType=v,this.registerIncoming("double-tap-drag",b,C=>this._handleDoubleTapDrag(C))}_handleDoubleTapDrag(g){const{data:v}=g,{pointerType:b}=v;if(b!==this.pointerType)return;g.stopPropagation();const{action:C,delta:O}=v,{view:w}=this,{mapViewNavigation:z}=w;switch(C){case"begin":{const{scale:fe}=w;this._startScale=fe,this._currentScale=fe,this._previousDelta=O,z.begin();break}case"update":{if(this._previousDelta.y===O.y)return;this._previousDelta=O;const De=this._startScale*1.015**O.y;z.setViewpointImmediate(De/this._currentScale),this._currentScale=De;break}case"end":{const{constraints:fe}=w,{effectiveLODs:De,snapToZoom:Ie}=fe;if(!Ie||!De)return void z.end();const We=fe.snapScale(this._currentScale),st=(O.y>0?Math.max(We,fe.snapToPreviousScale(this._startScale)):Math.min(We,fe.snapToNextScale(this._startScale)))/this._currentScale;z.zoom(st);break}}}}class Ah{constructor(g){this.callbacks=g,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(g){const v=g.data,b=v.pointers.size;switch(v.action){case"start":this.currentCount=b,this._emitStart(g);break;case"added":this._emitEnd(this.previousEvent),this.currentCount=b,this._emitStart(g);break;case"update":this._emitUpdate(g);break;case"removed":this.startEvent&&this._emitEnd(this.previousEvent),this.currentCount=b,this._emitStart(g);break;case"end":this._emitEnd(g),this.currentCount=0}this.previousEvent=g}_emitStart(g){this.startEvent=g,this.callbacks.condition(this.currentCount,g)&&this.callbacks.start(this.currentCount,g,this.startEvent)}_emitUpdate(g){this.callbacks.condition(this.currentCount,g)&&this.callbacks.update(this.currentCount,g,this.startEvent)}_emitEnd(g){this.callbacks.condition(this.currentCount,g)&&this.callbacks.end(this.currentCount,g,this.startEvent),this.startEvent=null}}class o8 extends Ks.a{constructor(g,v,b){super(!0),this.view=g,this.pointerAction=v,this.registerIncoming("drag",b,C=>this._handleDrag(C)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(g){super.onInstall(g),this.dragEventSeparator=new Ah({start:(v,b)=>{this.view.mapViewNavigation.pan.begin(this.view,b.data),b.stopPropagation()},update:(v,b)=>{this.view.mapViewNavigation.pan.update(this.view,b.data),b.stopPropagation()},end:(v,b)=>{this.view.mapViewNavigation.pan.end(this.view,b.data),b.stopPropagation()},condition:(v,b)=>1===v&&yy(b.data,this.pointerAction)})}_handleDrag(g){const v=this.view.mapViewNavigation;v.pinch.zoomMomentum||v.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(g)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class a8 extends Ks.a{constructor(g,v,b){super(!0),this.view=g,this.pointerAction=v;const C=this.view.mapViewNavigation;this.dragEventSeparator=new Ah({start:(O,w)=>{C.rotate.begin(this.view,w.data),w.stopPropagation()},update:(O,w)=>{C.rotate.update(this.view,w.data),w.stopPropagation()},end:(O,w)=>{C.rotate.end(),w.stopPropagation()},condition:(O,w)=>1===O&&yy(w.data,this.pointerAction)}),this.registerIncoming("drag",b,O=>this.dragEventSeparator.handle(O))}}var l8=E(84161);function lo(p){let g=p*p;return p<0&&(g*=-1),g}class h8 extends Ks.a{constructor(g){super(!0),this.view=g,this.frameTask=null,this.watchHandles=new Co.Z,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",v=>this._handleGamePadEvent(v)),this.handle.pause()}onInstall(g){super.onInstall(g),this.watchHandles.add([(0,Yn.S1)(this.view.navigation.gamepad,"enabled",v=>{v?(this.handle.resume(),this.frameTask||(this.frameTask=(0,Va.A)({update:b=>this._frameUpdate(b.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))})])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}_handleGamePadEvent(g){const v=this.view.navigation.gamepad.device;v&&g.data.device!==v||this.currentDevice&&this.currentDevice!==g.data.device||("end"===g.data.action?(this.currentDevice=null,function u8(p){p.translation[0]=0,p.translation[1]=0,p.translation[2]=0,p.heading=0,p.tilt=0}(this.transformation)):(this.currentDevice=g.data.device,function c8(p,g,v){const b=v,C=p.state,O=p.device,w="forward-down"===g.tiltDirection?1:-1;"standard"===O.deviceType?(b.translation[0]=lo(C.axes[0]),b.translation[1]=lo(C.axes[1]),b.translation[2]=lo(C.buttons[7])-lo(C.buttons[6]),b.heading=lo(C.axes[2]),b.tilt=lo(C.axes[3])):"spacemouse"===O.deviceType&&(b.translation[0]=1.2*lo(C.axes[0]),b.translation[1]=1.2*lo(C.axes[1]),b.translation[2]=2*-lo(C.axes[2]),b.heading=1.2*lo(C.axes[5]),b.tilt=1.2*lo(C.axes[3])),b.tilt*=w,(0,l8.a)(b.translation,b.translation,1)}(g.data,this.view.navigation.gamepad,this.transformation)))}_frameUpdate(g){const v=this.transformation;if(function d8(p){return 0===p.translation[0]&&0===p.translation[1]&&0===p.translation[2]&&0===p.heading&&0===p.tilt&&0===p.zoom}(v))return;const b=this.view.viewpoint.clone(),O=f8*this.view.navigation.gamepad.velocityFactor*g;(0,Es.Rx)(b,b,[v.translation[0]*O,-v.translation[1]*O]);const fe=this.view.size;(0,Es.UZ)(b,b,1+v.translation[2]*m8*g,this.view.constraints.rotationEnabled?-v.heading*p8*g:0,[fe[0]/2,fe[1]],fe);const Ie=this.view.constraints.constrain(b,this.view.viewpoint);this.view.viewpoint=Ie}}const p8=.06,f8=.7,m8=6e-4;class y8 extends Ks.a{constructor(g,v,b){super(!0),this.view=g,this.keys=v,this._pressed=!1,this._keyMap={[v.left]:"left",[v.right]:"right",[v.up]:"up",[v.down]:"down"},this.registerIncoming("key-down",b,C=>this._handleKeyDown(C)),this.registerIncoming("key-up",b,C=>this._handleKeyUp(C)),this.registerIncoming("blur",b,()=>this._handleBlur())}_handleKeyDown(g){g.data.repeat||this._handleKey(g,!0)}_handleKeyUp(g){this._handleKey(g,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(g,v){const b=this._keyMap[g.data.key];if(this._pressed=null!=b,this._pressed){if(v)switch(this.view.mapViewNavigation.begin(),b){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();g.stopPropagation()}}}class g8 extends Ks.a{constructor(g,v,b){super(!0),this.view=g,this.keys=v,this._pressed=!1,this._keyToDirection={[v.clockwiseOption1]:"clockwise",[v.clockwiseOption2]:"clockwise",[v.counterClockwiseOption1]:"counterClockwise",[v.counterClockwiseOption2]:"counterClockwise",[v.resetOption1]:"reset",[v.resetOption2]:"reset"},this.registerIncoming("key-down",b,C=>this._handleKeyDown(C)),this.registerIncoming("key-up",b,C=>this._handleKeyUp(C)),this.registerIncoming("blur",b,()=>this._handleBlur())}_handleKeyDown(g){g.data.repeat||this._handleKey(g,!0)}_handleKeyUp(g){this._handleKey(g,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(g,v){const b=g.modifiers;if(b.size>0&&!b.has("Shift")||!this.view.constraints.rotationEnabled)return;const C=this._keyToDirection[g.data.key];if(this._pressed=null!=C,this._pressed){if(v)switch(this.view.mapViewNavigation.begin(),C){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();g.stopPropagation()}}}var ou;!function(p){p[p.IN=0]="IN",p[p.OUT=1]="OUT"}(ou||(ou={}));class _8 extends Ks.a{constructor(g,v,b){super(!0),this.view=g,this.keys=v,this._keysToZoomAction={},this.registerIncoming("key-down",b,C=>this._handleKeyDown(C)),v.zoomIn.forEach(C=>this._keysToZoomAction[C]=ou.IN),v.zoomOut.forEach(C=>this._keysToZoomAction[C]=ou.OUT)}_handleKeyDown(g){this._handleKey(g)}_handleKey(g){const v=g.modifiers;if(v.size>0&&!v.has("Shift"))return;const{key:b}=g.data;if(!(b in this._keysToZoomAction))return;const C=this._keysToZoomAction[b],{mapViewNavigation:O}=this.view;let w=null;switch(C){case ou.IN:w=O.zoomIn();break;case ou.OUT:w=O.zoomOut();break;default:return}O.begin(),w.then(()=>O.end()),g.stopPropagation()}}class E8 extends Ks.a{constructor(g,v){super(!0),this.view=g,this._canZoom=!0,this.registerIncoming("mouse-wheel",v,b=>this._handleMouseWheel(b))}_handleMouseWheel(g){if(!this.view.navigation.mouseWheelZoomEnabled||(g.preventDefault(),g.stopPropagation(),!this._canZoom))return;const v=this.view.mapViewNavigation,{x:b,y:C,deltaY:O}=g.data,z=v.zoom(1/.6**(1/60*O),[b,C]);z&&(this._canZoom=!1,z.catch(()=>{}).then(()=>{this._canZoom=!0,v.end()}))}}class b8 extends Ks.a{constructor(g){super(!0),this.view=g,this.registerIncoming("drag",b=>this._handleDrag(b)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const v=this.view.mapViewNavigation;this.dragEventSeparator=new Ah({start:(b,C)=>{v.pinch.begin(this.view,C.data),C.stopPropagation()},update:(b,C)=>{v.pinch.update(this.view,C.data),C.stopPropagation()},end:(b,C)=>{v.pinch.end(this.view),C.stopPropagation()},condition:b=>b>=2})}_handleDrag(g){this.dragEventSeparator.handle(g)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var M8=E(25441);function BC(p){const g=p.native;return g?{buttons:g.buttons.map(v=>v.pressed?v.value?v.value:1:0),axes:g.axes.map(v=>function O8(p,g){const v=Math.abs(p);return v<g?0:Math.sign(p)*(v-g)/(1-g)}(v,p.axisThreshold))}:{buttons:[],axes:[]}}class P8{constructor(g,v){this.element=g,this.input=v,this._hasEventListeners=!1,this._onConnectGamepad=O=>{this._connectGamepad(O.gamepad)},this._onDisconnectGamepad=O=>{const w=O.gamepad,z=w.index,fe=this.inputDevices[z];fe&&(this._emitGamepadEvent(w,BC(fe),!1),this.inputDevices.splice(z,1),this.latestUpdate.splice(z,1),this.input.gamepad.devices.remove(fe),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const b="getGamepads"in window.navigator,C=window.isSecureContext;this.supported=b&&C,this.supported&&(this._forEachGamepad(O=>this._connectGamepad(O)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(g){this._hasEventListeners!==g&&(this._hasEventListeners=g,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(g){this.callback=g}_connectGamepad(g){const v=new qm(g);"unknown"!==v.deviceType&&(this.inputDevices[g.index]=v,this.input.gamepad.devices.add(v)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this.frameTask&&(this.frameTask=(0,Va.A)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}_readGamepadState(){const g=document.hasFocus(),v=this.element.contains(document.activeElement),b="document"===this.input.gamepad.enabledFocusMode&&!g||"view"===this.input.gamepad.enabledFocusMode&&!v;this._forEachGamepad(C=>{const O=this.inputDevices[C.index];if(!O)return;const w=this.latestUpdate[C.index],z=BC(O),fe=b||function D8(p){for(let g=0;g<p.axes.length;g++)if(0!==p.axes[g])return!1;for(let g=0;g<p.buttons.length;g++)if(0!==p.buttons[g])return!1;return!0}(z);w&&(w.timestamp===C.timestamp||!w.active&&fe||function C8(p,g){if(p.axes.length!==g.axes.length||p.buttons.length!==g.buttons.length)return!1;for(let v=0;v<p.axes.length;v++)if(p.axes[v]!==g.axes[v])return!1;for(let v=0;v<p.buttons.length;v++)if(p.buttons[v]!==g.buttons[v])return!1;return!0}(w.state,z))||this._emitGamepadEvent(C,z,!fe)})}_forEachGamepad(g){const v=window.navigator.getGamepads();for(let b=0;b<v.length;b++){const C=v[b];this._validate(C)&&g(C)}}_emitGamepadEvent(g,v,b){const C=this.latestUpdate[g.index],O=C&&C.active;if(!O&&!b)return;const w=!O&&b?"start":O&&b?"update":"end";this.latestUpdate[g.index]={timestamp:g.timestamp,state:v,active:b},this.callback&&this.callback({device:this.inputDevices[g.index],state:v,action:w})}_validate(g){if(!g||!g.connected)return!1;for(let v=0;v<g.axes.length;v++)if(isNaN(g.axes[v]))return!1;return!0}}const WC=(0,Wo.Z)("trident"),VC=(0,Wo.Z)("edge"),T8=(0,Wo.Z)("chrome"),S8=(0,Wo.Z)("ff"),I8=(0,Wo.Z)("safari"),au_touchNone="esri-view-surface--touch-none",au_touchPan="esri-view-surface--touch-pan";let w8=(()=>{class p{constructor(v,b){this.input=b,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=v,v.getAttribute("tabindex")||v.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new P8(v,this.input),this._gamepadSource.onEvent=C=>this._callback("gamepad",C)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(v=>{this._releasePointerCaptureSafe(v)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(v){this._browserTouchPanningEnabled=v,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(v){this._callback=v}set activeEvents(v){for(const b in this._active)v&&v.has(b)||(this._element.removeEventListener(gy[b],this._active[b]),delete this._active[b]);v&&v.forEach(b=>{if(!this._active[b]&&gy[b]){const C=(this._eventHandlers[b]||this._handleDefault).bind(this,b);this._element.addEventListener(gy[b],C),this._active[b]=C}}),this._gamepadSource.hasEventListeners=v&&v.has("gamepad")}setPointerCapture(v,b){b?(this._element.setPointerCapture(v.pointerId),this._activePointerCaptures.add(v.pointerId)):(this._releasePointerCaptureSafe(v.pointerId),this._activePointerCaptures.delete(v.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?au_touchNone:au_touchPan),this._element.classList.add(this._browserTouchPanningEnabled?au_touchPan:au_touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(au_touchNone),this._element.classList.remove(au_touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(v){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(v))return;this._element.releasePointerCapture(v)}catch(b){}}_updateNormalizedPointerLikeEvent(v,b){const C=fC(this._element,v);return p.test.disableSubpixelCoordinates&&(C.x=Math.round(C.x),C.y=Math.round(C.y)),b.x=C.x,b.y=C.y,b}_handleKey(v,b){const C=(0,M8.kK)(b);C&&"key-up"===v&&this._keyDownState.delete(C);const O={native:b,key:C,repeat:C&&this._keyDownState.has(C)};C&&"key-down"===v&&this._keyDownState.add(O.key),this._callback(v,O)}_handlePointer(v,b){const C=this._updateNormalizedPointerLikeEvent(b,{native:b,x:0,y:0,pointerType:b.pointerType,button:b.button,buttons:b.buttons,eventId:this._eventId++});this._callback(v,C)}_handlePointerPreventDefault(v,b){const C=this._updateNormalizedPointerLikeEvent(b,{native:b,x:0,y:0,pointerType:b.pointerType,button:b.button,buttons:b.buttons,eventId:this._eventId++});b.preventDefault(),this._callback(v,C)}_handleMouseWheel(v,b){let C=b.deltaY;switch(b.deltaMode){case 0:(WC||VC)&&(C=C/document.documentElement.clientHeight*600);break;case 1:C*=30;break;case 2:C*=900}WC||VC?C*=.7:T8||I8?C*=.6:S8&&(C*=1.375);const w=Math.abs(C);w>100&&(C=C/w*200/(1+Math.exp(-.02*(w-100))));const z=this._updateNormalizedPointerLikeEvent(b,{native:b,x:0,y:0,deltaY:C});this._callback(v,z)}_handlePointerCaptureLost(v,b){this._activePointerCaptures.delete(b.pointerId),this._handleDefault(v,b)}_handleDefault(v,b){const C={native:b};b.preventDefault(),this._callback(v,C)}_preventAltKeyDefault(v){"Alt"===v.key&&v.preventDefault()}_preventMultiTouchPanning(v){v.touches.length>1&&v.preventDefault()}}return p.test={disableSubpixelCoordinates:!1},p})();const gy={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class x8 extends Ks.a{constructor(){super(!0),this.registerIncoming("context-menu",g=>{g.data.native.preventDefault()})}}var Lh=E(84244);function _y(p,g){return Math.abs(g.x-p.x)+Math.abs(g.y-p.y)}class R8 extends Ks.a{constructor(g=250,v=10,b=350,C=35,O=Lh.m){super(!1),this.maximumDoubleClickDelay=g,this.maximumDoubleClickDistance=v,this.maximumDoubleTouchDelay=b,this.maximumDoubleTouchDistance=C,this._clock=O,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(g=>g.doubleClickTimeout=(0,dn.hw)(g.doubleClickTimeout))}get hasPendingInputs(){return(0,Mh.oE)(this._pointerState,g=>null!=g.doubleClickTimeout)}_pointerId(g){const v=g.native;return"mouse"===v.pointerType?`${v.pointerId}:${v.button}`:`${v.pointerType}`}_handleImmediateClick(g){const v=g.data,b=this._pointerId(v),C=this._pointerState.get(b);if(C){const O="touch"===v.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;_y(C.event.data,v)>O?(this._clearDoubleClickTimeout(b,!0),this._startClick(g)):(this._clearDoubleClickTimeout(b,!1),this._doubleClick.emit(C.event.data,void 0,C.event.modifiers))}else this._startClick(g)}_startClick(g){const v=this._pointerId(g.data);this._pointerState.set(v,{event:g,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(v),"touch"===g.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}),this.refreshHasPendingInputs()}_handlePointerDrag(g){const v=this._pointerId(g.data.currentEvent);this._clearDoubleClickTimeout(v,!0)}_handleDrag(g){const v=this._pointerId(g.data.pointer);this._clearDoubleClickTimeout(v,!0)}_clearDoubleClickTimeout(g,v){const b=this._pointerState.get(g);b&&(b.doubleClickTimeout.remove(),b.doubleClickTimeout=null,v&&this._doubleClickTimeoutExceeded(g),this._pointerState.delete(g),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(g){const v=this._pointerState.get(g);this._click.emit(v.event.data,void 0,v.event.modifiers),v.doubleClickTimeout=null,this._pointerState.delete(g),this.refreshHasPendingInputs()}}class j8 extends Ks.a{constructor(g=250,v=10,b=350,C=35,O=Lh.m){super(!1),this.maximumDoubleClickDelay=g,this.maximumDoubleClickDistance=v,this.maximumDoubleTouchDelay=b,this.maximumDoubleTouchDistance=C,this._clock=O,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,bi.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Ah({start:(w,z)=>this._dragStart(w,z),update:(w,z)=>this._dragUpdate(z),end:(w,z)=>this._dragEnd(z)}),this.registerIncoming("drag",w=>this._dragEventSeparator.handle(w)),this.registerIncoming("pointer-down",w=>this._handlePointerDown(w)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(g=>{null!=g.doubleTapTimeout&&(g.doubleTapTimeout.remove(),g.doubleTapTimeout=null)})}get hasPendingInputs(){return(0,Mh.oE)(this._pointerState,g=>null!=g.doubleTapTimeout)}_clearPointerDown(g){const v=this._pointerState.get(g);v&&(v.doubleTapTimeout.remove(),v.doubleTapTimeout=null,this._pointerState.delete(g),this.refreshHasPendingInputs())}_createDoubleTapDragData(g,v,b){const{button:C,buttons:O,pointer:w,pointers:z,pointerType:fe,timestamp:De}=b;return{action:g,delta:v,button:C,buttons:O,pointer:w,pointers:z,pointerType:fe,timestamp:De}}_dragStart(g,v){if(!this._doubleTapDragReady||1!==g)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:b,modifiers:C}=v,{center:O}=b;this._dragStartCenter=O;const w=this._createDoubleTapDragData("begin",(0,bi.vW)(0,0),b);this._doubleTapDrag.emit(w,void 0,C),v.stopPropagation()}_dragUpdate(g){if(!this._doubleTapDragActive)return;const{data:v,modifiers:b}=g,{center:C}=v,O=(0,bi.vW)(C.x-this._dragStartCenter.x,C.y-this._dragStartCenter.y),w=this._createDoubleTapDragData("update",O,v);this._doubleTapDrag.emit(w,void 0,b),g.stopPropagation()}_dragEnd(g){if(!this._doubleTapDragActive)return;const{data:v,modifiers:b}=g,{center:C}=v,O=(0,bi.vW)(C.x-this._dragStartCenter.x,C.y-this._dragStartCenter.y),w=this._createDoubleTapDragData("end",O,v);this._doubleTapDrag.emit(w,void 0,b),this._doubleTapDragActive=!1,g.stopPropagation()}_handlePointerDown(g){const{data:v}=g,b=this._pointerId(v),C=this._pointerState.get(b),{pointerType:O}=v.native;if(C){const w="touch"===O?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(b),_y(C.event.data,v)>w?this._storePointerDown(g):this._doubleTapDragReady=!0}else this._storePointerDown(g)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(g){const{native:v}=g,{pointerId:b,button:C,pointerType:O}=v;return"mouse"===O?`${b}:${C}`:`${O}`}_storePointerDown(g){const{data:v}=g,{pointerType:b}=v.native,C=this._pointerId(v),w=this._clock.setTimeout(()=>this._clearPointerDown(C),"touch"===b?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay);this._pointerState.set(C,{event:g,doubleTapTimeout:w}),this.refreshHasPendingInputs()}}var $C,vy=E(27422);class U8 extends Ks.a{constructor(g){super(!1),this.navigationTouch=g,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(g,v,b,C){return{action:g,pointerType:this.pointerType,button:this.mouseButton,buttons:v.buttons,timestamp:C,pointers:F8(this.activePointerMap),pointer:v,angle:b.angle,radius:b.radius,center:b.center}}_addPointer(g){const v=g.native.pointerId,b=Rh(this.activePointerMap).angle,C={event:g,initialAngle:0,lastAngle:0};this.activePointerMap.set(v,C);const O=jh(C,ZC(this.activePointerMap));C.initialAngle=O,C.lastAngle=O,this._updatePointerAngles(b)}_updatePointer(g){if(g&&null==g.x&&null==g.y)return;const b=this.activePointerMap.get(g.native.pointerId);b?b.event=g:this._addPointer(g)}_removePointer(g){const v=Rh(this.activePointerMap).angle;this.activePointerMap.delete(g),this._updatePointerAngles(v)}_updatePointerAngles(g){const v=Rh(this.activePointerMap);this.activePointerMap.forEach(b=>{b.initialAngle=jh(b,v)-g,b.lastAngle=jh(b,v)-g})}_emitEvent(g,v,b){const C=Rh(this.activePointerMap);this.drag.emit(this._createPayload(g,v,C,b),void 0,this.startStateModifiers)}_handlePointerUpAndPointerLost(g){const v=g.data.native.pointerId,b=(0,vy.HA)(g.timestamp);this.activePointerMap.get(v)&&(1===this.activePointerMap.size?(this._updatePointer(g.data),!this.isCurrentDragSuppressed&&this._emitEvent("end",g.data,b),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this._removePointer(v)):(this._removePointer(v),this._emitEvent("removed",g.data,(0,vy.HA)(g.timestamp))))}_handlePointerDrag(g){const v=g.data,b=v.currentEvent,C=(0,vy.HA)(g.timestamp);switch(v.action){case"start":case"update":this.isDragging?this.activePointerMap.has(b.native.pointerId)?(this._updatePointer(b),!this.isCurrentDragSuppressed&&this._emitEvent("update",b,C)):(this._addPointer(b),this._emitEvent("added",b,C),this.isCurrentDragSuppressed=this.isSuppressed):(this._updatePointer(b),this.pointerType=g.data.startEvent.pointerType,this.mouseButton=g.data.startEvent.button,this.startStateModifiers=g.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this._emitEvent("start",b,C))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}function ZC(p){const g=[];return p.forEach(v=>{g.push((0,bi.vW)(v.event.x,v.event.y))}),function L8(p,g){if(g?(g.radius=0,g.center.x=0,g.center.y=0):g={radius:0,center:(0,bi.vW)()},0===p.length)return g;if(1===p.length)return g.center.x=p[0].x,g.center.y=p[0].y,g;if(2===p.length){const[Ln,Qn]=p,[ur,Yr]=[Qn.x-Ln.x,Qn.y-Ln.y];return g.radius=Math.sqrt(ur*ur+Yr*Yr)/2,g.center.x=(Ln.x+Qn.x)/2,g.center.y=(Ln.y+Qn.y)/2,g}let v=0,b=0;for(let Ln=0;Ln<p.length;Ln++)v+=p[Ln].x,b+=p[Ln].y;v/=p.length,b/=p.length;const C=p.map(Ln=>Ln.x-v),O=p.map(Ln=>Ln.y-b);let w=0,z=0,fe=0,De=0,Ie=0,We=0,st=0;for(let Ln=0;Ln<C.length;Ln++){const Qn=C[Ln],ur=O[Ln],Yr=Qn*Qn,ji=ur*ur;w+=Yr,z+=ji,fe+=Qn*ur,De+=Yr*Qn,Ie+=ji*ur,We+=Qn*ji,st+=ur*Yr}const yt=.5*(De+We),jt=.5*(Ie+st),tn=w*z-fe*fe,un=(yt*z-jt*fe)/tn,hn=(w*jt-fe*yt)/tn,qt=(0,bi.vW)(un+v,hn+b);return{radius:Math.sqrt(un*un+hn*hn+(w+z)/p.length),center:qt}}(g)}function Rh(p){const g=ZC(p);let v=0;return p.forEach(b=>{let C=jh(b,g),O=C-b.lastAngle;for(;O>Math.PI;)O-=2*Math.PI;for(;O<-Math.PI;)O+=2*Math.PI;C=b.lastAngle+O,b.lastAngle=C,v+=C-b.initialAngle}),v/=p.size||1,{angle:v,radius:g.radius,center:g.center}}function F8(p){const g=new Map;return p.forEach((v,b)=>g.set(b,v.event)),g}function jh(p,g){const v=p.event;return Math.atan2(v.y-g.center.y,v.x-g.center.x)}!function(p){p[p.Left=0]="Left",p[p.Middle=1]="Middle",p[p.Right=2]="Right",p[p.Back=3]="Back",p[p.Forward=4]="Forward",p[p.Undefined=-1]="Undefined"}($C||($C={}));class N8 extends Ks.a{constructor(g=250,v=10,b=350,C=35,O=Lh.m){super(!1),this.maximumDoubleClickDelay=g,this.maximumDoubleClickDistance=v,this.maximumDoubleTouchDelay=b,this.maximumDoubleTouchDistance=C,this._clock=O,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",w=>{this._handlePointerLoss(w,"pointer-up")}),this.registerIncoming("pointer-capture-lost",w=>{this._handlePointerLoss(w,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",w=>{this._handlePointerLoss(w,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(g=>{g.immediateDoubleClick&&g.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(g){const v=g.data,b=this._pointerId(v);this._pointerState.has(b)||(this._pointerState.set(b,{downButton:v.native.button,immediateDoubleClick:null}),this.startCapturingPointer(v.native))}_handlePointerLoss(g,v){const b=g.data,C=this._pointerId(b),O=this._pointerState.get(C);if(O&&"pointer-up"===v&&O.downButton===b.native.button){const w=O.immediateDoubleClick;if(w){w.timeoutHandle.remove();const z="touch"===g.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;_y(w,g.data)>z?this._startImmediateDoubleClick(g,O):(this._immediateDoubleClick.emit(g.data,void 0,w.modifiers),this._removeState(b))}else this._startImmediateDoubleClick(g,O)}}_startImmediateDoubleClick(g,v){v.immediateDoubleClick={x:g.data.x,y:g.data.y,modifiers:g.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(g.data),"touch"===g.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}}_pointerId(g){const v=g.native;return"mouse"===v.pointerType?`${v.pointerId}:${v.button}`:`${v.pointerType}`}_removeState(g){const v=this._pointerId(g);this._pointerState.delete(v),this.stopCapturingPointer(g.native),this.refreshHasPendingInputs()}}class B8 extends Ks.a{constructor(g=300,v=1.5,b=6,C=6,O=500,w=Lh.m){super(!1),this.maximumClickDelay=g,this.movementUntilMouseDrag=v,this.movementUntilPenDrag=b,this.movementUntilTouchDrag=C,this.holdDelay=O,this._clock=w,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",z=>{this._handlePointerLoss(z,"pointer-up")}),this.registerIncoming("pointer-capture-lost",z=>{this._handlePointerLoss(z,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",z=>{this._handlePointerLoss(z,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(g=>{null!=g.holdTimeout&&(g.holdTimeout.remove(),g.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(g){const v=g.data,b=v.native.pointerId;let C=null;0===this._pointerState.size&&(C=this._clock.setTimeout(()=>{const w=this._pointerState.get(b);w&&(w.isDragging||(this._pointerHold.emit(w.previousEvent,void 0,g.modifiers),w.holdEmitted=!0),w.holdTimeout=null)},this.holdDelay)),this._pointerState.set(b,{startEvent:v,previousEvent:v,startTimestamp:g.timestamp,isDragging:!1,downButton:v.native.button,holdTimeout:C,modifiers:new Set}),this.startCapturingPointer(v.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(g)}_createPointerDragData(g,v,b){return{action:g,startEvent:v.startEvent,previousEvent:v.previousEvent,currentEvent:b}}_handlePointerMove(g){const v=g.data,C=this._pointerState.get(v.native.pointerId);C&&(C.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",C,v),void 0,C.modifiers):function A8(p,g){const v=g.x-p.x,b=g.y-p.y;return Math.sqrt(v*v+b*b)}(v,C.startEvent)>this._getDragThreshold(v.native.pointerType)&&this._startDragging(g),C.previousEvent=v)}_getDragThreshold(g){switch(g){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}_startDragging(g){const v=g.data,b=v.native.pointerId;this._pointerState.forEach(C=>{null!=C.holdTimeout&&(C.holdTimeout.remove(),C.holdTimeout=null),C.isDragging||(C.modifiers=g.modifiers,C.isDragging=!0,b===C.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",C,v)):this._pointerDrag.emit(this._createPointerDragData("start",C,C.previousEvent),g.timestamp))})}_handlePointerLoss(g,v){const b=g.data,C=b.native.pointerId,O=this._pointerState.get(C);O&&(null!=O.holdTimeout&&(O.holdTimeout.remove(),O.holdTimeout=null),O.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",O,"pointer-up"===v?b:O.previousEvent),void 0,O.modifiers):"pointer-up"===v&&O.downButton===b.native.button&&g.timestamp-O.startTimestamp<=this.maximumClickDelay&&!O.holdEmitted&&this._immediateClick.emit(b),this._pointerState.delete(C),this.stopCapturingPointer(b.native),0===this._pointerState.size&&this._moveHandle.pause())}}const Uh_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Uh_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},Uh_rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let Fh=class extends Br.Z{constructor(){super(...arguments),this._handles=new Co.Z}initialize(){this._handles.add([(0,Yn.PA)(this.view,"ready",()=>this._disconnect()),(0,Yn.gx)(this.view,"ready",()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const g=new w8(this.view.surface,this.view.input),v=[new N8,new B8,new R8,new U8(this.view.navigation),new j8],b=new nu.$({eventSource:g,recognizers:v});b.installHandlers("prevent-context-menu",[new x8],nu.f.INTERNAL),b.installHandlers("navigation",[new b8(this.view),new h8(this.view),new E8(this.view),new NC(this.view),new NC(this.view,["Ctrl"]),new o8(this.view,"primary"),new y8(this.view,Uh_pan),new _8(this.view,Uh_zoom),new g8(this.view,Uh_rotate),new a8(this.view,"secondary"),new i8(this.view,"touch")],nu.f.INTERNAL),this.view.viewEvents.connect(b),this._source=g,this._inputManager=b,(0,Yn.S1)(this.view.navigation,"browserTouchPanEnabled",C=>{this._source.browserTouchPanningEnabled=!C})}get test(){return{inputManager:this._inputManager}}};(0,Re._)([(0,ke.Cb)()],Fh.prototype,"view",void 0),Fh=(0,Re._)([(0,zn.j)("esri.views.2d.input.MapViewInputManager")],Fh);const W8=Fh;var V8=E(56656);let Z8=0,_a=class extends Br.Z{constructor(){super(...arguments),this.color=new Gl.Z([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return Z8++}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],_a.prototype,"version",null),(0,Re._)([(0,ke.Cb)({type:Gl.Z})],_a.prototype,"color",void 0),(0,Re._)([(0,ke.Cb)({type:Gl.Z})],_a.prototype,"haloColor",void 0),(0,Re._)([(0,ke.Cb)()],_a.prototype,"haloOpacity",void 0),(0,Re._)([(0,ke.Cb)()],_a.prototype,"fillOpacity",void 0),_a=(0,Re._)([(0,zn.j)("esri.views.2d.support.HighlightOptions")],_a);const KC=_a;var zC=E(33412),GC=E(18605),kC=E(31637),HC=E(57596);let Qa=class extends Br.Z{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(p){const g=this._get("node");p!==g&&(p&&p.classList.add("esri-component"),g&&g.classList.remove("esri-component"),this._set("node",p))}castNode(p){return p?"string"==typeof p||function G8(p){return p&&"nodeType"in p}(p)?(this._set("widget",null),(0,ua.L7)(p)):(function k8(p){return p&&"function"==typeof p.render}(p)&&!p.domNode&&(p.domNode=document.createElement("div")),this._set("widget",p),p.domNode):(this._set("widget",null),null)}};(0,Re._)([(0,ke.Cb)({dependsOn:[]})],Qa.prototype,"id",null),(0,Re._)([(0,ke.Cb)()],Qa.prototype,"node",null),(0,Re._)([(0,bo.p)("node")],Qa.prototype,"castNode",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Qa.prototype,"widget",void 0),Qa=(0,Re._)([(0,zn.j)("esri.views.ui.Component")],Qa);const Nh=Qa,H8={left:0,top:0,bottom:0,right:0},YC={bottom:30,top:15,right:15,left:15},Ey="manual",pi_corner="esri-ui-corner";function by(p){const g=p,v="object"==typeof g&&null!==g&&Object.getPrototypeOf(g);return null!==v&&v!==Object.prototype||!("component"in g||"index"in g||"position"in g)?null:p}function My(p,{top:g,bottom:v,left:b,right:C}){p.style.top=g,p.style.bottom=v,p.style.left=b,p.style.right=C}let Yo=class extends ih.Z.EventedAccessor{constructor(p){super(p),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new Co.Z,this.view=null,this._applyViewPadding=()=>{const g=this.container;g&&My(g,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const g=this._innerContainer;g&&My(g,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this._handles.add([(0,gr.YP)(()=>{var p;return[null==(p=this.view)?void 0:p.padding,this.container]},this._applyViewPadding,gr.nn),(0,gr.YP)(()=>this.padding,this._applyUIPadding,gr.nn)])}destroy(){this.container=null;for(const p of this._components)p.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(p){const g=this._get("container");p!==g&&(p&&(p.classList.add("esri-ui"),p.classList.add((0,IM.rk)()),this._attachContainers(p)),g&&(g.classList.remove("esri-ui"),My(g,{top:"",bottom:"",left:"",right:""}),(0,ua.cS)(g)),this._set("container",p))}get height(){const p=this.get("view.height")||0;if(0===p)return p;const g=this._getViewPadding();return Math.max(p-(g.top+g.bottom),0)}get padding(){return this._get("padding")}set padding(p){p?this._override("padding",p):this._clearOverride("padding")}castPadding(p){return"number"==typeof p?{bottom:p,top:p,right:p,left:p}:Pt(Pt({},YC),p)}get width(){const p=this.get("view.width")||0;if(0===p)return p;const g=this._getViewPadding();return Math.max(p-(g.left+g.right),0)}add(p,g){let v,b;if(Array.isArray(p))return void p.forEach(O=>this.add(O,g));const C=by(p);C&&({index:v,position:g,component:p,key:b}=C),g&&"object"==typeof g&&({index:v,key:b,position:g}=g),!p||g&&!this._isValidPosition(g)||this._add(p,g,v,b)}remove(p,g){if(!p)return;if(Array.isArray(p))return p.map(b=>this.remove(b,g));const v=this._find(p);if(v){const b=this._componentToKey;if(b.has(p)&&b.get(p)!==g)return;const C=this._components.indexOf(v);return v.node.parentNode&&v.node.parentNode.removeChild(v.node),this._componentToKey.delete(p),this._components.splice(C,1)[0]}}empty(p){return Array.isArray(p)?p.map(g=>this.empty(g)).reduce((g,v)=>g.concat(v)):(p=p||Ey)===Ey?Array.prototype.slice.call(this._manualContainer.children).filter(g=>!g.classList.contains(pi_corner)).map(g=>this.remove(g)):this._isValidPosition(p)?Array.prototype.slice.call(this._cornerNameToContainerLookup[p].children).map(this.remove,this):null}move(p,g){if(Array.isArray(p)&&p.forEach(O=>this.move(O,g)),!p)return;let v;const b=by(p)||by(g);if(b&&(v=b.index,g=b.position,p=b.component||p),g&&!this._isValidPosition(g))return;const C=this.remove(p);C&&this.add(C,{position:g,index:v})}find(p){if(!p)return null;const g=this._findById(p);return g&&(g.widget||g.node)}getPosition(p){for(const g in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[g].contains(p))return g;return null}_add(p,g,v,b){p instanceof Nh||(p=new Nh({node:p})),this._place({component:p,position:g,index:v}),this._components.push(p),b&&this._componentToKey.set(p,b)}_find(p){return p?p instanceof Nh?this._findByComponent(p):"string"==typeof p?this._findById(p):this._findByNode(p.domNode||p):null}_getViewPadding(){return this.get("view.padding")||H8}_attachContainers(p){p.appendChild(this._innerContainer),p.appendChild(this._manualContainer)}_initContainers(){const p=document.createElement("div");p.classList.add("esri-ui-inner-container"),p.classList.add("esri-ui-corner-container");const g=document.createElement("div");g.classList.add("esri-ui-inner-container"),g.classList.add("esri-ui-manual-container");const v=document.createElement("div");v.classList.add("esri-ui-top-left"),v.classList.add(pi_corner),p.appendChild(v);const b=document.createElement("div");b.classList.add("esri-ui-top-right"),b.classList.add(pi_corner),p.appendChild(b);const C=document.createElement("div");C.classList.add("esri-ui-bottom-left"),C.classList.add(pi_corner),p.appendChild(C);const O=document.createElement("div");O.classList.add("esri-ui-bottom-right"),O.classList.add(pi_corner),p.appendChild(O),this._innerContainer=p,this._manualContainer=g;const w=(0,hi.dZ)();this._cornerNameToContainerLookup={"top-left":v,"top-right":b,"bottom-left":C,"bottom-right":O,"top-leading":w?b:v,"top-trailing":w?v:b,"bottom-leading":w?O:C,"bottom-trailing":w?C:O},this._positionNameToContainerLookup=Pt({manual:g},this._cornerNameToContainerLookup)}_isValidPosition(p){return!!this._positionNameToContainerLookup[p]}_place(p){const g=p.component,b=p.index,C=this._positionNameToContainerLookup[p.position||Ey],O=b>-1;if(function J8(p){return p&&!p._started&&"function"==typeof p.postMixInProperties&&"function"==typeof p.buildRendering&&"function"==typeof p.postCreate&&"function"==typeof p.startup}(g.widget)&&g.widget.startup(),!O)return void C.appendChild(g.node);const w=Array.prototype.slice.call(C.children);0!==b?b>=w.length?C.appendChild(g.node):(0,ua.Vt)(g.node,w[b]):C.firstChild?(0,ua.Vt)(g.node,C.firstChild):C.appendChild(g.node)}_toPxPosition(p){return{top:this._toPxUnit(p.top),left:this._toPxUnit(p.left),right:this._toPxUnit(p.right),bottom:this._toPxUnit(p.bottom)}}_toPxUnit(p){return 0===p?"0":p+"px"}_findByComponent(p){let g,v=null;return this._components.some(b=>(g=b===p,g&&(v=b),g)),v}_findById(p){let g,v=null;return this._components.some(b=>(g=b.id===p,g&&(v=b),g)),v}_findByNode(p){let g,v=null;return this._components.some(b=>(g=b.node===p,g&&(v=b),g)),v}};(0,Re._)([(0,ke.Cb)()],Yo.prototype,"container",null),(0,Re._)([(0,ke.Cb)()],Yo.prototype,"height",null),(0,Re._)([(0,ke.Cb)({value:YC})],Yo.prototype,"padding",null),(0,Re._)([(0,bo.p)("padding")],Yo.prototype,"castPadding",null),(0,Re._)([(0,ke.Cb)()],Yo.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)()],Yo.prototype,"width",null),Yo=(0,Re._)([(0,zn.j)("esri.views.ui.UI")],Yo);const Y8=Yo;var Q8=E(59213);function QC(p,g){return p&&"copyright"in p&&(!g||"function"==typeof p.originOf&&"user"===p.originOf("copyright"))}function Bh(p,g,v){!v||!g||p.find(b=>b.layerView===g&&b.text===v)||p.push({text:v,layerView:g})}const va=[];let lu=class extends Za.r{constructor(p){super(p),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Ls.Z,this.view=null,this._allLayerViewsChange=g=>{this.handles.remove("suspension");const v=this.get("view.allLayerViews");v&&this.handles.add(v.map(b=>b.watch(["suspended","attributionVisible"],this._updateAttributionItems)),"suspension"),g&&g.removed&&g.removed.forEach(b=>{this._pendingAttributions.delete(b),this._fetchedAttributionData.delete(b)}),this._updateAttributionItems()},this._updateAttributionItems=()=>{const g=this.get("view.allLayerViews");va.length=0,g?(g.forEach(v=>{if(v.suspended||!v.get("layer.attributionVisible"))return;const b=v.layer;if(QC(b,"user"))return void Bh(va,v,b.copyright);if(b.hasAttributionData){if(this._fetchedAttributionData.has(v)){const O=this._fetchedAttributionData.get(v);return void(O?Bh(va,v,this._getDynamicAttribution(O,this.view,b)):QC(b)&&Bh(va,v,b.copyright))}return void this._fetchAttributionData(v)}const C=b.get("portalItem.accessInformation");Bh(va,v,C||b.copyright)}),function X8(p,g){return p.length!==g.length||p.some((v,b)=>v.text!==g[b].text)}(this.items,va)&&(this.items.removeAll(),this.items.addMany(va)),va.length=0,this.notifyChange("state")):this._clear()},this.handles.add([(0,Yn.on)(this,"view.allLayerViews","change",this._allLayerViewsChange,this._allLayerViewsChange,this._clear),(0,Yn.Z4)(this,"view.stationary",()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_fetchAttributionData(p){var g=this;return(0,dr.Z)(function*(){if(g._pendingAttributions.has(p))return;g._pendingAttributions.add(p);const v=yield(0,Q8.q6)(p.layer.fetchAttributionData());if(g._pendingAttributions.has(p)){const b=v.ok?g._createContributionIndex(v.value,function q8(p){return"bing-maps"===p.type}(p.layer)):null;g._pendingAttributions.delete(p),g._fetchedAttributionData.set(p,b)}g._updateAttributionItems()})()}_createContributionIndex(p,g){const v=p.contributors,b={};if(!v)return b;for(let C=0;C<v.length;C++){const O=v[C],w=O.coverageAreas;if(!w)return;for(const z of w){const fe=z.bbox,De=z.zoomMin-(g&&z.zoomMin?1:0),Ie=z.zoomMax-(g&&z.zoomMax?1:0),st={extent:(0,Bm.$)({xmin:fe[1],ymin:fe[0],xmax:fe[3],ymax:fe[2],spatialReference:sC.Z.WGS84}),attribution:O.attribution||"",score:null!=z.score?z.score:100,id:C};for(let yt=De;yt<=Ie;yt++)b[yt]=b[yt]||[],b[yt].push(st)}}return b.maxKey=Math.max.apply(null,Object.keys(b)),b}_getDynamicAttribution(p,g,v){const{extent:b,scale:C}=g;let O=v.tileInfo.scaleToZoom(C);if(O=Math.min(p.maxKey,Math.round(O)),!b||null==O||O<=-1)return"";const w=p[O],z=(0,Bm.iV)(b.center.clone().normalize(),g.spatialReference),fe={};return w?w.filter(De=>{const Ie=!fe[De.id]&&z&&(0,oy.aV)(De.extent,z);return Ie&&(fe[De.id]=!0),Ie}).sort((De,Ie)=>Ie.score-De.score||De.objectId-Ie.objectId).map(De=>De.attribution).join(", "):""}};(0,Re._)([(0,ke.Cb)({readOnly:!0,type:Ls.Z})],lu.prototype,"items",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],lu.prototype,"state",null),(0,Re._)([(0,ke.Cb)()],lu.prototype,"view",void 0),lu=(0,Re._)([(0,zn.j)("esri.widgets.Attribution.AttributionViewModel")],lu);const XC=lu;let fi=class extends di.Z{constructor(p,g){super(p,g),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this.iconClass="esri-icon-description",this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new XC}initialize(){this.own((0,Yn.on)(this,"viewModel.items","change",()=>this.scheduleRender()))}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((p,g)=>(-1===p.indexOf(g.text)&&p.push(g.text),p),[]).join(this.itemDelimiter)}render(){return(0,Xt.u)("div",{bind:this,class:this.classes("esri-attribution esri-widget",{"esri-attribution--open":this._isOpen}),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return(0,Xt.u)("div",{class:"esri-attribution__powered-by"},"Powered by"," ",(0,Xt.u)("a",{class:"esri-attribution__link",href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const p=this._isOpen,g=this._isInteractive,v=g?0:-1,{attributionText:b}=this,C=g?"button":void 0;return(0,Xt.u)("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes("esri-attribution__sources",{"esri-attribution__sources--open":p,"esri-interactive":g}),innerHTML:b,role:C,tabIndex:v})}_afterSourcesNodeCreate(p){this._prevSourceNodeHeight=p.clientWidth}_afterSourcesNodeUpdate(p){let g=!1;const{clientHeight:v,clientWidth:b,scrollWidth:C}=p,O=C>=b,w=this._attributionTextOverflowed!==O;if(this._attributionTextOverflowed=O,w&&(g=!0),this._isOpen){const z=v<this._prevSourceNodeHeight;this._prevSourceNodeHeight=v,z&&(this._isOpen=!1,g=!0)}g&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,Re._)([(0,ke.Cb)()],fi.prototype,"_isOpen",void 0),(0,Re._)([(0,ke.Cb)()],fi.prototype,"_isInteractive",null),(0,Re._)([(0,ke.Cb)()],fi.prototype,"_attributionTextOverflowed",void 0),(0,Re._)([(0,ke.Cb)()],fi.prototype,"_prevSourceNodeHeight",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],fi.prototype,"attributionText",null),(0,Re._)([(0,ke.Cb)()],fi.prototype,"iconClass",void 0),(0,Re._)([(0,ke.Cb)()],fi.prototype,"itemDelimiter",void 0),(0,Re._)([(0,ke.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],fi.prototype,"label",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/Attribution/t9n/Attribution")],fi.prototype,"messages",void 0),(0,Re._)([(0,rr.B)("viewModel.view")],fi.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({type:XC})],fi.prototype,"viewModel",void 0),(0,Re._)([(0,Ki.h)()],fi.prototype,"_toggleState",null),fi=(0,Re._)([(0,zn.j)("esri.widgets.Attribution")],fi);const ej=fi;let Xa=class extends($M(Br.Z)){constructor(p){super(p),this._handles=new Co.Z,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add((0,Yn.S1)(this,"view",this._updateRotationWatcher))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get canShowNorth(){const p=this.get("view.spatialReference");return!(!p||!p.isWebMercator&&!p.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const p={};"2d"===this.view.type?p.rotation=0:p.heading=0,this.callGoTo({target:p})}_updateForRotation(p){null!=p&&(this.orientation={z:p})}_updateForCamera(p){p&&(this.orientation={x:0,y:0,z:-p.heading})}_updateRotationWatcher(p){this._handles.removeAll(),p&&this._handles.add("2d"===p.type?(0,Yn.S1)(this,"view.rotation",this._updateForRotation):(0,Yn.S1)(this,"view.camera",this._updateForCamera))}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],Xa.prototype,"canShowNorth",null),(0,Re._)([(0,ke.Cb)()],Xa.prototype,"orientation",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Xa.prototype,"state",null),(0,Re._)([(0,ke.Cb)()],Xa.prototype,"view",void 0),Xa=(0,Re._)([(0,zn.j)("esri.widgets.CompassViewModel")],Xa);const qC=Xa;let Po=class extends di.Z{constructor(p,g){super(p,g),this.goToOverride=null,this.iconClass="esri-icon-locate-circled",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new qC}reset(){return this.viewModel.reset()}render(){const{orientation:p,state:g}=this.viewModel,v="disabled"===g,b="compass"==("rotation"===g?"rotation":"compass"),C=v?-1:0,O={"esri-disabled":v,"esri-interactive":!v},w={"esri-icon-compass":b,"esri-icon-dial":!b},{messages:z}=this;return(0,Xt.u)("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",O),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:C,"aria-label":z.reset,title:z.reset},(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",w),styles:this._toRotationTransform(p)}),(0,Xt.u)("span",{class:"esri-icon-font-fallback-text"},z.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(p){return{transform:`rotateZ(${p.z}deg)`}}};(0,Re._)([(0,rr.B)("viewModel.goToOverride")],Po.prototype,"goToOverride",void 0),(0,Re._)([(0,ke.Cb)()],Po.prototype,"iconClass",void 0),(0,Re._)([(0,ke.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Po.prototype,"label",void 0),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/Compass/t9n/Compass")],Po.prototype,"messages",void 0),(0,Re._)([(0,rr.B)("viewModel.view")],Po.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({type:qC})],Po.prototype,"viewModel",void 0),(0,Re._)([(0,Ki.h)()],Po.prototype,"_reset",null),Po=(0,Re._)([(0,zn.j)("esri.widgets.Compass")],Po);const nj=Po;let uu=class extends Br.Z{constructor(p){super(p),this._handles=new Co.Z,this.navigationMode="pan",this.view=null}initialize(){this._handles.add((0,Yn.gx)(this,"view.inputManager",this._setNavigationMode.bind(this)))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],uu.prototype,"state",null),(0,Re._)([(0,ke.Cb)()],uu.prototype,"navigationMode",void 0),(0,Re._)([(0,ke.Cb)()],uu.prototype,"view",void 0),uu=(0,Re._)([(0,zn.j)("esri.widgets.NavigationToggleViewModel")],uu);const eD=uu,Hi_button="esri-navigation-toggle__button esri-widget--button";let To=class extends di.Z{constructor(p,g){super(p,g),this.iconClass="esri-icon-pan2",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new eD}set layout(p){"horizontal"!==p&&(p="vertical"),this._set("layout",p)}toggle(){return this.viewModel.toggle()}render(){const p="disabled"===this.get("viewModel.state"),g="pan"===this.get("viewModel.navigationMode"),b={"esri-navigation-toggle__button--active":g},C={"esri-navigation-toggle__button--active":!g},O=p?-1:0,w=this.messages.toggle;return(0,Xt.u)("div",{bind:this,class:this.classes("esri-navigation-toggle esri-widget",{"esri-disabled":p,"esri-navigation-toggle--horizontal":"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:O,"aria-label":w,title:w},(0,Xt.u)("div",{class:this.classes(Hi_button,"esri-navigation-toggle__button--pan",b)},(0,Xt.u)("span",{class:"esri-icon-pan"})),(0,Xt.u)("div",{class:this.classes(Hi_button,"esri-navigation-toggle__button--rotate",C)},(0,Xt.u)("span",{class:"esri-icon-rotate"})))}_toggle(){this.toggle()}};(0,Re._)([(0,ke.Cb)()],To.prototype,"iconClass",void 0),(0,Re._)([(0,ke.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],To.prototype,"label",void 0),(0,Re._)([(0,ke.Cb)({value:"vertical"})],To.prototype,"layout",null),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],To.prototype,"messages",void 0),(0,Re._)([(0,rr.B)("viewModel.view")],To.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({type:eD})],To.prototype,"viewModel",void 0),(0,Re._)([(0,Ki.h)()],To.prototype,"_toggle",null),To=(0,Re._)([(0,zn.j)("esri.widgets.NavigationToggle")],To);const rj=To;let Ma=class extends di.Z{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const p=this.enabled?0:-1,v={[this.iconClass]:!!this.iconClass};return(0,Xt.u)("div",{bind:this,class:this.classes("esri-widget--button esri-widget",{"esri-disabled":!this.enabled,"esri-interactive":this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:p,title:this.title},(0,Xt.u)("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",v)}),(0,Xt.u)("span",{class:"esri-icon-font-fallback-text"},this.title))}_triggerAction(){this.action.call(this)}};(0,Re._)([(0,ke.Cb)()],Ma.prototype,"action",void 0),(0,Re._)([(0,ke.Cb)()],Ma.prototype,"enabled",void 0),(0,Re._)([(0,ke.Cb)()],Ma.prototype,"iconClass",void 0),(0,Re._)([(0,ke.Cb)()],Ma.prototype,"title",void 0),(0,Re._)([(0,Ki.h)()],Ma.prototype,"_triggerAction",null),Ma=(0,Re._)([(0,zn.j)("esri.widgets.IconButton")],Ma);const tD=Ma;let cu=class extends Br.Z{get canZoomIn(){if(!this.get("view.ready"))return!1;const p=this.get("view.animation.target.scale")||this.get("view.scale"),g=this.get("view.constraints.effectiveMaxScale");return 0===g||p>g}get canZoomOut(){if(!this.get("view.ready"))return!1;const p=this.get("view.animation.target.scale")||this.get("view.scale"),g=this.get("view.constraints.effectiveMinScale");return 0===g||p<g}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],cu.prototype,"canZoomIn",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],cu.prototype,"canZoomOut",null),(0,Re._)([(0,ke.Cb)()],cu.prototype,"view",void 0),cu=(0,Re._)([(0,zn.j)("esri.widgets.Zoom.ZoomConditions2D")],cu);const sj=cu;let du=class extends Br.Z{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],du.prototype,"canZoomIn",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],du.prototype,"canZoomOut",null),(0,Re._)([(0,ke.Cb)()],du.prototype,"view",void 0),du=(0,Re._)([(0,zn.j)("esri.widgets.Zoom.ZoomConditions3D")],du);const ij=du;let Ca=class extends Br.Z{constructor(p){super(p),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(p){p?"2d"===p.type?this._zoomConditions=new sj({view:p}):"3d"===p.type&&(this._zoomConditions=new ij({view:p})):this._zoomConditions=null,this._set("view",p)}zoomIn(){if(!this.canZoomIn)return;const p=this.view;"2d"===p.type?p.mapViewNavigation.zoomIn():(0,Fr.R8)(p.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const p=this.view;"2d"===p.type?p.mapViewNavigation.zoomOut():(0,Fr.R8)(p.goTo({zoomFactor:.5}))}};(0,Re._)([(0,ke.Cb)()],Ca.prototype,"_zoomConditions",void 0),(0,Re._)([(0,ke.Cb)({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],Ca.prototype,"canZoomIn",void 0),(0,Re._)([(0,ke.Cb)({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],Ca.prototype,"canZoomOut",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],Ca.prototype,"state",null),(0,Re._)([(0,ke.Cb)()],Ca.prototype,"view",null),Ca=(0,Re._)([(0,zn.j)("esri.widgets.Zoom.ZoomViewModel")],Ca);const nD=Ca;let Qo=class extends di.Z{constructor(p,g){super(p,g),this.iconClass="esri-icon-zoom-in-magnifying-glass",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new nD}initialize(){this._zoomInButton=new tD({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"}),this._zoomOutButton=new tD({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(p){"horizontal"!==p&&(p="vertical"),this._set("layout",p)}render(){const p=this.viewModel,g={"esri-zoom--horizontal":"horizontal"===this.layout};return this._zoomInButton.enabled="ready"===p.state&&p.canZoomIn,this._zoomOutButton.enabled="ready"===p.state&&p.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,(0,Xt.u)("div",{class:this.classes("esri-zoom esri-widget",g)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,Re._)([(0,ke.Cb)()],Qo.prototype,"iconClass",void 0),(0,Re._)([(0,ke.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Qo.prototype,"label",void 0),(0,Re._)([(0,ke.Cb)({value:"vertical"})],Qo.prototype,"layout",null),(0,Re._)([(0,ke.Cb)(),(0,Ci.H)("esri/widgets/Zoom/t9n/Zoom")],Qo.prototype,"messages",void 0),(0,Re._)([(0,rr.B)("viewModel.view")],Qo.prototype,"view",void 0),(0,Re._)([(0,ke.Cb)({type:nD})],Qo.prototype,"viewModel",void 0),Qo=(0,Re._)([(0,zn.j)("esri.widgets.Zoom")],Qo);const oj=Qo,rD="esri.views.ui.DefaultUI";Rs.Z.getLogger(rD);let Wh=class extends Y8{constructor(p){super(p),this._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},this.components=[]}initialize(){this._handles.add([(0,gr.YP)(()=>this.components,this._componentsWatcher.bind(this),gr.nn),(0,gr.YP)(()=>this.view,this._updateViewAwareWidgets.bind(this),gr.nn)])}_add(p,g,v,b){if("string"==typeof p&&this._defaultPositionLookup[p]){if(this._find(p))return;p=this._createComponent(p)}super._add(p,g,v,b)}_removeComponents(p){p.forEach(g=>{const v=this._find(g);v&&(this.remove(v),v.destroy())})}_updateViewAwareWidgets(p){this.components.forEach(g=>{const v=this._find(g),b=v&&v.widget;(function aj(p){return p&&void 0!==p.view})(b)&&(b.view=p)})}_componentsWatcher(p,g){this._removeComponents(g),this._addComponents(p),this._adjustPadding(p)}_adjustPadding(p){if(-1===p.indexOf("attribution")&&!this._isOverridden("padding")){const{top:g}=this.padding;this.padding=g}}_addComponents(p){this.initialized&&p.forEach(g=>this.add(this._createComponent(g),this._defaultPositionLookup[g]))}_createComponent(p){const g=this._createWidget(p);if(g)return new Nh({id:p,node:g})}_createWidget(p){return"attribution"===p?this._createAttribution():"compass"===p?this._createCompass():"navigation-toggle"===p?this._createNavigationToggle():"zoom"===p?this._createZoom():void 0}_createAttribution(){return new ej({view:this.view})}_createCompass(){return new nj({view:this.view})}_createNavigationToggle(){return new rj({view:this.view})}_createZoom(){return new oj({view:this.view})}};(0,Re._)([(0,ke.Cb)()],Wh.prototype,"components",void 0),Wh=(0,Re._)([(0,zn.j)(rD)],Wh);const lj=Wh;let Vh=class extends lj{constructor(p){super(p),this.components=["attribution","zoom"]}};(0,Re._)([(0,ke.Cb)()],Vh.prototype,"components",void 0),Vh=(0,Re._)([(0,zn.j)("esri.views.ui.2d.DefaultUI2D")],Vh);const sD=Vh;var Cy;let Zh=Cy=class extends th.wq{constructor(p){super(p),this.color=new Gl.Z([0,0,0,1])}clone(){return new Cy((0,X0.d9)({color:this.color}))}};(0,Re._)([(0,ke.Cb)({type:Gl.Z,json:{write:!0}})],Zh.prototype,"color",void 0),Zh=Cy=(0,Re._)([(0,zn.j)("esri.webmap.background.ColorBackground")],Zh);const uj=Zh,Da=Rs.Z.getLogger("esri.views.MapView");let iD,oD,aD,lD,uD,cD;function Dy(){return Dy=(0,dr.Z)(function*(){const[,{GraphicsView2D:p,GraphicContainer:g,LabelManager:v,MapViewNavigation:b,MagnifierView2D:C,Stage:O}]=yield Promise.all([Promise.all([E.e(5086),E.e(5314),E.e(5506),E.e(8592),E.e(4376)]).then(E.bind(E,34376)),Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(2339)]).then(E.bind(E,2339))]);oD=p,aD=g,lD=v,uD=b,cD=C,iD=O}),Dy.apply(this,arguments)}let hr=class extends(tL(y6(g6(Z6)))){constructor(p){super(p),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new kl.Z({getCollections:()=>{var g,v;return[null==(g=this.basemapView)?void 0:g.baseLayerViews,this.layerViews,null==(v=this.basemapView)?void 0:v.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new z6(this),this._pePromise=null,this.floors=new Ls.Z,this.highlightOptions=new KC,this.inputManager=new W8({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new zC.T,this.type="2d",this.ui=new sD,this.constraints=new RC,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([(0,gr.YP)(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(160)},gr.Z_),this.on("resize",g=>this._resizeHandler(g)),(0,gr.YP)(()=>{var g;return null==(g=this.animationManager)?void 0:g.animation},g=>{this.animation=g})]),(0,X3.j2)()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new V8.Z(this.featuresTilingScheme)}get initialExtentRequired(){var p;const{scale:g,constraints:v,center:b,viewpoint:C,extent:O}=this;let w=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&null!=(p=this.map.initialViewProperties)&&p.viewpoint||O||(null!=v&&v.effectiveLODs||(w=-1),b&&(0!==g||-1!==w)||C&&(0,dn.pC)(C.targetGeometry)&&("extent"===C.targetGeometry.type||C.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!(0,io.kR)()||(this._pePromise||(this._pePromise=(0,io.zD)().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){if(this._get("ready"))return!0;const p=this._getDefaultViewpoint();if(!p)return!1;const g=this.spatialReference,v=(0,dn.Wg)(p.targetGeometry);return!!(0,io.Up)(v.spatialReference,g)||this._projectionEngineLoaded}set animation(p){const g=this._get("animation");if(p===g)return;if(g&&g.stop(),!p||p.isFulfilled())return void this._set("animation",null);this._set("animation",p),this.frameTask.animationInProgress=!0;const v=()=>{p===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};p.when(v,v)}get background(){return this.get("map.initialViewProperties.background")||null}set background(p){void 0===p?this._clearOverride("background"):this._override("background",p)}get center(){if(!this.ready)return this._get("center");const{center:p,spatialReference:g}=this.state.paddedViewState;return new Mi.Z({x:p[0],y:p[1],spatialReference:g})}set center(p){if(null==p)return;if(!this.ready)return this._set("center",p),void this.notifyChange("initialExtentRequired");let g;try{g=this._project(p,this.spatialReference)}catch(b){return void Da.error(new er.Z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:p,error:b}))}const v=this.viewpoint;(0,Es.o2)(v,v,g),this.viewpoint=v}set constraints(p){const g=this._get("constraints");g&&(this.handles.remove("map-view-constraints"),g.destroy()),this._set("constraints",p),p&&(p.view=this,this.ready&&(this.state.viewpoint=p.fit(this.state.paddedViewState.viewpoint)),this.handles.add((0,gr.YP)(()=>p.version,()=>{this.ready&&this.state&&(this.state.viewpoint=p.fit(this.state.paddedViewState.viewpoint))},gr.Z_),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(p){if(null==p)return;if(!p.width||!p.height)return void Da.error(new er.Z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",p),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let g;try{g=this._project(p,this.spatialReference)}catch(b){return void Da.error(new er.Z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:b}))}const v=this.viewpoint;(0,Es.qf)(v,v,g,this.size,{constraints:this.constraints}),this.viewpoint=v}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(p){this.ready?(this.state.padding=p,this._set("padding",this.state.padding)):this._set("padding",p)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(p){if(isNaN(p))return;if(!this.ready)return void this._set("rotation",p);const g=this.viewpoint;(0,Es.YQ)(g,g,p),this.viewpoint=g}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(p){if(!p||isNaN(p))return;if(!this.ready){this._set("scale",p),this._set("zoom",-1);const v=this._get("extent");return v&&(this._set("extent",null),this._set("center",v.center)),void this.notifyChange("initialExtentRequired")}const g=this.viewpoint;(0,Es.Hy)(g,g,p),this.viewpoint=g}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(p=>!p.destroyed&&!("layerViews"in p)&&!0===p.updating))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const p=this.state.paddedViewState;return p&&p.viewpoint.clone()}set viewpoint(p){if(null==p)return;if(!this.ready)return this._set("viewpoint",p),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let g,v;try{g=this._project(p,this.spatialReference),!p.scale||isNaN(p.scale)?v=new er.Z("mapview:invalid-viewpoint",`invalid scale value of ${p.scale}`):(0,dn.Wi)(p.targetGeometry)&&(v=new er.Z("mapview:invalid-viewpoint","geometry not defined"))}catch(C){v=new er.Z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:C})}if(v)return void Da.error(v);this._scaleBeforeChangingSpatialReference=null;const b=new Wa.Z({targetGeometry:new Mi.Z,scale:0,rotation:0});(0,Es.JG)(b,g),this.constraints.constrain(b,this.state.paddedViewState.viewpoint),this.state.viewpoint=b,this.frameTask.requestFrame(),this._set("viewpoint",b)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(p){if(null==p)return;if(!this.ready){this._set("zoom",p),this._set("scale",0);const v=this._get("extent");return v&&(this._set("extent",null),this._set("center",v.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const g=this.viewpoint;(0,Es.Hy)(g,g,this.constraints.zoomToScale(p)),this.viewpoint=g,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(p,g){if(p)return this.animation&&(this.animation=null),this._createAnimation(),(0,gr.N1)(()=>this.ready,g).then(()=>{const v=Pt({animate:!0},g),b=(0,Es.Ue)(p,this);return this.animation.update(b),this._gotoTask={},v.animate?this._gotoAnimated(b,v):this._gotoImmediate(b,v)});Da.error("#goTo()","target cannot be null or undefined")}hitTest(p,g){var v=this;return(0,dr.Z)(function*(){const b=yC(p)?mC(v,p):p;if(!v.ready||isNaN(b.x)||isNaN(b.y))return{screenPoint:b,results:[]};let C=new Set,O=!1,w=null,z=null;null!=g&&g.include?pD(g.include,hD(v,We=>C.add(We),We=>{w||(w=new Set),w.add(We)},We=>C.add(We),()=>O=!0)):(O=!0,C=new Set(v.allLayerViews)),null!=g&&g.exclude&&pD(g.exclude,hD(v,We=>C.delete(We),We=>{z||(z=new Set),z.add(We)}));const fe=v.allLayerViews.filter(We=>!We.suspended&&C.has(We)).reverse(),De=v.toMap(b);let Ie=(yield Promise.all([O?v.graphicsView.hitTest(De):null,...fe.map(We=>We.hitTest(De,b))])).filter(dn.pC).flat();return w&&(Ie=Ie.filter(We=>w.has(Oy(We)))),z&&(Ie=Ie.filter(We=>!z.has(Oy(We)))),{screenPoint:b,results:Ie.map(We=>({mapPoint:De,graphic:We}))}})()}takeScreenshot(p){p=p||{};const g=this.supersampleScreenshotsEnabled?Math.min(4,(0,GC.RZ)(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let v;p.layers?(v=[],p.layers.forEach(w=>{const z=this.allLayerViews.find(fe=>fe.layer.id===w.id);z&&"container"in z&&z.container&&v.push(z.container)})):v=this._stage.children;const{format:b,quality:C}=(0,GC.LI)(p.format,p.quality),O=function $8(p,g,v,b,C,O,w,z){let fe;p.ignorePadding&&(b={left:0,right:0,top:0,bottom:0}),null!=p.width&&null!=p.height?fe=[p.width,p.height]:null==p.width&&null!=p.height?fe=[p.height,p.height]:null!=p.width&&null==p.height?fe=[p.width,p.width]:null==p.width&&null==p.height&&(fe=null);const De=v[0]-(b.left+b.right),Ie=v[1]-(b.top+b.bottom);let We,st,yt=p.area||{x:0,y:0,width:De,height:Ie};if(fe){const tn=fe[0]/fe[1];if(tn>De/Ie){const un=yt.width/tn;yt={x:yt.x,y:Math.round(yt.y+(yt.height-un)/2),width:yt.width,height:Math.round(un)}}else{const un=yt.height*tn;yt={x:Math.round(yt.x+(yt.width-un)/2),y:yt.y,width:Math.round(un),height:yt.height}}}else fe=[yt.width,yt.height];return fe[0]>yt.width?(We=Math.min(fe[0]/yt.width,g),st=fe[0]/yt.width/We):(We=1,st=fe[0]/yt.width),{resolutionScale:We,cropArea:{x:Math.round((yt.x+b.left)*We),y:Math.round((yt.y+b.top)*We),width:Math.round(yt.width*We),height:Math.round(yt.height*We)},outputScale:st,format:C,quality:O,children:w,rotation:z}}(p,g,this.size,this.padding,b,C,v,p.rotation);return this._stage.takeScreenshot(O)}toMap(p){if(!this.ready)return null;const g=yC(p)?mC(this,p):p,[b,C]=this.state.toMap([0,0],[g.x,g.y]);return new Mi.Z({x:b,y:C,spatialReference:this.spatialReference})}toScreen(p){if(!this.ready)return null;const g=this._project(p,this.spatialReference),v=[g.x,g.y];return this.state.toScreen(v,v),(0,bi.vW)(v[0],v[1])}on(p,g,v,b){return this.inputManager&&this.viewEvents.on(p,g,v,b)||super.on(p,g)}hasEventListener(p){return super.hasEventListener(p)||this.viewEvents.hasHandler(p)}whenLayerView(p){return super.whenLayerView(p)}graphicChanged(p){this.graphicsView&&this.graphicsView.graphicUpdateHandler(p)}whenReady(){return new Promise(p=>{this.ready?p(this):this._resolveWhenReady.push(p)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var p,g,v;return this.map&&"initialViewProperties"in this.map&&(null==(p=this.map)||null==(g=p.initialViewProperties)?void 0:g.spatialReference)||(null==(v=this.defaultsFromMap)?void 0:v.spatialReference)||null}hasLayerViewModule(p){return(p=>(0,dn.pC)(wC[p.type]))(p)}importLayerView(p){return(p=>{const g=wC[p.type];if(!(0,dn.pC)(g))throw function G6(p){const g=p.declaredClass?p.declaredClass.slice(p.declaredClass.lastIndexOf(".")+1):"Unknown",v=g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new er.Z(`${v}:view-not-supported`,`${g} is not supported in 2D`)}(p);return g(p)})(p)}pixelSizeAt(){return this.ready?this.state.resolution:(Da.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(p){return this.hitTest(p).then(g=>$n(Pt({},g),{mapPoint:this.toMap(p)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let p=function K8(p){const g=function z8(p){const g=(0,HC.Sh)(p);for(;g.length>1;){const v=(0,kC.hc)(g.shift());if(v.available)return v}return(0,kC.hc)(g.shift())}(p);if(!g.available)return new er.Z("webgl:required","WebGL is required but not supported.");if("3d"===p&&g.majorPerformanceCaveat)return new er.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!g.supportsHighPrecisionFragment)return new er.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!g.supportsVertexShaderSamplers)return new er.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(g.type===HC.zO.WEBGL1){if(!g.supportsElementIndexUint)return new er.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!g.supportsStandardDerivatives)return new er.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!g.supportsInstancedArrays)return new er.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}(this.type);return(0,Wo.Z)("safari")&&(0,Wo.Z)("safari")<9&&(p=new er.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,Wo.Z)("safari")})),(0,dn.pC)(p)?(Da.warn("#validate()",p.message),Promise.reject(p)):function cj(){return Dy.apply(this,arguments)}()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new iy),this.animation}_cancellableGoTo(p,g,v){const b=()=>p===this._gotoTask,C=v.then(()=>{b()&&(this.animation=null)}).catch(w=>{throw b()&&(this.animation=null,g.done||(g.stop(),this.frameTask.animationInProgress=!1)),w}),O=new Promise(w=>w(C));return g.when().catch(()=>{b()&&O.cancel&&O.cancel()}),O}_gotoImmediate(p,g){const v=this._gotoTask,b=this.animation,C=p.then(O=>{if((0,Fr.k_)(g),v!==this._gotoTask)throw new er.Z("view:goto-interrupted","Goto was interrupted");this.viewpoint=b.target=O,b.finish()});return this._cancellableGoTo(v,b,C)}_flipStationary(p){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const g=performance.now()-this._lastStationaryEventTimestamp;g<160&&(this._stationaryTimer=this._flipStationary(g))},p)),this._stationaryTimer}_getDefaultViewpoint(){var p,g,v,b;const{constraints:C,initialExtent:O,map:w}=this;if(!C)return null;const z=w&&"initialViewProperties"in w&&w.initialViewProperties,fe={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};C.effectiveLODs?-1!==fe.zoom&&(fe.scale=C.zoomToScale(fe.zoom)):fe.zoom=-1;let De=null,Ie=null,We=0;const st=fe.viewpoint&&fe.viewpoint.rotation,yt=fe.viewpoint&&fe.viewpoint.targetGeometry;(0,dn.pC)(yt)&&("extent"===yt.type?De=yt:"point"===yt.type&&(Ie=yt,We=fe.viewpoint.scale));const jt=fe.extent||De||(null==(p=(0,dn.Wg)(null==z||null==(g=z.viewpoint)?void 0:g.targetGeometry))?void 0:p.extent)||O,tn=fe.center||Ie||(null==jt?void 0:jt.center),un=fe.scale||We||(null==z||null==(v=z.viewpoint)?void 0:v.scale)||jt&&(0,Es.EK)(jt,this.size),hn=fe.rotation||st||(null==z||null==(b=z.viewpoint)?void 0:b.rotation)||0;return tn&&un?new Wa.Z({targetGeometry:tn,scale:un,rotation:hn}):null}_gotoAnimated(p,g){const v=this._gotoTask,b=this.animation,C=p.then(O=>{if((0,Fr.k_)(g),v!==this._gotoTask)throw new er.Z("view:goto-interrupted","Goto was interrupted");return b.update(O),this.animationManager.animate(b,this.viewpoint,g),b.when().then(()=>{},()=>{})});return this._cancellableGoTo(v,b,C)}_project(p,g){var v;const b=p&&p.targetGeometry||p;if(!g)return p;if(!b)return null;if(g.imageCoordinateSystem||null!=(v=b.spatialReference)&&v.imageCoordinateSystem||(0,Jb.fS)(g,b.spatialReference))return p;const C=(0,io.iV)(b,g);if(!C)throw new er.Z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:b,spatialReference:g});return function dj(p){return p&&"esri.Viewpoint"===p.declaredClass}(p)?(p.targetGeometry=C,p):C}_resizeHandler(p){if(!this.ready)return;const g=this.state;let v=this.state.paddedViewState.viewpoint;const b=this.state.paddedViewState.size.concat();g.size=[p.width,p.height],(0,Es.SI)(v,v,b,this.state.paddedViewState.size,this.resizeAlign),v=this.constraints.constrain(v,null),this.state.viewpoint=v}_startup(){var p,g,v;this.timeline.begin("MapView Startup");const b=this._getDefaultViewpoint(),C=b.targetGeometry;null!=(p=this.spatialReference)&&p.imageCoordinateSystem||null!=C&&null!=(g=C.spatialReference)&&g.imageCoordinateSystem||(b.targetGeometry=(0,io.iV)(C,this.spatialReference)),null==(v=this.constraints)||v.fit(b),this._set("state",new r8({padding:this._get("padding"),size:this.size,viewpoint:b})),this.graphics.owner=this;const O=new iD(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=O,this._magnifierView=new cD,this._magnifierView.magnifier=this.magnifier;const w=new lD({view:this});this._set("labelManager",w);const z=new K6({view:this});this._set("animationManager",z);const fe=new uD({view:this,animationManager:z});this._set("mapViewNavigation",fe),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),O.on("post-render",()=>this._set("rendering",O.renderRequested)),O.on("will-render",()=>this._set("rendering",O.renderRequested)),O.on("webgl-error",Ie=>this.fatalError=Ie.error),(0,gr.YP)(()=>this.stationary,Ie=>O.stationary=Ie,gr.tX),(0,gr.YP)(()=>this.background,Ie=>{O.background=Ie,this._magnifierView.background=Ie},gr.tX),(0,gr.YP)(()=>this.magnifier,Ie=>this._magnifierView.magnifier=Ie,gr.tX),(0,gr.YP)(()=>this.renderingOptions,Ie=>O.renderingOptions=Ie,gr.tX),(0,gr.YP)(()=>this.highlightOptions,Ie=>O.highlightOptions=Ie,gr.tX),(0,gr.YP)(()=>this.state.id,()=>O.state=this.state,gr.tX)],"map-view"),this._updateStageChildren();const De=this._resolveWhenReady;this._resolveWhenReady=[],De.forEach(Ie=>Ie(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[p,g],spatialReference:v,rotation:b,scale:C}=this.state.paddedViewState,O=new Mi.Z({x:p,y:g,spatialReference:v});this._set("viewpoint",null),this._set("extent",null),this._set("center",O),this._set("zoom",-1),this._set("rotation",b),this._set("scale",C),this._set("spatialReference",v),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(g=>{this._stage.addChild(g.container)}),this._stage.addChild(this.graphicsView.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const p=new s8.Z(q3.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",p);const g=new oD({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new aD(p)});this.frameTask.graphicsView=g,this._set("graphicsView",g)}_destroySpatialReferenceDependentProperties(){const p=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,p.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(p){if(!this.ready)return;this.frameTask.stop();for(const z of this.allLayerViews)z.processDetach();this._destroySpatialReferenceDependentProperties();const g=this.state.paddedViewState.clone();if((0,dn.Wi)(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=g.scale;else{const z=g.viewpoint.clone();z.scale=this._scaleBeforeChangingSpatialReference,g.viewpoint=z}const v=g.clone(),[b,C]=g.center;let O=new Mi.Z({x:b,y:C,spatialReference:g.spatialReference});try{O=this._project(O,p)}catch(z){(0,io.kR)()||Da.warn(new er.Z("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:O.toJSON(),spatialReference:p,error:z}))}O||(O=new Mi.Z({x:0,y:0,spatialReference:p}));const w=(0,Es.o2)(new Wa.Z({targetGeometry:new Mi.Z,scale:0,rotation:0}),g.viewpoint,O);v.viewpoint=w;try{const fe=[g.size[0]/2,g.size[1]/2],De=[fe[0]+20,fe[1]],Ie=g.toMap([0,0],De),{x:We,y:st}=this._project(new Mi.Z({x:Ie[0],y:Ie[1],spatialReference:g.spatialReference}),p);Ie[0]=We,Ie[1]=st,v.toScreen(Ie,Ie);const yt=(0,Es.dI)(fe,Ie,De),jt=Math.hypot(Ie[0]-fe[0],Ie[1]-fe[1])/20;!Number.isFinite(jt)||Math.abs(jt)>4?(w.rotation=0,w.targetGeometry=new Mi.Z({x:0,y:0,spatialReference:p})):(w.scale*=jt,w.scale>(0,Wo.Z)("mapview-srswitch-adjust-rotation-scale-threshold")?w.rotation=0:w.rotation+=Number.isFinite(yt)?yt:0)}catch(z){}this._get("constraints").constrain(w,null),this._get("state").viewpoint=w,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const z of this.allLayerViews)z.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"animationManager",void 0),(0,Re._)([(0,ke.Cb)({constructOnly:!0})],hr.prototype,"deactivatedWebGLExtensions",void 0),(0,Re._)([(0,ke.Cb)({constructOnly:!0})],hr.prototype,"debugWebGLExtensions",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"featuresTilingScheme",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"fullOpacity",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"graphicsTileStore",null),(0,Re._)([(0,ke.Cb)()],hr.prototype,"graphicsView",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"state",void 0),(0,Re._)([(0,ke.Cb)()],hr.prototype,"initialExtentRequired",null),(0,Re._)([(0,ke.Cb)()],hr.prototype,"labelManager",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"resourceManager",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"textureManager",null),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"mapViewNavigation",void 0),(0,Re._)([(0,ke.Cb)({constructOnly:!0})],hr.prototype,"renderCanvas",void 0),(0,Re._)([(0,ke.Cb)()],hr.prototype,"renderingOptions",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"rendering",void 0),(0,Re._)([(0,ke.Cb)({constructOnly:!0})],hr.prototype,"supersampleScreenshotsEnabled",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"supportsGround",void 0),(0,Re._)([(0,ke.Cb)()],hr.prototype,"_stationaryTimer",void 0),(0,Re._)([(0,ke.Cb)()],hr.prototype,"_defaultsFromMapSettings",null),(0,Re._)([(0,ke.Cb)()],hr.prototype,"_pePromise",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"typeSpecificPreconditionsReady",null),(0,Re._)([(0,ke.Cb)()],hr.prototype,"animation",null),(0,Re._)([(0,ke.Cb)({type:uj})],hr.prototype,"background",null),(0,Re._)([(0,ke.Cb)({value:null,type:Mi.Z,dependsOn:["state.id","ready"]})],hr.prototype,"center",null),(0,Re._)([(0,ke.Cb)({type:RC})],hr.prototype,"constraints",null),(0,Re._)([(0,ke.Cb)({value:null,type:oh.Z,dependsOn:["state.id","ready"]})],hr.prototype,"extent",null),(0,Re._)([(0,ke.Cb)()],hr.prototype,"floors",void 0),(0,Re._)([(0,ke.Cb)({type:KC})],hr.prototype,"highlightOptions",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"inputManager",void 0),(0,Re._)([(0,ke.Cb)()],hr.prototype,"map",void 0),(0,Re._)([(0,ke.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:p=>Pt({top:0,right:0,bottom:0,left:0},p)})],hr.prototype,"padding",null),(0,Re._)([(0,ke.Cb)()],hr.prototype,"resizeAlign",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0,dependsOn:["state.id"]})],hr.prototype,"resolution",null),(0,Re._)([(0,ke.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],hr.prototype,"rotation",null),(0,Re._)([(0,ke.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],hr.prototype,"scale",null),(0,Re._)([(0,ke.Cb)({constructOnly:!0})],hr.prototype,"spatialReferenceLocked",void 0),(0,Re._)([(0,ke.Cb)()],hr.prototype,"stationary",null),(0,Re._)([(0,ke.Cb)({type:zC.T,readOnly:!0})],hr.prototype,"timeline",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"type",void 0),(0,Re._)([(0,ke.Cb)({readOnly:!0})],hr.prototype,"updating",null),(0,Re._)([(0,ke.Cb)({value:null,type:Wa.Z,dependsOn:["state.id","ready"]})],hr.prototype,"viewpoint",null),(0,Re._)([(0,ke.Cb)({value:-1,dependsOn:["state.id"]})],hr.prototype,"zoom",null),(0,Re._)([(0,ke.Cb)({type:Boolean})],hr.prototype,"navigating",null),(0,Re._)([(0,ke.Cb)({type:sD})],hr.prototype,"ui",void 0),hr=(0,Re._)([(0,zn.j)("esri.views.MapView")],hr);const hj=hr;function Oy(p){const g=p.getObjectId();var v,b,C,O;return g?`${null!=(v=null!=(b=null==(C=p.layer)?void 0:C.uid)?b:null==(O=p.sourceLayer)?void 0:O.uid)?v:"MapView"}/${g}`:`"MapView/${p.uid}`}function hD(p,g,v,b,C){return O=>{if(O instanceof Hl.Z){if(O.layer===p)null==C||C();else{const w=p.allLayerViews.find(z=>z.layer===O.layer);w&&(null==b||b(w))}v(Oy(O))}else{const w=p.allLayerViews.find(z=>z.layer===O);w&&g(w)}}}function pD(p,g){if(p)if((0,Hb.TW)(p))for(const v of p)if((0,Hb.TW)(v))for(const b of v)g(b);else g(v);else g(p)}let pj=(()=>{class p{constructor(){this.title="esri4-pwa"}ngOnInit(){var v=new kb({basemap:"topo-vector"});const b=new hj({container:"viewDiv",map:v,center:[-118.805,34.027],zoom:13});console.log(b)}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275cmp=pu({type:p,selectors:[["app-root"]],decls:1,vars:0,consts:[["id","viewDiv"]],template:function(v,b){1&v&&Bf(0,"div",0)},styles:['@import"https://js.arcgis.com/4.22/@arcgis/core/assets/esri/themes/dark/main.css";#viewDiv[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%}']}),p})();function fD(p){return new ue(g=>{sn(p()).subscribe(g)})}const{isArray:mj}=Array;const _j=["addListener","removeListener"],vj=["addEventListener","removeEventListener"],Ej=["on","off"];function $h(p,g,v,b){if(M(v)&&(b=v,v=void 0),b)return $h(p,g,v).pipe(function gj(p){return Te(g=>function yj(p,g){return mj(g)?p(...g):p(g)}(p,g))}(b));const[C,O]=function Cj(p){return M(p.addEventListener)&&M(p.removeEventListener)}(p)?vj.map(w=>z=>p[w](g,z,v)):function bj(p){return M(p.addListener)&&M(p.removeListener)}(p)?_j.map(mD(p,g)):function Mj(p){return M(p.on)&&M(p.off)}(p)?Ej.map(mD(p,g)):[];if(!C&&Pn(p))return rt(w=>$h(w,g,v))(sn(p));if(!C)throw new TypeError("Invalid event target");return new ue(w=>{const z=(...fe)=>w.next(1<fe.length?fe:fe[0]);return C(z),()=>O(z)})}function mD(p,g){return v=>b=>p[v](g,b)}function Py(...p){return Ms(p,ar(p))}function yD(...p){return function Dj(){return Vt(1)}()(Ms(p,ar(p)))}const Oa=new ue(Y);function hu(p,g){return Ge((v,b)=>{let C=0;v.subscribe(Se(b,O=>p.call(g,O,C++)&&b.next(O)))})}function Kh(p,g){return Ge((v,b)=>{let C=null,O=0,w=!1;const z=()=>w&&!C&&b.complete();v.subscribe(Se(b,fe=>{null==C||C.unsubscribe();let De=0;const Ie=O++;sn(p(fe,Ie)).subscribe(C=Se(b,We=>b.next(g?g(fe,We,Ie,De++):We),()=>{C=null,z()}))},()=>{w=!0,z()}))})}class Pj extends ue{constructor(g,v){super(),this.source=g,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,Ee(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,null==g||g.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new N;const v=this.getSubject();g.add(this.source.subscribe(Se(v,void 0,()=>{this._teardown(),v.complete()},b=>{this._teardown(),v.error(b)},()=>this._teardown()))),g.closed&&(this._connection=null,g=N.EMPTY)}return g}refCount(){return function Oj(){return Ge((p,g)=>{let v=null;p._refCount++;const b=Se(g,void 0,void 0,void 0,()=>{if(!p||p._refCount<=0||0<--p._refCount)return void(v=null);const C=p._connection,O=v;v=null,C&&(!O||C===O)&&C.unsubscribe(),g.unsubscribe()});p.subscribe(b),b.closed||(v=p.connect())})}()(this)}}const Sj={connector:()=>new ge};function gD(p,g=Sj){const{connector:v}=g;return Ge((b,C)=>{const O=v();Ms(p(function Tj(p){return new ue(g=>p.subscribe(g))}(O))).subscribe(C),C.add(b.subscribe(O))})}class Aj extends N{constructor(g,v){super()}schedule(g,v=0){return this}}const zh={setInterval(p,g,...v){const{delegate:b}=zh;return(null==b?void 0:b.setInterval)?b.setInterval(p,g,...v):setInterval(p,g,...v)},clearInterval(p){const{delegate:g}=zh;return((null==g?void 0:g.clearInterval)||clearInterval)(p)},delegate:void 0},_D={now:()=>(_D.delegate||Date).now(),delegate:void 0};class Cc{constructor(g,v=Cc.now){this.schedulerActionCtor=g,this.now=v}schedule(g,v=0,b){return new this.schedulerActionCtor(this,g).schedule(b,v)}}Cc.now=_D.now;const vD=new class Rj extends Cc{constructor(g,v=Cc.now){super(g,v),this.actions=[],this._active=!1,this._scheduled=void 0}flush(g){const{actions:v}=this;if(this._active)return void v.push(g);let b;this._active=!0;do{if(b=g.execute(g.state,g.delay))break}while(g=v.shift());if(this._active=!1,b){for(;g=v.shift();)g.unsubscribe();throw b}}}(class Lj extends Aj{constructor(g,v){super(g,v),this.scheduler=g,this.work=v,this.pending=!1}schedule(g,v=0){if(this.closed)return this;this.state=g;const b=this.id,C=this.scheduler;return null!=b&&(this.id=this.recycleAsyncId(C,b,v)),this.pending=!0,this.delay=v,this.id=this.id||this.requestAsyncId(C,this.id,v),this}requestAsyncId(g,v,b=0){return zh.setInterval(g.flush.bind(g,this),b)}recycleAsyncId(g,v,b=0){if(null!=b&&this.delay===b&&!1===this.pending)return v;zh.clearInterval(v)}execute(g,v){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const b=this._execute(g,v);if(b)return b;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,v){let C,b=!1;try{this.work(g)}catch(O){b=!0,C=O||new Error("Scheduled action threw falsy error")}if(b)return this.unsubscribe(),C}unsubscribe(){if(!this.closed){const{id:g,scheduler:v}=this,{actions:b}=v;this.work=this.state=this.scheduler=null,this.pending=!1,B(b,this),null!=g&&(this.id=this.recycleAsyncId(v,g,null)),this.delay=null,super.unsubscribe()}}}),jj=vD;function ED(p,g){return g?v=>yD(g.pipe(rs(1),function Uj(){return Ge((p,g)=>{p.subscribe(Se(g,Y))})}()),v.pipe(ED(p))):rt((v,b)=>p(v,b).pipe(rs(1),function Fj(p){return Te(()=>p)}(v)))}const Dc="Service workers are disabled or not supported by this browser";class Gh{constructor(g){if(this.serviceWorker=g,g){const b=$h(g,"controllerchange").pipe(Te(()=>g.controller)),O=yD(fD(()=>Py(g.controller)),b);this.worker=O.pipe(hu(Ie=>!!Ie)),this.registration=this.worker.pipe(Kh(()=>g.getRegistration()));const De=$h(g,"message").pipe(Te(Ie=>Ie.data)).pipe(hu(Ie=>Ie&&Ie.type)).pipe(function wj(p){return p?g=>gD(p)(g):g=>function Ij(p,g){const v=M(p)?p:()=>p;return M(g)?gD(g,{connector:v}):b=>new Pj(b,v)}(new ge)(g)}());De.connect(),this.events=De}else this.worker=this.events=this.registration=function Vj(p){return fD(()=>function fj(p,g){const v=M(p)?p:()=>p,b=C=>C.error(v());return new ue(g?C=>g.schedule(b,0,C):b)}(new Error(p)))}(Dc)}postMessage(g,v){return this.worker.pipe(rs(1),function xj(p,g,v){const b=M(p)||g||v?{next:p,error:g,complete:v}:p;return b?Ge((C,O)=>{var w;null===(w=b.subscribe)||void 0===w||w.call(b);let z=!0;C.subscribe(Se(O,fe=>{var De;null===(De=b.next)||void 0===De||De.call(b,fe),O.next(fe)},()=>{var fe;z=!1,null===(fe=b.complete)||void 0===fe||fe.call(b),O.complete()},fe=>{var De;z=!1,null===(De=b.error)||void 0===De||De.call(b,fe),O.error(fe)},()=>{var fe,De;z&&(null===(fe=b.unsubscribe)||void 0===fe||fe.call(b)),null===(De=b.finalize)||void 0===De||De.call(b)}))}):ce}(b=>{b.postMessage(Object.assign({action:g},v))})).toPromise().then(()=>{})}postMessageWithOperation(g,v,b){const C=this.waitForOperationCompleted(b),O=this.postMessage(g,v);return Promise.all([O,C]).then(([,w])=>w)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(g){let v;return v="string"==typeof g?b=>b.type===g:b=>g.includes(b.type),this.events.pipe(hu(v))}nextEventOfType(g){return this.eventsOfType(g).pipe(rs(1))}waitForOperationCompleted(g){return this.eventsOfType("OPERATION_COMPLETED").pipe(hu(v=>v.nonce===g),rs(1),Te(v=>{if(void 0!==v.result)return v.result;throw new Error(v.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Zj=(()=>{class p{constructor(v){if(this.sw=v,this.subscriptionChanges=new ge,!v.isEnabled)return this.messages=Oa,this.notificationClicks=Oa,void(this.subscription=Oa);this.messages=this.sw.eventsOfType("PUSH").pipe(Te(C=>C.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Te(C=>C.data)),this.pushManager=this.sw.registration.pipe(Te(C=>C.pushManager));const b=this.pushManager.pipe(Kh(C=>C.getSubscription()));this.subscription=Pr(b,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(v){if(!this.sw.isEnabled)return Promise.reject(new Error(Dc));const b={userVisibleOnly:!0};let C=this.decodeBase64(v.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),O=new Uint8Array(new ArrayBuffer(C.length));for(let w=0;w<C.length;w++)O[w]=C.charCodeAt(w);return b.applicationServerKey=O,this.pushManager.pipe(Kh(w=>w.subscribe(b)),rs(1)).toPromise().then(w=>(this.subscriptionChanges.next(w),w))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(rs(1),Kh(b=>{if(null===b)throw new Error("Not subscribed to push notifications.");return b.unsubscribe().then(C=>{if(!C)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Dc))}decodeBase64(v){return atob(v)}}return p.\u0275fac=function(v){return new(v||p)(Kr(Gh))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})(),$j=(()=>{class p{constructor(v){if(this.sw=v,!v.isEnabled)return this.versionUpdates=Oa,this.available=Oa,this.activated=Oa,void(this.unrecoverable=Oa);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(hu(b=>"VERSION_READY"===b.type),Te(b=>({type:"UPDATE_AVAILABLE",current:b.currentVersion,available:b.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Dc));const v=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:v},v)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Dc));const v=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:v},v)}}return p.\u0275fac=function(v){return new(v||p)(Kr(Gh))},p.\u0275prov=Mr({token:p,factory:p.\u0275fac}),p})();class Ty{}const bD=new Hr("NGSW_REGISTER_SCRIPT");function Kj(p,g,v,b){return()=>{if(!yb(b)||!("serviceWorker"in navigator)||!1===v.enabled)return;let O;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof v.registrationStrategy)O=v.registrationStrategy();else{const[z,...fe]=(v.registrationStrategy||"registerWhenStable:30000").split(":");switch(z){case"registerImmediately":O=Py(null);break;case"registerWithDelay":O=MD(+fe[0]||0);break;case"registerWhenStable":O=fe[0]?Pr(CD(p),MD(+fe[0])):CD(p);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${v.registrationStrategy}`)}}p.get(ci).runOutsideAngular(()=>O.pipe(rs(1)).subscribe(()=>navigator.serviceWorker.register(g,{scope:v.scope}).catch(z=>console.error("Service worker registration failed with:",z))))}}function MD(p){return Py(null).pipe(function Wj(p,g=vD){const v=function Bj(p=0,g,v=jj){let b=-1;return null!=g&&(Nn(g)?v=g:b=g),new ue(C=>{let O=function Nj(p){return p instanceof Date&&!isNaN(p)}(p)?+p-v.now():p;O<0&&(O=0);let w=0;return v.schedule(function(){C.closed||(C.next(w++),0<=b?this.schedule(void 0,b):C.complete())},O)})}(p,g);return ED(()=>v)}(p))}function CD(p){return p.get(O0).isStable.pipe(hu(v=>v))}function zj(p,g){return new Gh(yb(g)&&!1!==p.enabled?navigator.serviceWorker:void 0)}let Gj=(()=>{class p{static register(v,b={}){return{ngModule:p,providers:[{provide:bD,useValue:v},{provide:Ty,useValue:b},{provide:Gh,useFactory:zj,deps:[Ty,Xu]},{provide:g0,useFactory:Kj,deps:[Wi,bD,Ty,Xu],multi:!0}]}}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275mod=Xo({type:p}),p.\u0275inj=ts({providers:[Zj,$j]}),p})();let kj=(()=>{class p{}return p.\u0275fac=function(v){return new(v||p)},p.\u0275mod=Xo({type:p,bootstrap:[pj]}),p.\u0275inj=ts({providers:[],imports:[[D3,Gj.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),p})();(function ux(){KE=!1})(),M3().bootstrapModule(kj).catch(p=>console.error(p))},76210:(qe,Me,E)=>{"use strict";E.d(Me,{Z5:()=>ei,mv:()=>K,AA:()=>ct,yM:()=>kt,xE:()=>Or,K3:()=>Rt,h:()=>_t,GH:()=>Dn,YY:()=>zt});var M=E(15861);let N,ne,k,x=!1,$=!1,Y=!1,Z=!1,re=null,L=!1;const T="undefined"!=typeof window?window:{},j=T.document||{head:{}},K=T.HTMLElement||class{},W={$flags$:0,$resourcesUrl$:"",jmp:$e=>$e(),raf:$e=>requestAnimationFrame($e),ael:($e,Qe,gt,lt)=>$e.addEventListener(Qe,gt,lt),rel:($e,Qe,gt,lt)=>$e.removeEventListener(Qe,gt,lt),ce:($e,Qe)=>new CustomEvent($e,Qe)},he=(()=>{let $e=!1;try{j.addEventListener("e",null,Object.defineProperty({},"passive",{get(){$e=!0}}))}catch(Qe){}return $e})(),me=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch($e){}return!1})(),ie=($e,Qe,gt,lt)=>{gt&&gt.map(([wt,Ut,Ue])=>{const Be=ce($e,wt),dt=V(Qe,Ue),It=ae(wt);W.ael(Be,Ut,dt,It),(Qe.$rmListeners$=Qe.$rmListeners$||[]).push(()=>W.rel(Be,Ut,dt,It))})},V=($e,Qe)=>gt=>{try{$e.$hostElement$[Qe](gt)}catch(lt){es(lt)}},ce=($e,Qe)=>4&Qe?j:8&Qe?T:16&Qe?j.body:$e,ae=$e=>he?{passive:0!=(1&$e),capture:0!=(2&$e)}:0!=(2&$e),Ee="http://www.w3.org/1999/xlink",Ze=new WeakMap,xe=($e,Qe,gt,lt)=>{let wt=He(Qe,gt),Ut=ts.get(wt);if($e=11===$e.nodeType?$e:j,Ut)if("string"==typeof Ut){let Be,Ue=Ze.get($e=$e.head||$e);Ue||Ze.set($e,Ue=new Set),Ue.has(wt)||(Be=j.createElement("style"),Be.innerHTML=Ut,$e.insertBefore(Be,$e.querySelector("link")),Ue&&Ue.add(wt))}else!$e.adoptedStyleSheets.includes(Ut)&&($e.adoptedStyleSheets=[...$e.adoptedStyleSheets,Ut]);return wt},He=($e,Qe)=>"sc-"+(Qe&&32&$e.$flags$?$e.$tagName$+"-"+Qe:$e.$tagName$),pt={},et=$e=>"object"==($e=typeof $e)||"function"===$e,_t=($e,Qe,...gt)=>{let lt=null,wt=null,Ut=null,Ue=!1,Be=!1,dt=[];const It=yn=>{for(let gn=0;gn<yn.length;gn++)lt=yn[gn],Array.isArray(lt)?It(lt):null!=lt&&"boolean"!=typeof lt&&((Ue="function"!=typeof $e&&!et(lt))&&(lt=String(lt)),Ue&&Be?dt[dt.length-1].$text$+=lt:dt.push(Ue?Ke(null,lt):lt),Be=Ue)};if(It(gt),Qe&&(Qe.key&&(wt=Qe.key),Qe.name&&(Ut=Qe.name),true)){const yn=Qe.className||Qe.class;yn&&(Qe.class="object"!=typeof yn?yn:Object.keys(yn).filter(gn=>yn[gn]).join(" "))}if("function"==typeof $e)return $e(null===Qe?{}:Qe,dt,Mt);const Qt=Ke($e,null);return Qt.$attrs$=Qe,dt.length>0&&(Qt.$children$=dt),Qt.$key$=wt,Qt.$name$=Ut,Qt},Ke=($e,Qe)=>{const gt={$flags$:0,$tag$:$e,$text$:Qe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return gt},ct={},Et=$e=>$e&&$e.$tag$===ct,Mt={forEach:($e,Qe)=>$e.map(Gt).forEach(Qe),map:($e,Qe)=>$e.map(Gt).map(Qe).map($t)},Gt=$e=>({vattrs:$e.$attrs$,vchildren:$e.$children$,vkey:$e.$key$,vname:$e.$name$,vtag:$e.$tag$,vtext:$e.$text$}),$t=$e=>{if("function"==typeof $e.vtag){const gt=Object.assign({},$e.vattrs);return $e.vkey&&(gt.key=$e.vkey),$e.vname&&(gt.name=$e.vname),_t($e.vtag,gt,...$e.vchildren||[])}const Qe=Ke($e.vtag,$e.vtext);return Qe.$attrs$=$e.vattrs,Qe.$children$=$e.vchildren,Qe.$key$=$e.vkey,Qe.$name$=$e.vname,Qe},cn=($e,Qe,gt,lt,wt,Ut)=>{if(gt!==lt){let Ue=ss($e,Qe),Be=Qe.toLowerCase();if("class"===Qe){const dt=$e.classList,It=pn(gt),Qt=pn(lt);dt.remove(...It.filter(yn=>yn&&!Qt.includes(yn))),dt.add(...Qt.filter(yn=>yn&&!It.includes(yn)))}else if("style"===Qe){for(const dt in gt)(!lt||null==lt[dt])&&(dt.includes("-")?$e.style.removeProperty(dt):$e.style[dt]="");for(const dt in lt)(!gt||lt[dt]!==gt[dt])&&(dt.includes("-")?$e.style.setProperty(dt,lt[dt]):$e.style[dt]=lt[dt])}else if("key"!==Qe)if("ref"===Qe)lt&&lt($e);else if($e.__lookupSetter__(Qe)||"o"!==Qe[0]||"n"!==Qe[1]){{const dt=et(lt);if((Ue||dt&&null!==lt)&&!wt)try{if($e.tagName.includes("-"))$e[Qe]=lt;else{let Qt=null==lt?"":lt;"list"===Qe?Ue=!1:(null==gt||$e[Qe]!=Qt)&&($e[Qe]=Qt)}}catch(Qt){}let It=!1;Be!==(Be=Be.replace(/^xlink\:?/,""))&&(Qe=Be,It=!0),null==lt||!1===lt?(!1!==lt||""===$e.getAttribute(Qe))&&(It?$e.removeAttributeNS(Ee,Qe):$e.removeAttribute(Qe)):(!Ue||4&Ut||wt)&&!dt&&(lt=!0===lt?"":lt,It?$e.setAttributeNS(Ee,Qe,lt):$e.setAttribute(Qe,lt))}}else Qe="-"===Qe[2]?Qe.slice(3):ss(T,Be)?Be.slice(2):Be[2]+Qe.slice(3),gt&&W.rel($e,Qe,gt,!1),lt&&W.ael($e,Qe,lt,!1)}},xn=/\s/,pn=$e=>$e?$e.split(xn):[],An=($e,Qe,gt,lt)=>{const wt=11===Qe.$elm$.nodeType&&Qe.$elm$.host?Qe.$elm$.host:Qe.$elm$,Ut=$e&&$e.$attrs$||pt,Ue=Qe.$attrs$||pt;for(lt in Ut)lt in Ue||cn(wt,lt,Ut[lt],void 0,gt,Qe.$flags$);for(lt in Ue)cn(wt,lt,Ut[lt],Ue[lt],gt,Qe.$flags$)},Pn=($e,Qe,gt,lt)=>{let Ue,Be,dt,wt=Qe.$children$[gt],Ut=0;if(!x&&(Y=!0,"slot"===wt.$tag$&&(N&&lt.classList.add(N+"-s"),wt.$flags$|=wt.$children$?2:1)),null!==wt.$text$)Ue=wt.$elm$=j.createTextNode(wt.$text$);else if(1&wt.$flags$)Ue=wt.$elm$=j.createTextNode("");else{if(!Z&&(Z="svg"===wt.$tag$),Ue=wt.$elm$=j.createElementNS(Z?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&wt.$flags$?"slot-fb":wt.$tag$),Z&&"foreignObject"===wt.$tag$&&(Z=!1),An(null,wt,Z),($e=>null!=$e)(N)&&Ue["s-si"]!==N&&Ue.classList.add(Ue["s-si"]=N),wt.$children$)for(Ut=0;Ut<wt.$children$.length;++Ut)Be=Pn($e,wt,Ut,Ue),Be&&Ue.appendChild(Be);"svg"===wt.$tag$?Z=!1:"foreignObject"===Ue.tagName&&(Z=!0)}return Ue["s-hn"]=k,3&wt.$flags$&&(Ue["s-sr"]=!0,Ue["s-cr"]=ne,Ue["s-sn"]=wt.$name$||"",dt=$e&&$e.$children$&&$e.$children$[gt],dt&&dt.$tag$===wt.$tag$&&$e.$elm$&&Sn($e.$elm$,!1)),Ue},Sn=($e,Qe)=>{W.$flags$|=1;const gt=$e.childNodes;for(let lt=gt.length-1;lt>=0;lt--){const wt=gt[lt];wt["s-hn"]!==k&&wt["s-ol"]&&(At(wt).insertBefore(wt,Kt(wt)),wt["s-ol"].remove(),wt["s-ol"]=void 0,Y=!0),Qe&&Sn(wt,Qe)}W.$flags$&=-2},ut=($e,Qe,gt,lt,wt,Ut)=>{let Be,Ue=$e["s-cr"]&&$e["s-cr"].parentNode||$e;for(Ue.shadowRoot&&Ue.tagName===k&&(Ue=Ue.shadowRoot);wt<=Ut;++wt)lt[wt]&&(Be=Pn(null,gt,wt,$e),Be&&(lt[wt].$elm$=Be,Ue.insertBefore(Be,Kt(Qe))))},bt=($e,Qe,gt,lt,wt)=>{for(;Qe<=gt;++Qe)(lt=$e[Qe])&&(wt=lt.$elm$,ze(lt),$=!0,wt["s-ol"]?wt["s-ol"].remove():Sn(wt,!0),wt.remove())},Wt=($e,Qe)=>$e.$tag$===Qe.$tag$&&("slot"===$e.$tag$?$e.$name$===Qe.$name$:$e.$key$===Qe.$key$),Kt=$e=>$e&&$e["s-ol"]||$e,At=$e=>($e["s-ol"]?$e["s-ol"]:$e).parentNode,Ht=($e,Qe)=>{const gt=Qe.$elm$=$e.$elm$,lt=$e.$children$,wt=Qe.$children$,Ut=Qe.$tag$,Ue=Qe.$text$;let Be;null!==Ue?(Be=gt["s-cr"])?Be.parentNode.textContent=Ue:$e.$text$!==Ue&&(gt.data=Ue):(Z="svg"===Ut||"foreignObject"!==Ut&&Z,"slot"===Ut||An($e,Qe,Z),null!==lt&&null!==wt?(($e,Qe,gt,lt)=>{let Vr,Er,wt=0,Ut=0,Ue=0,Be=0,dt=Qe.length-1,It=Qe[0],Qt=Qe[dt],yn=lt.length-1,gn=lt[0],fr=lt[yn];for(;wt<=dt&&Ut<=yn;)if(null==It)It=Qe[++wt];else if(null==Qt)Qt=Qe[--dt];else if(null==gn)gn=lt[++Ut];else if(null==fr)fr=lt[--yn];else if(Wt(It,gn))Ht(It,gn),It=Qe[++wt],gn=lt[++Ut];else if(Wt(Qt,fr))Ht(Qt,fr),Qt=Qe[--dt],fr=lt[--yn];else if(Wt(It,fr))("slot"===It.$tag$||"slot"===fr.$tag$)&&Sn(It.$elm$.parentNode,!1),Ht(It,fr),$e.insertBefore(It.$elm$,Qt.$elm$.nextSibling),It=Qe[++wt],fr=lt[--yn];else if(Wt(Qt,gn))("slot"===It.$tag$||"slot"===fr.$tag$)&&Sn(Qt.$elm$.parentNode,!1),Ht(Qt,gn),$e.insertBefore(Qt.$elm$,It.$elm$),Qt=Qe[--dt],gn=lt[++Ut];else{for(Ue=-1,Be=wt;Be<=dt;++Be)if(Qe[Be]&&null!==Qe[Be].$key$&&Qe[Be].$key$===gn.$key$){Ue=Be;break}Ue>=0?(Er=Qe[Ue],Er.$tag$!==gn.$tag$?Vr=Pn(Qe&&Qe[Ut],gt,Ue,$e):(Ht(Er,gn),Qe[Ue]=void 0,Vr=Er.$elm$),gn=lt[++Ut]):(Vr=Pn(Qe&&Qe[Ut],gt,Ut,$e),gn=lt[++Ut]),Vr&&At(It.$elm$).insertBefore(Vr,Kt(It.$elm$))}wt>dt?ut($e,null==lt[yn+1]?null:lt[yn+1].$elm$,gt,lt,Ut,yn):Ut>yn&&bt(Qe,wt,dt)})(gt,lt,Qe,wt):null!==wt?(null!==$e.$text$&&(gt.textContent=""),ut(gt,null,Qe,wt,0,wt.length-1)):null!==lt&&bt(lt,0,lt.length-1),Z&&"svg"===Ut&&(Z=!1))},Yt=$e=>{let gt,lt,wt,Ut,Ue,Be,Qe=$e.childNodes;for(lt=0,wt=Qe.length;lt<wt;lt++)if(gt=Qe[lt],1===gt.nodeType){if(gt["s-sr"])for(Ue=gt["s-sn"],gt.hidden=!1,Ut=0;Ut<wt;Ut++)if(Be=Qe[Ut].nodeType,Qe[Ut]["s-hn"]!==gt["s-hn"]||""!==Ue){if(1===Be&&Ue===Qe[Ut].getAttribute("slot")){gt.hidden=!0;break}}else if(1===Be||3===Be&&""!==Qe[Ut].textContent.trim()){gt.hidden=!0;break}Yt(gt)}},sn=[],Ct=$e=>{let Qe,gt,lt,wt,Ut,Ue,Be=0,dt=$e.childNodes,It=dt.length;for(;Be<It;Be++){if(Qe=dt[Be],Qe["s-sr"]&&(gt=Qe["s-cr"])&&gt.parentNode)for(lt=gt.parentNode.childNodes,wt=Qe["s-sn"],Ue=lt.length-1;Ue>=0;Ue--)gt=lt[Ue],!gt["s-cn"]&&!gt["s-nr"]&&gt["s-hn"]!==Qe["s-hn"]&&(mt(gt,wt)?(Ut=sn.find(Qt=>Qt.$nodeToRelocate$===gt),$=!0,gt["s-sn"]=gt["s-sn"]||wt,Ut?Ut.$slotRefNode$=Qe:sn.push({$slotRefNode$:Qe,$nodeToRelocate$:gt}),gt["s-sr"]&&sn.map(Qt=>{mt(Qt.$nodeToRelocate$,gt["s-sn"])&&(Ut=sn.find(yn=>yn.$nodeToRelocate$===gt),Ut&&!Qt.$slotRefNode$&&(Qt.$slotRefNode$=Ut.$slotRefNode$))})):sn.some(Qt=>Qt.$nodeToRelocate$===gt)||sn.push({$nodeToRelocate$:gt}));1===Qe.nodeType&&Ct(Qe)}},mt=($e,Qe)=>1===$e.nodeType?null===$e.getAttribute("slot")&&""===Qe||$e.getAttribute("slot")===Qe:$e["s-sn"]===Qe||""===Qe,ze=$e=>{$e.$attrs$&&$e.$attrs$.ref&&$e.$attrs$.ref(null),$e.$children$&&$e.$children$.map(ze)},ht=($e,Qe)=>{const gt=$e.$hostElement$,lt=$e.$cmpMeta$,wt=$e.$vnode$||Ke(null,null),Ut=Et(Qe)?Qe:_t(null,null,Qe);if(k=gt.tagName,lt.$attrsToReflect$&&(Ut.$attrs$=Ut.$attrs$||{},lt.$attrsToReflect$.map(([Ue,Be])=>Ut.$attrs$[Be]=gt[Ue])),Ut.$tag$=null,Ut.$flags$|=4,$e.$vnode$=Ut,Ut.$elm$=wt.$elm$=gt.shadowRoot||gt,N=gt["s-sc"],ne=gt["s-cr"],x=0!=(1&lt.$flags$),$=!1,Ht(wt,Ut),W.$flags$|=1,Y){Ct(Ut.$elm$);let Ue,Be,dt,It,Qt,yn,gn=0;for(;gn<sn.length;gn++)Ue=sn[gn],Be=Ue.$nodeToRelocate$,Be["s-ol"]||(dt=j.createTextNode(""),dt["s-nr"]=Be,Be.parentNode.insertBefore(Be["s-ol"]=dt,Be));for(gn=0;gn<sn.length;gn++)if(Ue=sn[gn],Be=Ue.$nodeToRelocate$,Ue.$slotRefNode$){for(It=Ue.$slotRefNode$.parentNode,Qt=Ue.$slotRefNode$.nextSibling,dt=Be["s-ol"];dt=dt.previousSibling;)if(yn=dt["s-nr"],yn&&yn["s-sn"]===Be["s-sn"]&&It===yn.parentNode&&(yn=yn.nextSibling,!yn||!yn["s-nr"])){Qt=yn;break}(!Qt&&It!==Be.parentNode||Be.nextSibling!==Qt)&&Be!==Qt&&(!Be["s-hn"]&&Be["s-ol"]&&(Be["s-hn"]=Be["s-ol"].parentNode.nodeName),It.insertBefore(Be,Qt))}else 1===Be.nodeType&&(Be.hidden=!0)}$&&Yt(Ut.$elm$),W.$flags$&=-2,sn.length=0},kt=($e,Qe,gt)=>{const lt=$e;return{emit:wt=>on(lt,Qe,{bubbles:!!(4&gt),composed:!!(2&gt),cancelable:!!(1&gt),detail:wt})}},on=($e,Qe,gt)=>{const lt=W.ce(Qe,gt);return $e.dispatchEvent(lt),lt},Vt=($e,Qe)=>{$e.$flags$|=16;const gt=()=>Zt($e,Qe);return Kn(gt)},Zt=($e,Qe)=>{const gt=$e.$hostElement$,lt=()=>{},wt=gt;let Ut;return Qe?(qr(gt,"componentWillLoad"),Ut=wr(wt,"componentWillLoad")):(qr(gt,"componentWillUpdate"),Ut=wr(wt,"componentWillUpdate")),qr(gt,"componentWillRender"),Ut=ys(Ut,()=>wr(wt,"componentWillRender")),lt(),ys(Ut,()=>nn($e,wt,Qe))},nn=function(){var $e=(0,M.Z)(function*(Qe,gt,lt){const wt=Qe.$hostElement$,Ut=()=>{};lt&&($e=>{const Qe=$e.$cmpMeta$,gt=$e.$hostElement$,lt=Qe.$flags$,wt=()=>{},Ut=xe(gt.shadowRoot?gt.shadowRoot:gt.getRootNode(),Qe,$e.$modeName$);10&lt&&(gt["s-sc"]=Ut,gt.classList.add(Ut+"-h"),2&lt&&gt.classList.add(Ut+"-s")),wt()})(Qe);const Be=()=>{};fn(Qe,gt,wt),Be(),Ut(),pr(Qe)});return function(gt,lt,wt){return $e.apply(this,arguments)}}(),fn=($e,Qe,gt)=>{try{re=Qe,Qe=Qe.render&&Qe.render(),$e.$flags$&=-17,$e.$flags$|=2,ht($e,Qe)}catch(Be){es(Be,$e.$hostElement$)}return re=null,null},pr=$e=>{const gt=$e.$hostElement$,lt=()=>{},wt=gt;wr(wt,"componentDidRender"),qr(gt,"componentDidRender"),64&$e.$flags$?(wr(wt,"componentDidUpdate"),qr(gt,"componentDidUpdate"),lt()):($e.$flags$|=64,wr(wt,"componentDidLoad"),qr(gt,"componentDidLoad"),lt())},Or=$e=>{{const Qe=vr($e),gt=Qe.$hostElement$.isConnected;return gt&&2==(18&Qe.$flags$)&&Vt(Qe,!1),gt}},wr=($e,Qe,gt)=>{if($e&&$e[Qe])try{return $e[Qe](gt)}catch(lt){es(lt)}},ys=($e,Qe)=>$e&&$e.then?$e.then(Qe):Qe(),qr=($e,Qe)=>{},Pr=($e,Qe,gt)=>{if(Qe.$members$){$e.watchers&&(Qe.$watchers$=$e.watchers);const lt=Object.entries(Qe.$members$),wt=$e.prototype;lt.map(([Ut,[Ue]])=>{(31&Ue||32&Ue)&&Object.defineProperty(wt,Ut,{get(){return(($e,Qe)=>vr(this).$instanceValues$.get(Qe))(0,Ut)},set(Be){(($e,Qe,gt,lt)=>{const wt=vr($e),Ut=$e,Ue=wt.$instanceValues$.get(Qe),Be=wt.$flags$,dt=Ut;if(gt=(($e,Qe)=>null==$e||et($e)?$e:4&Qe?"false"!==$e&&(""===$e||!!$e):2&Qe?parseFloat($e):1&Qe?String($e):$e)(gt,lt.$members$[Qe][0]),gt!==Ue&&(wt.$instanceValues$.set(Qe,gt),1)){if(lt.$watchers$&&128&Be){const It=lt.$watchers$[Qe];It&&It.map(Qt=>{try{dt[Qt](gt,Ue,Qe)}catch(yn){es(yn,Ut)}})}if(2==(18&Be)){if(dt.componentShouldUpdate&&!1===dt.componentShouldUpdate(gt,Ue,Qe))return;Vt(wt,!1)}}})(this,Ut,Be,Qe)},configurable:!0,enumerable:!0})});{const Ut=new Map;wt.attributeChangedCallback=function(Ue,Be,dt){W.jmp(()=>{const It=Ut.get(Ue);if(this.hasOwnProperty(It))dt=this[It],delete this[It];else if(wt.hasOwnProperty(It)&&"number"==typeof this[It]&&this[It]==dt)return;this[It]=(null!==dt||"boolean"!=typeof this[It])&&dt})},$e.observedAttributes=lt.filter(([Ue,Be])=>15&Be[0]).map(([Ue,Be])=>{const dt=Be[1]||Ue;return Ut.set(dt,Ue),512&Be[0]&&Qe.$attrsToReflect$.push([Ue,dt]),dt})}}return $e},rs=function(){var $e=(0,M.Z)(function*(Qe,gt,lt,wt,Ut){if(0==(32&gt.$flags$)&&(Ut=Qe.constructor,gt.$flags$|=32,customElements.whenDefined(lt.$tagName$).then(()=>gt.$flags$|=128),Ut.style)){let dt=Ut.style;"string"!=typeof dt&&(dt=dt[gt.$modeName$=($e=>qs.map(Qe=>Qe($e)).find(Qe=>!!Qe))(Qe)]);const It=He(lt,gt.$modeName$);if(!ts.has(It)){const Qt=()=>{};(($e,Qe,gt)=>{let lt=ts.get($e);me&&gt?(lt=lt||new CSSStyleSheet,lt.replace(Qe)):lt=Qe,ts.set($e,lt)})(It,dt,!!(1&lt.$flags$)),Qt()}}const Be=()=>Vt(gt,!0);Be()});return function(gt,lt,wt,Ut,Ue){return $e.apply(this,arguments)}}(),ds=$e=>{},Ft=$e=>{const Qe=$e["s-cr"]=j.createComment("");Qe["s-cn"]=!0,$e.insertBefore(Qe,$e.firstChild)},Dn=($e,Qe)=>{const gt={$flags$:Qe[0],$tagName$:Qe[1]};gt.$members$=Qe[2],gt.$listeners$=Qe[3],gt.$watchers$=$e.$watchers$,gt.$attrsToReflect$=[];const lt=$e.prototype.connectedCallback,wt=$e.prototype.disconnectedCallback;return Object.assign($e.prototype,{__registerHost(){Rr(this,gt)},connectedCallback(){($e=>{if(0==(1&W.$flags$)){const Qe=vr($e),gt=Qe.$cmpMeta$,lt=()=>{};if(1&Qe.$flags$)ie($e,Qe,gt.$listeners$),ds(Qe.$lazyInstance$);else{let wt;Qe.$flags$|=1,!wt&&12&gt.$flags$&&Ft($e),gt.$members$&&Object.entries(gt.$members$).map(([Ut,[Ue]])=>{if(31&Ue&&$e.hasOwnProperty(Ut)){const Be=$e[Ut];delete $e[Ut],$e[Ut]=Be}}),rs($e,Qe,gt)}lt()}})(this),lt&&lt.call(this)},disconnectedCallback(){($e=>{if(0==(1&W.$flags$)){const Qe=vr($e);Qe.$rmListeners$&&(Qe.$rmListeners$.map(lt=>lt()),Qe.$rmListeners$=void 0)}})(this),wt&&wt.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(16&gt.$flags$)})}}),$e.is=gt.$tagName$,Pr($e,gt)},Rt=$e=>{const Qe=new URL($e,W.$resourcesUrl$);return Qe.origin!==T.location.origin?Qe.href:Qe.pathname},zt=$e=>W.$resourcesUrl$=$e,Qr=new WeakMap,vr=$e=>Qr.get($e),Rr=($e,Qe)=>{const gt={$flags$:0,$hostElement$:$e,$cmpMeta$:Qe,$instanceValues$:new Map};return ie($e,gt,Qe.$listeners$),Qr.set($e,gt)},ss=($e,Qe)=>Qe in $e,es=($e,Qe)=>(0,console.error)($e,Qe),ts=new Map,qs=[],Zr=[],zs=[],St=($e,Qe)=>gt=>{$e.push(gt),L||(L=!0,Qe&&4&W.$flags$?xr(Bn):W.raf(Bn))},an=$e=>{for(let Qe=0;Qe<$e.length;Qe++)try{$e[Qe](performance.now())}catch(gt){es(gt)}$e.length=0},Bn=()=>{an(Zr),an(zs),(L=Zr.length>0)&&W.raf(Bn)},xr=$e=>Promise.resolve(void 0).then($e),Kn=St(zs,!0),ei={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},27122:(qe,Me)=>{"use strict";function M(Oe,Ne){for(var Ae=0;Ae<Ne.length;Ae++){var be=Ne[Ae];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Oe,be.key,be)}}function D(Oe,Ne,Ae){return Ne&&M(Oe.prototype,Ne),Ae&&M(Oe,Ae),Oe}function Q(){return Q=Object.assign||function(Oe){for(var Ne=1;Ne<arguments.length;Ne++){var Ae=arguments[Ne];for(var be in Ae)Object.prototype.hasOwnProperty.call(Ae,be)&&(Oe[be]=Ae[be])}return Oe},Q.apply(this,arguments)}function B(Oe,Ne){Oe.prototype=Object.create(Ne.prototype),Oe.prototype.constructor=Oe,ne(Oe,Ne)}function N(Oe){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(Ae){return Ae.__proto__||Object.getPrototypeOf(Ae)})(Oe)}function ne(Oe,Ne){return(ne=Object.setPrototypeOf||function(be,Fe){return be.__proto__=Fe,be})(Oe,Ne)}function k(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Oe){return!1}}function F(Oe,Ne,Ae){return(F=k()?Reflect.construct:function(Fe,Je,vt){var Tt=[null];Tt.push.apply(Tt,Je);var en=new(Function.bind.apply(Fe,Tt));return vt&&ne(en,vt.prototype),en}).apply(null,arguments)}function x(Oe){var Ne="function"==typeof Map?new Map:void 0;return x=function(be){if(null===be||!function I(Oe){return-1!==Function.toString.call(Oe).indexOf("[native code]")}(be))return be;if("function"!=typeof be)throw new TypeError("Super expression must either be null or a function");if(void 0!==Ne){if(Ne.has(be))return Ne.get(be);Ne.set(be,Fe)}function Fe(){return F(be,arguments,N(this).constructor)}return Fe.prototype=Object.create(be.prototype,{constructor:{value:Fe,enumerable:!1,writable:!0,configurable:!0}}),ne(Fe,be)},x(Oe)}function $(Oe,Ne){if(null==Oe)return{};var Fe,Je,Ae={},be=Object.keys(Oe);for(Je=0;Je<be.length;Je++)!(Ne.indexOf(Fe=be[Je])>=0)&&(Ae[Fe]=Oe[Fe]);return Ae}function Z(Oe,Ne){(null==Ne||Ne>Oe.length)&&(Ne=Oe.length);for(var Ae=0,be=new Array(Ne);Ae<Ne;Ae++)be[Ae]=Oe[Ae];return be}function re(Oe,Ne){var Ae="undefined"!=typeof Symbol&&Oe[Symbol.iterator]||Oe["@@iterator"];if(Ae)return(Ae=Ae.call(Oe)).next.bind(Ae);if(Array.isArray(Oe)||(Ae=function Y(Oe,Ne){if(Oe){if("string"==typeof Oe)return Z(Oe,Ne);var Ae=Object.prototype.toString.call(Oe).slice(8,-1);if("Object"===Ae&&Oe.constructor&&(Ae=Oe.constructor.name),"Map"===Ae||"Set"===Ae)return Array.from(Oe);if("Arguments"===Ae||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae))return Z(Oe,Ne)}}(Oe))||Ne&&Oe&&"number"==typeof Oe.length){Ae&&(Oe=Ae);var be=0;return function(){return be>=Oe.length?{done:!0}:{done:!1,value:Oe[be++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var X=function(Oe){function Ne(){return Oe.apply(this,arguments)||this}return B(Ne,Oe),Ne}(x(Error)),L=function(Oe){function Ne(Ae){return Oe.call(this,"Invalid DateTime: "+Ae.toMessage())||this}return B(Ne,Oe),Ne}(X),T=function(Oe){function Ne(Ae){return Oe.call(this,"Invalid Interval: "+Ae.toMessage())||this}return B(Ne,Oe),Ne}(X),P=function(Oe){function Ne(Ae){return Oe.call(this,"Invalid Duration: "+Ae.toMessage())||this}return B(Ne,Oe),Ne}(X),j=function(Oe){function Ne(){return Oe.apply(this,arguments)||this}return B(Ne,Oe),Ne}(X),K=function(Oe){function Ne(Ae){return Oe.call(this,"Invalid unit "+Ae)||this}return B(Ne,Oe),Ne}(X),W=function(Oe){function Ne(){return Oe.apply(this,arguments)||this}return B(Ne,Oe),Ne}(X),te=function(Oe){function Ne(){return Oe.call(this,"Zone is an abstract class")||this}return B(Ne,Oe),Ne}(X),J="numeric",he="short",oe="long",me={year:J,month:J,day:J},de={year:J,month:he,day:J},ie={year:J,month:he,day:J,weekday:he},V={year:J,month:oe,day:J},ce={year:J,month:oe,day:J,weekday:oe},ae={hour:J,minute:J},pe={hour:J,minute:J,second:J},ue={hour:J,minute:J,second:J,timeZoneName:he},ye={hour:J,minute:J,second:J,timeZoneName:oe},le={hour:J,minute:J,hourCycle:"h23"},se={hour:J,minute:J,second:J,hourCycle:"h23"},Ce={hour:J,minute:J,second:J,hourCycle:"h23",timeZoneName:he},ge={hour:J,minute:J,second:J,hourCycle:"h23",timeZoneName:oe},Pe={year:J,month:J,day:J,hour:J,minute:J},Ee={year:J,month:J,day:J,hour:J,minute:J,second:J},Ge={year:J,month:he,day:J,hour:J,minute:J},Se={year:J,month:he,day:J,hour:J,minute:J,second:J},ve={year:J,month:he,day:J,weekday:he,hour:J,minute:J},Te={year:J,month:oe,day:J,hour:J,minute:J,timeZoneName:he},Ze={year:J,month:oe,day:J,hour:J,minute:J,second:J,timeZoneName:he},tt={year:J,month:oe,day:J,weekday:oe,hour:J,minute:J,timeZoneName:oe},xe={year:J,month:oe,day:J,weekday:oe,hour:J,minute:J,second:J,timeZoneName:oe};function Ve(Oe){return void 0===Oe}function He(Oe){return"number"==typeof Oe}function ee(Oe){return"number"==typeof Oe&&Oe%1==0}function Ye(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(Oe){return!1}}function it(Oe,Ne,Ae){if(0!==Oe.length)return Oe.reduce(function(be,Fe){var Je=[Ne(Fe),Fe];return be&&Ae(be[0],Je[0])===be[0]?be:Je},null)[1]}function ot(Oe,Ne){return Object.prototype.hasOwnProperty.call(Oe,Ne)}function et(Oe,Ne,Ae){return ee(Oe)&&Oe>=Ne&&Oe<=Ae}function Ke(Oe,Ne){return void 0===Ne&&(Ne=2),Oe<0?"-"+(""+-Oe).padStart(Ne,"0"):(""+Oe).padStart(Ne,"0")}function ct(Oe){if(!Ve(Oe)&&null!==Oe&&""!==Oe)return parseInt(Oe,10)}function Et(Oe){if(!Ve(Oe)&&null!==Oe&&""!==Oe)return parseFloat(Oe)}function Mt(Oe){if(!Ve(Oe)&&null!==Oe&&""!==Oe){var Ne=1e3*parseFloat("0."+Oe);return Math.floor(Ne)}}function Gt(Oe,Ne,Ae){void 0===Ae&&(Ae=!1);var be=Math.pow(10,Ne);return(Ae?Math.trunc:Math.round)(Oe*be)/be}function $t(Oe){return Oe%4==0&&(Oe%100!=0||Oe%400==0)}function Jt(Oe){return $t(Oe)?366:365}function cn(Oe,Ne){var Ae=function _t(Oe,Ne){return Oe-Ne*Math.floor(Oe/Ne)}(Ne-1,12)+1;return 2===Ae?$t(Oe+(Ne-Ae)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Ae-1]}function xn(Oe){var Ne=Date.UTC(Oe.year,Oe.month-1,Oe.day,Oe.hour,Oe.minute,Oe.second,Oe.millisecond);return Oe.year<100&&Oe.year>=0&&(Ne=new Date(Ne)).setUTCFullYear(Ne.getUTCFullYear()-1900),+Ne}function pn(Oe){var Ne=(Oe+Math.floor(Oe/4)-Math.floor(Oe/100)+Math.floor(Oe/400))%7,Ae=Oe-1,be=(Ae+Math.floor(Ae/4)-Math.floor(Ae/100)+Math.floor(Ae/400))%7;return 4===Ne||3===be?53:52}function An(Oe){return Oe>99?Oe:Oe>60?1900+Oe:2e3+Oe}function Pn(Oe,Ne,Ae,be){void 0===be&&(be=null);var Fe=new Date(Oe),Je={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};be&&(Je.timeZone=be);var vt=Q({timeZoneName:Ne},Je),Tt=new Intl.DateTimeFormat(Ae,vt).formatToParts(Fe).find(function(Bt){return"timezonename"===Bt.type.toLowerCase()});return Tt?Tt.value:null}function Sn(Oe,Ne){var Ae=parseInt(Oe,10);Number.isNaN(Ae)&&(Ae=0);var be=parseInt(Ne,10)||0;return 60*Ae+(Ae<0||Object.is(Ae,-0)?-be:be)}function ut(Oe){var Ne=Number(Oe);if("boolean"==typeof Oe||""===Oe||Number.isNaN(Ne))throw new W("Invalid unit value "+Oe);return Ne}function bt(Oe,Ne){var Ae={};for(var be in Oe)if(ot(Oe,be)){var Fe=Oe[be];if(null==Fe)continue;Ae[Ne(be)]=ut(Fe)}return Ae}function xt(Oe,Ne){var Ae=Math.trunc(Math.abs(Oe/60)),be=Math.trunc(Math.abs(Oe%60)),Fe=Oe>=0?"+":"-";switch(Ne){case"short":return""+Fe+Ke(Ae,2)+":"+Ke(be,2);case"narrow":return""+Fe+Ae+(be>0?":"+be:"");case"techie":return""+Fe+Ke(Ae,2)+Ke(be,2);default:throw new RangeError("Value format "+Ne+" is out of range for property format")}}function Wt(Oe){return function at(Oe,Ne){return Ne.reduce(function(Ae,be){return Ae[be]=Oe[be],Ae},{})}(Oe,["hour","minute","second","millisecond"])}var Kt=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,At=["January","February","March","April","May","June","July","August","September","October","November","December"],Ht=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Yt=["J","F","M","A","M","J","J","A","S","O","N","D"];function sn(Oe){switch(Oe){case"narrow":return[].concat(Yt);case"short":return[].concat(Ht);case"long":return[].concat(At);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Ct=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],mt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ze=["M","T","W","T","F","S","S"];function ht(Oe){switch(Oe){case"narrow":return[].concat(ze);case"short":return[].concat(mt);case"long":return[].concat(Ct);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var we=["AM","PM"],Xe=["Before Christ","Anno Domini"],Dt=["BC","AD"],kt=["B","A"];function on(Oe){switch(Oe){case"narrow":return[].concat(kt);case"short":return[].concat(Dt);case"long":return[].concat(Xe);default:return null}}function Nn(Oe,Ne){for(var Fe,Ae="",be=re(Oe);!(Fe=be()).done;){var Je=Fe.value;Ae+=Je.literal?Je.val:Ne(Je.val)}return Ae}var pr={D:me,DD:de,DDD:V,DDDD:ce,t:ae,tt:pe,ttt:ue,tttt:ye,T:le,TT:se,TTT:Ce,TTTT:ge,f:Pe,ff:Ge,fff:Te,ffff:tt,F:Ee,FF:Se,FFF:Ze,FFFF:xe},Or=function(){function Oe(Ae,be){this.opts=be,this.loc=Ae,this.systemLoc=null}Oe.create=function(be,Fe){return void 0===Fe&&(Fe={}),new Oe(be,Fe)},Oe.parseFormat=function(be){for(var Fe=null,Je="",vt=!1,Tt=[],Bt=0;Bt<be.length;Bt++){var en=be.charAt(Bt);"'"===en?(Je.length>0&&Tt.push({literal:vt,val:Je}),Fe=null,Je="",vt=!vt):vt||en===Fe?Je+=en:(Je.length>0&&Tt.push({literal:!1,val:Je}),Je=en,Fe=en)}return Je.length>0&&Tt.push({literal:vt,val:Je}),Tt},Oe.macroTokenToFormatOpts=function(be){return pr[be]};var Ne=Oe.prototype;return Ne.formatWithSystemDefault=function(be,Fe){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(be,Q({},this.opts,Fe)).format()},Ne.formatDateTime=function(be,Fe){return void 0===Fe&&(Fe={}),this.loc.dtFormatter(be,Q({},this.opts,Fe)).format()},Ne.formatDateTimeParts=function(be,Fe){return void 0===Fe&&(Fe={}),this.loc.dtFormatter(be,Q({},this.opts,Fe)).formatToParts()},Ne.resolvedOptions=function(be,Fe){return void 0===Fe&&(Fe={}),this.loc.dtFormatter(be,Q({},this.opts,Fe)).resolvedOptions()},Ne.num=function(be,Fe){if(void 0===Fe&&(Fe=0),this.opts.forceSimple)return Ke(be,Fe);var Je=Q({},this.opts);return Fe>0&&(Je.padTo=Fe),this.loc.numberFormatter(Je).format(be)},Ne.formatDateTimeFromString=function(be,Fe){var Je=this,vt="en"===this.loc.listingMode(),Tt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Bt=function(wn,Ws){return Je.loc.extract(be,wn,Ws)},en=function(wn){return be.isOffsetFixed&&0===be.offset&&wn.allowZ?"Z":be.isValid?be.zone.formatOffset(be.ts,wn.format):""},En=function(wn,Ws){return vt?function Zt(Oe,Ne){return sn(Ne)[Oe.month-1]}(be,wn):Bt(Ws?{month:wn}:{month:wn,day:"numeric"},"month")},Tn=function(wn,Ws){return vt?function Vt(Oe,Ne){return ht(Ne)[Oe.weekday-1]}(be,wn):Bt(Ws?{weekday:wn}:{weekday:wn,month:"long",day:"numeric"},"weekday")},nr=function(wn){return vt?function nn(Oe,Ne){return on(Ne)[Oe.year<0?0:1]}(be,wn):Bt({era:wn},"era")};return Nn(Oe.parseFormat(Fe),function(wn){switch(wn){case"S":return Je.num(be.millisecond);case"u":case"SSS":return Je.num(be.millisecond,3);case"s":return Je.num(be.second);case"ss":return Je.num(be.second,2);case"uu":return Je.num(Math.floor(be.millisecond/10),2);case"uuu":return Je.num(Math.floor(be.millisecond/100));case"m":return Je.num(be.minute);case"mm":return Je.num(be.minute,2);case"h":return Je.num(be.hour%12==0?12:be.hour%12);case"hh":return Je.num(be.hour%12==0?12:be.hour%12,2);case"H":return Je.num(be.hour);case"HH":return Je.num(be.hour,2);case"Z":return en({format:"narrow",allowZ:Je.opts.allowZ});case"ZZ":return en({format:"short",allowZ:Je.opts.allowZ});case"ZZZ":return en({format:"techie",allowZ:Je.opts.allowZ});case"ZZZZ":return be.zone.offsetName(be.ts,{format:"short",locale:Je.loc.locale});case"ZZZZZ":return be.zone.offsetName(be.ts,{format:"long",locale:Je.loc.locale});case"z":return be.zoneName;case"a":return vt?function rt(Oe){return we[Oe.hour<12?0:1]}(be):Bt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return Tt?Bt({day:"numeric"},"day"):Je.num(be.day);case"dd":return Tt?Bt({day:"2-digit"},"day"):Je.num(be.day,2);case"c":case"E":return Je.num(be.weekday);case"ccc":return Tn("short",!0);case"cccc":return Tn("long",!0);case"ccccc":return Tn("narrow",!0);case"EEE":return Tn("short",!1);case"EEEE":return Tn("long",!1);case"EEEEE":return Tn("narrow",!1);case"L":return Tt?Bt({month:"numeric",day:"numeric"},"month"):Je.num(be.month);case"LL":return Tt?Bt({month:"2-digit",day:"numeric"},"month"):Je.num(be.month,2);case"LLL":return En("short",!0);case"LLLL":return En("long",!0);case"LLLLL":return En("narrow",!0);case"M":return Tt?Bt({month:"numeric"},"month"):Je.num(be.month);case"MM":return Tt?Bt({month:"2-digit"},"month"):Je.num(be.month,2);case"MMM":return En("short",!1);case"MMMM":return En("long",!1);case"MMMMM":return En("narrow",!1);case"y":return Tt?Bt({year:"numeric"},"year"):Je.num(be.year);case"yy":return Tt?Bt({year:"2-digit"},"year"):Je.num(be.year.toString().slice(-2),2);case"yyyy":return Tt?Bt({year:"numeric"},"year"):Je.num(be.year,4);case"yyyyyy":return Tt?Bt({year:"numeric"},"year"):Je.num(be.year,6);case"G":return nr("short");case"GG":return nr("long");case"GGGGG":return nr("narrow");case"kk":return Je.num(be.weekYear.toString().slice(-2),2);case"kkkk":return Je.num(be.weekYear,4);case"W":return Je.num(be.weekNumber);case"WW":return Je.num(be.weekNumber,2);case"o":return Je.num(be.ordinal);case"ooo":return Je.num(be.ordinal,3);case"q":return Je.num(be.quarter);case"qq":return Je.num(be.quarter,2);case"X":return Je.num(Math.floor(be.ts/1e3));case"x":return Je.num(be.ts);default:return function(wn){var Ws=Oe.macroTokenToFormatOpts(wn);return Ws?Je.formatWithSystemDefault(be,Ws):wn}(wn)}})},Ne.formatDurationFromString=function(be,Fe){var Tn,Je=this,vt=function(Tn){switch(Tn[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},Bt=Oe.parseFormat(Fe),en=Bt.reduce(function(En,Tn){return Tn.literal?En:En.concat(Tn.val)},[]),bn=be.shiftTo.apply(be,en.map(vt).filter(function(En){return En}));return Nn(Bt,(Tn=bn,function(Hn){var nr=vt(Hn);return nr?Je.num(Tn.get(nr),Hn.length):Hn}))},Oe}(),ar=function(){function Oe(Ae,be){this.reason=Ae,this.explanation=be}return Oe.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},Oe}(),wr=function(){function Oe(){}var Ne=Oe.prototype;return Ne.offsetName=function(be,Fe){throw new te},Ne.formatOffset=function(be,Fe){throw new te},Ne.offset=function(be){throw new te},Ne.equals=function(be){throw new te},D(Oe,[{key:"type",get:function(){throw new te}},{key:"name",get:function(){throw new te}},{key:"isUniversal",get:function(){throw new te}},{key:"isValid",get:function(){throw new te}}]),Oe}(),ys=null,qr=function(Oe){function Ne(){return Oe.apply(this,arguments)||this}B(Ne,Oe);var Ae=Ne.prototype;return Ae.offsetName=function(Fe,Je){return Pn(Fe,Je.format,Je.locale)},Ae.formatOffset=function(Fe,Je){return xt(this.offset(Fe),Je)},Ae.offset=function(Fe){return-new Date(Fe).getTimezoneOffset()},Ae.equals=function(Fe){return"system"===Fe.type},D(Ne,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===ys&&(ys=new Ne),ys}}]),Ne}(wr);RegExp("^"+Kt.source+"$");var Jr={},mi={year:0,month:1,day:2,hour:3,minute:4,second:5},cs={},Os=function(Oe){function Ne(be){var Fe;return(Fe=Oe.call(this)||this).zoneName=be,Fe.valid=Ne.isValidZone(be),Fe}B(Ne,Oe),Ne.create=function(Fe){return cs[Fe]||(cs[Fe]=new Ne(Fe)),cs[Fe]},Ne.resetCache=function(){cs={},Jr={}},Ne.isValidSpecifier=function(Fe){return this.isValidZone(Fe)},Ne.isValidZone=function(Fe){if(!Fe)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:Fe}).format(),!0}catch(Je){return!1}};var Ae=Ne.prototype;return Ae.offsetName=function(Fe,Je){return Pn(Fe,Je.format,Je.locale,this.name)},Ae.formatOffset=function(Fe,Je){return xt(this.offset(Fe),Je)},Ae.offset=function(Fe){var Je=new Date(Fe);if(isNaN(Je))return NaN;var vt=function Fs(Oe){return Jr[Oe]||(Jr[Oe]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Oe,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Jr[Oe]}(this.name),Tt=vt.formatToParts?function us(Oe,Ne){for(var Ae=Oe.formatToParts(Ne),be=[],Fe=0;Fe<Ae.length;Fe++){var Je=Ae[Fe],Tt=Je.value,Bt=mi[Je.type];Ve(Bt)||(be[Bt]=parseInt(Tt,10))}return be}(vt,Je):function Xs(Oe,Ne){var Ae=Oe.format(Ne).replace(/\u200E/g,""),be=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(Ae);return[be[3],be[1],be[2],be[4],be[5],be[6]]}(vt,Je),En=Tt[3],Cr=+Je,wn=Cr%1e3;return(xn({year:Tt[0],month:Tt[1],day:Tt[2],hour:24===En?0:En,minute:Tt[4],second:Tt[5],millisecond:0})-(Cr-=wn>=0?wn:1e3+wn))/6e4},Ae.equals=function(Fe){return"iana"===Fe.type&&Fe.name===this.name},D(Ne,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),Ne}(wr),Ms=null,Pr=function(Oe){function Ne(be){var Fe;return(Fe=Oe.call(this)||this).fixed=be,Fe}B(Ne,Oe),Ne.instance=function(Fe){return 0===Fe?Ne.utcInstance:new Ne(Fe)},Ne.parseSpecifier=function(Fe){if(Fe){var Je=Fe.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(Je)return new Ne(Sn(Je[1],Je[2]))}return null};var Ae=Ne.prototype;return Ae.offsetName=function(){return this.name},Ae.formatOffset=function(Fe,Je){return xt(this.fixed,Je)},Ae.offset=function(){return this.fixed},Ae.equals=function(Fe){return"fixed"===Fe.type&&Fe.fixed===this.fixed},D(Ne,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+xt(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===Ms&&(Ms=new Ne(0)),Ms}}]),Ne}(wr),rs=function(Oe){function Ne(be){var Fe;return(Fe=Oe.call(this)||this).zoneName=be,Fe}B(Ne,Oe);var Ae=Ne.prototype;return Ae.offsetName=function(){return null},Ae.formatOffset=function(){return""},Ae.offset=function(){return NaN},Ae.equals=function(){return!1},D(Ne,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),Ne}(wr);function ds(Oe,Ne){if(Ve(Oe)||null===Oe)return Ne;if(Oe instanceof wr)return Oe;if(function _e(Oe){return"string"==typeof Oe}(Oe)){var Ae=Oe.toLowerCase();return"local"===Ae||"system"===Ae?Ne:"utc"===Ae||"gmt"===Ae?Pr.utcInstance:Pr.parseSpecifier(Ae)||Os.create(Oe)}return He(Oe)?Pr.instance(Oe):"object"==typeof Oe&&Oe.offset&&"number"==typeof Oe.offset?Oe:new rs(Oe)}var jn,Le=function(){return Date.now()},Ft="system",Lt=null,rn=null,Dn=null,Rn=function(){function Oe(){}return Oe.resetCaches=function(){Rr.resetCache(),Os.resetCache()},D(Oe,null,[{key:"now",get:function(){return Le},set:function(Ae){Le=Ae}},{key:"defaultZone",get:function(){return ds(Ft,qr.instance)},set:function(Ae){Ft=Ae}},{key:"defaultLocale",get:function(){return Lt},set:function(Ae){Lt=Ae}},{key:"defaultNumberingSystem",get:function(){return rn},set:function(Ae){rn=Ae}},{key:"defaultOutputCalendar",get:function(){return Dn},set:function(Ae){Dn=Ae}},{key:"throwOnInvalid",get:function(){return jn},set:function(Ae){jn=Ae}}]),Oe}(),ln=["base"],Jn=["padTo","floor"],or={},Nt={};function nt(Oe,Ne){void 0===Ne&&(Ne={});var Ae=JSON.stringify([Oe,Ne]),be=Nt[Ae];return be||(be=new Intl.DateTimeFormat(Oe,Ne),Nt[Ae]=be),be}var Ot={},Rt={},Cn=null;function Nr(Oe,Ne,Ae,be,Fe){var Je=Oe.listingMode(Ae);return"error"===Je?null:"en"===Je?be(Ne):Fe(Ne)}var Qr=function(){function Oe(Ae,be,Fe){this.padTo=Fe.padTo||0,this.floor=Fe.floor||!1;var Je=$(Fe,Jn);if(!be||Object.keys(Je).length>0){var vt=Q({useGrouping:!1},Fe);Fe.padTo>0&&(vt.minimumIntegerDigits=Fe.padTo),this.inf=function ft(Oe,Ne){void 0===Ne&&(Ne={});var Ae=JSON.stringify([Oe,Ne]),be=Ot[Ae];return be||(be=new Intl.NumberFormat(Oe,Ne),Ot[Ae]=be),be}(Ae,vt)}}return Oe.prototype.format=function(be){if(this.inf){var Fe=this.floor?Math.floor(be):be;return this.inf.format(Fe)}return Ke(this.floor?Math.floor(be):Gt(be,3),this.padTo)},Oe}(),vr=function(){function Oe(Ae,be,Fe){var Je;if(this.opts=Fe,Ae.zone.isUniversal){var vt=Ae.offset/60*-1,Tt=vt>=0?"Etc/GMT+"+vt:"Etc/GMT"+vt;0!==Ae.offset&&Os.create(Tt).valid?(Je=Tt,this.dt=Ae):(Je="UTC",this.dt=Fe.timeZoneName||0===Ae.offset?Ae:os.fromMillis(Ae.ts+60*Ae.offset*1e3))}else"system"===Ae.zone.type?this.dt=Ae:(this.dt=Ae,Je=Ae.zone.name);var Bt=Q({},this.opts);Je&&(Bt.timeZone=Je),this.dtf=nt(be,Bt)}var Ne=Oe.prototype;return Ne.format=function(){return this.dtf.format(this.dt.toJSDate())},Ne.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},Ne.resolvedOptions=function(){return this.dtf.resolvedOptions()},Oe}(),hs=function(){function Oe(Ae,be,Fe){this.opts=Q({style:"long"},Fe),!be&&Ye()&&(this.rtf=function zt(Oe,Ne){void 0===Ne&&(Ne={});var be=$(Ne,ln),Fe=JSON.stringify([Oe,be]),Je=Rt[Fe];return Je||(Je=new Intl.RelativeTimeFormat(Oe,Ne),Rt[Fe]=Je),Je}(Ae,Fe))}var Ne=Oe.prototype;return Ne.format=function(be,Fe){return this.rtf?this.rtf.format(be,Fe):function fn(Oe,Ne,Ae,be){void 0===Ae&&(Ae="always"),void 0===be&&(be=!1);var Fe={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Je=-1===["hours","minutes","seconds"].indexOf(Oe);if("auto"===Ae&&Je){var vt="days"===Oe;switch(Ne){case 1:return vt?"tomorrow":"next "+Fe[Oe][0];case-1:return vt?"yesterday":"last "+Fe[Oe][0];case 0:return vt?"today":"this "+Fe[Oe][0]}}var Tt=Object.is(Ne,-0)||Ne<0,Bt=Math.abs(Ne),en=1===Bt,bn=Fe[Oe],En=be?en?bn[1]:bn[2]||bn[1]:en?Fe[Oe][0]:Oe;return Tt?Bt+" "+En+" ago":"in "+Bt+" "+En}(Fe,be,this.opts.numeric,"long"!==this.opts.style)},Ne.formatToParts=function(be,Fe){return this.rtf?this.rtf.formatToParts(be,Fe):[]},Oe}(),Rr=function(){function Oe(Ae,be,Fe,Je){var vt=function On(Oe){var Ne=Oe.indexOf("-u-");if(-1===Ne)return[Oe];var Ae,be=Oe.substring(0,Ne);try{Ae=nt(Oe).resolvedOptions()}catch(Tt){Ae=nt(be).resolvedOptions()}return[be,Ae.numberingSystem,Ae.calendar]}(Ae),Bt=vt[1],en=vt[2];this.locale=vt[0],this.numberingSystem=be||Bt||null,this.outputCalendar=Fe||en||null,this.intl=function kn(Oe,Ne,Ae){return(Ae||Ne)&&(Oe+="-u",Ae&&(Oe+="-ca-"+Ae),Ne&&(Oe+="-nu-"+Ne)),Oe}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=Je,this.fastNumbersCached=null}Oe.fromOpts=function(be){return Oe.create(be.locale,be.numberingSystem,be.outputCalendar,be.defaultToEN)},Oe.create=function(be,Fe,Je,vt){void 0===vt&&(vt=!1);var Tt=be||Rn.defaultLocale;return new Oe(Tt||(vt?"en-US":function vn(){return Cn||(Cn=(new Intl.DateTimeFormat).resolvedOptions().locale)}()),Fe||Rn.defaultNumberingSystem,Je||Rn.defaultOutputCalendar,Tt)},Oe.resetCache=function(){Cn=null,Nt={},Ot={},Rt={}},Oe.fromObject=function(be){var Fe=void 0===be?{}:be;return Oe.create(Fe.locale,Fe.numberingSystem,Fe.outputCalendar)};var Ne=Oe.prototype;return Ne.listingMode=function(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"},Ne.clone=function(be){return be&&0!==Object.getOwnPropertyNames(be).length?Oe.create(be.locale||this.specifiedLocale,be.numberingSystem||this.numberingSystem,be.outputCalendar||this.outputCalendar,be.defaultToEN||!1):this},Ne.redefaultToEN=function(be){return void 0===be&&(be={}),this.clone(Q({},be,{defaultToEN:!0}))},Ne.redefaultToSystem=function(be){return void 0===be&&(be={}),this.clone(Q({},be,{defaultToEN:!1}))},Ne.months=function(be,Fe,Je){var vt=this;return void 0===Fe&&(Fe=!1),void 0===Je&&(Je=!0),Nr(this,be,Je,sn,function(){var Tt=Fe?{month:be,day:"numeric"}:{month:be},Bt=Fe?"format":"standalone";return vt.monthsCache[Bt][be]||(vt.monthsCache[Bt][be]=function sr(Oe){for(var Ne=[],Ae=1;Ae<=12;Ae++){var be=os.utc(2016,Ae,1);Ne.push(Oe(be))}return Ne}(function(en){return vt.extract(en,Tt,"month")})),vt.monthsCache[Bt][be]})},Ne.weekdays=function(be,Fe,Je){var vt=this;return void 0===Fe&&(Fe=!1),void 0===Je&&(Je=!0),Nr(this,be,Je,ht,function(){var Tt=Fe?{weekday:be,year:"numeric",month:"long",day:"numeric"}:{weekday:be},Bt=Fe?"format":"standalone";return vt.weekdaysCache[Bt][be]||(vt.weekdaysCache[Bt][be]=function Xn(Oe){for(var Ne=[],Ae=1;Ae<=7;Ae++){var be=os.utc(2016,11,13+Ae);Ne.push(Oe(be))}return Ne}(function(en){return vt.extract(en,Tt,"weekday")})),vt.weekdaysCache[Bt][be]})},Ne.meridiems=function(be){var Fe=this;return void 0===be&&(be=!0),Nr(this,void 0,be,function(){return we},function(){if(!Fe.meridiemCache){var Je={hour:"numeric",hourCycle:"h12"};Fe.meridiemCache=[os.utc(2016,11,13,9),os.utc(2016,11,13,19)].map(function(vt){return Fe.extract(vt,Je,"dayperiod")})}return Fe.meridiemCache})},Ne.eras=function(be,Fe){var Je=this;return void 0===Fe&&(Fe=!0),Nr(this,be,Fe,on,function(){var vt={era:be};return Je.eraCache[be]||(Je.eraCache[be]=[os.utc(-40,1,1),os.utc(2017,1,1)].map(function(Tt){return Je.extract(Tt,vt,"era")})),Je.eraCache[be]})},Ne.extract=function(be,Fe,Je){var Bt=this.dtFormatter(be,Fe).formatToParts().find(function(en){return en.type.toLowerCase()===Je});return Bt?Bt.value:null},Ne.numberFormatter=function(be){return void 0===be&&(be={}),new Qr(this.intl,be.forceSimple||this.fastNumbers,be)},Ne.dtFormatter=function(be,Fe){return void 0===Fe&&(Fe={}),new vr(be,this.intl,Fe)},Ne.relFormatter=function(be){return void 0===be&&(be={}),new hs(this.intl,this.isEnglish(),be)},Ne.listFormatter=function(be){return void 0===be&&(be={}),function _n(Oe,Ne){void 0===Ne&&(Ne={});var Ae=JSON.stringify([Oe,Ne]),be=or[Ae];return be||(be=new Intl.ListFormat(Oe,Ne),or[Ae]=be),be}(this.intl,be)},Ne.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},Ne.equals=function(be){return this.locale===be.locale&&this.numberingSystem===be.numberingSystem&&this.outputCalendar===be.outputCalendar},D(Oe,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Wn(Oe){return(!Oe.numberingSystem||"latn"===Oe.numberingSystem)&&("latn"===Oe.numberingSystem||!Oe.locale||Oe.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(Oe.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),Oe}();function ss(){for(var Oe=arguments.length,Ne=new Array(Oe),Ae=0;Ae<Oe;Ae++)Ne[Ae]=arguments[Ae];var be=Ne.reduce(function(Fe,Je){return Fe+Je.source},"");return RegExp("^"+be+"$")}function es(){for(var Oe=arguments.length,Ne=new Array(Oe),Ae=0;Ae<Oe;Ae++)Ne[Ae]=arguments[Ae];return function(be){return Ne.reduce(function(Fe,Je){var vt=Fe[0],Tt=Fe[1],en=Je(be,Fe[2]),En=en[1],Tn=en[2];return[Q({},vt,en[0]),Tt||En,Tn]},[{},null,1]).slice(0,2)}}function jr(Oe){if(null==Oe)return[null,null];for(var Ne=arguments.length,Ae=new Array(Ne>1?Ne-1:0),be=1;be<Ne;be++)Ae[be-1]=arguments[be];for(var Fe=0,Je=Ae;Fe<Je.length;Fe++){var vt=Je[Fe],Tt=vt[0],Bt=vt[1],en=Tt.exec(Oe);if(en)return Bt(en)}return[null,null]}function qn(){for(var Oe=arguments.length,Ne=new Array(Oe),Ae=0;Ae<Oe;Ae++)Ne[Ae]=arguments[Ae];return function(be,Fe){var vt,Je={};for(vt=0;vt<Ne.length;vt++)Je[Ne[vt]]=ct(be[Fe+vt]);return[Je,null,Fe+vt]}}var Wr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Vs=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ui=RegExp(""+Vs.source+Wr.source+"?"),Mr=RegExp("(?:T"+Ui.source+")?"),Zr=qn("weekYear","weekNumber","weekDay"),zs=qn("year","ordinal"),St=RegExp(Vs.source+" ?(?:"+Wr.source+"|("+Kt.source+"))?"),an=RegExp("(?: "+St.source+")?");function mn(Oe,Ne,Ae){var be=Oe[Ne];return Ve(be)?Ae:ct(be)}function Bn(Oe,Ne){return[{year:mn(Oe,Ne),month:mn(Oe,Ne+1,1),day:mn(Oe,Ne+2,1)},null,Ne+3]}function xr(Oe,Ne){return[{hours:mn(Oe,Ne,0),minutes:mn(Oe,Ne+1,0),seconds:mn(Oe,Ne+2,0),milliseconds:Mt(Oe[Ne+3])},null,Ne+4]}function Un(Oe,Ne){var Ae=!Oe[Ne]&&!Oe[Ne+1],be=Sn(Oe[Ne+1],Oe[Ne+2]);return[{},Ae?null:Pr.instance(be),Ne+3]}function Kn(Oe,Ne){return[{},Oe[Ne]?Os.create(Oe[Ne]):null,Ne+1]}var ei=RegExp("^T?"+Vs.source+"$"),$e=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Qe(Oe){var be=Oe[2],Fe=Oe[3],Je=Oe[4],vt=Oe[5],Tt=Oe[6],Bt=Oe[7],en=Oe[8],bn="-"===Oe[0][0],En=Bt&&"-"===Bt[0],Tn=function(nr,Tr){return void 0===Tr&&(Tr=!1),void 0!==nr&&(Tr||nr&&bn)?-nr:nr};return[{years:Tn(Et(Oe[1])),months:Tn(Et(be)),weeks:Tn(Et(Fe)),days:Tn(Et(Je)),hours:Tn(Et(vt)),minutes:Tn(Et(Tt)),seconds:Tn(Et(Bt),"-0"===Bt),milliseconds:Tn(Mt(en),En)}]}var gt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function lt(Oe,Ne,Ae,be,Fe,Je,vt){var Tt={year:2===Ne.length?An(ct(Ne)):ct(Ne),month:Ht.indexOf(Ae)+1,day:ct(be),hour:ct(Fe),minute:ct(Je)};return vt&&(Tt.second=ct(vt)),Oe&&(Tt.weekday=Oe.length>3?Ct.indexOf(Oe)+1:mt.indexOf(Oe)+1),Tt}var wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ut(Oe){var Hn,Bt=Oe[8],en=Oe[9],bn=Oe[10],En=Oe[11],Tn=lt(Oe[1],Oe[4],Oe[3],Oe[2],Oe[5],Oe[6],Oe[7]);return Hn=Bt?gt[Bt]:en?0:Sn(bn,En),[Tn,new Pr(Hn)]}var Be=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,dt=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,It=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Qt(Oe){return[lt(Oe[1],Oe[4],Oe[3],Oe[2],Oe[5],Oe[6],Oe[7]),Pr.utcInstance]}function yn(Oe){return[lt(Oe[1],Oe[7],Oe[2],Oe[3],Oe[4],Oe[5],Oe[6]),Pr.utcInstance]}var gn=ss(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Mr),fr=ss(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Mr),Vr=ss(/(\d{4})-?(\d{3})/,Mr),Er=ss(Ui),Gn=es(Bn,xr,Un),Gr=es(Zr,xr,Un),Gs=es(zs,xr,Un),is=es(xr,Un),pu=es(xr),Sc=ss(/(\d{4})-(\d\d)-(\d\d)/,an),Ic=ss(St),wc=es(Bn,xr,Un,Kn),Xo=es(xr,Un,Kn),ti={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ks=Q({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},ti),kr=365.2425,ni=30.436875,So=Q({years:{quarters:4,months:12,weeks:kr/7,days:kr,hours:24*kr,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:kr/28,days:kr/4,hours:24*kr/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:ni/7,days:ni,hours:24*ni,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},ti),Ps=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],qa=Ps.slice(0).reverse();function Yi(Oe,Ne,Ae){void 0===Ae&&(Ae=!1);var be={values:Ae?Ne.values:Q({},Oe.values,Ne.values||{}),loc:Oe.loc.clone(Ne.loc),conversionAccuracy:Ne.conversionAccuracy||Oe.conversionAccuracy};return new Ur(be)}function Sa(Oe,Ne,Ae,be,Fe){var Je=Oe[Fe][Ae],vt=Ne[Ae]/Je,Bt=Math.sign(vt)!==Math.sign(be[Fe])&&0!==be[Fe]&&Math.abs(vt)<=1?function Ta(Oe){return Oe<0?Math.floor(Oe):Math.ceil(Oe)}(vt):Math.trunc(vt);be[Fe]+=Bt,Ne[Ae]-=Bt*Je}var Ur=function(){function Oe(Ae){var be="longterm"===Ae.conversionAccuracy||!1;this.values=Ae.values,this.loc=Ae.loc||Rr.create(),this.conversionAccuracy=be?"longterm":"casual",this.invalid=Ae.invalid||null,this.matrix=be?So:ks,this.isLuxonDuration=!0}Oe.fromMillis=function(be,Fe){return Oe.fromObject({milliseconds:be},Fe)},Oe.fromObject=function(be,Fe){if(void 0===Fe&&(Fe={}),null==be||"object"!=typeof be)throw new W("Duration.fromObject: argument expected to be an object, got "+(null===be?"null":typeof be));return new Oe({values:bt(be,Oe.normalizeUnit),loc:Rr.fromObject(Fe),conversionAccuracy:Fe.conversionAccuracy})},Oe.fromDurationLike=function(be){if(He(be))return Oe.fromMillis(be);if(Oe.isDuration(be))return be;if("object"==typeof be)return Oe.fromObject(be);throw new W("Unknown duration argument "+be+" of type "+typeof be)},Oe.fromISO=function(be,Fe){var Je=function kh(Oe){return jr(Oe,[$e,Qe])}(be),vt=Je[0];return vt?Oe.fromObject(vt,Fe):Oe.invalid("unparsable",'the input "'+be+"\" can't be parsed as ISO 8601")},Oe.fromISOTime=function(be,Fe){var Je=function Hh(Oe){return jr(Oe,[ei,pu])}(be),vt=Je[0];return vt?Oe.fromObject(vt,Fe):Oe.invalid("unparsable",'the input "'+be+"\" can't be parsed as ISO 8601")},Oe.invalid=function(be,Fe){if(void 0===Fe&&(Fe=null),!be)throw new W("need to specify a reason the Duration is invalid");var Je=be instanceof ar?be:new ar(be,Fe);if(Rn.throwOnInvalid)throw new P(Je);return new Oe({invalid:Je})},Oe.normalizeUnit=function(be){var Fe={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[be&&be.toLowerCase()];if(!Fe)throw new K(be);return Fe},Oe.isDuration=function(be){return be&&be.isLuxonDuration||!1};var Ne=Oe.prototype;return Ne.toFormat=function(be,Fe){void 0===Fe&&(Fe={});var Je=Q({},Fe,{floor:!1!==Fe.round&&!1!==Fe.floor});return this.isValid?Or.create(this.loc,Je).formatDurationFromString(this,be):"Invalid Duration"},Ne.toHuman=function(be){var Fe=this;void 0===be&&(be={});var Je=Ps.map(function(vt){var Tt=Fe.values[vt];return Ve(Tt)?null:Fe.loc.numberFormatter(Q({style:"unit",unitDisplay:"long"},be,{unit:vt.slice(0,-1)})).format(Tt)}).filter(function(vt){return vt});return this.loc.listFormatter(Q({type:"conjunction",style:be.listStyle||"narrow"},be)).format(Je)},Ne.toObject=function(){return this.isValid?Q({},this.values):{}},Ne.toISO=function(){if(!this.isValid)return null;var be="P";return 0!==this.years&&(be+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(be+=this.months+3*this.quarters+"M"),0!==this.weeks&&(be+=this.weeks+"W"),0!==this.days&&(be+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(be+="T"),0!==this.hours&&(be+=this.hours+"H"),0!==this.minutes&&(be+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(be+=Gt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===be&&(be+="T0S"),be},Ne.toISOTime=function(be){if(void 0===be&&(be={}),!this.isValid)return null;var Fe=this.toMillis();if(Fe<0||Fe>=864e5)return null;be=Q({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},be);var Je=this.shiftTo("hours","minutes","seconds","milliseconds"),vt="basic"===be.format?"hhmm":"hh:mm";(!be.suppressSeconds||0!==Je.seconds||0!==Je.milliseconds)&&(vt+="basic"===be.format?"ss":":ss",(!be.suppressMilliseconds||0!==Je.milliseconds)&&(vt+=".SSS"));var Tt=Je.toFormat(vt);return be.includePrefix&&(Tt="T"+Tt),Tt},Ne.toJSON=function(){return this.toISO()},Ne.toString=function(){return this.toISO()},Ne.toMillis=function(){return this.as("milliseconds")},Ne.valueOf=function(){return this.toMillis()},Ne.plus=function(be){if(!this.isValid)return this;for(var Tt,Fe=Oe.fromDurationLike(be),Je={},vt=re(Ps);!(Tt=vt()).done;){var Bt=Tt.value;(ot(Fe.values,Bt)||ot(this.values,Bt))&&(Je[Bt]=Fe.get(Bt)+this.get(Bt))}return Yi(this,{values:Je},!0)},Ne.minus=function(be){if(!this.isValid)return this;var Fe=Oe.fromDurationLike(be);return this.plus(Fe.negate())},Ne.mapUnits=function(be){if(!this.isValid)return this;for(var Fe={},Je=0,vt=Object.keys(this.values);Je<vt.length;Je++){var Tt=vt[Je];Fe[Tt]=ut(be(this.values[Tt],Tt))}return Yi(this,{values:Fe},!0)},Ne.get=function(be){return this[Oe.normalizeUnit(be)]},Ne.set=function(be){return this.isValid?Yi(this,{values:Q({},this.values,bt(be,Oe.normalizeUnit))}):this},Ne.reconfigure=function(be){var Fe=void 0===be?{}:be,Tt=Fe.conversionAccuracy,en={loc:this.loc.clone({locale:Fe.locale,numberingSystem:Fe.numberingSystem})};return Tt&&(en.conversionAccuracy=Tt),Yi(this,en)},Ne.as=function(be){return this.isValid?this.shiftTo(be).get(be):NaN},Ne.normalize=function(){if(!this.isValid)return this;var be=this.toObject();return function Io(Oe,Ne){qa.reduce(function(Ae,be){return Ve(Ne[be])?Ae:(Ae&&Sa(Oe,Ne,Ae,Ne,be),be)},null)}(this.matrix,be),Yi(this,{values:be},!0)},Ne.shiftTo=function(){for(var be=arguments.length,Fe=new Array(be),Je=0;Je<be;Je++)Fe[Je]=arguments[Je];if(!this.isValid)return this;if(0===Fe.length)return this;Fe=Fe.map(function(Ws){return Oe.normalizeUnit(Ws)});for(var en,En,vt={},Tt={},Bt=this.toObject(),bn=re(Ps);!(En=bn()).done;){var Tn=En.value;if(Fe.indexOf(Tn)>=0){en=Tn;var Hn=0;for(var nr in Tt)Hn+=this.matrix[nr][Tn]*Tt[nr],Tt[nr]=0;He(Bt[Tn])&&(Hn+=Bt[Tn]);var Tr=Math.trunc(Hn);for(var Cr in vt[Tn]=Tr,Tt[Tn]=(1e3*Hn-1e3*Tr)/1e3,Bt)Ps.indexOf(Cr)>Ps.indexOf(Tn)&&Sa(this.matrix,Bt,Cr,vt,Tn)}else He(Bt[Tn])&&(Tt[Tn]=Bt[Tn])}for(var wn in Tt)0!==Tt[wn]&&(vt[en]+=wn===en?Tt[wn]:Tt[wn]/this.matrix[en][wn]);return Yi(this,{values:vt},!0).normalize()},Ne.negate=function(){if(!this.isValid)return this;for(var be={},Fe=0,Je=Object.keys(this.values);Fe<Je.length;Fe++){var vt=Je[Fe];be[vt]=0===this.values[vt]?0:-this.values[vt]}return Yi(this,{values:be},!0)},Ne.equals=function(be){if(!this.isValid||!be.isValid||!this.loc.equals(be.loc))return!1;for(var vt,Je=re(Ps);!(vt=Je()).done;){var Tt=vt.value;if(en=be.values[Tt],!(void 0===(Bt=this.values[Tt])||0===Bt?void 0===en||0===en:Bt===en))return!1}var Bt,en;return!0},D(Oe,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),Oe}(),Ia="Invalid Interval",Fn=function(){function Oe(Ae){this.s=Ae.start,this.e=Ae.end,this.invalid=Ae.invalid||null,this.isLuxonInterval=!0}Oe.invalid=function(be,Fe){if(void 0===Fe&&(Fe=null),!be)throw new W("need to specify a reason the Interval is invalid");var Je=be instanceof ar?be:new ar(be,Fe);if(Rn.throwOnInvalid)throw new T(Je);return new Oe({invalid:Je})},Oe.fromDateTimes=function(be,Fe){var Je=al(be),vt=al(Fe),Tt=function gi(Oe,Ne){return Oe&&Oe.isValid?Ne&&Ne.isValid?Ne<Oe?Fn.invalid("end before start","The end of an interval must be after its start, but you had start="+Oe.toISO()+" and end="+Ne.toISO()):null:Fn.invalid("missing or invalid end"):Fn.invalid("missing or invalid start")}(Je,vt);return null==Tt?new Oe({start:Je,end:vt}):Tt},Oe.after=function(be,Fe){var Je=Ur.fromDurationLike(Fe),vt=al(be);return Oe.fromDateTimes(vt,vt.plus(Je))},Oe.before=function(be,Fe){var Je=Ur.fromDurationLike(Fe),vt=al(be);return Oe.fromDateTimes(vt.minus(Je),vt)},Oe.fromISO=function(be,Fe){var Je=(be||"").split("/",2),vt=Je[0],Tt=Je[1];if(vt&&Tt){var Bt,en,bn,En;try{en=(Bt=os.fromISO(vt,Fe)).isValid}catch(nr){en=!1}try{En=(bn=os.fromISO(Tt,Fe)).isValid}catch(nr){En=!1}if(en&&En)return Oe.fromDateTimes(Bt,bn);if(en){var Tn=Ur.fromISO(Tt,Fe);if(Tn.isValid)return Oe.after(Bt,Tn)}else if(En){var Hn=Ur.fromISO(vt,Fe);if(Hn.isValid)return Oe.before(bn,Hn)}}return Oe.invalid("unparsable",'the input "'+be+"\" can't be parsed as ISO 8601")},Oe.isInterval=function(be){return be&&be.isLuxonInterval||!1};var Ne=Oe.prototype;return Ne.length=function(be){return void 0===be&&(be="milliseconds"),this.isValid?this.toDuration.apply(this,[be]).get(be):NaN},Ne.count=function(be){if(void 0===be&&(be="milliseconds"),!this.isValid)return NaN;var Fe=this.start.startOf(be),Je=this.end.startOf(be);return Math.floor(Je.diff(Fe,be).get(be))+1},Ne.hasSame=function(be){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,be))},Ne.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},Ne.isAfter=function(be){return!!this.isValid&&this.s>be},Ne.isBefore=function(be){return!!this.isValid&&this.e<=be},Ne.contains=function(be){return!!this.isValid&&this.s<=be&&this.e>be},Ne.set=function(be){var Fe=void 0===be?{}:be;return this.isValid?Oe.fromDateTimes(Fe.start||this.s,Fe.end||this.e):this},Ne.splitAt=function(){var be=this;if(!this.isValid)return[];for(var Fe=arguments.length,Je=new Array(Fe),vt=0;vt<Fe;vt++)Je[vt]=arguments[vt];for(var Tt=Je.map(al).filter(function(Hn){return be.contains(Hn)}).sort(),Bt=[],en=this.s,bn=0;en<this.e;){var En=Tt[bn]||this.e,Tn=+En>+this.e?this.e:En;Bt.push(Oe.fromDateTimes(en,Tn)),en=Tn,bn+=1}return Bt},Ne.splitBy=function(be){var Fe=Ur.fromDurationLike(be);if(!this.isValid||!Fe.isValid||0===Fe.as("milliseconds"))return[];for(var Tt,Je=this.s,vt=1,Bt=[];Je<this.e;){var en=this.start.plus(Fe.mapUnits(function(bn){return bn*vt}));Bt.push(Oe.fromDateTimes(Je,Tt=+en>+this.e?this.e:en)),Je=Tt,vt+=1}return Bt},Ne.divideEqually=function(be){return this.isValid?this.splitBy(this.length()/be).slice(0,be):[]},Ne.overlaps=function(be){return this.e>be.s&&this.s<be.e},Ne.abutsStart=function(be){return!!this.isValid&&+this.e==+be.s},Ne.abutsEnd=function(be){return!!this.isValid&&+be.e==+this.s},Ne.engulfs=function(be){return!!this.isValid&&this.s<=be.s&&this.e>=be.e},Ne.equals=function(be){return!(!this.isValid||!be.isValid)&&this.s.equals(be.s)&&this.e.equals(be.e)},Ne.intersection=function(be){if(!this.isValid)return this;var Fe=this.s>be.s?this.s:be.s,Je=this.e<be.e?this.e:be.e;return Fe>=Je?null:Oe.fromDateTimes(Fe,Je)},Ne.union=function(be){return this.isValid?Oe.fromDateTimes(this.s<be.s?this.s:be.s,this.e>be.e?this.e:be.e):this},Oe.merge=function(be){var Fe=be.sort(function(Tt,Bt){return Tt.s-Bt.s}).reduce(function(Tt,Bt){var en=Tt[0],bn=Tt[1];return bn?bn.overlaps(Bt)||bn.abutsStart(Bt)?[en,bn.union(Bt)]:[en.concat([bn]),Bt]:[en,Bt]},[[],null]),Je=Fe[0],vt=Fe[1];return vt&&Je.push(vt),Je},Oe.xor=function(be){for(var Fe,Tn,Je=null,vt=0,Tt=[],Bt=be.map(function(nr){return[{time:nr.s,type:"s"},{time:nr.e,type:"e"}]}),En=re((Fe=Array.prototype).concat.apply(Fe,Bt).sort(function(nr,Tr){return nr.time-Tr.time}));!(Tn=En()).done;){var Hn=Tn.value;1===(vt+="s"===Hn.type?1:-1)?Je=Hn.time:(Je&&+Je!=+Hn.time&&Tt.push(Oe.fromDateTimes(Je,Hn.time)),Je=null)}return Oe.merge(Tt)},Ne.difference=function(){for(var be=this,Fe=arguments.length,Je=new Array(Fe),vt=0;vt<Fe;vt++)Je[vt]=arguments[vt];return Oe.xor([this].concat(Je)).map(function(Tt){return be.intersection(Tt)}).filter(function(Tt){return Tt&&!Tt.isEmpty()})},Ne.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":Ia},Ne.toISO=function(be){return this.isValid?this.s.toISO(be)+"/"+this.e.toISO(be):Ia},Ne.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():Ia},Ne.toISOTime=function(be){return this.isValid?this.s.toISOTime(be)+"/"+this.e.toISOTime(be):Ia},Ne.toFormat=function(be,Fe){var vt=(void 0===Fe?{}:Fe).separator,Tt=void 0===vt?" \u2013 ":vt;return this.isValid?""+this.s.toFormat(be)+Tt+this.e.toFormat(be):Ia},Ne.toDuration=function(be,Fe){return this.isValid?this.e.diff(this.s,be,Fe):Ur.invalid(this.invalidReason)},Ne.mapEndpoints=function(be){return Oe.fromDateTimes(be(this.s),be(this.e))},D(Oe,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),Oe}(),mr=function(){function Oe(){}return Oe.hasDST=function(Ae){void 0===Ae&&(Ae=Rn.defaultZone);var be=os.now().setZone(Ae).set({month:12});return!Ae.isUniversal&&be.offset!==be.set({month:6}).offset},Oe.isValidIANAZone=function(Ae){return Os.isValidZone(Ae)},Oe.normalizeZone=function(Ae){return ds(Ae,Rn.defaultZone)},Oe.months=function(Ae,be){void 0===Ae&&(Ae="long");var Fe=void 0===be?{}:be,Je=Fe.locale,Tt=Fe.numberingSystem,en=Fe.locObj,En=Fe.outputCalendar;return((void 0===en?null:en)||Rr.create(void 0===Je?null:Je,void 0===Tt?null:Tt,void 0===En?"gregory":En)).months(Ae)},Oe.monthsFormat=function(Ae,be){void 0===Ae&&(Ae="long");var Fe=void 0===be?{}:be,Je=Fe.locale,Tt=Fe.numberingSystem,en=Fe.locObj,En=Fe.outputCalendar;return((void 0===en?null:en)||Rr.create(void 0===Je?null:Je,void 0===Tt?null:Tt,void 0===En?"gregory":En)).months(Ae,!0)},Oe.weekdays=function(Ae,be){void 0===Ae&&(Ae="long");var Fe=void 0===be?{}:be,Je=Fe.locale,Tt=Fe.numberingSystem,en=Fe.locObj;return((void 0===en?null:en)||Rr.create(void 0===Je?null:Je,void 0===Tt?null:Tt,null)).weekdays(Ae)},Oe.weekdaysFormat=function(Ae,be){void 0===Ae&&(Ae="long");var Fe=void 0===be?{}:be,Je=Fe.locale,Tt=Fe.numberingSystem,en=Fe.locObj;return((void 0===en?null:en)||Rr.create(void 0===Je?null:Je,void 0===Tt?null:Tt,null)).weekdays(Ae,!0)},Oe.meridiems=function(Ae){var Fe=(void 0===Ae?{}:Ae).locale;return Rr.create(void 0===Fe?null:Fe).meridiems()},Oe.eras=function(Ae,be){void 0===Ae&&(Ae="short");var Je=(void 0===be?{}:be).locale;return Rr.create(void 0===Je?null:Je,null,"gregory").eras(Ae)},Oe.features=function(){return{relative:Ye()}},Oe}();function Xr(Oe,Ne){var Ae=function(Je){return Je.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},be=Ae(Ne)-Ae(Oe);return Math.floor(Ur.fromMillis(be).as("days"))}var gs={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},uo={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ps=gs.hanidec.replace(/[\[|\]]/g,"").split("");function Ns(Oe,Ne){return void 0===Ne&&(Ne=""),new RegExp(""+gs[Oe.numberingSystem||"latn"]+Ne)}function Ar(Oe,Ne){return void 0===Ne&&(Ne=function(be){return be}),{regex:Oe,deser:function(be){return Ne(function wa(Oe){var Ne=parseInt(Oe,10);if(isNaN(Ne)){Ne="";for(var Ae=0;Ae<Oe.length;Ae++){var be=Oe.charCodeAt(Ae);if(-1!==Oe[Ae].search(gs.hanidec))Ne+=ps.indexOf(Oe[Ae]);else for(var Fe in uo){var Je=uo[Fe],vt=Je[0];be>=vt&&be<=Je[1]&&(Ne+=be-vt)}}return parseInt(Ne,10)}return Ne}(be[0]))}}}var el="( |"+String.fromCharCode(160)+")",xo=new RegExp(el,"g");function Hs(Oe){return Oe.replace(/\./g,"\\.?").replace(xo,el)}function ea(Oe){return Oe.replace(/\./g,"").replace(xo," ").toLowerCase()}function Bs(Oe,Ne){return null===Oe?null:{regex:RegExp(Oe.map(Hs).join("|")),deser:function(be){var Fe=be[0];return Oe.findIndex(function(Je){return ea(Fe)===ea(Je)})+Ne}}}function _i(Oe,Ne){return{regex:Oe,deser:function(be){return Sn(be[1],be[2])},groups:Ne}}function $r(Oe){return{regex:Oe,deser:function(Ae){return Ae[0]}}}function Yh(Oe){return Oe.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Ni={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},si=null;function Ac(Oe,Ne,Ae){var be=function qh(Oe,Ne){var Ae;return(Ae=Array.prototype).concat.apply(Ae,Oe.map(function(be){return function jy(Oe,Ne){if(Oe.literal)return Oe;var Ae=Or.macroTokenToFormatOpts(Oe.val);if(!Ae)return Oe;var Je=Or.create(Ne,Ae).formatDateTimeParts(function Xh(){return si||(si=os.fromMillis(1555555555555)),si}()).map(function(vt){return function Ti(Oe,Ne,Ae){var be=Oe.type;if("literal"===be)return{literal:!0,val:Oe.value};var vt=Ni[be];return"object"==typeof vt&&(vt=vt[Ae[be]]),vt?{literal:!1,val:vt}:void 0}(vt,0,Ae)});return Je.includes(void 0)?Oe:Je}(be,Ne)}))}(Or.parseFormat(Ae),Oe),Fe=be.map(function(wn){return function Qh(Oe,Ne){var Ae=Ns(Ne),be=Ns(Ne,"{2}"),Fe=Ns(Ne,"{3}"),Je=Ns(Ne,"{4}"),vt=Ns(Ne,"{6}"),Tt=Ns(Ne,"{1,2}"),Bt=Ns(Ne,"{1,3}"),en=Ns(Ne,"{1,6}"),bn=Ns(Ne,"{1,9}"),En=Ns(Ne,"{2,4}"),Tn=Ns(Ne,"{4,6}"),Hn=function(wn){return{regex:RegExp(Yh(wn.val)),deser:function(ll){return ll[0]},literal:!0}},Tr=function(wn){if(Oe.literal)return Hn(wn);switch(wn.val){case"G":return Bs(Ne.eras("short",!1),0);case"GG":return Bs(Ne.eras("long",!1),0);case"y":return Ar(en);case"yy":case"kk":return Ar(En,An);case"yyyy":case"kkkk":return Ar(Je);case"yyyyy":return Ar(Tn);case"yyyyyy":return Ar(vt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Ar(Tt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Ar(be);case"MMM":return Bs(Ne.months("short",!0,!1),1);case"MMMM":return Bs(Ne.months("long",!0,!1),1);case"LLL":return Bs(Ne.months("short",!1,!1),1);case"LLLL":return Bs(Ne.months("long",!1,!1),1);case"o":case"S":return Ar(Bt);case"ooo":case"SSS":return Ar(Fe);case"u":return $r(bn);case"uu":return $r(Tt);case"uuu":case"E":case"c":return Ar(Ae);case"a":return Bs(Ne.meridiems(),0);case"EEE":return Bs(Ne.weekdays("short",!1,!1),1);case"EEEE":return Bs(Ne.weekdays("long",!1,!1),1);case"ccc":return Bs(Ne.weekdays("short",!0,!1),1);case"cccc":return Bs(Ne.weekdays("long",!0,!1),1);case"Z":case"ZZ":return _i(new RegExp("([+-]"+Tt.source+")(?::("+be.source+"))?"),2);case"ZZZ":return _i(new RegExp("([+-]"+Tt.source+")("+be.source+")?"),2);case"z":return $r(/[a-z_+-/]{1,256}?/i);default:return Hn(wn)}}(Oe)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Tr.token=Oe,Tr}(wn,Oe)}),Je=Fe.find(function(wn){return wn.invalidReason});if(Je)return{input:Ne,tokens:be,invalidReason:Je.invalidReason};var vt=function fu(Oe){return["^"+Oe.map(function(Ae){return Ae.regex}).reduce(function(Ae,be){return Ae+"("+be.source+")"},"")+"$",Oe]}(Fe),Bt=vt[1],en=RegExp(vt[0],"i"),bn=function tl(Oe,Ne,Ae){var be=Oe.match(Ne);if(be){var Fe={},Je=1;for(var vt in Ae)if(ot(Ae,vt)){var Tt=Ae[vt],Bt=Tt.groups?Tt.groups+1:1;!Tt.literal&&Tt.token&&(Fe[Tt.token.val[0]]=Tt.deser(be.slice(Je,Je+Bt))),Je+=Bt}return[be,Fe]}return[be,{}]}(Ne,en,Bt),En=bn[0],Tn=bn[1],Hn=Tn?function nl(Oe){var be,Ae=null;return Ve(Oe.z)||(Ae=Os.create(Oe.z)),Ve(Oe.Z)||(Ae||(Ae=new Pr(Oe.Z)),be=Oe.Z),Ve(Oe.q)||(Oe.M=3*(Oe.q-1)+1),Ve(Oe.h)||(Oe.h<12&&1===Oe.a?Oe.h+=12:12===Oe.h&&0===Oe.a&&(Oe.h=0)),0===Oe.G&&Oe.y&&(Oe.y=-Oe.y),Ve(Oe.u)||(Oe.S=Mt(Oe.u)),[Object.keys(Oe).reduce(function(Je,vt){var Tt=function(vt){switch(vt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(vt);return Tt&&(Je[Tt]=Oe[vt]),Je},{}),Ae,be]}(Tn):[null,null,void 0],nr=Hn[0],Tr=Hn[1],Cr=Hn[2];if(ot(Tn,"a")&&ot(Tn,"H"))throw new j("Can't include meridiem when specifying 24-hour format");return{input:Ne,tokens:be,regex:en,rawMatches:En,matches:Tn,result:nr,zone:Tr,specificOffset:Cr}}var ep=[0,31,59,90,120,151,181,212,243,273,304,334],tp=[0,31,60,91,121,152,182,213,244,274,305,335];function Si(Oe,Ne){return new ar("unit out of range","you specified "+Ne+" (of type "+typeof Ne+") as a "+Oe+", which is invalid")}function np(Oe,Ne,Ae){var be=new Date(Date.UTC(Oe,Ne-1,Ae)).getUTCDay();return 0===be?7:be}function rp(Oe,Ne,Ae){return Ae+($t(Oe)?tp:ep)[Ne-1]}function sp(Oe,Ne){var Ae=$t(Oe)?tp:ep,be=Ae.findIndex(function(Je){return Je<Ne});return{month:be+1,day:Ne-Ae[be]}}function Lc(Oe){var Tt,Ne=Oe.year,Ae=Oe.month,be=Oe.day,Fe=rp(Ne,Ae,be),Je=np(Ne,Ae,be),vt=Math.floor((Fe-Je+10)/7);return vt<1?vt=pn(Tt=Ne-1):vt>pn(Ne)?(Tt=Ne+1,vt=1):Tt=Ne,Q({weekYear:Tt,weekNumber:vt,weekday:Je},Wt(Oe))}function ip(Oe){var Tt,Ne=Oe.weekYear,Ae=Oe.weekNumber,be=Oe.weekday,Fe=np(Ne,1,4),Je=Jt(Ne),vt=7*Ae+be-Fe-3;vt<1?vt+=Jt(Tt=Ne-1):vt>Je?(Tt=Ne+1,vt-=Jt(Ne)):Tt=Ne;var Bt=sp(Tt,vt);return Q({year:Tt,month:Bt.month,day:Bt.day},Wt(Oe))}function Rc(Oe){var Ne=Oe.year;return Q({year:Ne,ordinal:rp(Ne,Oe.month,Oe.day)},Wt(Oe))}function op(Oe){var Ne=Oe.year,be=sp(Ne,Oe.ordinal);return Q({year:Ne,month:be.month,day:be.day},Wt(Oe))}function ap(Oe){var Ne=ee(Oe.year),Ae=et(Oe.month,1,12),be=et(Oe.day,1,cn(Oe.year,Oe.month));return Ne?Ae?!be&&Si("day",Oe.day):Si("month",Oe.month):Si("year",Oe.year)}function mu(Oe){var Ne=Oe.hour,Ae=Oe.minute,be=Oe.second,Fe=Oe.millisecond,Je=et(Ne,0,23)||24===Ne&&0===Ae&&0===be&&0===Fe,vt=et(Ae,0,59),Tt=et(be,0,59),Bt=et(Fe,0,999);return Je?vt?Tt?!Bt&&Si("millisecond",Fe):Si("second",be):Si("minute",Ae):Si("hour",Ne)}var xa="Invalid DateTime",lp=864e13;function yu(Oe){return new ar("unsupported zone",'the zone "'+Oe.name+'" is not supported')}function jc(Oe){return null===Oe.weekData&&(Oe.weekData=Lc(Oe.c)),Oe.weekData}function Ii(Oe,Ne){var Ae={ts:Oe.ts,zone:Oe.zone,c:Oe.c,o:Oe.o,loc:Oe.loc,invalid:Oe.invalid};return new os(Q({},Ae,Ne,{old:Ae}))}function Uc(Oe,Ne,Ae){var be=Oe-60*Ne*1e3,Fe=Ae.offset(be);if(Ne===Fe)return[be,Ne];var Je=Ae.offset(be-=60*(Fe-Ne)*1e3);return Fe===Je?[be,Fe]:[Oe-60*Math.min(Fe,Je)*1e3,Math.max(Fe,Je)]}function Aa(Oe,Ne){var Ae=new Date(Oe+=60*Ne*1e3);return{year:Ae.getUTCFullYear(),month:Ae.getUTCMonth()+1,day:Ae.getUTCDate(),hour:Ae.getUTCHours(),minute:Ae.getUTCMinutes(),second:Ae.getUTCSeconds(),millisecond:Ae.getUTCMilliseconds()}}function La(Oe,Ne,Ae){return Uc(xn(Oe),Ne,Ae)}function Fc(Oe,Ne){var Ae=Oe.o,be=Oe.c.year+Math.trunc(Ne.years),Fe=Oe.c.month+Math.trunc(Ne.months)+3*Math.trunc(Ne.quarters),Je=Q({},Oe.c,{year:be,month:Fe,day:Math.min(Oe.c.day,cn(be,Fe))+Math.trunc(Ne.days)+7*Math.trunc(Ne.weeks)}),vt=Ur.fromObject({years:Ne.years-Math.trunc(Ne.years),quarters:Ne.quarters-Math.trunc(Ne.quarters),months:Ne.months-Math.trunc(Ne.months),weeks:Ne.weeks-Math.trunc(Ne.weeks),days:Ne.days-Math.trunc(Ne.days),hours:Ne.hours,minutes:Ne.minutes,seconds:Ne.seconds,milliseconds:Ne.milliseconds}).as("milliseconds"),Bt=Uc(xn(Je),Ae,Oe.zone),en=Bt[0],bn=Bt[1];return 0!==vt&&(bn=Oe.zone.offset(en+=vt)),{ts:en,o:bn}}function Ra(Oe,Ne,Ae,be,Fe,Je){var vt=Ae.setZone,Tt=Ae.zone;if(Oe&&0!==Object.keys(Oe).length){var en=os.fromObject(Oe,Q({},Ae,{zone:Ne||Tt,specificOffset:Je}));return vt?en:en.setZone(Tt)}return os.invalid(new ar("unparsable",'the input "'+Fe+"\" can't be parsed as "+be))}function ja(Oe,Ne,Ae){return void 0===Ae&&(Ae=!0),Oe.isValid?Or.create(Rr.create("en-US"),{allowZ:Ae,forceSimple:!0}).formatDateTimeFromString(Oe,Ne):null}function rl(Oe,Ne){var Ae=Oe.c.year>9999||Oe.c.year<0,be="";return Ae&&Oe.c.year>=0&&(be+="+"),be+=Ke(Oe.c.year,Ae?6:4),Ne?(be+="-",be+=Ke(Oe.c.month),be+="-",be+=Ke(Oe.c.day)):(be+=Ke(Oe.c.month),be+=Ke(Oe.c.day)),be}function Nc(Oe,Ne,Ae,be,Fe){var Je=Ke(Oe.c.hour);return Ne?(Je+=":",Je+=Ke(Oe.c.minute),(0!==Oe.c.second||!Ae)&&(Je+=":")):Je+=Ke(Oe.c.minute),(0!==Oe.c.second||!Ae)&&(Je+=Ke(Oe.c.second),(0!==Oe.c.millisecond||!be)&&(Je+=".",Je+=Ke(Oe.c.millisecond,3))),Fe&&(Oe.isOffsetFixed&&0===Oe.offset?Je+="Z":Oe.o<0?(Je+="-",Je+=Ke(Math.trunc(-Oe.o/60)),Je+=":",Je+=Ke(Math.trunc(-Oe.o%60))):(Je+="+",Je+=Ke(Math.trunc(Oe.o/60)),Je+=":",Je+=Ke(Math.trunc(Oe.o%60)))),Je}var sl={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},up={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},vi={ordinal:1,hour:0,minute:0,second:0,millisecond:0},il=["year","month","day","hour","minute","second","millisecond"],cp=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],gu=["year","ordinal","hour","minute","second","millisecond"];function Bc(Oe){var Ne={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[Oe.toLowerCase()];if(!Ne)throw new K(Oe);return Ne}function Wc(Oe,Ne){var Je,vt,Ae=ds(Ne.zone,Rn.defaultZone),be=Rr.fromObject(Ne),Fe=Rn.now();if(Ve(Oe.year))Je=Fe;else{for(var Bt,Tt=re(il);!(Bt=Tt()).done;){var en=Bt.value;Ve(Oe[en])&&(Oe[en]=sl[en])}var bn=ap(Oe)||mu(Oe);if(bn)return os.invalid(bn);var Tn=La(Oe,Ae.offset(Fe),Ae);Je=Tn[0],vt=Tn[1]}return new os({ts:Je,zone:Ae,loc:be,o:vt})}function ol(Oe,Ne,Ae){var be=!!Ve(Ae.round)||Ae.round,Fe=function(En,Tn){return En=Gt(En,be||Ae.calendary?0:2,!0),Ne.loc.clone(Ae).relFormatter(Ae).format(En,Tn)},Je=function(En){return Ae.calendary?Ne.hasSame(Oe,En)?0:Ne.startOf(En).diff(Oe.startOf(En),En).get(En):Ne.diff(Oe,En).get(En)};if(Ae.unit)return Fe(Je(Ae.unit),Ae.unit);for(var Tt,vt=re(Ae.units);!(Tt=vt()).done;){var Bt=Tt.value,en=Je(Bt);if(Math.abs(en)>=1)return Fe(en,Bt)}return Fe(Oe>Ne?-0:0,Ae.units[Ae.units.length-1])}function Vc(Oe){var Ae,Ne={};return Oe.length>0&&"object"==typeof Oe[Oe.length-1]?(Ne=Oe[Oe.length-1],Ae=Array.from(Oe).slice(0,Oe.length-1)):Ae=Array.from(Oe),[Ne,Ae]}var os=function(){function Oe(Ae){var be=Ae.zone||Rn.defaultZone,Fe=Ae.invalid||(Number.isNaN(Ae.ts)?new ar("invalid input"):null)||(be.isValid?null:yu(be));this.ts=Ve(Ae.ts)?Rn.now():Ae.ts;var Je=null,vt=null;if(!Fe)if(Ae.old&&Ae.old.ts===this.ts&&Ae.old.zone.equals(be)){var Bt=[Ae.old.c,Ae.old.o];Je=Bt[0],vt=Bt[1]}else{var en=be.offset(this.ts);Je=Aa(this.ts,en),Je=(Fe=Number.isNaN(Je.year)?new ar("invalid input"):null)?null:Je,vt=Fe?null:en}this._zone=be,this.loc=Ae.loc||Rr.create(),this.invalid=Fe,this.weekData=null,this.c=Je,this.o=vt,this.isLuxonDateTime=!0}Oe.now=function(){return new Oe({})},Oe.local=function(){var be=Vc(arguments),Fe=be[0],Je=be[1],vt=Je[0],Tt=Je[1],Bt=Je[2],en=Je[3],bn=Je[4],En=Je[5],Tn=Je[6];return Wc({year:vt,month:Tt,day:Bt,hour:en,minute:bn,second:En,millisecond:Tn},Fe)},Oe.utc=function(){var be=Vc(arguments),Fe=be[0],Je=be[1],vt=Je[0],Tt=Je[1],Bt=Je[2],en=Je[3],bn=Je[4],En=Je[5],Tn=Je[6];return Fe.zone=Pr.utcInstance,Wc({year:vt,month:Tt,day:Bt,hour:en,minute:bn,second:En,millisecond:Tn},Fe)},Oe.fromJSDate=function(be,Fe){void 0===Fe&&(Fe={});var Je=function je(Oe){return"[object Date]"===Object.prototype.toString.call(Oe)}(be)?be.valueOf():NaN;if(Number.isNaN(Je))return Oe.invalid("invalid input");var vt=ds(Fe.zone,Rn.defaultZone);return vt.isValid?new Oe({ts:Je,zone:vt,loc:Rr.fromObject(Fe)}):Oe.invalid(yu(vt))},Oe.fromMillis=function(be,Fe){if(void 0===Fe&&(Fe={}),He(be))return be<-lp||be>lp?Oe.invalid("Timestamp out of range"):new Oe({ts:be,zone:ds(Fe.zone,Rn.defaultZone),loc:Rr.fromObject(Fe)});throw new W("fromMillis requires a numerical input, but received a "+typeof be+" with value "+be)},Oe.fromSeconds=function(be,Fe){if(void 0===Fe&&(Fe={}),He(be))return new Oe({ts:1e3*be,zone:ds(Fe.zone,Rn.defaultZone),loc:Rr.fromObject(Fe)});throw new W("fromSeconds requires a numerical input")},Oe.fromObject=function(be,Fe){void 0===Fe&&(Fe={}),be=be||{};var Je=ds(Fe.zone,Rn.defaultZone);if(!Je.isValid)return Oe.invalid(yu(Je));var vt=Rn.now(),Tt=Ve(Fe.specificOffset)?Je.offset(vt):Fe.specificOffset,Bt=bt(be,Bc),en=!Ve(Bt.ordinal),bn=!Ve(Bt.year),En=!Ve(Bt.month)||!Ve(Bt.day),Tn=bn||En,Hn=Bt.weekYear||Bt.weekNumber,nr=Rr.fromObject(Fe);if((Tn||en)&&Hn)throw new j("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(En&&en)throw new j("Can't mix ordinal dates with month/day");var Cr,wn,Tr=Hn||Bt.weekday&&!Tn,Ws=Aa(vt,Tt);Tr?(Cr=cp,wn=up,Ws=Lc(Ws)):en?(Cr=gu,wn=vi,Ws=Rc(Ws)):(Cr=il,wn=sl);for(var Zc,ll=!1,_u=re(Cr);!(Zc=_u()).done;){var ta=Zc.value;Ve(Bt[ta])?Bt[ta]=ll?wn[ta]:Ws[ta]:ll=!0}var hp=Tr?function Fy(Oe){var Ne=ee(Oe.weekYear),Ae=et(Oe.weekNumber,1,pn(Oe.weekYear)),be=et(Oe.weekday,1,7);return Ne?Ae?!be&&Si("weekday",Oe.weekday):Si("week",Oe.week):Si("weekYear",Oe.weekYear)}(Bt):en?function Ny(Oe){var Ne=ee(Oe.year),Ae=et(Oe.ordinal,1,Jt(Oe.year));return Ne?!Ae&&Si("ordinal",Oe.ordinal):Si("year",Oe.year)}(Bt):ap(Bt),Mn=hp||mu(Bt);if(Mn)return Oe.invalid(Mn);var $c=La(Tr?ip(Bt):en?op(Bt):Bt,Tt,Je),Ao=new Oe({ts:$c[0],zone:Je,o:$c[1],loc:nr});return Bt.weekday&&Tn&&be.weekday!==Ao.weekday?Oe.invalid("mismatched weekday","you can't specify both a weekday of "+Bt.weekday+" and a date of "+Ao.toISO()):Ao},Oe.fromISO=function(be,Fe){void 0===Fe&&(Fe={});var Je=function Tc(Oe){return jr(Oe,[gn,Gn],[fr,Gr],[Vr,Gs],[Er,is])}(be);return Ra(Je[0],Je[1],Fe,"ISO 8601",be)},Oe.fromRFC2822=function(be,Fe){void 0===Fe&&(Fe={});var Je=function Ji(Oe){return jr(function Ue(Oe){return Oe.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(Oe),[wt,Ut])}(be);return Ra(Je[0],Je[1],Fe,"RFC 2822",be)},Oe.fromHTTP=function(be,Fe){void 0===Fe&&(Fe={});var Je=function Pa(Oe){return jr(Oe,[Be,Qt],[dt,Qt],[It,yn])}(be);return Ra(Je[0],Je[1],Fe,"HTTP",Fe)},Oe.fromFormat=function(be,Fe,Je){if(void 0===Je&&(Je={}),Ve(be)||Ve(Fe))throw new W("fromFormat requires an input string and a format");var Tt=Je.locale,en=Je.numberingSystem,Tn=function Uy(Oe,Ne,Ae){var be=Ac(Oe,Ne,Ae);return[be.result,be.zone,be.specificOffset,be.invalidReason]}(Rr.fromOpts({locale:void 0===Tt?null:Tt,numberingSystem:void 0===en?null:en,defaultToEN:!0}),be,Fe),Hn=Tn[0],nr=Tn[1],Tr=Tn[2],Cr=Tn[3];return Cr?Oe.invalid(Cr):Ra(Hn,nr,Je,"format "+Fe,be,Tr)},Oe.fromString=function(be,Fe,Je){return void 0===Je&&(Je={}),Oe.fromFormat(be,Fe,Je)},Oe.fromSQL=function(be,Fe){void 0===Fe&&(Fe={});var Je=function Jh(Oe){return jr(Oe,[Sc,wc],[Ic,Xo])}(be);return Ra(Je[0],Je[1],Fe,"SQL",be)},Oe.invalid=function(be,Fe){if(void 0===Fe&&(Fe=null),!be)throw new W("need to specify a reason the DateTime is invalid");var Je=be instanceof ar?be:new ar(be,Fe);if(Rn.throwOnInvalid)throw new L(Je);return new Oe({invalid:Je})},Oe.isDateTime=function(be){return be&&be.isLuxonDateTime||!1};var Ne=Oe.prototype;return Ne.get=function(be){return this[be]},Ne.resolvedLocaleOptions=function(be){void 0===be&&(be={});var Fe=Or.create(this.loc.clone(be),be).resolvedOptions(this);return{locale:Fe.locale,numberingSystem:Fe.numberingSystem,outputCalendar:Fe.calendar}},Ne.toUTC=function(be,Fe){return void 0===be&&(be=0),void 0===Fe&&(Fe={}),this.setZone(Pr.instance(be),Fe)},Ne.toLocal=function(){return this.setZone(Rn.defaultZone)},Ne.setZone=function(be,Fe){var Je=void 0===Fe?{}:Fe,vt=Je.keepLocalTime,Tt=void 0!==vt&&vt,Bt=Je.keepCalendarTime,en=void 0!==Bt&&Bt;if((be=ds(be,Rn.defaultZone)).equals(this.zone))return this;if(be.isValid){var bn=this.ts;if(Tt||en){var En=be.offset(this.ts);bn=La(this.toObject(),En,be)[0]}return Ii(this,{ts:bn,zone:be})}return Oe.invalid(yu(be))},Ne.reconfigure=function(be){var Fe=void 0===be?{}:be;return Ii(this,{loc:this.loc.clone({locale:Fe.locale,numberingSystem:Fe.numberingSystem,outputCalendar:Fe.outputCalendar})})},Ne.setLocale=function(be){return this.reconfigure({locale:be})},Ne.set=function(be){if(!this.isValid)return this;var En,Fe=bt(be,Bc),Je=!Ve(Fe.weekYear)||!Ve(Fe.weekNumber)||!Ve(Fe.weekday),vt=!Ve(Fe.ordinal),Tt=!Ve(Fe.year),Bt=!Ve(Fe.month)||!Ve(Fe.day);if((Tt||Bt||vt)&&(Fe.weekYear||Fe.weekNumber))throw new j("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Bt&&vt)throw new j("Can't mix ordinal dates with month/day");Je?En=ip(Q({},Lc(this.c),Fe)):Ve(Fe.ordinal)?(En=Q({},this.toObject(),Fe),Ve(Fe.day)&&(En.day=Math.min(cn(En.year,En.month),En.day))):En=op(Q({},Rc(this.c),Fe));var Tn=La(En,this.o,this.zone);return Ii(this,{ts:Tn[0],o:Tn[1]})},Ne.plus=function(be){return this.isValid?Ii(this,Fc(this,Ur.fromDurationLike(be))):this},Ne.minus=function(be){return this.isValid?Ii(this,Fc(this,Ur.fromDurationLike(be).negate())):this},Ne.startOf=function(be){if(!this.isValid)return this;var Fe={},Je=Ur.normalizeUnit(be);switch(Je){case"years":Fe.month=1;case"quarters":case"months":Fe.day=1;case"weeks":case"days":Fe.hour=0;case"hours":Fe.minute=0;case"minutes":Fe.second=0;case"seconds":Fe.millisecond=0}if("weeks"===Je&&(Fe.weekday=1),"quarters"===Je){var vt=Math.ceil(this.month/3);Fe.month=3*(vt-1)+1}return this.set(Fe)},Ne.endOf=function(be){var Fe;return this.isValid?this.plus((Fe={},Fe[be]=1,Fe)).startOf(be).minus(1):this},Ne.toFormat=function(be,Fe){return void 0===Fe&&(Fe={}),this.isValid?Or.create(this.loc.redefaultToEN(Fe)).formatDateTimeFromString(this,be):xa},Ne.toLocaleString=function(be,Fe){return void 0===be&&(be=me),void 0===Fe&&(Fe={}),this.isValid?Or.create(this.loc.clone(Fe),be).formatDateTime(this):xa},Ne.toLocaleParts=function(be){return void 0===be&&(be={}),this.isValid?Or.create(this.loc.clone(be),be).formatDateTimeParts(this):[]},Ne.toISO=function(be){var Fe=void 0===be?{}:be,Je=Fe.format,Tt=Fe.suppressSeconds,Bt=void 0!==Tt&&Tt,en=Fe.suppressMilliseconds,bn=void 0!==en&&en,En=Fe.includeOffset,Tn=void 0===En||En;if(!this.isValid)return null;var Hn="extended"===(void 0===Je?"extended":Je),nr=rl(this,Hn);return(nr+="T")+Nc(this,Hn,Bt,bn,Tn)},Ne.toISODate=function(be){var Je=(void 0===be?{}:be).format;return this.isValid?rl(this,"extended"===(void 0===Je?"extended":Je)):null},Ne.toISOWeekDate=function(){return ja(this,"kkkk-'W'WW-c")},Ne.toISOTime=function(be){var Fe=void 0===be?{}:be,Je=Fe.suppressMilliseconds,Tt=Fe.suppressSeconds,en=Fe.includeOffset,En=Fe.includePrefix,Hn=Fe.format;return this.isValid?(void 0!==En&&En?"T":"")+Nc(this,"extended"===(void 0===Hn?"extended":Hn),void 0!==Tt&&Tt,void 0!==Je&&Je,void 0===en||en):null},Ne.toRFC2822=function(){return ja(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},Ne.toHTTP=function(){return ja(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},Ne.toSQLDate=function(){return this.isValid?rl(this,!0):null},Ne.toSQLTime=function(be){var Fe=void 0===be?{}:be,Je=Fe.includeOffset,vt=void 0===Je||Je,Tt=Fe.includeZone,Bt=void 0!==Tt&&Tt,en=Fe.includeOffsetSpace,En="HH:mm:ss.SSS";return(Bt||vt)&&((void 0===en||en)&&(En+=" "),Bt?En+="z":vt&&(En+="ZZ")),ja(this,En,!0)},Ne.toSQL=function(be){return void 0===be&&(be={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(be):null},Ne.toString=function(){return this.isValid?this.toISO():xa},Ne.valueOf=function(){return this.toMillis()},Ne.toMillis=function(){return this.isValid?this.ts:NaN},Ne.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},Ne.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},Ne.toJSON=function(){return this.toISO()},Ne.toBSON=function(){return this.toJSDate()},Ne.toObject=function(be){if(void 0===be&&(be={}),!this.isValid)return{};var Fe=Q({},this.c);return be.includeConfig&&(Fe.outputCalendar=this.outputCalendar,Fe.numberingSystem=this.loc.numberingSystem,Fe.locale=this.loc.locale),Fe},Ne.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},Ne.diff=function(be,Fe,Je){if(void 0===Fe&&(Fe="milliseconds"),void 0===Je&&(Je={}),!this.isValid||!be.isValid)return Ur.invalid("created by diffing an invalid DateTime");var vt=Q({locale:this.locale,numberingSystem:this.numberingSystem},Je),Tt=function pt(Oe){return Array.isArray(Oe)?Oe:[Oe]}(Fe).map(Ur.normalizeUnit),Bt=be.valueOf()>this.valueOf(),En=function wo(Oe,Ne,Ae,be){var En,Fe=function ri(Oe,Ne,Ae){for(var Je,vt,Fe={},Tt=0,Bt=[["years",function(Tr,Cr){return Cr.year-Tr.year}],["quarters",function(Tr,Cr){return Cr.quarter-Tr.quarter}],["months",function(Tr,Cr){return Cr.month-Tr.month+12*(Cr.year-Tr.year)}],["weeks",function(Tr,Cr){var wn=Xr(Tr,Cr);return(wn-wn%7)/7}],["days",Xr]];Tt<Bt.length;Tt++){var en=Bt[Tt],bn=en[0],En=en[1];if(Ae.indexOf(bn)>=0){var Tn;Je=bn;var nr,Hn=En(Oe,Ne);(vt=Oe.plus(((Tn={})[bn]=Hn,Tn)))>Ne?(Oe=Oe.plus(((nr={})[bn]=Hn-1,nr)),Hn-=1):Oe=vt,Fe[bn]=Hn}}return[Oe,Fe,vt,Je]}(Oe,Ne,Ae),Je=Fe[0],vt=Fe[1],Tt=Fe[2],Bt=Fe[3],en=Ne-Je,bn=Ae.filter(function(nr){return["hours","minutes","seconds","milliseconds"].indexOf(nr)>=0});0===bn.length&&(Tt<Ne&&(Tt=Je.plus(((En={})[Bt]=1,En))),Tt!==Je&&(vt[Bt]=(vt[Bt]||0)+en/(Tt-Je)));var Hn,Tn=Ur.fromObject(vt,be);return bn.length>0?(Hn=Ur.fromMillis(en,be)).shiftTo.apply(Hn,bn).plus(Tn):Tn}(Bt?this:be,Bt?be:this,Tt,vt);return Bt?En.negate():En},Ne.diffNow=function(be,Fe){return void 0===be&&(be="milliseconds"),void 0===Fe&&(Fe={}),this.diff(Oe.now(),be,Fe)},Ne.until=function(be){return this.isValid?Fn.fromDateTimes(this,be):this},Ne.hasSame=function(be,Fe){if(!this.isValid)return!1;var Je=be.valueOf(),vt=this.setZone(be.zone,{keepLocalTime:!0});return vt.startOf(Fe)<=Je&&Je<=vt.endOf(Fe)},Ne.equals=function(be){return this.isValid&&be.isValid&&this.valueOf()===be.valueOf()&&this.zone.equals(be.zone)&&this.loc.equals(be.loc)},Ne.toRelative=function(be){if(void 0===be&&(be={}),!this.isValid)return null;var Fe=be.base||Oe.fromObject({},{zone:this.zone}),Je=be.padding?this<Fe?-be.padding:be.padding:0,vt=["years","months","days","hours","minutes","seconds"],Tt=be.unit;return Array.isArray(be.unit)&&(vt=be.unit,Tt=void 0),ol(Fe,this.plus(Je),Q({},be,{numeric:"always",units:vt,unit:Tt}))},Ne.toRelativeCalendar=function(be){return void 0===be&&(be={}),this.isValid?ol(be.base||Oe.fromObject({},{zone:this.zone}),this,Q({},be,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},Oe.min=function(){for(var be=arguments.length,Fe=new Array(be),Je=0;Je<be;Je++)Fe[Je]=arguments[Je];if(!Fe.every(Oe.isDateTime))throw new W("min requires all arguments be DateTimes");return it(Fe,function(vt){return vt.valueOf()},Math.min)},Oe.max=function(){for(var be=arguments.length,Fe=new Array(be),Je=0;Je<be;Je++)Fe[Je]=arguments[Je];if(!Fe.every(Oe.isDateTime))throw new W("max requires all arguments be DateTimes");return it(Fe,function(vt){return vt.valueOf()},Math.max)},Oe.fromFormatExplain=function(be,Fe,Je){void 0===Je&&(Je={});var Tt=Je.locale,en=Je.numberingSystem;return Ac(Rr.fromOpts({locale:void 0===Tt?null:Tt,numberingSystem:void 0===en?null:en,defaultToEN:!0}),be,Fe)},Oe.fromStringExplain=function(be,Fe,Je){return void 0===Je&&(Je={}),Oe.fromFormatExplain(be,Fe,Je)},D(Oe,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?jc(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?jc(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?jc(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Rc(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?mr.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?mr.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?mr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?mr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return $t(this.year)}},{key:"daysInMonth",get:function(){return cn(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Jt(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?pn(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return me}},{key:"DATE_MED",get:function(){return de}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return ie}},{key:"DATE_FULL",get:function(){return V}},{key:"DATE_HUGE",get:function(){return ce}},{key:"TIME_SIMPLE",get:function(){return ae}},{key:"TIME_WITH_SECONDS",get:function(){return pe}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return ue}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return ye}},{key:"TIME_24_SIMPLE",get:function(){return le}},{key:"TIME_24_WITH_SECONDS",get:function(){return se}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return Ce}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return ge}},{key:"DATETIME_SHORT",get:function(){return Pe}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Ee}},{key:"DATETIME_MED",get:function(){return Ge}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return Se}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return ve}},{key:"DATETIME_FULL",get:function(){return Te}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Ze}},{key:"DATETIME_HUGE",get:function(){return tt}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return xe}}]),Oe}();function al(Oe){if(os.isDateTime(Oe))return Oe;if(Oe&&Oe.valueOf&&He(Oe.valueOf()))return os.fromJSDate(Oe);if(Oe&&"object"==typeof Oe)return os.fromObject(Oe);throw new W("Unknown datetime argument: "+Oe+", of type "+typeof Oe)}Me.ou=os},41993:qe=>{function Me(E){return Promise.resolve().then(()=>{var M=new Error("Cannot find module '"+E+"'");throw M.code="MODULE_NOT_FOUND",M})}Me.keys=()=>[],Me.resolve=Me,Me.id=41993,qe.exports=Me},73386:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>de});var J,M=E(15861),D=E(17626),Q=E(48701),B=E(89726),N=E(55538),ne=E(86810),k=E(58817),F=E(47996),I=E(47877),x=E(63290),$=E(62208),Y=E(10699),Z=E(21726),re=E(77712),L=(E(90912),E(76898)),T=E(99433),P=E(65234),j=E(84687),K=E(55463),W=E(33954),te=E(32584);let he=0;const oe=x.Z.getLogger("esri.Basemap");let me=J=class extends((0,ne.eC)(F.Z)){constructor(ie){super(ie),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+he++,this.baseLayers=new Q.Z,this.referenceLayers=new Q.Z;const V=ae=>{ae.parent&&ae.parent!==this&&"remove"in ae.parent&&ae.parent.remove(ae),ae.parent=this,"elevation"===ae.type&&oe.error(`Layer '${ae.title}, id:${ae.id}' of type '${ae.type}' is not supported as a basemap layer and will therefore be ignored.`)},ce=ae=>{ae.parent=null};this.baseLayers.on("after-add",ae=>V(ae.item)),this.referenceLayers.on("after-add",ae=>V(ae.item)),this.baseLayers.on("after-remove",ae=>ce(ae.item)),this.referenceLayers.on("after-remove",ae=>ce(ae.item))}initialize(){this.when().catch(ie=>{oe.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,ie)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var ie;const V=this.baseLayers.removeAll();for(const ae of V)ae.destroy();const ce=this.referenceLayers.removeAll();for(const ae of ce)ae.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(ie=this.portalItem)||ie.destroy(),this.portalItem=null}normalizeCtorArgs(ie){return ie&&"resourceInfo"in ie&&(this._set("resourceInfo",ie.resourceInfo),delete(ie=Pt({},ie)).resourceInfo),ie}set baseLayers(ie){this._set("baseLayers",(0,B.Z)(ie,this._get("baseLayers")))}_writeBaseLayers(ie,V,ce){const ae=[];ie&&(ce=$n(Pt({},ce),{layerContainerType:"basemap"}),this.baseLayers.forEach(pe=>{const ue=(0,te.Nw)(pe,ce.webmap?ce.webmap.getLayerJSONFromResourceInfo(pe):null,ce);(0,$.pC)(ue)&&ae.push(ue)}),this.referenceLayers.forEach(pe=>{const ue=(0,te.Nw)(pe,ce.webmap?ce.webmap.getLayerJSONFromResourceInfo(pe):null,ce);(0,$.pC)(ue)&&(ue.isReference=!0,ae.push(ue))})),V.baseMapLayers=ae}set referenceLayers(ie){this._set("referenceLayers",(0,B.Z)(ie,this._get("referenceLayers")))}writeTitle(ie,V){V.title=ie||"Basemap"}load(ie){return this.addResolvingPromise(this._loadFromSource(ie)),Promise.resolve(this)}loadAll(){return(0,I.G)(this,ie=>{ie(this.baseLayers,this.referenceLayers)})}clone(){const ie={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(ie.loadStatus="loaded"),new J({resourceInfo:this.resourceInfo}).set(ie)}read(ie,V){this.resourceInfo||this._set("resourceInfo",{data:ie,context:V}),super.read(ie,V)}write(ie,V){return ie=ie||{},V&&V.origin||(V=Pt({origin:"web-map"},V)),super.write(ie,V),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(ie.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(ce=>{const ae=(0,k.d9)(ce);return ae.url&&(0,Z.oC)(ae.url)&&(ae.url=`https:${ae.url}`),ae.templateUrl&&(0,Z.oC)(ae.templateUrl)&&(ae.templateUrl=`https:${ae.templateUrl}`),ae})),ie}_loadFromSource(ie){var V=this;return(0,M.Z)(function*(){const{resourceInfo:ce,portalItem:ae}=V;(0,Y.k_)(ie);const pe=[];ce?(pe.push(V._loadLayersFromJSON(ce.data,ce.context?ce.context.url:null,ie)),ce.data.id&&!ce.data.title&&pe.push((0,W.g)(ce.data.id).then(le=>{le&&V.read({title:le},ce.context)}))):ae&&pe.push(V._loadFromItem(ae,ie)),yield Promise.all(pe)})()}_loadLayersFromJSON(ie,V,ce){var ae=this;return(0,M.Z)(function*(){const pe=ae.resourceInfo&&ae.resourceInfo.context,ue=ae.portalItem&&ae.portalItem.portal||pe&&pe.portal||null,ye=pe&&"web-scene"===pe.origin?"web-scene":"web-map",{populateOperationalLayers:le}=yield Promise.all([E.e(8277),E.e(1074)]).then(E.bind(E,71074)),se=[];if((0,Y.k_)(ce),ie.baseMapLayers&&Array.isArray(ie.baseMapLayers)){const Ce={context:{origin:ye,url:V,portal:ue,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},ge=le(ae.baseLayers,ie.baseMapLayers.filter(Ee=>!Ee.isReference),Ce);se.push(ge);const Pe=le(ae.referenceLayers,ie.baseMapLayers.filter(Ee=>Ee.isReference),Ce);se.push(Pe)}yield(0,Y.as)(se)})()}_loadFromItem(ie,V){var ce=this;return(0,M.Z)(function*(){const ae=yield ie.load(V),pe=yield ae.fetchData("json",V),ue=(0,Z.mN)(ie.itemUrl);return ce._set("resourceInfo",{data:pe.baseMap,context:{origin:"web-map",portal:ie.portal||j.Z.getDefault(),url:ue}}),ce.read(ce.resourceInfo.data,ce.resourceInfo.context),ce.read({spatialReference:pe.spatialReference},ce.resourceInfo.context),ce.read({title:ie.title,thumbnailUrl:ie.thumbnailUrl},{origin:"portal-item",portal:ie.portal||j.Z.getDefault(),url:ue}),ce._loadLayersFromJSON(ce.resourceInfo.data,ue,V)})()}static fromId(ie){const V=W.s[ie];if(V){if(V.deprecated){let ce=null;"dark-gray"===ie?ce="dark-gray-vector":"gray"===ie?ce="gray-vector":"streets"===ie?ce="streets-vector":"topo"===ie&&(ce="topo-vector"),(0,N.x9)(oe,`The ${ie} basemap has entered mature support and is no longer being updated.`,{replacement:ce,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return J.fromJSON(V)}return null}};(0,D._)([(0,re.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(ie,V,ce,ae){this._writeBaseLayers(ie,V,ae)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Q.Z}},writer(ie,V,ce,ae){this._writeBaseLayers(ie,V,ae)}}}}}})],me.prototype,"baseLayers",null),(0,D._)([(0,re.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],me.prototype,"id",void 0),(0,D._)([(0,re.Cb)({type:K.default})],me.prototype,"portalItem",void 0),(0,D._)([(0,re.Cb)()],me.prototype,"referenceLayers",null),(0,D._)([(0,re.Cb)({readOnly:!0})],me.prototype,"resourceInfo",void 0),(0,D._)([(0,re.Cb)({type:P.Z})],me.prototype,"spatialReference",void 0),(0,D._)([(0,re.Cb)()],me.prototype,"thumbnailUrl",void 0),(0,D._)([(0,re.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],me.prototype,"title",void 0),(0,D._)([(0,T.c)("title")],me.prototype,"writeTitle",null),me=J=(0,D._)([(0,L.j)("esri.Basemap")],me);const de=me},91558:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>F});var I,x,M=E(20414),D=E(21286),Q=E(62208),B=E(90912);function N(I){return(0,D.uZ)((0,B.vU)(I),0,255)}function ne(I,x,$){return I=Number(I),isNaN(I)?$:I<x?x:I>$?$:I}class k{constructor(x){this.r=255,this.g=255,this.b=255,this.a=1,x&&this.setColor(x)}static blendColors(x,$,Y,Z=new k){return Z.r=Math.round(x.r+($.r-x.r)*Y),Z.g=Math.round(x.g+($.g-x.g)*Y),Z.b=Math.round(x.b+($.b-x.b)*Y),Z.a=x.a+($.a-x.a)*Y,Z._sanitize()}static fromRgb(x,$){const Y=x.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(Y){const Z=Y[2].split(/\s*,\s*/),re=Y[1];if("rgb"===re&&3===Z.length||"rgba"===re&&4===Z.length){const X=Z[0];if("%"===X.charAt(X.length-1)){const L=Z.map(T=>2.56*parseFloat(T));return 4===Z.length&&(L[3]=parseFloat(Z[3])),k.fromArray(L,$)}return k.fromArray(Z.map(L=>parseFloat(L)),$)}if("hsl"===re&&3===Z.length||"hsla"===re&&4===Z.length)return k.fromArray((0,M.B7)(parseFloat(Z[0]),parseFloat(Z[1])/100,parseFloat(Z[2])/100,parseFloat(Z[3])),$)}return null}static fromHex(x,$=new k){if(4!==x.length&&7!==x.length||"#"!==x[0])return null;const Y=4===x.length?4:8,Z=(1<<Y)-1;let re=Number("0x"+x.substr(1));return isNaN(re)?null:(["b","g","r"].forEach(X=>{const L=re&Z;re>>=Y,$[X]=4===Y?17*L:L}),$.a=1,$)}static fromArray(x,$=new k){return $._set(Number(x[0]),Number(x[1]),Number(x[2]),Number(x[3])),isNaN($.a)&&($.a=1),$._sanitize()}static fromString(x,$){const Y=(0,M.St)(x)?(0,M.h$)(x):null;return Y&&k.fromArray(Y,$)||k.fromRgb(x,$)||k.fromHex(x,$)}static fromJSON(x){return x&&new k([x[0],x[1],x[2],x[3]/255])}static toUnitRGB(x){return(0,Q.pC)(x)?[x.r/255,x.g/255,x.b/255]:null}static toUnitRGBA(x){return(0,Q.pC)(x)?[x.r/255,x.g/255,x.b/255,null!=x.a?x.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(x){if("string"==typeof x)k.fromString(x,this);else if(Array.isArray(x))k.fromArray(x,this);else{var $,Y,Z,re;this._set(null!=($=x.r)?$:0,null!=(Y=x.g)?Y:0,null!=(Z=x.b)?Z:0,null!=(re=x.a)?re:1),x instanceof k||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const x=this.r.toString(16),$=this.g.toString(16),Y=this.b.toString(16);return`#${x.length<2?"0"+x:x}${$.length<2?"0"+$:$}${Y.length<2?"0"+Y:Y}`}toCss(x=!1){const $=this.r+", "+this.g+", "+this.b;return x?`rgba(${$}, ${this.a})`:`rgb(${$})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(x=k.AlphaMode.ALWAYS){const $=N(this.r),Y=N(this.g),Z=N(this.b);return x===k.AlphaMode.ALWAYS||1!==this.a?[$,Y,Z,N(255*this.a)]:[$,Y,Z]}clone(){return new k(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(x){return(0,Q.pC)(x)&&x.r===this.r&&x.g===this.g&&x.b===this.b&&x.a===this.a}_sanitize(){return this.r=Math.round(ne(this.r,0,255)),this.g=Math.round(ne(this.g,0,255)),this.b=Math.round(ne(this.b,0,255)),this.a=ne(this.a,0,1),this}_set(x,$,Y,Z){this.r=x,this.g=$,this.b=Y,this.a=Z}}k.prototype.declaredClass="esri.Color",(x=(I=k||(k={})).AlphaMode||(I.AlphaMode={}))[x.ALWAYS=0]="ALWAYS",x[x.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const F=k},88879:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>P});var M=E(17626),D=E(29132),Q=E(73281),B=E(65787),N=E(79608),ne=E(86810),k=E(62208),F=E(86236),I=E(77712),Z=(E(85931),E(8314),E(90912),E(76898)),re=E(91179);function L(j){if(!(0,k.pC)(j))return null;const K={};for(const W in j){const te=j[W];te&&(K[W]=te.toJSON())}return 0!==Object.keys(K).length?K:null}let T=class extends((0,N.J)(ne.wq)){constructor(...j){super(...j),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,F.D)(),configurable:!0})}normalizeCtorArgs(j,K,W,te){return j&&!j.declaredClass?j:{geometry:j,symbol:K,attributes:W,popupTemplate:te}}set aggregateGeometries(j){const K=this._get("aggregateGeometries");JSON.stringify(K)!==JSON.stringify(j)&&this._set("aggregateGeometries",j)}set attributes(j){const K=this._get("attributes");K!==j&&(this._set("attributes",j),this._notifyLayer("attributes",K,j))}set geometry(j){const K=this._get("geometry");K!==j&&(this._set("geometry",j),this._notifyLayer("geometry",K,j))}set symbol(j){const K=this._get("symbol");K!==j&&(this._set("symbol",j),this._notifyLayer("symbol",K,j))}set visible(j){const K=this._get("visible");K!==j&&(this._set("visible",j),this._notifyLayer("visible",K,j))}getEffectivePopupTemplate(j=!1){if(this.popupTemplate)return this.popupTemplate;for(const K of[this.sourceLayer,this.layer])if(K){if("popupTemplate"in K&&K.popupTemplate)return K.popupTemplate;if(j&&"defaultPopupTemplate"in K&&(0,k.pC)(K.defaultPopupTemplate))return K.defaultPopupTemplate}return null}getAttribute(j){return this.attributes&&this.attributes[j]}setAttribute(j,K){if(this.attributes){const W=this.getAttribute(j);this.attributes[j]=K,this._notifyLayer("attributes",W,K,j)}else this.attributes={[j]:K},this._notifyLayer("attributes",void 0,K,j)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:L(this.aggregateGeometries),geometry:(0,k.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,k.pC)(this.symbol)?this.symbol.toJSON():null,attributes:Pt({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){(0,k.pC)(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(j,K,W,te){if(!this.layer||!("graphicChanged"in this.layer))return;const J={graphic:this,property:j,oldValue:K,newValue:W};"attributes"===j&&(J.attributeName=te),this.layer.graphicChanged(J)}};(0,M._)([(0,I.Cb)({value:null,json:{read:function X(j){if(!j)return null;const K={};for(const W in j){const te=(0,re.im)(j[W]);te&&(K[W]=te)}return 0!==Object.keys(K).length?K:null}}})],T.prototype,"aggregateGeometries",null),(0,M._)([(0,I.Cb)({value:null})],T.prototype,"attributes",null),(0,M._)([(0,I.Cb)({value:null,types:D.qM,json:{read:re.im}})],T.prototype,"geometry",null),(0,M._)([(0,I.Cb)({type:Boolean})],T.prototype,"isAggregate",void 0),(0,M._)([(0,I.Cb)({clonable:"reference"})],T.prototype,"layer",void 0),(0,M._)([(0,I.Cb)({type:Q.Z})],T.prototype,"popupTemplate",void 0),(0,M._)([(0,I.Cb)({clonable:"reference"})],T.prototype,"sourceLayer",void 0),(0,M._)([(0,I.Cb)({value:null,types:B.LB})],T.prototype,"symbol",null),(0,M._)([(0,I.Cb)({type:Boolean,value:!0})],T.prototype,"visible",null),T=(0,M._)([(0,Z.j)("esri.Graphic")],T),(T||(T={})).generateUID=F.D;const P=T},73281:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>tt});var M=E(15861),D=E(17626),Q=E(48701),B=E(86810),N=E(58817),ne=E(63290),k=E(10699),F=E(77712),I=E(66656),x=E(68653),$=E(76898),Y=E(99433),Z=E(90912),re=E(36630),X=E(55664),L=E(55013),T=E(16615),P=E(82561),j=E(75484),K=E(64531),W=E(501);const J={base:null,key:"type",typeMap:{attachment:X.Z,media:K.Z,text:W.Z,expression:P.Z,field:j.Z}};var ie,he=E(38439),oe=E(25621);E(85931),E(8314);let V=ie=class extends B.wq{constructor(xe){super(xe),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new ie({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,D._)([(0,F.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"returnTopmostRaster",void 0),(0,D._)([(0,F.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"showNoDataRecords",void 0),V=ie=(0,D._)([(0,$.j)("esri.popup.LayerOptions")],V);const ce=V;var pe,ae=E(51686);let ue=pe=class extends B.wq{constructor(xe){super(xe),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new pe({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,N.d9)(this.orderByFields):null})}};(0,D._)([(0,F.Cb)({type:Boolean,json:{write:!0}})],ue.prototype,"showRelatedRecords",void 0),(0,D._)([(0,F.Cb)({type:[ae.Z],json:{write:!0}})],ue.prototype,"orderByFields",void 0),ue=pe=(0,D._)([(0,$.j)("esri.popup.RelatedRecordsInfo")],ue);const ye=ue;var Pe,le=E(65560),se=E(59397),Ce=E(48753),ge=E(10671);const Ee=Q.Z.ofType({key:"type",defaultKeyValue:"button",base:se.Z,typeMap:{button:Ce.Z,toggle:ge.Z}}),Ge={base:L.Z,key:"type",typeMap:{media:K.Z,custom:T.Z,text:W.Z,attachments:X.Z,fields:j.Z,expression:P.Z}},Se="esri.PopupTemplate",ve=ne.Z.getLogger(Se),Te=["attachments","fields","media","text","expression"];let Ze=Pe=class extends B.wq{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(xe){return Array.isArray(xe)?xe.map(Ve=>(0,Z.N7)(Ge,Ve)):"string"==typeof xe||"function"==typeof xe||xe instanceof HTMLElement||(0,k.y8)(xe)?xe:(ve.error("content error","unsupported content value",{value:xe}),null)}readContent(xe,Ve){const{popupElements:He}=Ve;return Array.isArray(He)&&He.length>0?this._readPopupInfoElements(Ve):this._readPopupInfo(Ve)}writeContent(xe,Ve,He,ee){"string"!=typeof xe?Array.isArray(xe)&&(Ve.popupElements=xe.filter(_e=>-1!==Te.indexOf(_e.type)).map(_e=>_e&&_e.toJSON(ee)),Ve.popupElements.forEach(_e=>{"attachments"===_e.type?this._writeAttachmentContent(Ve):"media"===_e.type?this._writeMediaContent(_e,Ve):"text"===_e.type&&this._writeTextContent(_e,Ve)})):Ve.description=xe}writeFieldInfos(xe,Ve,He,ee){const{content:_e}=this,je=Array.isArray(_e)?_e:null;if(xe){const Ye=je?je.filter(it=>"fields"===it.type):[],pt=Ye.length&&Ye.every(it=>{var at;return null==(at=it.fieldInfos)?void 0:at.length});Ve.fieldInfos=xe.filter(Boolean).map(it=>{const at=it.toJSON(ee);return pt&&(at.visible=!1),at})}if(je)for(const Ye of je)"fields"===Ye.type&&this._writeFieldsContent(Ye,Ve)}writeLayerOptions(xe,Ve,He,ee){Ve[He]=!xe||null===xe.showNoDataRecords&&null===xe.returnTopmostRaster?null:xe.toJSON(ee)}writeTitle(xe,Ve){Ve.title=xe||""}clone(){const{actions:xe}=this,Ve=xe?(0,N.d9)(xe.toArray()):[];return new Pe({actions:Ve,content:Array.isArray(this.content)?(0,N.d9)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?(0,N.d9)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?(0,N.d9)(this.fieldInfos):null,layerOptions:this.layerOptions?(0,N.d9)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?(0,N.d9)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?(0,N.d9)(this.relatedRecordsInfo):null})}collectRequiredFields(xe,Ve){var He=this;return(0,M.Z)(function*(){yield He._collectExpressionInfoFields(xe,Ve,He._getContentExpressionInfos(He.content,He.expressionInfos)),(0,re.gd)(xe,Ve,[...He.outFields||[],...He._getActionsFields(He.actions),...He._getTitleFields(He.title),...He._getContentFields(He.content)])})()}getRequiredFields(xe){var Ve=this;return(0,M.Z)(function*(){const He=new Set;return yield Ve.collectRequiredFields(He,xe),[...He].sort()})()}_writeFieldsContent(xe,Ve){if(!Array.isArray(xe.fieldInfos)||!xe.fieldInfos.length)return;const He=(0,N.d9)(xe.fieldInfos);Array.isArray(Ve.fieldInfos)?He.forEach(ee=>{const _e=Ve.fieldInfos.find(je=>je.fieldName.toLowerCase()===ee.fieldName.toLowerCase());_e?_e.visible=!0:Ve.fieldInfos.push(ee)}):Ve.fieldInfos=He}_writeAttachmentContent(xe){xe.showAttachments||(xe.showAttachments=!0)}_writeTextContent(xe,Ve){!Ve.description&&xe.text&&(Ve.description=xe.text)}_writeMediaContent(xe,Ve){if(!Array.isArray(xe.mediaInfos)||!xe.mediaInfos.length)return;const He=(0,N.d9)(xe.mediaInfos);Ve.mediaInfos=Array.isArray(Ve.mediaInfos)?[...Ve.mediaInfos,...He]:He}_readPopupInfoElements({description:xe,mediaInfos:Ve,popupElements:He}){const ee={description:!1,mediaInfos:!1};return He.map(_e=>"media"===_e.type?(_e.mediaInfos||!Ve||ee.mediaInfos||(_e.mediaInfos=Ve,ee.mediaInfos=!0),K.Z.fromJSON(_e)):"text"===_e.type?(_e.text||!xe||ee.description||(_e.text=xe,ee.description=!0),W.Z.fromJSON(_e)):"attachments"===_e.type?X.Z.fromJSON(_e):"fields"===_e.type?j.Z.fromJSON(_e):"expression"===_e.type?P.Z.fromJSON(_e):void 0).filter(Boolean)}_readPopupInfo({description:xe,mediaInfos:Ve,showAttachments:He}){const ee=[];return ee.push(xe?new W.Z({text:xe}):new j.Z),Array.isArray(Ve)&&Ve.length&&ee.push(K.Z.fromJSON({mediaInfos:Ve})),He&&ee.push(X.Z.fromJSON({displayType:"auto"})),ee.length?ee:xe}_getContentElementFields(xe){const Ve=null==xe?void 0:xe.type;if("attachments"===Ve)return[...this._extractFieldNames(xe.title),...this._extractFieldNames(xe.description)];if("custom"===Ve)return xe.outFields||[];if("fields"===Ve)return[...this._extractFieldNames(xe.title),...this._extractFieldNames(xe.description),...this._getFieldInfoFields(xe.fieldInfos||this.fieldInfos)];if("media"===Ve){const He=xe.mediaInfos||[];return[...this._extractFieldNames(xe.title),...this._extractFieldNames(xe.description),...He.reduce((ee,_e)=>[...ee,...this._getMediaInfoFields(_e)],[])]}return"text"===Ve?this._extractFieldNames(xe.text):[]}_getMediaInfoFields(xe){const{caption:Ve,title:He,value:ee}=xe,_e=ee||{},{fields:je=[],normalizeField:Ye,tooltipField:pt,sourceURL:it,linkURL:at}=_e,ot=[...this._extractFieldNames(He),...this._extractFieldNames(Ve),...this._extractFieldNames(it),...this._extractFieldNames(at),...je];return Ye&&ot.push(Ye),pt&&ot.push(pt),ot}_getContentExpressionInfos(xe,Ve){return Array.isArray(xe)?xe.reduce((He,ee)=>[...He,..."expression"===ee.type&&ee.expressionInfo?[ee.expressionInfo]:[]],Ve||[]):[]}_getContentFields(xe){return"string"==typeof xe?this._extractFieldNames(xe):Array.isArray(xe)?xe.reduce((Ve,He)=>[...Ve,...this._getContentElementFields(He)],[]):[]}_collectExpressionInfoFields(xe,Ve,He){return(0,M.Z)(function*(){He&&(yield Promise.all(He.map(ee=>(0,re.io)(xe,Ve,ee.expression))))})()}_getFieldInfoFields(xe){return xe?xe.filter(Ve=>void 0===Ve.visible||!!Ve.visible).map(Ve=>Ve.fieldName).filter(Ve=>-1===Ve.indexOf("relationships/")&&-1===Ve.indexOf("expression/")):[]}_getActionsFields(xe){return xe?xe.toArray().reduce((Ve,He)=>[...Ve,...this._getActionFields(He)],[]):[]}_getActionFields(xe){const{className:Ve,title:He,type:ee}=xe,_e="button"===ee||"toggle"===ee?xe.image:"";return[...this._extractFieldNames(He),...this._extractFieldNames(Ve),...this._extractFieldNames(_e)]}_getTitleFields(xe){return"string"==typeof xe?this._extractFieldNames(xe):[]}_extractFieldNames(xe){if(!xe||"string"!=typeof xe)return[];const He=xe.match(/{[^}]*}/g);if(!He)return[];const ee=/\{(\w+):.+\}/,_e=He.filter(je=>!(0===je.indexOf("{relationships/")||0===je.indexOf("{expression/"))).map(je=>je.replace(ee,"{$1}"));return _e?_e.map(je=>je.slice(1,-1)):[]}};(0,D._)([(0,F.Cb)({type:Ee})],Ze.prototype,"actions",void 0),(0,D._)([(0,F.Cb)()],Ze.prototype,"content",void 0),(0,D._)([(0,I.p)("content")],Ze.prototype,"castContent",null),(0,D._)([(0,x.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Ze.prototype,"readContent",null),(0,D._)([(0,Y.c)("content",{popupElements:{type:Q.Z.ofType(J)},showAttachments:{type:Boolean},mediaInfos:{type:Q.Z.ofType(le.V)},description:{type:String}})],Ze.prototype,"writeContent",null),(0,D._)([(0,F.Cb)({type:[he.Z],json:{write:!0}})],Ze.prototype,"expressionInfos",void 0),(0,D._)([(0,F.Cb)({type:[oe.Z]})],Ze.prototype,"fieldInfos",void 0),(0,D._)([(0,Y.c)("fieldInfos")],Ze.prototype,"writeFieldInfos",null),(0,D._)([(0,F.Cb)({type:ce})],Ze.prototype,"layerOptions",void 0),(0,D._)([(0,Y.c)("layerOptions")],Ze.prototype,"writeLayerOptions",null),(0,D._)([(0,F.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ze.prototype,"lastEditInfoEnabled",void 0),(0,D._)([(0,F.Cb)()],Ze.prototype,"outFields",void 0),(0,D._)([(0,F.Cb)()],Ze.prototype,"overwriteActions",void 0),(0,D._)([(0,F.Cb)()],Ze.prototype,"returnGeometry",void 0),(0,D._)([(0,F.Cb)({json:{type:String}})],Ze.prototype,"title",void 0),(0,D._)([(0,Y.c)("title")],Ze.prototype,"writeTitle",null),(0,D._)([(0,F.Cb)({type:ye,json:{write:!0}})],Ze.prototype,"relatedRecordsInfo",void 0),Ze=Pe=(0,D._)([(0,$.j)(Se)],Ze);const tt=Ze},97478:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>L});var Y,M=E(17626),D=E(86810),Q=E(62208),B=E(28170),N=E(77712),I=(E(85931),E(8314),E(90912),E(68653)),x=E(76898),$=E(99433);let Z=Y=class extends D.wq{constructor(T){super(T),this.end=null,this.start=null}static get allTime(){return re}static get empty(){return X}readEnd(T,P){return null!=P.end?new Date(P.end):null}writeEnd(T,P){P.end=T?T.getTime():null}get isAllTime(){return this.equals(Y.allTime)}get isEmpty(){return this.equals(Y.empty)}readStart(T,P){return null!=P.start?new Date(P.start):null}writeStart(T,P){P.start=T?T.getTime():null}clone(){return new Y({end:this.end,start:this.start})}equals(T){if(!T)return!1;const P=(0,Q.pC)(this.start)?this.start.getTime():this.start,j=(0,Q.pC)(this.end)?this.end.getTime():this.end,K=(0,Q.pC)(T.start)?T.start.getTime():T.start,W=(0,Q.pC)(T.end)?T.end.getTime():T.end;return P===K&&j===W}expandTo(T){if(this.isEmpty||this.isAllTime)return this.clone();const P=(0,Q.yw)(this.start,K=>(0,B.JE)(K,T)),j=(0,Q.yw)(this.end,K=>(0,B.Nm)((0,B.JE)(K,T),1,T));return new Y({start:P,end:j})}intersection(T){if(!T)return this.clone();if(this.isEmpty||T.isEmpty)return Y.empty;if(this.isAllTime)return T.clone();if(T.isAllTime)return this.clone();const P=(0,Q.R2)(this.start,-1/0,he=>he.getTime()),j=(0,Q.R2)(this.end,1/0,he=>he.getTime()),K=(0,Q.R2)(T.start,-1/0,he=>he.getTime()),W=(0,Q.R2)(T.end,1/0,he=>he.getTime());let te,J;if(K>=P&&K<=j?te=K:P>=K&&P<=W&&(te=P),j>=K&&j<=W?J=j:W>=P&&W<=j&&(J=W),!isNaN(te)&&!isNaN(J)){const he=new Y;return he.start=te===-1/0?null:new Date(te),he.end=J===1/0?null:new Date(J),he}return Y.empty}offset(T,P){if(this.isEmpty||this.isAllTime)return this.clone();const j=new Y,{start:K,end:W}=this;return(0,Q.pC)(K)&&(j.start=(0,B.Nm)(K,T,P)),(0,Q.pC)(W)&&(j.end=(0,B.Nm)(W,T,P)),j}union(T){if(!T||T.isEmpty)return this.clone();if(this.isEmpty)return T.clone();if(this.isAllTime||T.isAllTime)return re.clone();const P=(0,Q.pC)(this.start)&&(0,Q.pC)(T.start)?new Date(Math.min(this.start.getTime(),T.start.getTime())):null,j=(0,Q.pC)(this.end)&&(0,Q.pC)(T.end)?new Date(Math.max(this.end.getTime(),T.end.getTime())):null;return new Y({start:P,end:j})}};(0,M._)([(0,N.Cb)({type:Date,json:{write:{allowNull:!0}}})],Z.prototype,"end",void 0),(0,M._)([(0,I.r)("end")],Z.prototype,"readEnd",null),(0,M._)([(0,$.c)("end")],Z.prototype,"writeEnd",null),(0,M._)([(0,N.Cb)({readOnly:!0,json:{read:!1}})],Z.prototype,"isAllTime",null),(0,M._)([(0,N.Cb)({readOnly:!0,json:{read:!1}})],Z.prototype,"isEmpty",null),(0,M._)([(0,N.Cb)({type:Date,json:{write:{allowNull:!0}}})],Z.prototype,"start",void 0),(0,M._)([(0,I.r)("start")],Z.prototype,"readStart",null),(0,M._)([(0,$.c)("start")],Z.prototype,"writeStart",null),Z=Y=(0,M._)([(0,x.j)("esri.TimeExtent")],Z);const re=new Z,X=new Z({start:void 0,end:void 0}),L=Z},20849:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),D=E(86810),Q=E(28170),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898)),I=E(58926);let $=x=class extends D.wq{constructor(Z){super(Z),this.value=0,this.unit="milliseconds"}toMilliseconds(){return(0,Q.rJ)(this.value,this.unit,"milliseconds")}clone(){return new x({value:this.value,unit:this.unit})}};(0,M._)([(0,B.Cb)({type:Number,json:{write:!0},nonNullable:!0})],$.prototype,"value",void 0),(0,M._)([(0,B.Cb)({type:I.v.apiValues,json:{type:I.v.jsonValues,read:I.v.read,write:I.v.write},nonNullable:!0})],$.prototype,"unit",void 0),$=x=(0,M._)([(0,F.j)("esri.TimeInterval")],$);const Y=$},76687:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Ve});var M=E(17626),D=E(79608),Q=E(86810),B=E(21286),N=E(77712),F=(E(85931),E(8314),E(66656)),I=E(68653),x=E(76898),$=E(99433),Y=E(90912),Z=E(49672),X=(E(84161),E(28093));class V{constructor(ee,_e){this.min=ee,this.max=_e,this.range=_e-ee}ndiff(ee,_e=0){return Math.ceil((ee-_e)/this.range)*this.range+_e}_normalize(ee,_e,je,Ye=0,pt=!1){return(je-=Ye)<ee?je+=this.ndiff(ee-je):je>_e&&(je-=this.ndiff(je-_e)),pt&&je===_e&&(je=ee),je+Ye}normalize(ee,_e=0,je=!1){return this._normalize(this.min,this.max,ee,_e,je)}clamp(ee,_e=0){return(0,B.uZ)(ee-_e,this.min,this.max)+_e}monotonic(ee,_e,je){return ee<_e?_e:_e+this.ndiff(ee-_e,je)}minimalMonotonic(ee,_e,je){return this._normalize(ee,ee+this.range,_e,je)}center(ee,_e,je){return _e=this.monotonic(ee,_e,je),this.normalize((ee+_e)/2,je)}diff(ee,_e,je){return this.monotonic(ee,_e,je)-ee}shortestSignedDiff(ee,_e){ee=this.normalize(ee);const je=(_e=this.normalize(_e))-ee,Ye=_e<ee?this.minimalMonotonic(ee,_e)-ee:_e-this.minimalMonotonic(_e,ee);return Math.abs(je)<Math.abs(Ye)?je:Ye}contains(ee,_e,je){return _e=this.minimalMonotonic(ee,_e),(je=this.minimalMonotonic(ee,je))>ee&&je<_e}}function ue(He){for(const ee in He){const _e=He[ee];_e instanceof Function&&(He[ee]=_e.bind(He))}return He}(0,X.c)(),(0,X.c)(),ue(new V(0,2*Math.PI)),ue(new V(-Math.PI,Math.PI));const se=ue(new V(0,360));(0,X.c)(),(0,X.c)(),(0,X.c)();let Ee=class extends((0,D.J)(Q.wq)){constructor(...He){super(...He),this.position=new Z.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(He,ee,_e,je){if(He&&"object"==typeof He&&("x"in He||Array.isArray(He))){const Ye={position:He};return null!=ee&&(Ye.heading=ee),null!=_e&&(Ye.tilt=_e),null!=je&&(Ye.fov=je),Ye}return He}writePosition(He,ee,_e,je){const Ye=He.clone();Ye.x=(0,Y.q9)(He.x||0),Ye.y=(0,Y.q9)(He.y||0),Ye.z=He.hasZ?(0,Y.q9)(He.z||0):He.z,ee[_e]=Ye.write({},je)}readPosition(He,ee){const _e=new Z.Z;return _e.read(He,ee),_e.x=(0,Y.q9)(_e.x||0),_e.y=(0,Y.q9)(_e.y||0),_e.z=_e.hasZ?(0,Y.q9)(_e.z||0):_e.z,_e}equals(He){return!!He&&this.tilt===He.tilt&&this.heading===He.heading&&this.fov===He.fov&&this.position.equals(He.position)}};(0,M._)([(0,N.Cb)({type:Z.Z,json:{write:{isRequired:!0}}})],Ee.prototype,"position",void 0),(0,M._)([(0,$.c)("position")],Ee.prototype,"writePosition",null),(0,M._)([(0,I.r)("position")],Ee.prototype,"readPosition",null),(0,M._)([(0,N.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,F.p)(He=>se.normalize((0,Y.q9)(He)))],Ee.prototype,"heading",void 0),(0,M._)([(0,N.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,F.p)(He=>(0,B.uZ)((0,Y.q9)(He),-180,180))],Ee.prototype,"tilt",void 0),(0,M._)([(0,N.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ee.prototype,"fov",void 0),Ee=(0,M._)([(0,x.j)("esri.Camera")],Ee);const Ge=Ee;var Ze,Se=E(29132),ve=E(62208),Te=E(91179);let tt=Ze=class extends Q.wq{constructor(He){super(He),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(He){return(He%=360)<0&&(He+=360),He}clone(){return new Ze({rotation:this.rotation,scale:this.scale,targetGeometry:(0,ve.pC)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,ve.pC)(this.camera)?this.camera.clone():null})}};function xe(){return{enabled:!this.camera}}(0,M._)([(0,N.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:xe}}}}})],tt.prototype,"rotation",void 0),(0,M._)([(0,F.p)("rotation")],tt.prototype,"castRotation",null),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:xe}}}}})],tt.prototype,"scale",void 0),(0,M._)([(0,N.Cb)({types:Se.qM,json:{read:Te.im,write:!0,origins:{"web-scene":{read:Te.im,write:{overridePolicy:xe}}}}})],tt.prototype,"targetGeometry",void 0),(0,M._)([(0,N.Cb)({type:Ge,json:{write:!0}})],tt.prototype,"camera",void 0),tt=Ze=(0,M._)([(0,x.j)("esri.Viewpoint")],tt);const Ve=tt},7652:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(Q,B){this.definition=null,this.context=null,this.definition=Q,this.context=B}}},98362:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(Q=[]){this._elements=Q}length(){return this._elements.length}get(Q){return this._elements[Q]}toArray(){const Q=[];for(let B=0;B<this.length();B++)Q.push(this.get(B));return Q}}},5371:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});var M=E(98362),D=E(26685);class Q extends M.Z{constructor(N,ne,k,F,I){super(N),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=k,this._hasM=F,this._spRef=ne,this._cacheId=I}get(N){if(void 0===this._lazyPath[N]){const ne=this._elements[N];if(void 0===ne)return;this._lazyPath[N]=new D.Z(ne,this._spRef,this._hasZ,this._hasM,this._cacheId,N)}return this._lazyPath[N]}equalityTest(N){return N===this||null!==N&&N instanceof Q&&N.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},26685:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});var M=E(98362),D=E(49672);class Q extends M.Z{constructor(N,ne,k,F,I,x){super(N),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=ne,this._hasZ=k,this._hasM=F,this._cacheId=I,this._partId=x}get(N){if(void 0===this._lazyPt[N]){const ne=this._elements[N];if(void 0===ne)return;const k=this._hasZ,F=this._hasM;let I=null;I=k&&!F?new D.Z(ne[0],ne[1],ne[2],void 0,this._spRef):F&&!k?new D.Z(ne[0],ne[1],void 0,ne[2],this._spRef):k&&F?new D.Z(ne[0],ne[1],ne[2],ne[3],this._spRef):new D.Z(ne[0],ne[1],this._spRef),I.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+N.toString(),this._lazyPt[N]=I}return this._lazyPt[N]}equalityTest(N){return N===this||null!==N&&N instanceof Q&&N.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},77132:(qe,Me,E)=>{"use strict";E.d(Me,{Bj:()=>B,dj:()=>N,JW:()=>ne,Lz:()=>T,EI:()=>X,tI:()=>j,tt:()=>Z,Sh:()=>k,US:()=>de,hj:()=>x,HD:()=>F,yE:()=>he,Qk:()=>te,q2:()=>J,Dt:()=>me,SV:()=>L,hd:()=>ie});var B,N,V,M=E(10699),D=E(2004),Q=E(36255);function ne(V){return Q.Z.fromJSON(V.toJSON())}function k(V){return V.toJSON?V.toJSON():V}function F(V){return"string"==typeof V||V instanceof String}function x(V){return"number"==typeof V}function Y(V){return V instanceof Date}function Z(V,ce){return V===ce||!(!Y(V)||!Y(ce))&&V.getTime()===ce.getTime()}function X(V){if(void 0===V)return null;if("number"==typeof V)return V;switch(V.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function L(V){if(null===V)return null;switch(V.type){case"polygon":case"multipoint":case"polyline":return V.extent;case"point":return new D.Z({xmin:V.x,ymin:V.y,xmax:V.x,ymax:V.y,spatialReference:V.spatialReference});case"extent":return V}return null}function T(V){if(void 0===V)return null;if("number"==typeof V||"number"==typeof V)return V;switch(V.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(V=B||(B={}))[V.Standardised=0]="Standardised",V[V.StandardisedNoInterval=1]="StandardisedNoInterval",V[V.SqlServer=2]="SqlServer",V[V.Oracle=3]="Oracle",V[V.Postgres=4]="Postgres",V[V.PGDB=5]="PGDB",V[V.FILEGDB=6]="FILEGDB",V[V.NotEvaluated=7]="NotEvaluated",function(V){V[V.InFeatureSet=0]="InFeatureSet",V[V.NotInFeatureSet=1]="NotInFeatureSet",V[V.Unknown=2]="Unknown"}(N||(N={}));const j=1e3,te={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},J={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},he={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function me(V,ce){return(0,M.Ue)((ae,pe)=>{const ue=(0,M.DB)(!0);V.reduce((ye,le,se,Ce)=>ye.then(ge=>{try{return ce(ge,le,se,Ce)}catch(Pe){return(0,M.d1)(Pe)}},ge=>(0,M.d1)(ge)),ue).then(ae,pe)})}function de(V){return void 0===V?"":V=(V=(V=V.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function ie(V,ce){ce||(ce={}),"function"==typeof ce&&(ce={cmp:ce});const ae="boolean"==typeof ce.cycles&&ce.cycles,pe=ce.cmp&&(ue=ce.cmp,function(le){return function(se,Ce){return ue({key:se,value:le[se]},{key:Ce,value:le[Ce]})}});var ue;const ye=[];return function le(se){if(se&&se.toJSON&&"function"==typeof se.toJSON&&(se=se.toJSON()),void 0===se)return;if("number"==typeof se)return isFinite(se)?""+se:"null";if("object"!=typeof se)return JSON.stringify(se);let Ce,ge;if(Array.isArray(se)){for(ge="[",Ce=0;Ce<se.length;Ce++)Ce&&(ge+=","),ge+=le(se[Ce])||"null";return ge+"]"}if(null===se)return"null";if(-1!==ye.indexOf(se)){if(ae)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Pe=ye.push(se)-1,Ee=Object.keys(se).sort(pe&&pe(se));for(ge="",Ce=0;Ce<Ee.length;Ce++){const Ge=Ee[Ce],Se=le(se[Ge]);Se&&(ge&&(ge+=","),ge+=JSON.stringify(Ge)+":"+Se)}return ye.splice(Pe,1),"{"+ge+"}"}(V)}},54346:(qe,Me,E)=>{"use strict";E.d(Me,{V:()=>F});var M=E(59318),Q=(E(84792),E(26584)),B=E(63290),N=E(21726);const ne=B.Z.getLogger("esri.assets");function F(I){if(!M.Z.assetsPath)throw ne.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new Q.Z("assets:path-not-set","config.assetsPath is not set");return(0,N.v_)(M.Z.assetsPath,I)}},71530:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>$});var I,M=E(17626),D=E(91558),Q=E(86810),B=E(58817),N=E(77712),k=(E(90912),E(76898)),F=E(60958);let x=I=class extends Q.wq{constructor(){super(...arguments),this.color=new D.Z("white")}clone(){return new I({color:(0,B.d9)(this.color)})}};(0,M._)([(0,N.Cb)(F.a)],x.prototype,"color",void 0),x=I=(0,M._)([(0,k.j)("esri.symbols.callouts.LineCallout3DBorder")],x);const $=x;Object.freeze({__proto__:null,get LineCallout3DBorder(){return x},default:$})},1719:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>Q,c:()=>M,g:()=>D});var M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function D(B){return B&&B.__esModule&&Object.prototype.hasOwnProperty.call(B,"default")?B.default:B}function Q(B){throw new Error('Could not dynamically require "'+B+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}},39863:(qe,Me,E)=>{"use strict";E.d(Me,{E:()=>M,R:()=>D,t:()=>N});const M=1e-6,D=Math.random,Q=Math.PI/180,B=180/Math.PI;function N(I){return I*Q}Object.freeze({__proto__:null,EPSILON:M,RANDOM:D,toRadian:N,toDegree:function ne(I){return I*B},equals:function k(I,x){return Math.abs(I-x)<=M*Math.max(1,Math.abs(I),Math.abs(x))}})},47562:(qe,Me,E)=>{"use strict";E.d(Me,{$:()=>Gt,A:()=>ot,B:()=>se,C:()=>pe,D:()=>Ve,E:()=>et,F:()=>Te,G:()=>Et,H:()=>xn,I:()=>J,J:()=>Pn,K:()=>An,L:()=>Sn,M:()=>V,N:()=>te,O:()=>Ze,P:()=>ze,Q:()=>sn,R:()=>he,S:()=>oe,T:()=>Yt,U:()=>Ct,V:()=>mt,W:()=>Ye,X:()=>xt,Y:()=>ut,Z:()=>$t,_:()=>Mt,a:()=>Ce,b:()=>Ge,c:()=>ce,d:()=>je,e:()=>_e,f:()=>ue,g:()=>ee,h:()=>Wt,i:()=>ye,j:()=>le,k:()=>ge,l:()=>ht,m:()=>de,n:()=>ie,o:()=>Se,p:()=>ve,q:()=>Pe,r:()=>Ee,s:()=>ct,t:()=>at,u:()=>pt,v:()=>me,w:()=>Kt,x:()=>Ht,y:()=>ae,z:()=>Ke});var M=E(7652),D=E(98362),Q=E(5371),B=E(26685),N=E(10699),ne=E(2004),k=E(21674),F=E(72854),I=E(49672),x=E(37118),$=E(55214),Y=E(27122),Z=E(62208),re=E(75327),X=E(25748),L=E(56683),T=E(77132);class P{constructor(Xe){this.value=Xe}}class j{constructor(Xe){this.value=Xe}}class K{constructor(Xe){this.fn=Xe}}class W{constructor(Xe,Dt){this.paramCount=Dt,this.fn=Xe}}const te=K,J=j,he=P,oe=W,me={type:"VOID"},de={type:"BREAK"},ie={type:"CONTINUE"};function V(we,Xe,Dt){return""===Xe||null==Xe||Xe===Dt||Xe===Dt?we:we=we.split(Xe).join(Dt)}function ce(we){return we instanceof K||we instanceof M.Z||we instanceof W}function ae(we){return!!(ue(we)||le(we)||Se(we)||ye(we)||null===we||we===me||"number"==typeof we)}function pe(we,Xe){return void 0===we?Xe:we}function ue(we){return"string"==typeof we||we instanceof String}function ye(we){return"boolean"==typeof we}function le(we){return"number"==typeof we}function se(we){return"number"==typeof we&&isFinite(we)&&Math.floor(we)===we}function Ce(we){return we instanceof Array}function ge(we){return"esri.arcade.Feature"===(null==we?void 0:we.arcadeDeclaredClass)}function Pe(we){return!0===(we&&we.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===we.declaredRootClass)}function Ee(we){return!0===(we&&we.declaredRootClass&&"esri.arcade.featureSetCollection"===we.declaredRootClass)}function Ge(we){return we instanceof D.Z}function Se(we){return we instanceof Date}function ve(we,Xe,Dt){if(we.length<Xe||we.length>Dt)throw new Error("Function called with wrong number of Parameters")}function Te(we){return we<0?-Math.round(-we):Math.round(we)}function Ze(){let we=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Xe){const Dt=(we+16*Math.random())%16|0;return we=Math.floor(we/16),("x"===Xe?Dt:3&Dt|8).toString(16)})}function tt(we,Xe){return!1===isNaN(we)?null==Xe||""===Xe?we.toString():(Xe=V(Xe,"\u2030",""),Xe=V(Xe,"\xa4",""),(0,re.WU)(we,{pattern:Xe})):we.toString()}function xe(we,Xe){const Dt=Y.ou.fromJSDate(we);return null==Xe||""===Xe?Dt.toISO({suppressMilliseconds:!0}):Dt.toFormat(Ve(Xe),{locale:(0,L.Kd)(),numberingSystem:"latn"})}function Ve(we){we=we.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let Xe="";const Dt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const kt of we.match(Dt))switch(kt){case"D":Xe+="d";break;case"DD":Xe+="dd";break;case"DDD":Xe+="o";break;case"d":Xe+="c";break;case"ddd":Xe+="ccc";break;case"dddd":Xe+="cccc";break;case"M":Xe+="L";break;case"MM":Xe+="LL";break;case"MMM":Xe+="LLL";break;case"MMMM":Xe+="LLLL";break;case"YY":Xe+="yy";break;case"Y":case"YYYY":Xe+="yyyy";break;case"Q":Xe+="q";break;case"Z":Xe+="ZZ";break;case"ZZ":Xe+="ZZZ";break;case"S":Xe+="'S'";break;case"SS":Xe+="'SS'";break;case"SSS":Xe+="u";break;case"A":case"a":Xe+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":Xe+=kt;break;default:kt.length>=2&&"["===kt.slice(0,1)&&"]"===kt.slice(-1)?Xe+=`'${kt.slice(1,-1)}'`:Xe+=`'${kt}'`}return Xe}function He(we,Xe,Dt){switch(Dt){case">":return we>Xe;case"<":return we<Xe;case">=":return we>=Xe;case"<=":return we<=Xe}return!1}function ee(we,Xe,Dt){if(null===we){if(null===Xe||Xe===me)return He(null,null,Dt);if(le(Xe))return He(0,Xe,Dt);if(ue(Xe)||ye(Xe))return He(0,at(Xe),Dt);if(Se(Xe))return He(0,Xe.getTime(),Dt)}if(we===me){if(null===Xe||Xe===me)return He(null,null,Dt);if(le(Xe))return He(0,Xe,Dt);if(ue(Xe)||ye(Xe))return He(0,at(Xe),Dt);if(Se(Xe))return He(0,Xe.getTime(),Dt)}else if(le(we)){if(le(Xe))return He(we,Xe,Dt);if(ye(Xe))return He(we,at(Xe),Dt);if(null===Xe||Xe===me)return He(we,0,Dt);if(ue(Xe))return He(we,at(Xe),Dt);if(Se(Xe))return He(we,Xe.getTime(),Dt)}else if(ue(we)){if(ue(Xe))return He(je(we),je(Xe),Dt);if(Se(Xe))return He(at(we),Xe.getTime(),Dt);if(le(Xe))return He(at(we),Xe,Dt);if(null===Xe||Xe===me)return He(at(we),0,Dt);if(ye(Xe))return He(at(we),at(Xe),Dt)}else if(Se(we)){if(Se(Xe))return He(we,Xe,Dt);if(null===Xe||Xe===me)return He(we.getTime(),0,Dt);if(le(Xe))return He(we.getTime(),Xe,Dt);if(ye(Xe)||ue(Xe))return He(we.getTime(),at(Xe),Dt)}else if(ye(we)){if(ye(Xe))return He(we,Xe,Dt);if(le(Xe))return He(at(we),at(Xe),Dt);if(Se(Xe))return He(at(we),Xe.getTime(),Dt);if(null===Xe||Xe===me)return He(at(we),0,Dt);if(ue(Xe))return He(at(we),at(Xe),Dt)}return!!_e(we,Xe)&&("<="===Dt||">="===Dt)}function _e(we,Xe){if(we===Xe||null===we&&Xe===me||null===Xe&&we===me)return!0;if(Se(we)&&Se(Xe))return we.getTime()===Xe.getTime();if(we instanceof Q.Z||we instanceof B.Z)return we.equalityTest(Xe);if(we instanceof I.Z&&Xe instanceof I.Z){const Dt=we.cache._arcadeCacheId,kt=Xe.cache._arcadeCacheId;if(null!=Dt)return Dt===kt}return void 0!==we&&void 0!==Xe&&null!==we&&null!==Xe&&"object"==typeof we&&"object"==typeof Xe&&(we._arcadeCacheId===Xe._arcadeCacheId&&null!=we._arcadeCacheId||we._underlyingGraphic===Xe._underlyingGraphic&&null!=we._underlyingGraphic)}function je(we,Xe){if(ue(we))return we;if(null===we)return"";if(le(we))return tt(we,Xe);if(ye(we))return we.toString();if(Se(we))return xe(we,Xe);if(we instanceof k.Z)return JSON.stringify(we.toJSON());if(Ce(we)){const Dt=[];for(let kt=0;kt<we.length;kt++)Dt[kt]=it(we[kt]);return"["+Dt.join(",")+"]"}if(we instanceof D.Z){const Dt=[];for(let kt=0;kt<we.length();kt++)Dt[kt]=it(we.get(kt));return"["+Dt.join(",")+"]"}return null!==we&&"object"==typeof we&&void 0!==we.castToText?we.castToText():ce(we)?"object, Function":""}function Ye(we){const Xe=[];if(!1===Ce(we))return null;if(we instanceof D.Z){for(let Dt=0;Dt<we.length();Dt++)Xe[Dt]=at(we.get(Dt));return Xe}for(let Dt=0;Dt<we.length;Dt++)Xe[Dt]=at(we[Dt]);return Xe}function pt(we,Xe){if(ue(we))return we;if(null===we)return"";if(le(we))return tt(we,Xe);if(ye(we))return we.toString();if(Se(we))return xe(we,Xe);if(we instanceof k.Z)return we instanceof ne.Z?'{"xmin":'+we.xmin.toString()+',"ymin":'+we.ymin.toString()+","+(we.hasZ?'"zmin":'+we.zmin.toString()+",":"")+(we.hasM?'"mmin":'+we.mmin.toString()+",":"")+'"xmax":'+we.xmax.toString()+',"ymax":'+we.ymax.toString()+","+(we.hasZ?'"zmax":'+we.zmax.toString()+",":"")+(we.hasM?'"mmax":'+we.mmax.toString()+",":"")+'"spatialReference":'+cn(we.spatialReference)+"}":cn(we.toJSON(),(Dt,kt)=>Dt.key===kt.key?0:"spatialReference"===Dt.key?1:"spatialReference"===kt.key||Dt.key<kt.key?-1:Dt.key>kt.key?1:0);if(Ce(we)){const Dt=[];for(let kt=0;kt<we.length;kt++)Dt[kt]=it(we[kt]);return"["+Dt.join(",")+"]"}if(we instanceof D.Z){const Dt=[];for(let kt=0;kt<we.length();kt++)Dt[kt]=it(we.get(kt));return"["+Dt.join(",")+"]"}return null!==we&&"object"==typeof we&&void 0!==we.castToText?we.castToText():ce(we)?"object, Function":""}function it(we){if(null===we)return"null";if(ye(we)||le(we)||ue(we))return JSON.stringify(we);if(we instanceof k.Z||we instanceof D.Z||we instanceof Array)return pt(we);if(we instanceof Date)return JSON.stringify(xe(we,""));if(null!==we&&"object"==typeof we){if(void 0!==we.castToText)return we.castToText()}else if(we===me)return"null";return"null"}function at(we,Xe){return le(we)?we:null===we||""===we?0:Se(we)?NaN:ye(we)?we?1:0:Ce(we)||""===we||void 0===we?NaN:void 0!==Xe&&ue(we)?(Xe=V(Xe,"\u2030",""),Xe=V(Xe,"\xa4",""),(0,re.Qc)(we,{pattern:Xe})):we===me?0:Number(we)}function ot(we){if(Se(we))return we;if(ue(we)){const Xe=_t(we);if(Xe)return Xe.toJSDate()}return null}function et(we){return Se(we)?Y.ou.fromJSDate(we):ue(we)?_t(we):null}function _t(we){const Xe=/ (\d\d)/;let Dt=Y.ou.fromISO(we);return Dt.isValid||Xe.test(we)&&(we=we.replace(Xe,"T$1"),Dt=Y.ou.fromISO(we),Dt.isValid)?Dt:null}function Ke(we){return ye(we)?we:ue(we)?"true"===(we=we.toLowerCase()):!!le(we)&&0!==we&&!isNaN(we)}function ct(we,Xe){return(0,Z.Wi)(we)?null:(null!=we.spatialReference||(we.spatialReference=Xe),we)}function Et(we){if(null===we)return null;if(we instanceof I.Z)return"NaN"===we.x||null===we.x||isNaN(we.x)?null:we;if(we instanceof x.Z){if(0===we.rings.length)return null;for(const Xe of we.rings)if(Xe.length>0)return we;return null}if(we instanceof $.Z){if(0===we.paths.length)return null;for(const Xe of we.paths)if(Xe.length>0)return we;return null}return we instanceof F.Z?0===we.points.length?null:we:we instanceof ne.Z?"NaN"===we.xmin||null===we.xmin||isNaN(we.xmin)?null:we:null}function Mt(we,Xe){if(!we||!we.domain)return Xe;let Dt=null;if("string"===we.field.type||"esriFieldTypeString"===we.field.type)Xe=je(Xe);else{if(null==Xe)return null;if(""===Xe)return Xe;Xe=at(Xe)}for(let kt=0;kt<we.domain.codedValues.length;kt++){const on=we.domain.codedValues[kt];on.code===Xe&&(Dt=on)}return null===Dt?Xe:Dt.name}function Gt(we,Xe){if(!we||!we.domain)return Xe;let Dt=null;Xe=je(Xe);for(let kt=0;kt<we.domain.codedValues.length;kt++){const on=we.domain.codedValues[kt];on.name===Xe&&(Dt=on)}return null===Dt?Xe:Dt.code}function $t(we,Xe,Dt=null,kt=null){if(!Xe||!Xe.fields)return null;let on,rt,Vt=null;for(let Zt=0;Zt<Xe.fields.length;Zt++){const nn=Xe.fields[Zt];nn.name.toLowerCase()===we.toString().toLowerCase()&&(Vt=nn)}if(null===Vt)throw new Error("Field not found");return null===kt&&Dt&&Xe.typeIdField&&(kt=Dt.hasField(Xe.typeIdField)?Dt.field(Xe.typeIdField):null),null!=kt&&Xe.types.some(function(Zt){return Zt.id===kt&&(on=Zt.domains&&Zt.domains[Vt.name],on&&"inherited"===on.type&&(on=Jt(Vt.name,Xe),rt=!0),!0)}),rt||on||(on=Jt(we,Xe)),{field:Vt,domain:on}}function Jt(we,Xe){let Dt;return Xe.fields.some(function(kt){return kt.name.toLowerCase()===we.toLowerCase()&&(Dt=kt.domain),!!Dt}),Dt}function cn(we,Xe){Xe||(Xe={}),"function"==typeof Xe&&(Xe={cmp:Xe});const Dt="boolean"==typeof Xe.cycles&&Xe.cycles,kt=Xe.cmp&&(on=Xe.cmp,function(Vt){return function(Zt,nn){return on({key:Zt,value:Vt[Zt]},{key:nn,value:Vt[nn]})}});var on;const rt=[];return function Vt(Zt){if(Zt&&Zt.toJSON&&"function"==typeof Zt.toJSON&&(Zt=Zt.toJSON()),void 0===Zt)return;if("number"==typeof Zt)return isFinite(Zt)?""+Zt:"null";if("object"!=typeof Zt)return JSON.stringify(Zt);let nn,fn;if(Array.isArray(Zt)){for(fn="[",nn=0;nn<Zt.length;nn++)nn&&(fn+=","),fn+=Vt(Zt[nn])||"null";return fn+"]"}if(null===Zt)return"null";if(-1!==rt.indexOf(Zt)){if(Dt)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Nn=rt.push(Zt)-1,pr=Object.keys(Zt).sort(kt&&kt(Zt));for(fn="",nn=0;nn<pr.length;nn++){const Or=pr[nn],ar=Vt(Zt[Or]);ar&&(fn&&(fn+=","),fn+=JSON.stringify(Or)+":"+ar)}return rt.splice(Nn,1),"{"+fn+"}"}(we)}function xn(we){if(null===we)return null;const Xe=[];for(const Dt of we)Xe.push(Dt&&Dt.arcadeDeclaredClass&&"esri.arcade.Feature"===Dt.arcadeDeclaredClass?Dt.geometry():Dt);return Xe}function pn(we,Xe){if(!(Xe instanceof I.Z))throw new Error("Invalid Argument");we.push(Xe.hasZ?Xe.hasM?[Xe.x,Xe.y,Xe.z,Xe.m]:[Xe.x,Xe.y,Xe.z]:[Xe.x,Xe.y])}function An(we,Xe){if(Ce(we)||Ge(we)){let Dt=!1,kt=!1,on=[],rt=Xe;if(Ce(we)){for(const Vt of we)pn(on,Vt);on.length>0&&(rt=we[0].spatialReference,Dt=we[0].hasZ,kt=we[0].hasM)}else if(we instanceof B.Z)on=we._elements,on.length>0&&(Dt=we._hasZ,kt=we._hasM,rt=we.get(0).spatialReference);else{if(!Ge(we))throw new Error("Invalid Argument");for(const Vt of we.toArray())pn(on,Vt);on.length>0&&(rt=we.get(0).spatialReference,Dt=!0===we.get(0).hasZ,kt=!0===we.get(0).hasM)}return 0===on.length?null:(!1===(0,X.bu)(on,kt,Dt)&&(on=on.slice(0).reverse()),new x.Z({rings:[on],spatialReference:rt,hasZ:Dt,hasM:kt}))}return we}function Pn(we,Xe){if(Ce(we)||Ge(we)){let Dt=!1,kt=!1,on=[],rt=Xe;if(Ce(we)){for(const Vt of we)pn(on,Vt);on.length>0&&(rt=we[0].spatialReference,Dt=!0===we[0].hasZ,kt=!0===we[0].hasM)}else if(we instanceof B.Z)on=we._elements,on.length>0&&(Dt=we._hasZ,kt=we._hasM,rt=we.get(0).spatialReference);else if(Ge(we)){for(const Vt of we.toArray())pn(on,Vt);on.length>0&&(rt=we.get(0).spatialReference,Dt=!0===we.get(0).hasZ,kt=!0===we.get(0).hasM)}return 0===on.length?null:new $.Z({paths:[on],spatialReference:rt,hasZ:Dt,hasM:kt})}return we}function Sn(we,Xe){if(Ce(we)||Ge(we)){let Dt=!1,kt=!1,on=[],rt=Xe;if(Ce(we)){for(const Vt of we)pn(on,Vt);on.length>0&&(rt=we[0].spatialReference,Dt=!0===we[0].hasZ,kt=!0===we[0].hasM)}else if(we instanceof B.Z)on=we._elements,on.length>0&&(Dt=we._hasZ,kt=we._hasM,rt=we.get(0).spatialReference);else if(Ge(we)){for(const Vt of we.toArray())pn(on,Vt);on.length>0&&(rt=we.get(0).spatialReference,Dt=!0===we.get(0).hasZ,kt=!0===we.get(0).hasM)}return 0===on.length?null:new F.Z({points:on,spatialReference:rt,hasZ:Dt,hasM:kt})}return we}function ut(we,Xe=!1){const Dt=[];if(null===we)return Dt;if(!0===Ce(we)){for(let kt=0;kt<we.length;kt++){const on=je(we[kt]);""===on&&!0!==Xe||Dt.push(on)}return Dt}if(we instanceof D.Z){for(let kt=0;kt<we.length();kt++){const on=je(we.get(kt));""===on&&!0!==Xe||Dt.push(on)}return Dt}if(ae(we)){const kt=je(we);return""===kt&&!0!==Xe||Dt.push(kt),Dt}return[]}let bt=0;function xt(we){return bt++,bt%100==0?(bt=0,(0,N.Ue)(Xe=>{setTimeout(()=>{Xe(we)},0)})):we}function Wt(we,Xe,Dt){switch(Dt){case"&":return we&Xe;case"|":return we|Xe;case"^":return we^Xe;case"<<":return we<<Xe;case">>":return we>>Xe;case">>>":return we>>>Xe}}function Kt(we,Xe=null){return null==we?null:ye(we)||le(we)||ue(we)?we:we instanceof k.Z?!0===(null==Xe?void 0:Xe.keepGeometryType)?we:we.toJSON():we instanceof D.Z?we.toArray().map(Dt=>Kt(Dt,Xe)):we instanceof Array?we.map(Dt=>Kt(Dt,Xe)):we instanceof Date?we:null!==we&&"object"==typeof we&&void 0!==we.castAsJson?we.castAsJson(Xe):null}function At(we,Xe,Dt,kt,on){return Ht(we,Xe,Dt).then(rt=>{on[kt]=rt})}function Ht(we,Xe=null,Dt=null){if(we instanceof D.Z&&(we=we.toArray()),null==we)return(0,N.DB)(null);if(ae(we)||we instanceof k.Z||we instanceof Date)return(0,N.DB)(Kt(we,Dt));if(we instanceof Array){const kt=[],on=[];for(const rt of we)null===rt||ae(rt)||rt instanceof k.Z||rt instanceof Date?on.push(Kt(rt,Dt)):(on.push(null),kt.push(At(rt,Xe,Dt,on.length-1,on)));return kt.length>0?(0,N.$6)(kt).then(()=>on):(0,N.DB)(on)}return null!==we&&"object"==typeof we&&void 0!==we.castAsJsonAsync?we.castAsJsonAsync(Xe,Dt):(0,N.DB)(null)}function Yt(we,Xe,Dt){const kt=we.fullSchema();return null!==kt&&kt.fields?$t(Xe,kt,we,Dt):null}function sn(we){const Xe=we.fullSchema();return null===Xe?null:Xe.fields&&Xe.typeIdField?{subtypeField:Xe.typeIdField,subtypes:Xe.types?Xe.types.map(Dt=>({name:Dt.name,code:Dt.id})):[]}:null}function Ct(we,Xe,Dt,kt){const on=we.fullSchema();if(null===on||!on.fields)return null;const rt=$t(Xe,on,we,kt);if(void 0===Dt)try{Dt=we.field(Xe)}catch(Vt){return null}return Mt(rt,Dt)}function mt(we,Xe,Dt,kt){const on=we.fullSchema();if(null===on||!on.fields)return null;if(void 0===Dt){try{Dt=we.field(Xe)}catch(rt){return null}return Dt}return Gt($t(Xe,on,we,kt),Dt)}function ze(we){const Xe=we.fullSchema();if(null===Xe||!Xe.fields)return null;const Dt=[];for(const kt of Xe.fields)Dt.push((0,T.Sh)(kt));return{objectIdField:Xe.objectIdField,globalIdField:Xe.globalIdField,geometryType:void 0===T.q2[Xe.geometryType]?"":T.q2[Xe.geometryType],fields:Dt}}const ht=Object.freeze({__proto__:null,ReturnResultE:P,ImplicitResultE:j,NativeFunctionE:K,SizzleFunctionE:W,NativeFunction:te,ImplicitResult:J,ReturnResult:he,SizzleFunction:oe,voidOperation:me,breakResult:de,continueResult:ie,multiReplace:V,isFunctionParameter:ce,isSimpleType:ae,defaultUndefined:pe,isString:ue,isBoolean:ye,isNumber:le,isInteger:se,isArray:Ce,isFeature:ge,isFeatureSet:Pe,isFeatureSetCollection:Ee,isImmutableArray:Ge,isDate:Se,pcCheck:ve,absRound:Te,generateUUID:Ze,formatNumber:tt,formatDate:xe,standardiseDateFormat:Ve,greaterThanLessThan:ee,equalityTest:_e,toString:je,toNumberArray:Ye,toStringExplicit:pt,toNumber:at,toDate:ot,toDateTime:et,toBoolean:Ke,fixSpatialReference:ct,fixNullGeometry:Et,getDomainValue:Mt,getDomainCode:Gt,getDomain:$t,stableStringify:cn,autoCastFeatureToGeometry:xn,autoCastArrayOfPointsToPolygon:An,autoCastArrayOfPointsToPolyline:Pn,autoCastArrayOfPointsToMultiPoint:Sn,toStringArray:ut,tick:xt,binaryOperator:Wt,castAsJson:Kt,castAsJsonAsync:Ht,featureFullDomain:Yt,featureSubtypes:sn,featureDomainValueLookup:Ct,featureDomainCodeLookup:mt,featureSchema:ze})},31478:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>Z,b:()=>$,c:()=>Q,f:()=>Y,i:()=>N,m:()=>k,r:()=>F,s:()=>I,t:()=>x});var M=E(39863);function Q(oe){return oe[0]=1,oe[1]=0,oe[2]=0,oe[3]=1,oe[4]=0,oe[5]=0,oe}function N(oe,me){const de=me[0],ie=me[1],V=me[2],ce=me[3],ae=me[4],pe=me[5];let ue=de*ce-ie*V;return ue?(ue=1/ue,oe[0]=ce*ue,oe[1]=-ie*ue,oe[2]=-V*ue,oe[3]=de*ue,oe[4]=(V*pe-ce*ae)*ue,oe[5]=(ie*ae-de*pe)*ue,oe):null}function k(oe,me,de){const ie=me[0],V=me[1],ce=me[2],ae=me[3],pe=me[4],ue=me[5],ye=de[0],le=de[1],se=de[2],Ce=de[3],ge=de[4],Pe=de[5];return oe[0]=ie*ye+ce*le,oe[1]=V*ye+ae*le,oe[2]=ie*se+ce*Ce,oe[3]=V*se+ae*Ce,oe[4]=ie*ge+ce*Pe+pe,oe[5]=V*ge+ae*Pe+ue,oe}function F(oe,me,de){const ie=me[0],V=me[1],ce=me[2],ae=me[3],pe=me[4],ue=me[5],ye=Math.sin(de),le=Math.cos(de);return oe[0]=ie*le+ce*ye,oe[1]=V*le+ae*ye,oe[2]=ie*-ye+ce*le,oe[3]=V*-ye+ae*le,oe[4]=pe,oe[5]=ue,oe}function I(oe,me,de){const V=me[1],ce=me[2],ae=me[3],pe=me[4],ue=me[5],ye=de[0],le=de[1];return oe[0]=me[0]*ye,oe[1]=V*ye,oe[2]=ce*le,oe[3]=ae*le,oe[4]=pe,oe[5]=ue,oe}function x(oe,me,de){const ie=me[0],V=me[1],ce=me[2],ae=me[3],pe=me[4],ue=me[5],ye=de[0],le=de[1];return oe[0]=ie,oe[1]=V,oe[2]=ce,oe[3]=ae,oe[4]=ie*ye+ce*le+pe,oe[5]=V*ye+ae*le+ue,oe}function $(oe,me){const de=Math.sin(me),ie=Math.cos(me);return oe[0]=ie,oe[1]=de,oe[2]=-de,oe[3]=ie,oe[4]=0,oe[5]=0,oe}function Y(oe,me){return oe[0]=me[0],oe[1]=0,oe[2]=0,oe[3]=me[1],oe[4]=0,oe[5]=0,oe}function Z(oe,me){return oe[0]=1,oe[1]=0,oe[2]=0,oe[3]=1,oe[4]=me[0],oe[5]=me[1],oe}function T(oe,me,de){return oe[0]=me[0]-de[0],oe[1]=me[1]-de[1],oe[2]=me[2]-de[2],oe[3]=me[3]-de[3],oe[4]=me[4]-de[4],oe[5]=me[5]-de[5],oe}Object.freeze({__proto__:null,copy:function D(oe,me){return oe[0]=me[0],oe[1]=me[1],oe[2]=me[2],oe[3]=me[3],oe[4]=me[4],oe[5]=me[5],oe},identity:Q,set:function B(oe,me,de,ie,V,ce,ae){return oe[0]=me,oe[1]=de,oe[2]=ie,oe[3]=V,oe[4]=ce,oe[5]=ae,oe},invert:N,determinant:function ne(oe){return oe[0]*oe[3]-oe[1]*oe[2]},multiply:k,rotate:F,scale:I,translate:x,fromRotation:$,fromScaling:Y,fromTranslation:Z,str:function re(oe){return"mat2d("+oe[0]+", "+oe[1]+", "+oe[2]+", "+oe[3]+", "+oe[4]+", "+oe[5]+")"},frob:function X(oe){return Math.sqrt(oe[0]**2+oe[1]**2+oe[2]**2+oe[3]**2+oe[4]**2+oe[5]**2+1)},add:function L(oe,me,de){return oe[0]=me[0]+de[0],oe[1]=me[1]+de[1],oe[2]=me[2]+de[2],oe[3]=me[3]+de[3],oe[4]=me[4]+de[4],oe[5]=me[5]+de[5],oe},subtract:T,multiplyScalar:function P(oe,me,de){return oe[0]=me[0]*de,oe[1]=me[1]*de,oe[2]=me[2]*de,oe[3]=me[3]*de,oe[4]=me[4]*de,oe[5]=me[5]*de,oe},multiplyScalarAndAdd:function j(oe,me,de,ie){return oe[0]=me[0]+de[0]*ie,oe[1]=me[1]+de[1]*ie,oe[2]=me[2]+de[2]*ie,oe[3]=me[3]+de[3]*ie,oe[4]=me[4]+de[4]*ie,oe[5]=me[5]+de[5]*ie,oe},exactEquals:function K(oe,me){return oe[0]===me[0]&&oe[1]===me[1]&&oe[2]===me[2]&&oe[3]===me[3]&&oe[4]===me[4]&&oe[5]===me[5]},equals:function W(oe,me){const de=oe[0],ie=oe[1],V=oe[2],ce=oe[3],ae=oe[4],pe=oe[5],ue=me[0],ye=me[1],le=me[2],se=me[3],Ce=me[4],ge=me[5];return Math.abs(de-ue)<=M.E*Math.max(1,Math.abs(de),Math.abs(ue))&&Math.abs(ie-ye)<=M.E*Math.max(1,Math.abs(ie),Math.abs(ye))&&Math.abs(V-le)<=M.E*Math.max(1,Math.abs(V),Math.abs(le))&&Math.abs(ce-se)<=M.E*Math.max(1,Math.abs(ce),Math.abs(se))&&Math.abs(ae-Ce)<=M.E*Math.max(1,Math.abs(ae),Math.abs(Ce))&&Math.abs(pe-ge)<=M.E*Math.max(1,Math.abs(pe),Math.abs(ge))},mul:k,sub:T})},12225:(qe,Me,E)=>{"use strict";function M(){const F=new Float32Array(6);return F[0]=1,F[3]=1,F}function N(F,I,x,$){const Y=I[$],Z=I[$+1];F[$]=x[0]*Y+x[2]*Z+x[4],F[$+1]=x[1]*Y+x[3]*Z+x[5]}function ne(F,I,x,$=0,Y=0,Z=2){const re=Y||I.length/Z;for(let X=$;X<re;X++)N(F,I,x,X*Z)}E.d(Me,{c:()=>M,t:()=>ne}),Object.freeze({__proto__:null,create:M,clone:function D(F){const I=new Float32Array(6);return I[0]=F[0],I[1]=F[1],I[2]=F[2],I[3]=F[3],I[4]=F[4],I[5]=F[5],I},fromValues:function Q(F,I,x,$,Y,Z){const re=new Float32Array(6);return re[0]=F,re[1]=I,re[2]=x,re[3]=$,re[4]=Y,re[5]=Z,re},createView:function B(F,I){return new Float32Array(F,I,6)},transform:N,transformMany:ne})},46342:(qe,Me,E)=>{"use strict";function M(){return[1,0,0,1,0,0]}E.d(Me,{c:()=>M}),Object.freeze({__proto__:null,create:M,clone:function D(ne){return[ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]]},fromValues:function Q(ne,k,F,I,x,$){return[ne,k,F,I,x,$]},createView:function B(ne,k){return new Float64Array(ne,k,6)}})},30217:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>W,b:()=>N,c:()=>$,d:()=>Z,f:()=>D,i:()=>ae,j:()=>re,l:()=>X,m:()=>x,r:()=>Y,s:()=>B,t:()=>ne});var M=E(39863);function D(le,se){return le[0]=se[0],le[1]=se[1],le[2]=se[2],le[3]=se[4],le[4]=se[5],le[5]=se[6],le[6]=se[8],le[7]=se[9],le[8]=se[10],le}function B(le,se,Ce,ge,Pe,Ee,Ge,Se,ve,Te){return le[0]=se,le[1]=Ce,le[2]=ge,le[3]=Pe,le[4]=Ee,le[5]=Ge,le[6]=Se,le[7]=ve,le[8]=Te,le}function N(le){return le[0]=1,le[1]=0,le[2]=0,le[3]=0,le[4]=1,le[5]=0,le[6]=0,le[7]=0,le[8]=1,le}function ne(le,se){if(le===se){const Ce=se[1],ge=se[2],Pe=se[5];le[1]=se[3],le[2]=se[6],le[3]=Ce,le[5]=se[7],le[6]=ge,le[7]=Pe}else le[0]=se[0],le[1]=se[3],le[2]=se[6],le[3]=se[1],le[4]=se[4],le[5]=se[7],le[6]=se[2],le[7]=se[5],le[8]=se[8];return le}function x(le,se,Ce){const ge=se[0],Pe=se[1],Ee=se[2],Ge=se[3],Se=se[4],ve=se[5],Te=se[6],Ze=se[7],tt=se[8],xe=Ce[0],Ve=Ce[1],He=Ce[2],ee=Ce[3],_e=Ce[4],je=Ce[5],Ye=Ce[6],pt=Ce[7],it=Ce[8];return le[0]=xe*ge+Ve*Ge+He*Te,le[1]=xe*Pe+Ve*Se+He*Ze,le[2]=xe*Ee+Ve*ve+He*tt,le[3]=ee*ge+_e*Ge+je*Te,le[4]=ee*Pe+_e*Se+je*Ze,le[5]=ee*Ee+_e*ve+je*tt,le[6]=Ye*ge+pt*Ge+it*Te,le[7]=Ye*Pe+pt*Se+it*Ze,le[8]=Ye*Ee+pt*ve+it*tt,le}function $(le,se,Ce){const ge=se[0],Pe=se[1],Ee=se[2],Ge=se[3],Se=se[4],ve=se[5],Te=se[6],Ze=se[7],tt=se[8],xe=Ce[0],Ve=Ce[1];return le[0]=ge,le[1]=Pe,le[2]=Ee,le[3]=Ge,le[4]=Se,le[5]=ve,le[6]=xe*ge+Ve*Ge+Te,le[7]=xe*Pe+Ve*Se+Ze,le[8]=xe*Ee+Ve*ve+tt,le}function Y(le,se,Ce){const ge=se[0],Pe=se[1],Ee=se[2],Ge=se[3],Se=se[4],ve=se[5],Te=se[6],Ze=se[7],tt=se[8],xe=Math.sin(Ce),Ve=Math.cos(Ce);return le[0]=Ve*ge+xe*Ge,le[1]=Ve*Pe+xe*Se,le[2]=Ve*Ee+xe*ve,le[3]=Ve*Ge-xe*ge,le[4]=Ve*Se-xe*Pe,le[5]=Ve*ve-xe*Ee,le[6]=Te,le[7]=Ze,le[8]=tt,le}function Z(le,se,Ce){const ge=Ce[0],Pe=Ce[1],Ee=Ce[2];return le[0]=ge*se[0],le[1]=ge*se[1],le[2]=ge*se[2],le[3]=Pe*se[3],le[4]=Pe*se[4],le[5]=Pe*se[5],le[6]=Ee*se[6],le[7]=Ee*se[7],le[8]=Ee*se[8],le}function re(le,se,Ce){const ge=Ce[0],Pe=Ce[1];return le[0]=ge*se[0],le[1]=ge*se[1],le[2]=ge*se[2],le[3]=Pe*se[3],le[4]=Pe*se[4],le[5]=Pe*se[5],le}function X(le,se){return le[0]=1,le[1]=0,le[2]=0,le[3]=0,le[4]=1,le[5]=0,le[6]=se[0],le[7]=se[1],le[8]=1,le}function W(le,se){const Ce=se[0],ge=se[1],Pe=se[2],Ee=se[3],Ge=se[4],Se=se[5],ve=se[6],Te=se[7],Ze=se[8],tt=se[9],xe=se[10],Ve=se[11],He=se[12],ee=se[13],_e=se[14],je=se[15],Ye=Ce*Se-ge*Ge,pt=Ce*ve-Pe*Ge,it=Ce*Te-Ee*Ge,at=ge*ve-Pe*Se,ot=ge*Te-Ee*Se,et=Pe*Te-Ee*ve,_t=Ze*ee-tt*He,Ke=Ze*_e-xe*He,ct=Ze*je-Ve*He,Et=tt*_e-xe*ee,Mt=tt*je-Ve*ee,Gt=xe*je-Ve*_e;let $t=Ye*Gt-pt*Mt+it*Et+at*ct-ot*Ke+et*_t;return $t?($t=1/$t,le[0]=(Se*Gt-ve*Mt+Te*Et)*$t,le[1]=(ve*ct-Ge*Gt-Te*Ke)*$t,le[2]=(Ge*Mt-Se*ct+Te*_t)*$t,le[3]=(Pe*Mt-ge*Gt-Ee*Et)*$t,le[4]=(Ce*Gt-Pe*ct+Ee*Ke)*$t,le[5]=(ge*ct-Ce*Mt-Ee*_t)*$t,le[6]=(ee*et-_e*ot+je*at)*$t,le[7]=(_e*it-He*et-je*pt)*$t,le[8]=(He*ot-ee*it+je*Ye)*$t,le):null}function me(le,se,Ce){return le[0]=se[0]-Ce[0],le[1]=se[1]-Ce[1],le[2]=se[2]-Ce[2],le[3]=se[3]-Ce[3],le[4]=se[4]-Ce[4],le[5]=se[5]-Ce[5],le[6]=se[6]-Ce[6],le[7]=se[7]-Ce[7],le[8]=se[8]-Ce[8],le}function ae(le){const se=M.E,Ce=le[0],ge=le[1],Pe=le[2],Ee=le[3],Ge=le[4],Se=le[5],ve=le[6],Te=le[7],Ze=le[8];return Math.abs(1-(Ce*Ce+Ee*Ee+ve*ve))<=se&&Math.abs(1-(ge*ge+Ge*Ge+Te*Te))<=se&&Math.abs(1-(Pe*Pe+Se*Se+Ze*Ze))<=se}Object.freeze({__proto__:null,fromMat4:D,copy:function Q(le,se){return le[0]=se[0],le[1]=se[1],le[2]=se[2],le[3]=se[3],le[4]=se[4],le[5]=se[5],le[6]=se[6],le[7]=se[7],le[8]=se[8],le},set:B,identity:N,transpose:ne,invert:function k(le,se){const Ce=se[0],ge=se[1],Pe=se[2],Ee=se[3],Ge=se[4],Se=se[5],ve=se[6],Te=se[7],Ze=se[8],tt=Ze*Ge-Se*Te,xe=-Ze*Ee+Se*ve,Ve=Te*Ee-Ge*ve;let He=Ce*tt+ge*xe+Pe*Ve;return He?(He=1/He,le[0]=tt*He,le[1]=(-Ze*ge+Pe*Te)*He,le[2]=(Se*ge-Pe*Ge)*He,le[3]=xe*He,le[4]=(Ze*Ce-Pe*ve)*He,le[5]=(-Se*Ce+Pe*Ee)*He,le[6]=Ve*He,le[7]=(-Te*Ce+ge*ve)*He,le[8]=(Ge*Ce-ge*Ee)*He,le):null},adjoint:function F(le,se){const Ce=se[0],ge=se[1],Pe=se[2],Ee=se[3],Ge=se[4],Se=se[5],ve=se[6],Te=se[7],Ze=se[8];return le[0]=Ge*Ze-Se*Te,le[1]=Pe*Te-ge*Ze,le[2]=ge*Se-Pe*Ge,le[3]=Se*ve-Ee*Ze,le[4]=Ce*Ze-Pe*ve,le[5]=Pe*Ee-Ce*Se,le[6]=Ee*Te-Ge*ve,le[7]=ge*ve-Ce*Te,le[8]=Ce*Ge-ge*Ee,le},determinant:function I(le){const Pe=le[3],Ee=le[4],Ge=le[5],Se=le[6],ve=le[7],Te=le[8];return le[0]*(Te*Ee-Ge*ve)+le[1]*(-Te*Pe+Ge*Se)+le[2]*(ve*Pe-Ee*Se)},multiply:x,translate:$,rotate:Y,scale:Z,scaleByVec2:re,fromTranslation:X,fromRotation:function L(le,se){const Ce=Math.sin(se),ge=Math.cos(se);return le[0]=ge,le[1]=Ce,le[2]=0,le[3]=-Ce,le[4]=ge,le[5]=0,le[6]=0,le[7]=0,le[8]=1,le},fromScaling:function T(le,se){return le[0]=se[0],le[1]=0,le[2]=0,le[3]=0,le[4]=se[1],le[5]=0,le[6]=0,le[7]=0,le[8]=1,le},fromMat2d:function P(le,se){return le[0]=se[0],le[1]=se[1],le[2]=0,le[3]=se[2],le[4]=se[3],le[5]=0,le[6]=se[4],le[7]=se[5],le[8]=1,le},fromQuat:function j(le,se){const Ce=se[0],ge=se[1],Pe=se[2],Ee=se[3],Ge=Ce+Ce,Se=ge+ge,ve=Pe+Pe,Te=Ce*Ge,Ze=ge*Ge,tt=ge*Se,xe=Pe*Ge,Ve=Pe*Se,He=Pe*ve,ee=Ee*Ge,_e=Ee*Se,je=Ee*ve;return le[0]=1-tt-He,le[3]=Ze-je,le[6]=xe+_e,le[1]=Ze+je,le[4]=1-Te-He,le[7]=Ve-ee,le[2]=xe-_e,le[5]=Ve+ee,le[8]=1-Te-tt,le},normalFromMat4Legacy:function K(le,se){const Ce=se[0],ge=se[1],Pe=se[2],Ee=se[4],Ge=se[5],Se=se[6],ve=se[8],Te=se[9],Ze=se[10],tt=Ze*Ge-Se*Te,xe=-Ze*Ee+Se*ve,Ve=Te*Ee-Ge*ve,He=Ce*tt+ge*xe+Pe*Ve;if(!He)return null;const ee=1/He;return le[0]=tt*ee,le[1]=(-Ze*ge+Pe*Te)*ee,le[2]=(Se*ge-Pe*Ge)*ee,le[3]=xe*ee,le[4]=(Ze*Ce-Pe*ve)*ee,le[5]=(-Se*Ce+Pe*Ee)*ee,le[6]=Ve*ee,le[7]=(-Te*Ce+ge*ve)*ee,le[8]=(Ge*Ce-ge*Ee)*ee,le},normalFromMat4:W,projection:function te(le,se,Ce){return le[0]=2/se,le[1]=0,le[2]=0,le[3]=0,le[4]=-2/Ce,le[5]=0,le[6]=-1,le[7]=1,le[8]=1,le},str:function J(le){return"mat3("+le[0]+", "+le[1]+", "+le[2]+", "+le[3]+", "+le[4]+", "+le[5]+", "+le[6]+", "+le[7]+", "+le[8]+")"},frob:function he(le){return Math.sqrt(le[0]**2+le[1]**2+le[2]**2+le[3]**2+le[4]**2+le[5]**2+le[6]**2+le[7]**2+le[8]**2)},add:function oe(le,se,Ce){return le[0]=se[0]+Ce[0],le[1]=se[1]+Ce[1],le[2]=se[2]+Ce[2],le[3]=se[3]+Ce[3],le[4]=se[4]+Ce[4],le[5]=se[5]+Ce[5],le[6]=se[6]+Ce[6],le[7]=se[7]+Ce[7],le[8]=se[8]+Ce[8],le},subtract:me,multiplyScalar:function de(le,se,Ce){return le[0]=se[0]*Ce,le[1]=se[1]*Ce,le[2]=se[2]*Ce,le[3]=se[3]*Ce,le[4]=se[4]*Ce,le[5]=se[5]*Ce,le[6]=se[6]*Ce,le[7]=se[7]*Ce,le[8]=se[8]*Ce,le},multiplyScalarAndAdd:function ie(le,se,Ce,ge){return le[0]=se[0]+Ce[0]*ge,le[1]=se[1]+Ce[1]*ge,le[2]=se[2]+Ce[2]*ge,le[3]=se[3]+Ce[3]*ge,le[4]=se[4]+Ce[4]*ge,le[5]=se[5]+Ce[5]*ge,le[6]=se[6]+Ce[6]*ge,le[7]=se[7]+Ce[7]*ge,le[8]=se[8]+Ce[8]*ge,le},exactEquals:function V(le,se){return le[0]===se[0]&&le[1]===se[1]&&le[2]===se[2]&&le[3]===se[3]&&le[4]===se[4]&&le[5]===se[5]&&le[6]===se[6]&&le[7]===se[7]&&le[8]===se[8]},equals:function ce(le,se){const Ce=le[0],ge=le[1],Pe=le[2],Ee=le[3],Ge=le[4],Se=le[5],ve=le[6],Te=le[7],Ze=le[8],tt=se[0],xe=se[1],Ve=se[2],He=se[3],ee=se[4],_e=se[5],je=se[6],Ye=se[7],pt=se[8];return Math.abs(Ce-tt)<=M.E*Math.max(1,Math.abs(Ce),Math.abs(tt))&&Math.abs(ge-xe)<=M.E*Math.max(1,Math.abs(ge),Math.abs(xe))&&Math.abs(Pe-Ve)<=M.E*Math.max(1,Math.abs(Pe),Math.abs(Ve))&&Math.abs(Ee-He)<=M.E*Math.max(1,Math.abs(Ee),Math.abs(He))&&Math.abs(Ge-ee)<=M.E*Math.max(1,Math.abs(Ge),Math.abs(ee))&&Math.abs(Se-_e)<=M.E*Math.max(1,Math.abs(Se),Math.abs(_e))&&Math.abs(ve-je)<=M.E*Math.max(1,Math.abs(ve),Math.abs(je))&&Math.abs(Te-Ye)<=M.E*Math.max(1,Math.abs(Te),Math.abs(Ye))&&Math.abs(Ze-pt)<=M.E*Math.max(1,Math.abs(Ze),Math.abs(pt))},isOrthoNormal:ae,mul:x,sub:me})},49966:(qe,Me,E)=>{"use strict";function M(){const ne=new Float32Array(9);return ne[0]=1,ne[4]=1,ne[8]=1,ne}function D(ne){const k=new Float32Array(9);return k[0]=ne[0],k[1]=ne[1],k[2]=ne[2],k[3]=ne[3],k[4]=ne[4],k[5]=ne[5],k[6]=ne[6],k[7]=ne[7],k[8]=ne[8],k}E.d(Me,{a:()=>D,c:()=>M}),Object.freeze({__proto__:null,create:M,clone:D,fromValues:function Q(ne,k,F,I,x,$,Y,Z,re){const X=new Float32Array(9);return X[0]=ne,X[1]=k,X[2]=F,X[3]=I,X[4]=x,X[5]=$,X[6]=Y,X[7]=Z,X[8]=re,X},createView:function B(ne,k){return new Float32Array(ne,k,9)}})},28347:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>k,d:()=>j,e:()=>Z,f:()=>T,h:()=>Y,i:()=>N,j:()=>$,m:()=>x,p:()=>tt,s:()=>B,t:()=>ne,u:()=>P,v:()=>Ze,w:()=>Te,y:()=>K});var M=E(28093),D=E(39863);function B(ee,_e,je,Ye,pt,it,at,ot,et,_t,Ke,ct,Et,Mt,Gt,$t,Jt){return ee[0]=_e,ee[1]=je,ee[2]=Ye,ee[3]=pt,ee[4]=it,ee[5]=at,ee[6]=ot,ee[7]=et,ee[8]=_t,ee[9]=Ke,ee[10]=ct,ee[11]=Et,ee[12]=Mt,ee[13]=Gt,ee[14]=$t,ee[15]=Jt,ee}function N(ee){return ee[0]=1,ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0,ee[5]=1,ee[6]=0,ee[7]=0,ee[8]=0,ee[9]=0,ee[10]=1,ee[11]=0,ee[12]=0,ee[13]=0,ee[14]=0,ee[15]=1,ee}function ne(ee,_e){if(ee===_e){const je=_e[1],Ye=_e[2],pt=_e[3],it=_e[6],at=_e[7],ot=_e[11];ee[1]=_e[4],ee[2]=_e[8],ee[3]=_e[12],ee[4]=je,ee[6]=_e[9],ee[7]=_e[13],ee[8]=Ye,ee[9]=it,ee[11]=_e[14],ee[12]=pt,ee[13]=at,ee[14]=ot}else ee[0]=_e[0],ee[1]=_e[4],ee[2]=_e[8],ee[3]=_e[12],ee[4]=_e[1],ee[5]=_e[5],ee[6]=_e[9],ee[7]=_e[13],ee[8]=_e[2],ee[9]=_e[6],ee[10]=_e[10],ee[11]=_e[14],ee[12]=_e[3],ee[13]=_e[7],ee[14]=_e[11],ee[15]=_e[15];return ee}function k(ee,_e){const je=_e[0],Ye=_e[1],pt=_e[2],it=_e[3],at=_e[4],ot=_e[5],et=_e[6],_t=_e[7],Ke=_e[8],ct=_e[9],Et=_e[10],Mt=_e[11],Gt=_e[12],$t=_e[13],Jt=_e[14],cn=_e[15],xn=je*ot-Ye*at,pn=je*et-pt*at,An=je*_t-it*at,Pn=Ye*et-pt*ot,Sn=Ye*_t-it*ot,ut=pt*_t-it*et,bt=Ke*$t-ct*Gt,xt=Ke*Jt-Et*Gt,Wt=Ke*cn-Mt*Gt,Kt=ct*Jt-Et*$t,At=ct*cn-Mt*$t,Ht=Et*cn-Mt*Jt;let Yt=xn*Ht-pn*At+An*Kt+Pn*Wt-Sn*xt+ut*bt;return Yt?(Yt=1/Yt,ee[0]=(ot*Ht-et*At+_t*Kt)*Yt,ee[1]=(pt*At-Ye*Ht-it*Kt)*Yt,ee[2]=($t*ut-Jt*Sn+cn*Pn)*Yt,ee[3]=(Et*Sn-ct*ut-Mt*Pn)*Yt,ee[4]=(et*Wt-at*Ht-_t*xt)*Yt,ee[5]=(je*Ht-pt*Wt+it*xt)*Yt,ee[6]=(Jt*An-Gt*ut-cn*pn)*Yt,ee[7]=(Ke*ut-Et*An+Mt*pn)*Yt,ee[8]=(at*At-ot*Wt+_t*bt)*Yt,ee[9]=(Ye*Wt-je*At-it*bt)*Yt,ee[10]=(Gt*Sn-$t*An+cn*xn)*Yt,ee[11]=(ct*An-Ke*Sn-Mt*xn)*Yt,ee[12]=(ot*xt-at*Kt-et*bt)*Yt,ee[13]=(je*Kt-Ye*xt+pt*bt)*Yt,ee[14]=($t*pn-Gt*Pn-Jt*xn)*Yt,ee[15]=(Ke*Pn-ct*pn+Et*xn)*Yt,ee):null}function x(ee,_e,je){const Ye=_e[0],pt=_e[1],it=_e[2],at=_e[3],ot=_e[4],et=_e[5],_t=_e[6],Ke=_e[7],ct=_e[8],Et=_e[9],Mt=_e[10],Gt=_e[11],$t=_e[12],Jt=_e[13],cn=_e[14],xn=_e[15];let pn=je[0],An=je[1],Pn=je[2],Sn=je[3];return ee[0]=pn*Ye+An*ot+Pn*ct+Sn*$t,ee[1]=pn*pt+An*et+Pn*Et+Sn*Jt,ee[2]=pn*it+An*_t+Pn*Mt+Sn*cn,ee[3]=pn*at+An*Ke+Pn*Gt+Sn*xn,pn=je[4],An=je[5],Pn=je[6],Sn=je[7],ee[4]=pn*Ye+An*ot+Pn*ct+Sn*$t,ee[5]=pn*pt+An*et+Pn*Et+Sn*Jt,ee[6]=pn*it+An*_t+Pn*Mt+Sn*cn,ee[7]=pn*at+An*Ke+Pn*Gt+Sn*xn,pn=je[8],An=je[9],Pn=je[10],Sn=je[11],ee[8]=pn*Ye+An*ot+Pn*ct+Sn*$t,ee[9]=pn*pt+An*et+Pn*Et+Sn*Jt,ee[10]=pn*it+An*_t+Pn*Mt+Sn*cn,ee[11]=pn*at+An*Ke+Pn*Gt+Sn*xn,pn=je[12],An=je[13],Pn=je[14],Sn=je[15],ee[12]=pn*Ye+An*ot+Pn*ct+Sn*$t,ee[13]=pn*pt+An*et+Pn*Et+Sn*Jt,ee[14]=pn*it+An*_t+Pn*Mt+Sn*cn,ee[15]=pn*at+An*Ke+Pn*Gt+Sn*xn,ee}function $(ee,_e,je){const Ye=je[0],pt=je[1],it=je[2];let at,ot,et,_t,Ke,ct,Et,Mt,Gt,$t,Jt,cn;return _e===ee?(ee[12]=_e[0]*Ye+_e[4]*pt+_e[8]*it+_e[12],ee[13]=_e[1]*Ye+_e[5]*pt+_e[9]*it+_e[13],ee[14]=_e[2]*Ye+_e[6]*pt+_e[10]*it+_e[14],ee[15]=_e[3]*Ye+_e[7]*pt+_e[11]*it+_e[15]):(at=_e[0],ot=_e[1],et=_e[2],_t=_e[3],Ke=_e[4],ct=_e[5],Et=_e[6],Mt=_e[7],Gt=_e[8],$t=_e[9],Jt=_e[10],cn=_e[11],ee[0]=at,ee[1]=ot,ee[2]=et,ee[3]=_t,ee[4]=Ke,ee[5]=ct,ee[6]=Et,ee[7]=Mt,ee[8]=Gt,ee[9]=$t,ee[10]=Jt,ee[11]=cn,ee[12]=at*Ye+Ke*pt+Gt*it+_e[12],ee[13]=ot*Ye+ct*pt+$t*it+_e[13],ee[14]=et*Ye+Et*pt+Jt*it+_e[14],ee[15]=_t*Ye+Mt*pt+cn*it+_e[15]),ee}function Y(ee,_e,je){const Ye=je[0],pt=je[1],it=je[2];return ee[0]=_e[0]*Ye,ee[1]=_e[1]*Ye,ee[2]=_e[2]*Ye,ee[3]=_e[3]*Ye,ee[4]=_e[4]*pt,ee[5]=_e[5]*pt,ee[6]=_e[6]*pt,ee[7]=_e[7]*pt,ee[8]=_e[8]*it,ee[9]=_e[9]*it,ee[10]=_e[10]*it,ee[11]=_e[11]*it,ee[12]=_e[12],ee[13]=_e[13],ee[14]=_e[14],ee[15]=_e[15],ee}function Z(ee,_e,je,Ye){let pt,it,at,ot,et,_t,Ke,ct,Et,Mt,Gt,$t,Jt,cn,xn,pn,An,Pn,Sn,ut,bt,xt,Wt,Kt,At=Ye[0],Ht=Ye[1],Yt=Ye[2],sn=Math.sqrt(At*At+Ht*Ht+Yt*Yt);return sn<D.E?null:(sn=1/sn,At*=sn,Ht*=sn,Yt*=sn,pt=Math.sin(je),it=Math.cos(je),at=1-it,ot=_e[0],et=_e[1],_t=_e[2],Ke=_e[3],ct=_e[4],Et=_e[5],Mt=_e[6],Gt=_e[7],$t=_e[8],Jt=_e[9],cn=_e[10],xn=_e[11],pn=At*At*at+it,An=Ht*At*at+Yt*pt,Pn=Yt*At*at-Ht*pt,Sn=At*Ht*at-Yt*pt,ut=Ht*Ht*at+it,bt=Yt*Ht*at+At*pt,xt=At*Yt*at+Ht*pt,Wt=Ht*Yt*at-At*pt,Kt=Yt*Yt*at+it,ee[0]=ot*pn+ct*An+$t*Pn,ee[1]=et*pn+Et*An+Jt*Pn,ee[2]=_t*pn+Mt*An+cn*Pn,ee[3]=Ke*pn+Gt*An+xn*Pn,ee[4]=ot*Sn+ct*ut+$t*bt,ee[5]=et*Sn+Et*ut+Jt*bt,ee[6]=_t*Sn+Mt*ut+cn*bt,ee[7]=Ke*Sn+Gt*ut+xn*bt,ee[8]=ot*xt+ct*Wt+$t*Kt,ee[9]=et*xt+Et*Wt+Jt*Kt,ee[10]=_t*xt+Mt*Wt+cn*Kt,ee[11]=Ke*xt+Gt*Wt+xn*Kt,_e!==ee&&(ee[12]=_e[12],ee[13]=_e[13],ee[14]=_e[14],ee[15]=_e[15]),ee)}function T(ee,_e){return ee[0]=1,ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0,ee[5]=1,ee[6]=0,ee[7]=0,ee[8]=0,ee[9]=0,ee[10]=1,ee[11]=0,ee[12]=_e[0],ee[13]=_e[1],ee[14]=_e[2],ee[15]=1,ee}function P(ee,_e){return ee[0]=_e[0],ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0,ee[5]=_e[1],ee[6]=0,ee[7]=0,ee[8]=0,ee[9]=0,ee[10]=_e[2],ee[11]=0,ee[12]=0,ee[13]=0,ee[14]=0,ee[15]=1,ee}function j(ee,_e,je){let Ye,pt,it,at=je[0],ot=je[1],et=je[2],_t=Math.sqrt(at*at+ot*ot+et*et);return _t<D.E?null:(_t=1/_t,at*=_t,ot*=_t,et*=_t,Ye=Math.sin(_e),pt=Math.cos(_e),it=1-pt,ee[0]=at*at*it+pt,ee[1]=ot*at*it+et*Ye,ee[2]=et*at*it-ot*Ye,ee[3]=0,ee[4]=at*ot*it-et*Ye,ee[5]=ot*ot*it+pt,ee[6]=et*ot*it+at*Ye,ee[7]=0,ee[8]=at*et*it+ot*Ye,ee[9]=ot*et*it-at*Ye,ee[10]=et*et*it+pt,ee[11]=0,ee[12]=0,ee[13]=0,ee[14]=0,ee[15]=1,ee)}function K(ee,_e){const je=Math.sin(_e),Ye=Math.cos(_e);return ee[0]=1,ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0,ee[5]=Ye,ee[6]=je,ee[7]=0,ee[8]=0,ee[9]=-je,ee[10]=Ye,ee[11]=0,ee[12]=0,ee[13]=0,ee[14]=0,ee[15]=1,ee}function J(ee,_e,je){const Ye=_e[0],pt=_e[1],it=_e[2],at=_e[3],ot=Ye+Ye,et=pt+pt,_t=it+it,Ke=Ye*ot,ct=Ye*et,Et=Ye*_t,Mt=pt*et,Gt=pt*_t,$t=it*_t,Jt=at*ot,cn=at*et,xn=at*_t;return ee[0]=1-(Mt+$t),ee[1]=ct+xn,ee[2]=Et-cn,ee[3]=0,ee[4]=ct-xn,ee[5]=1-(Ke+$t),ee[6]=Gt+Jt,ee[7]=0,ee[8]=Et+cn,ee[9]=Gt-Jt,ee[10]=1-(Ke+Mt),ee[11]=0,ee[12]=je[0],ee[13]=je[1],ee[14]=je[2],ee[15]=1,ee}const oe=(0,M.c)();function Ge(ee,_e,je){return ee[0]=_e[0]-je[0],ee[1]=_e[1]-je[1],ee[2]=_e[2]-je[2],ee[3]=_e[3]-je[3],ee[4]=_e[4]-je[4],ee[5]=_e[5]-je[5],ee[6]=_e[6]-je[6],ee[7]=_e[7]-je[7],ee[8]=_e[8]-je[8],ee[9]=_e[9]-je[9],ee[10]=_e[10]-je[10],ee[11]=_e[11]-je[11],ee[12]=_e[12]-je[12],ee[13]=_e[13]-je[13],ee[14]=_e[14]-je[14],ee[15]=_e[15]-je[15],ee}function Te(ee,_e){return ee[0]===_e[0]&&ee[1]===_e[1]&&ee[2]===_e[2]&&ee[3]===_e[3]&&ee[4]===_e[4]&&ee[5]===_e[5]&&ee[6]===_e[6]&&ee[7]===_e[7]&&ee[8]===_e[8]&&ee[9]===_e[9]&&ee[10]===_e[10]&&ee[11]===_e[11]&&ee[12]===_e[12]&&ee[13]===_e[13]&&ee[14]===_e[14]&&ee[15]===_e[15]}function Ze(ee,_e){if(ee===_e)return!0;const je=ee[0],Ye=ee[1],pt=ee[2],it=ee[3],at=ee[4],ot=ee[5],et=ee[6],_t=ee[7],Ke=ee[8],ct=ee[9],Et=ee[10],Mt=ee[11],Gt=ee[12],$t=ee[13],Jt=ee[14],cn=ee[15],xn=_e[0],pn=_e[1],An=_e[2],Pn=_e[3],Sn=_e[4],ut=_e[5],bt=_e[6],xt=_e[7],Wt=_e[8],Kt=_e[9],At=_e[10],Ht=_e[11],Yt=_e[12],sn=_e[13],Ct=_e[14],mt=_e[15];return Math.abs(je-xn)<=D.E*Math.max(1,Math.abs(je),Math.abs(xn))&&Math.abs(Ye-pn)<=D.E*Math.max(1,Math.abs(Ye),Math.abs(pn))&&Math.abs(pt-An)<=D.E*Math.max(1,Math.abs(pt),Math.abs(An))&&Math.abs(it-Pn)<=D.E*Math.max(1,Math.abs(it),Math.abs(Pn))&&Math.abs(at-Sn)<=D.E*Math.max(1,Math.abs(at),Math.abs(Sn))&&Math.abs(ot-ut)<=D.E*Math.max(1,Math.abs(ot),Math.abs(ut))&&Math.abs(et-bt)<=D.E*Math.max(1,Math.abs(et),Math.abs(bt))&&Math.abs(_t-xt)<=D.E*Math.max(1,Math.abs(_t),Math.abs(xt))&&Math.abs(Ke-Wt)<=D.E*Math.max(1,Math.abs(Ke),Math.abs(Wt))&&Math.abs(ct-Kt)<=D.E*Math.max(1,Math.abs(ct),Math.abs(Kt))&&Math.abs(Et-At)<=D.E*Math.max(1,Math.abs(Et),Math.abs(At))&&Math.abs(Mt-Ht)<=D.E*Math.max(1,Math.abs(Mt),Math.abs(Ht))&&Math.abs(Gt-Yt)<=D.E*Math.max(1,Math.abs(Gt),Math.abs(Yt))&&Math.abs($t-sn)<=D.E*Math.max(1,Math.abs($t),Math.abs(sn))&&Math.abs(Jt-Ct)<=D.E*Math.max(1,Math.abs(Jt),Math.abs(Ct))&&Math.abs(cn-mt)<=D.E*Math.max(1,Math.abs(cn),Math.abs(mt))}function tt(ee){const _e=D.E,je=ee[0],Ye=ee[1],pt=ee[2],it=ee[4],at=ee[5],ot=ee[6],et=ee[8],_t=ee[9],Ke=ee[10];return Math.abs(1-(je*je+it*it+et*et))<=_e&&Math.abs(1-(Ye*Ye+at*at+_t*_t))<=_e&&Math.abs(1-(pt*pt+ot*ot+Ke*Ke))<=_e}Object.freeze({__proto__:null,copy:function Q(ee,_e){return ee[0]=_e[0],ee[1]=_e[1],ee[2]=_e[2],ee[3]=_e[3],ee[4]=_e[4],ee[5]=_e[5],ee[6]=_e[6],ee[7]=_e[7],ee[8]=_e[8],ee[9]=_e[9],ee[10]=_e[10],ee[11]=_e[11],ee[12]=_e[12],ee[13]=_e[13],ee[14]=_e[14],ee[15]=_e[15],ee},set:B,identity:N,transpose:ne,invert:k,adjoint:function F(ee,_e){const je=_e[0],Ye=_e[1],pt=_e[2],it=_e[3],at=_e[4],ot=_e[5],et=_e[6],_t=_e[7],Ke=_e[8],ct=_e[9],Et=_e[10],Mt=_e[11],Gt=_e[12],$t=_e[13],Jt=_e[14],cn=_e[15];return ee[0]=ot*(Et*cn-Mt*Jt)-ct*(et*cn-_t*Jt)+$t*(et*Mt-_t*Et),ee[1]=-(Ye*(Et*cn-Mt*Jt)-ct*(pt*cn-it*Jt)+$t*(pt*Mt-it*Et)),ee[2]=Ye*(et*cn-_t*Jt)-ot*(pt*cn-it*Jt)+$t*(pt*_t-it*et),ee[3]=-(Ye*(et*Mt-_t*Et)-ot*(pt*Mt-it*Et)+ct*(pt*_t-it*et)),ee[4]=-(at*(Et*cn-Mt*Jt)-Ke*(et*cn-_t*Jt)+Gt*(et*Mt-_t*Et)),ee[5]=je*(Et*cn-Mt*Jt)-Ke*(pt*cn-it*Jt)+Gt*(pt*Mt-it*Et),ee[6]=-(je*(et*cn-_t*Jt)-at*(pt*cn-it*Jt)+Gt*(pt*_t-it*et)),ee[7]=je*(et*Mt-_t*Et)-at*(pt*Mt-it*Et)+Ke*(pt*_t-it*et),ee[8]=at*(ct*cn-Mt*$t)-Ke*(ot*cn-_t*$t)+Gt*(ot*Mt-_t*ct),ee[9]=-(je*(ct*cn-Mt*$t)-Ke*(Ye*cn-it*$t)+Gt*(Ye*Mt-it*ct)),ee[10]=je*(ot*cn-_t*$t)-at*(Ye*cn-it*$t)+Gt*(Ye*_t-it*ot),ee[11]=-(je*(ot*Mt-_t*ct)-at*(Ye*Mt-it*ct)+Ke*(Ye*_t-it*ot)),ee[12]=-(at*(ct*Jt-Et*$t)-Ke*(ot*Jt-et*$t)+Gt*(ot*Et-et*ct)),ee[13]=je*(ct*Jt-Et*$t)-Ke*(Ye*Jt-pt*$t)+Gt*(Ye*Et-pt*ct),ee[14]=-(je*(ot*Jt-et*$t)-at*(Ye*Jt-pt*$t)+Gt*(Ye*et-pt*ot)),ee[15]=je*(ot*Et-et*ct)-at*(Ye*Et-pt*ct)+Ke*(Ye*et-pt*ot),ee},determinant:function I(ee){const _e=ee[0],je=ee[1],Ye=ee[2],pt=ee[3],it=ee[4],at=ee[5],ot=ee[6],et=ee[7],_t=ee[8],Ke=ee[9],ct=ee[10],Et=ee[11],Mt=ee[12],Gt=ee[13],$t=ee[14],Jt=ee[15];return(_e*at-je*it)*(ct*Jt-Et*$t)-(_e*ot-Ye*it)*(Ke*Jt-Et*Gt)+(_e*et-pt*it)*(Ke*$t-ct*Gt)+(je*ot-Ye*at)*(_t*Jt-Et*Mt)-(je*et-pt*at)*(_t*$t-ct*Mt)+(Ye*et-pt*ot)*(_t*Gt-Ke*Mt)},multiply:x,translate:$,scale:Y,rotate:Z,rotateX:function re(ee,_e,je){const Ye=Math.sin(je),pt=Math.cos(je),it=_e[4],at=_e[5],ot=_e[6],et=_e[7],_t=_e[8],Ke=_e[9],ct=_e[10],Et=_e[11];return _e!==ee&&(ee[0]=_e[0],ee[1]=_e[1],ee[2]=_e[2],ee[3]=_e[3],ee[12]=_e[12],ee[13]=_e[13],ee[14]=_e[14],ee[15]=_e[15]),ee[4]=it*pt+_t*Ye,ee[5]=at*pt+Ke*Ye,ee[6]=ot*pt+ct*Ye,ee[7]=et*pt+Et*Ye,ee[8]=_t*pt-it*Ye,ee[9]=Ke*pt-at*Ye,ee[10]=ct*pt-ot*Ye,ee[11]=Et*pt-et*Ye,ee},rotateY:function X(ee,_e,je){const Ye=Math.sin(je),pt=Math.cos(je),it=_e[0],at=_e[1],ot=_e[2],et=_e[3],_t=_e[8],Ke=_e[9],ct=_e[10],Et=_e[11];return _e!==ee&&(ee[4]=_e[4],ee[5]=_e[5],ee[6]=_e[6],ee[7]=_e[7],ee[12]=_e[12],ee[13]=_e[13],ee[14]=_e[14],ee[15]=_e[15]),ee[0]=it*pt-_t*Ye,ee[1]=at*pt-Ke*Ye,ee[2]=ot*pt-ct*Ye,ee[3]=et*pt-Et*Ye,ee[8]=it*Ye+_t*pt,ee[9]=at*Ye+Ke*pt,ee[10]=ot*Ye+ct*pt,ee[11]=et*Ye+Et*pt,ee},rotateZ:function L(ee,_e,je){const Ye=Math.sin(je),pt=Math.cos(je),it=_e[0],at=_e[1],ot=_e[2],et=_e[3],_t=_e[4],Ke=_e[5],ct=_e[6],Et=_e[7];return _e!==ee&&(ee[8]=_e[8],ee[9]=_e[9],ee[10]=_e[10],ee[11]=_e[11],ee[12]=_e[12],ee[13]=_e[13],ee[14]=_e[14],ee[15]=_e[15]),ee[0]=it*pt+_t*Ye,ee[1]=at*pt+Ke*Ye,ee[2]=ot*pt+ct*Ye,ee[3]=et*pt+Et*Ye,ee[4]=_t*pt-it*Ye,ee[5]=Ke*pt-at*Ye,ee[6]=ct*pt-ot*Ye,ee[7]=Et*pt-et*Ye,ee},fromTranslation:T,fromScaling:P,fromRotation:j,fromXRotation:K,fromYRotation:function W(ee,_e){const je=Math.sin(_e),Ye=Math.cos(_e);return ee[0]=Ye,ee[1]=0,ee[2]=-je,ee[3]=0,ee[4]=0,ee[5]=1,ee[6]=0,ee[7]=0,ee[8]=je,ee[9]=0,ee[10]=Ye,ee[11]=0,ee[12]=0,ee[13]=0,ee[14]=0,ee[15]=1,ee},fromZRotation:function te(ee,_e){const je=Math.sin(_e),Ye=Math.cos(_e);return ee[0]=Ye,ee[1]=je,ee[2]=0,ee[3]=0,ee[4]=-je,ee[5]=Ye,ee[6]=0,ee[7]=0,ee[8]=0,ee[9]=0,ee[10]=1,ee[11]=0,ee[12]=0,ee[13]=0,ee[14]=0,ee[15]=1,ee},fromRotationTranslation:J,fromQuat2:function he(ee,_e){const je=oe,Ye=-_e[0],pt=-_e[1],it=-_e[2],at=_e[3],ot=_e[4],et=_e[5],_t=_e[6],Ke=_e[7],ct=Ye*Ye+pt*pt+it*it+at*at;return ct>0?(je[0]=2*(ot*at+Ke*Ye+et*it-_t*pt)/ct,je[1]=2*(et*at+Ke*pt+_t*Ye-ot*it)/ct,je[2]=2*(_t*at+Ke*it+ot*pt-et*Ye)/ct):(je[0]=2*(ot*at+Ke*Ye+et*it-_t*pt),je[1]=2*(et*at+Ke*pt+_t*Ye-ot*it),je[2]=2*(_t*at+Ke*it+ot*pt-et*Ye)),J(ee,_e,je),ee},getTranslation:function me(ee,_e){return ee[0]=_e[12],ee[1]=_e[13],ee[2]=_e[14],ee},getScaling:function de(ee,_e){const je=_e[0],Ye=_e[1],pt=_e[2],it=_e[4],at=_e[5],ot=_e[6],et=_e[8],_t=_e[9],Ke=_e[10];return ee[0]=Math.sqrt(je*je+Ye*Ye+pt*pt),ee[1]=Math.sqrt(it*it+at*at+ot*ot),ee[2]=Math.sqrt(et*et+_t*_t+Ke*Ke),ee},getRotation:function ie(ee,_e){const je=_e[0]+_e[5]+_e[10];let Ye=0;return je>0?(Ye=2*Math.sqrt(je+1),ee[3]=.25*Ye,ee[0]=(_e[6]-_e[9])/Ye,ee[1]=(_e[8]-_e[2])/Ye,ee[2]=(_e[1]-_e[4])/Ye):_e[0]>_e[5]&&_e[0]>_e[10]?(Ye=2*Math.sqrt(1+_e[0]-_e[5]-_e[10]),ee[3]=(_e[6]-_e[9])/Ye,ee[0]=.25*Ye,ee[1]=(_e[1]+_e[4])/Ye,ee[2]=(_e[8]+_e[2])/Ye):_e[5]>_e[10]?(Ye=2*Math.sqrt(1+_e[5]-_e[0]-_e[10]),ee[3]=(_e[8]-_e[2])/Ye,ee[0]=(_e[1]+_e[4])/Ye,ee[1]=.25*Ye,ee[2]=(_e[6]+_e[9])/Ye):(Ye=2*Math.sqrt(1+_e[10]-_e[0]-_e[5]),ee[3]=(_e[1]-_e[4])/Ye,ee[0]=(_e[8]+_e[2])/Ye,ee[1]=(_e[6]+_e[9])/Ye,ee[2]=.25*Ye),ee},fromRotationTranslationScale:function V(ee,_e,je,Ye){const pt=_e[0],it=_e[1],at=_e[2],ot=_e[3],et=pt+pt,_t=it+it,Ke=at+at,ct=pt*et,Et=pt*_t,Mt=pt*Ke,Gt=it*_t,$t=it*Ke,Jt=at*Ke,cn=ot*et,xn=ot*_t,pn=ot*Ke,An=Ye[0],Pn=Ye[1],Sn=Ye[2];return ee[0]=(1-(Gt+Jt))*An,ee[1]=(Et+pn)*An,ee[2]=(Mt-xn)*An,ee[3]=0,ee[4]=(Et-pn)*Pn,ee[5]=(1-(ct+Jt))*Pn,ee[6]=($t+cn)*Pn,ee[7]=0,ee[8]=(Mt+xn)*Sn,ee[9]=($t-cn)*Sn,ee[10]=(1-(ct+Gt))*Sn,ee[11]=0,ee[12]=je[0],ee[13]=je[1],ee[14]=je[2],ee[15]=1,ee},fromRotationTranslationScaleOrigin:function ce(ee,_e,je,Ye,pt){const it=_e[0],at=_e[1],ot=_e[2],et=_e[3],_t=it+it,Ke=at+at,ct=ot+ot,Et=it*_t,Mt=it*Ke,Gt=it*ct,$t=at*Ke,Jt=at*ct,cn=ot*ct,xn=et*_t,pn=et*Ke,An=et*ct,Pn=Ye[0],Sn=Ye[1],ut=Ye[2],bt=pt[0],xt=pt[1],Wt=pt[2],Kt=(1-($t+cn))*Pn,At=(Mt+An)*Pn,Ht=(Gt-pn)*Pn,Yt=(Mt-An)*Sn,sn=(1-(Et+cn))*Sn,Ct=(Jt+xn)*Sn,mt=(Gt+pn)*ut,ze=(Jt-xn)*ut,ht=(1-(Et+$t))*ut;return ee[0]=Kt,ee[1]=At,ee[2]=Ht,ee[3]=0,ee[4]=Yt,ee[5]=sn,ee[6]=Ct,ee[7]=0,ee[8]=mt,ee[9]=ze,ee[10]=ht,ee[11]=0,ee[12]=je[0]+bt-(Kt*bt+Yt*xt+mt*Wt),ee[13]=je[1]+xt-(At*bt+sn*xt+ze*Wt),ee[14]=je[2]+Wt-(Ht*bt+Ct*xt+ht*Wt),ee[15]=1,ee},fromQuat:function ae(ee,_e){const je=_e[0],Ye=_e[1],pt=_e[2],it=_e[3],at=je+je,ot=Ye+Ye,et=pt+pt,_t=je*at,Ke=Ye*at,ct=Ye*ot,Et=pt*at,Mt=pt*ot,Gt=pt*et,$t=it*at,Jt=it*ot,cn=it*et;return ee[0]=1-ct-Gt,ee[1]=Ke+cn,ee[2]=Et-Jt,ee[3]=0,ee[4]=Ke-cn,ee[5]=1-_t-Gt,ee[6]=Mt+$t,ee[7]=0,ee[8]=Et+Jt,ee[9]=Mt-$t,ee[10]=1-_t-ct,ee[11]=0,ee[12]=0,ee[13]=0,ee[14]=0,ee[15]=1,ee},frustum:function pe(ee,_e,je,Ye,pt,it,at){const ot=1/(je-_e),et=1/(pt-Ye),_t=1/(it-at);return ee[0]=2*it*ot,ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0,ee[5]=2*it*et,ee[6]=0,ee[7]=0,ee[8]=(je+_e)*ot,ee[9]=(pt+Ye)*et,ee[10]=(at+it)*_t,ee[11]=-1,ee[12]=0,ee[13]=0,ee[14]=at*it*2*_t,ee[15]=0,ee},perspective:function ue(ee,_e,je,Ye,pt){const it=1/Math.tan(_e/2);let at;return ee[0]=it/je,ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0,ee[5]=it,ee[6]=0,ee[7]=0,ee[8]=0,ee[9]=0,ee[11]=-1,ee[12]=0,ee[13]=0,ee[15]=0,null!=pt&&pt!==1/0?(at=1/(Ye-pt),ee[10]=(pt+Ye)*at,ee[14]=2*pt*Ye*at):(ee[10]=-1,ee[14]=-2*Ye),ee},perspectiveFromFieldOfView:function ye(ee,_e,je,Ye){const pt=Math.tan(_e.upDegrees*Math.PI/180),it=Math.tan(_e.downDegrees*Math.PI/180),at=Math.tan(_e.leftDegrees*Math.PI/180),ot=Math.tan(_e.rightDegrees*Math.PI/180),et=2/(at+ot),_t=2/(pt+it);return ee[0]=et,ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0,ee[5]=_t,ee[6]=0,ee[7]=0,ee[8]=-(at-ot)*et*.5,ee[9]=(pt-it)*_t*.5,ee[10]=Ye/(je-Ye),ee[11]=-1,ee[12]=0,ee[13]=0,ee[14]=Ye*je/(je-Ye),ee[15]=0,ee},ortho:function le(ee,_e,je,Ye,pt,it,at){const ot=1/(_e-je),et=1/(Ye-pt),_t=1/(it-at);return ee[0]=-2*ot,ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0,ee[5]=-2*et,ee[6]=0,ee[7]=0,ee[8]=0,ee[9]=0,ee[10]=2*_t,ee[11]=0,ee[12]=(_e+je)*ot,ee[13]=(pt+Ye)*et,ee[14]=(at+it)*_t,ee[15]=1,ee},lookAt:function se(ee,_e,je,Ye){let pt,it,at,ot,et,_t,Ke,ct,Et,Mt;const Gt=_e[0],$t=_e[1],Jt=_e[2],cn=Ye[0],xn=Ye[1],pn=Ye[2],An=je[0],Pn=je[1],Sn=je[2];return Math.abs(Gt-An)<D.E&&Math.abs($t-Pn)<D.E&&Math.abs(Jt-Sn)<D.E?N(ee):(Ke=Gt-An,ct=$t-Pn,Et=Jt-Sn,Mt=1/Math.sqrt(Ke*Ke+ct*ct+Et*Et),Ke*=Mt,ct*=Mt,Et*=Mt,pt=xn*Et-pn*ct,it=pn*Ke-cn*Et,at=cn*ct-xn*Ke,Mt=Math.sqrt(pt*pt+it*it+at*at),Mt?(Mt=1/Mt,pt*=Mt,it*=Mt,at*=Mt):(pt=0,it=0,at=0),ot=ct*at-Et*it,et=Et*pt-Ke*at,_t=Ke*it-ct*pt,Mt=Math.sqrt(ot*ot+et*et+_t*_t),Mt?(Mt=1/Mt,ot*=Mt,et*=Mt,_t*=Mt):(ot=0,et=0,_t=0),ee[0]=pt,ee[1]=ot,ee[2]=Ke,ee[3]=0,ee[4]=it,ee[5]=et,ee[6]=ct,ee[7]=0,ee[8]=at,ee[9]=_t,ee[10]=Et,ee[11]=0,ee[12]=-(pt*Gt+it*$t+at*Jt),ee[13]=-(ot*Gt+et*$t+_t*Jt),ee[14]=-(Ke*Gt+ct*$t+Et*Jt),ee[15]=1,ee)},targetTo:function Ce(ee,_e,je,Ye){const pt=_e[0],it=_e[1],at=_e[2],ot=Ye[0],et=Ye[1],_t=Ye[2];let Ke=pt-je[0],ct=it-je[1],Et=at-je[2],Mt=Ke*Ke+ct*ct+Et*Et;Mt>0&&(Mt=1/Math.sqrt(Mt),Ke*=Mt,ct*=Mt,Et*=Mt);let Gt=et*Et-_t*ct,$t=_t*Ke-ot*Et,Jt=ot*ct-et*Ke;return Mt=Gt*Gt+$t*$t+Jt*Jt,Mt>0&&(Mt=1/Math.sqrt(Mt),Gt*=Mt,$t*=Mt,Jt*=Mt),ee[0]=Gt,ee[1]=$t,ee[2]=Jt,ee[3]=0,ee[4]=ct*Jt-Et*$t,ee[5]=Et*Gt-Ke*Jt,ee[6]=Ke*$t-ct*Gt,ee[7]=0,ee[8]=Ke,ee[9]=ct,ee[10]=Et,ee[11]=0,ee[12]=pt,ee[13]=it,ee[14]=at,ee[15]=1,ee},str:function ge(ee){return"mat4("+ee[0]+", "+ee[1]+", "+ee[2]+", "+ee[3]+", "+ee[4]+", "+ee[5]+", "+ee[6]+", "+ee[7]+", "+ee[8]+", "+ee[9]+", "+ee[10]+", "+ee[11]+", "+ee[12]+", "+ee[13]+", "+ee[14]+", "+ee[15]+")"},frob:function Pe(ee){return Math.sqrt(ee[0]**2+ee[1]**2+ee[2]**2+ee[3]**2+ee[4]**2+ee[5]**2+ee[6]**2+ee[7]**2+ee[8]**2+ee[9]**2+ee[10]**2+ee[11]**2+ee[12]**2+ee[13]**2+ee[14]**2+ee[15]**2)},add:function Ee(ee,_e,je){return ee[0]=_e[0]+je[0],ee[1]=_e[1]+je[1],ee[2]=_e[2]+je[2],ee[3]=_e[3]+je[3],ee[4]=_e[4]+je[4],ee[5]=_e[5]+je[5],ee[6]=_e[6]+je[6],ee[7]=_e[7]+je[7],ee[8]=_e[8]+je[8],ee[9]=_e[9]+je[9],ee[10]=_e[10]+je[10],ee[11]=_e[11]+je[11],ee[12]=_e[12]+je[12],ee[13]=_e[13]+je[13],ee[14]=_e[14]+je[14],ee[15]=_e[15]+je[15],ee},subtract:Ge,multiplyScalar:function Se(ee,_e,je){return ee[0]=_e[0]*je,ee[1]=_e[1]*je,ee[2]=_e[2]*je,ee[3]=_e[3]*je,ee[4]=_e[4]*je,ee[5]=_e[5]*je,ee[6]=_e[6]*je,ee[7]=_e[7]*je,ee[8]=_e[8]*je,ee[9]=_e[9]*je,ee[10]=_e[10]*je,ee[11]=_e[11]*je,ee[12]=_e[12]*je,ee[13]=_e[13]*je,ee[14]=_e[14]*je,ee[15]=_e[15]*je,ee},multiplyScalarAndAdd:function ve(ee,_e,je,Ye){return ee[0]=_e[0]+je[0]*Ye,ee[1]=_e[1]+je[1]*Ye,ee[2]=_e[2]+je[2]*Ye,ee[3]=_e[3]+je[3]*Ye,ee[4]=_e[4]+je[4]*Ye,ee[5]=_e[5]+je[5]*Ye,ee[6]=_e[6]+je[6]*Ye,ee[7]=_e[7]+je[7]*Ye,ee[8]=_e[8]+je[8]*Ye,ee[9]=_e[9]+je[9]*Ye,ee[10]=_e[10]+je[10]*Ye,ee[11]=_e[11]+je[11]*Ye,ee[12]=_e[12]+je[12]*Ye,ee[13]=_e[13]+je[13]*Ye,ee[14]=_e[14]+je[14]*Ye,ee[15]=_e[15]+je[15]*Ye,ee},exactEquals:Te,equals:Ze,isOrthoNormal:tt,mul:x,sub:Ge})},55494:(qe,Me,E)=>{"use strict";function M(){const k=new Float32Array(16);return k[0]=1,k[5]=1,k[10]=1,k[15]=1,k}E.d(Me,{c:()=>M});const N=M();Object.freeze({__proto__:null,create:M,clone:function D(k){const F=new Float32Array(16);return F[0]=k[0],F[1]=k[1],F[2]=k[2],F[3]=k[3],F[4]=k[4],F[5]=k[5],F[6]=k[6],F[7]=k[7],F[8]=k[8],F[9]=k[9],F[10]=k[10],F[11]=k[11],F[12]=k[12],F[13]=k[13],F[14]=k[14],F[15]=k[15],F},fromValues:function Q(k,F,I,x,$,Y,Z,re,X,L,T,P,j,K,W,te){const J=new Float32Array(16);return J[0]=k,J[1]=F,J[2]=I,J[3]=x,J[4]=$,J[5]=Y,J[6]=Z,J[7]=re,J[8]=X,J[9]=L,J[10]=T,J[11]=P,J[12]=j,J[13]=K,J[14]=W,J[15]=te,J},createView:function B(k,F){return new Float32Array(k,F,16)},IDENTITY:N})},44956:(qe,Me,E)=>{"use strict";E.d(Me,{e:()=>x,f:()=>I,g:()=>F,h:()=>re,i:()=>N,j:()=>j,l:()=>k,p:()=>me});var M=E(54346),D=E(8314);let Q,B=null;function N(){return!!B}function k(){return Q||(Q=E.e(352).then(E.bind(E,73714)).then(de=>de.p).then(({default:de})=>de({locateFile:ie=>(0,M.V)(`esri/geometry/support/${ie}`)})).then(de=>{W(de)}),Q)}var F,I,x,de;(function(de){function ie(pe,ue,ye){B.ensureCache.prepare();const le=he(ye),se=ye===le,Ce=B.ensureFloat64(le),ge=B._pe_geog_to_proj(B.getPointer(pe),ue,Ce);return ge&&oe(ye,ue,Ce,se),ge}function ce(pe,ue,ye){return ae(pe,ue,ye,0)}function ae(pe,ue,ye,le){B.ensureCache.prepare();const se=he(ye),Ce=ye===se,ge=B.ensureFloat64(se),Pe=B._pe_proj_to_geog_center(B.getPointer(pe),ue,ge,le);return Pe&&oe(ye,ue,ge,Ce),Pe}de.geogToProj=ie,de.projGeog=function V(pe,ue,ye,le){switch(le){case I.PE_TRANSFORM_P_TO_G:return ce(pe,ue,ye);case I.PE_TRANSFORM_G_TO_P:return ie(pe,ue,ye)}return 0},de.projToGeog=ce,de.projToGeogCenter=ae})(F||(F={})),(de=I||(I={})).init=function ie(){de.PE_BUFFER_MAX=B.PeDefs.prototype.PE_BUFFER_MAX,de.PE_NAME_MAX=B.PeDefs.prototype.PE_NAME_MAX,de.PE_MGRS_MAX=B.PeDefs.prototype.PE_MGRS_MAX,de.PE_USNG_MAX=B.PeDefs.prototype.PE_USNG_MAX,de.PE_DD_MAX=B.PeDefs.prototype.PE_DD_MAX,de.PE_DDM_MAX=B.PeDefs.prototype.PE_DDM_MAX,de.PE_DMS_MAX=B.PeDefs.prototype.PE_DMS_MAX,de.PE_UTM_MAX=B.PeDefs.prototype.PE_UTM_MAX,de.PE_PARM_MAX=B.PeDefs.prototype.PE_PARM_MAX,de.PE_TYPE_NONE=B.PeDefs.prototype.PE_TYPE_NONE,de.PE_TYPE_GEOGCS=B.PeDefs.prototype.PE_TYPE_GEOGCS,de.PE_TYPE_PROJCS=B.PeDefs.prototype.PE_TYPE_PROJCS,de.PE_TYPE_GEOGTRAN=B.PeDefs.prototype.PE_TYPE_GEOGTRAN,de.PE_TYPE_COORDSYS=B.PeDefs.prototype.PE_TYPE_COORDSYS,de.PE_TYPE_UNIT=B.PeDefs.prototype.PE_TYPE_UNIT,de.PE_TYPE_LINUNIT=B.PeDefs.prototype.PE_TYPE_LINUNIT,de.PE_STR_OPTS_NONE=B.PeDefs.prototype.PE_STR_OPTS_NONE,de.PE_STR_AUTH_NONE=B.PeDefs.prototype.PE_STR_AUTH_NONE,de.PE_STR_AUTH_TOP=B.PeDefs.prototype.PE_STR_AUTH_TOP,de.PE_STR_NAME_CANON=B.PeDefs.prototype.PE_STR_NAME_CANON,de.PE_PARM_X0=B.PeDefs.prototype.PE_PARM_X0,de.PE_PARM_ND=B.PeDefs.prototype.PE_PARM_ND,de.PE_TRANSFORM_1_TO_2=B.PeDefs.prototype.PE_TRANSFORM_1_TO_2,de.PE_TRANSFORM_2_TO_1=B.PeDefs.prototype.PE_TRANSFORM_2_TO_1,de.PE_TRANSFORM_P_TO_G=B.PeDefs.prototype.PE_TRANSFORM_P_TO_G,de.PE_TRANSFORM_G_TO_P=B.PeDefs.prototype.PE_TRANSFORM_G_TO_P,de.PE_HORIZON_RECT=B.PeDefs.prototype.PE_HORIZON_RECT,de.PE_HORIZON_POLY=B.PeDefs.prototype.PE_HORIZON_POLY,de.PE_HORIZON_LINE=B.PeDefs.prototype.PE_HORIZON_LINE,de.PE_HORIZON_DELTA=B.PeDefs.prototype.PE_HORIZON_DELTA},function(de){const ie={},V={},ce=Ee=>{if(Ee){const Ge=Ee.getType();switch(Ge){case I.PE_TYPE_GEOGCS:Ee=B.castObject(Ee,B.PeGeogcs);break;case I.PE_TYPE_PROJCS:Ee=B.castObject(Ee,B.PeProjcs);break;case I.PE_TYPE_GEOGTRAN:Ee=B.castObject(Ee,B.PeGeogtran);break;default:Ge&I.PE_TYPE_UNIT&&(Ee=B.castObject(Ee,B.PeUnit))}}return Ee};function ue(Ee,Ge){let Se=null,ve=ie[Ee];if(ve||(ve={},ie[Ee]=ve),ve.hasOwnProperty(String(Ge)))Se=ve[Ge];else{const Te=B.PeFactory.prototype.factoryByType(Ee,Ge);B.compare(Te,B.NULL)||(Se=Te,ve[Ge]=Se)}return Se=ce(Se),Se}de.initialize=function ae(){B.PeFactory.prototype.initialize(null)},de.coordsys=function pe(Ee){return ue(I.PE_TYPE_COORDSYS,Ee)},de.factoryByType=ue,de.fromString=function ye(Ee,Ge){let Se=null,ve=V[Ee];if(ve||(ve={},V[Ee]=ve),ve.hasOwnProperty(Ge))Se=ve[Ge];else{const Te=B.PeFactory.prototype.fromString(Ee,Ge);B.compare(Te,B.NULL)||(Se=Te,ve[Ge]=Se)}return Se=ce(Se),Se},de.geogcs=function le(Ee){return ue(I.PE_TYPE_GEOGCS,Ee)},de.geogtran=function se(Ee){return ue(I.PE_TYPE_GEOGTRAN,Ee)},de.getCode=function Ce(Ee){return B.PeFactory.prototype.getCode(Ee)},de.projcs=function ge(Ee){return ue(I.PE_TYPE_PROJCS,Ee)},de.unit=function Pe(Ee){return ue(I.PE_TYPE_UNIT,Ee)}}(x||(x={}));let $=null;var Y,Z,re,X,L,T,P,j,K;function W(de){function ie(pe,ue,ye){pe[ue]=ye(pe[ue])}B=de,I.init(),Y.init(),L.init(),P.init(),j.init(),$=class extends B.PeGCSExtent{destroy(){B.destroy(this)}};const V=[B.PeDatum,B.PeGeogcs,B.PeGeogtran,B.PeObject,B.PeParameter,B.PePrimem,B.PeProjcs,B.PeSpheroid,B.PeUnit];for(const pe of V)ie(pe.prototype,"getName",ue=>function(){return ue.call(this,new Array(I.PE_NAME_MAX))});for(const pe of[B.PeGeogtran,B.PeProjcs])ie(pe.prototype,"getParameters",ue=>function(){const ye=new Array(I.PE_PARM_MAX);let le=ue.call(this);for(let se=0;se<ye.length;se++){const Ce=B.getValue(le,"*");ye[se]=Ce?B.wrapPointer(Ce,B.PeParameter):null,le+=Int32Array.BYTES_PER_ELEMENT}return ye});ie(B.PeHorizon.prototype,"getCoord",pe=>function(){const ue=this.getSize();if(!ue)return null;const ye=[];return oe(ye,ue,pe.call(this)),ye}),ie(B.PeGTlistExtendedEntry.prototype,"getEntries",pe=>{const ue=B._pe_getPeGTlistExtendedGTsSize();return function(){let ye=null;const le=pe.call(this);if(!B.compare(le,B.NULL)){ye=[le];const se=this.getSteps();if(se>1){const Ce=B.getPointer(le);for(let ge=1;ge<se;ge++)ye.push(B.wrapPointer(Ce+ue*ge,B.PeGTlistExtendedGTs))}}return ye}});const ce=B._pe_getPeHorizonSize(),ae=pe=>function(){let ue=this._cache;if(ue||(ue=new Map,this._cache=ue),ue.has(pe))return ue.get(pe);let ye=null;const le=pe.call(this);if(!B.compare(le,B.NULL)){ye=[le];const se=le.getNump();if(se>1){const Ce=B.getPointer(le);for(let ge=1;ge<se;ge++)ye.push(B.wrapPointer(Ce+ce*ge,B.PeHorizon))}}return ue.set(pe,ye),ye};ie(B.PeProjcs.prototype,"horizonGcsGenerate",ae),ie(B.PeProjcs.prototype,"horizonPcsGenerate",ae),B.PeObject.prototype.toString=function(pe=I.PE_STR_OPTS_NONE){B.ensureCache.prepare();const ue=B.getPointer(this),ye=B.ensureInt8(new Array(I.PE_BUFFER_MAX));return B.UTF8ToString(B._pe_object_to_string_ext(ue,pe,ye))}}function te(de){if(!de)return;const ie=B.getClass(de);if(!ie)return;const V=B.getCache(ie);if(!V)return;const ce=B.getPointer(de);ce&&delete V[ce]}function J(de,ie){const V=[],ce=new Array(ie);for(let ae=0;ae<de;ae++)V.push(B.ensureInt8(ce));return V}function he(de){let ie;return Array.isArray(de[0])?(ie=[],de.forEach(V=>{ie.push(V[0],V[1])})):ie=de,ie}function oe(de,ie,V,ce=!1){if(ce)for(let ae=0;ae<2*ie;ae++)de[ae]=B.getValue(V+ae*Float64Array.BYTES_PER_ELEMENT,"double");else{const ae=0===de.length;for(let pe=0;pe<ie;pe++)ae&&(de[pe]=new Array(2)),de[pe][0]=B.getValue(V,"double"),de[pe][1]=B.getValue(V+Float64Array.BYTES_PER_ELEMENT,"double"),V+=2*Float64Array.BYTES_PER_ELEMENT}}(function(de){let ie;de.init=function V(){de.PE_GTLIST_OPTS_COMMON=B.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,ie=B._pe_getPeGTlistExtendedEntrySize()},de.getGTlist=function ce(ae,pe,ue,ye,le,se){let Ce=null;const ge=new B.PeInteger(se);try{const Pe=B.PeGTlistExtended.prototype.getGTlist(ae,pe,ue,ye,le,ge);if((se=ge.val)&&(Ce=[Pe],se>1)){const Ee=B.getPointer(Pe);for(let Ge=1;Ge<se;Ge++)Ce.push(B.wrapPointer(Ee+ie*Ge,B.PeGTlistExtendedEntry))}}finally{B.destroy(ge)}return Ce}})(Y||(Y={})),function(de){de.destroy=function ie(V){if(V&&V.length){for(const ce of V)te(ce),ce.getEntries().forEach(ae=>{te(ae);const pe=ae.getGeogtran();te(pe),pe.getParameters().forEach(te),[pe.getGeogcs1(),pe.getGeogcs2()].forEach(ue=>{te(ue);const ye=ue.getDatum();te(ye),te(ye.getSpheroid()),te(ue.getPrimem()),te(ue.getUnit())})});B.PeGTlistExtendedEntry.prototype.Delete(V[0])}}}(Z||(Z={})),function(de){de.geogToGeog=function ie(V,ce,ae,pe,ue){B.ensureCache.prepare();const ye=he(ae),le=ae===ye,se=B.ensureFloat64(ye);let Ce=0;pe&&(Ce=B.ensureFloat64(pe));const ge=B._pe_geog_to_geog(B.getPointer(V),ce,se,Ce,ue);return ge&&oe(ae,ce,se,le),ge}}(re||(re={})),function(de){const ie=(se,Ce,ge,Pe,Ee,Ge)=>{let Se,ve;switch(B.ensureCache.prepare(),se){case"dd":Se=B._pe_geog_to_dd,ve=I.PE_DD_MAX;break;case"ddm":Se=B._pe_geog_to_ddm,ve=I.PE_DDM_MAX;break;case"dms":Se=B._pe_geog_to_dms,ve=I.PE_DMS_MAX}let Te=0;Ce&&(Te=B.getPointer(Ce));const Ze=he(Pe),tt=B.ensureFloat64(Ze),xe=J(ge,ve),Ve=Se(Te,ge,tt,Ee,B.ensureInt32(xe));if(Ve)for(let He=0;He<ge;He++)Ge[He]=B.UTF8ToString(xe[He]);return Ve},V=(se,Ce,ge,Pe,Ee)=>{let Ge;switch(B.ensureCache.prepare(),se){case"dd":Ge=B._pe_dd_to_geog;break;case"ddm":Ge=B._pe_ddm_to_geog;break;case"dms":Ge=B._pe_dms_to_geog}let Se=0;Ce&&(Se=B.getPointer(Ce));const ve=Pe.map(xe=>B.ensureString(xe)),Te=B.ensureInt32(ve),Ze=B.ensureFloat64(new Array(2*ge)),tt=Ge(Se,ge,Te,Ze);return tt&&oe(Ee,ge,Ze),tt};de.geogToDms=function ce(se,Ce,ge,Pe,Ee){return ie("dms",se,Ce,ge,Pe,Ee)},de.dmsToGeog=function ae(se,Ce,ge,Pe){return V("dms",se,Ce,ge,Pe)},de.geogToDdm=function pe(se,Ce,ge,Pe,Ee){return ie("ddm",se,Ce,ge,Pe,Ee)},de.ddmToGeog=function ue(se,Ce,ge,Pe){return V("ddm",se,Ce,ge,Pe)},de.geogToDd=function ye(se,Ce,ge,Pe,Ee){return ie("dd",se,Ce,ge,Pe,Ee)},de.ddToGeog=function le(se,Ce,ge,Pe){return V("dd",se,Ce,ge,Pe)}}(X||(X={})),function(de){de.init=function ie(){de.PE_MGRS_STYLE_NEW=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,de.PE_MGRS_STYLE_OLD=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,de.PE_MGRS_STYLE_AUTO=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,de.PE_MGRS_180_ZONE_1_PLUS=B.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,de.PE_MGRS_ADD_SPACES=B.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},de.geogToMgrsExtended=function V(ae,pe,ue,ye,le,se,Ce){B.ensureCache.prepare();let ge=0;ae&&(ge=B.getPointer(ae));const Pe=he(ue),Ee=B.ensureFloat64(Pe),Ge=J(pe,I.PE_MGRS_MAX),Se=B.ensureInt32(Ge),ve=B._pe_geog_to_mgrs_extended(ge,pe,Ee,ye,le,se,Se);if(ve)for(let Te=0;Te<pe;Te++)Ce[Te]=B.UTF8ToString(Ge[Te]);return ve},de.mgrsToGeogExtended=function ce(ae,pe,ue,ye,le){B.ensureCache.prepare();let se=0;ae&&(se=B.getPointer(ae));const Ce=ue.map(Ge=>B.ensureString(Ge)),ge=B.ensureInt32(Ce),Pe=B.ensureFloat64(new Array(2*pe)),Ee=B._pe_mgrs_to_geog_extended(se,pe,ge,ye,Pe);return Ee&&oe(le,pe,Pe),Ee}}(L||(L={})),function(de){de.geogToUsng=function ie(ce,ae,pe,ue,ye,le,se){B.ensureCache.prepare();let Ce=0;ce&&(Ce=B.getPointer(ce));const ge=he(pe),Pe=B.ensureFloat64(ge),Ee=J(ae,I.PE_MGRS_MAX),Ge=B.ensureInt32(Ee),Se=B._pe_geog_to_usng(Ce,ae,Pe,ue,ye,le,Ge);if(Se)for(let ve=0;ve<ae;ve++)se[ve]=B.UTF8ToString(Ee[ve]);return Se},de.usngToGeog=function V(ce,ae,pe,ue){B.ensureCache.prepare();let ye=0;ce&&(ye=B.getPointer(ce));const le=pe.map(Pe=>B.ensureString(Pe)),se=B.ensureInt32(le),Ce=B.ensureFloat64(new Array(2*ae)),ge=B._pe_usng_to_geog(ye,ae,se,Ce);return ge&&oe(ue,ae,Ce),ge}}(T||(T={})),function(de){de.init=function ie(){de.PE_UTM_OPTS_NONE=B.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,de.PE_UTM_OPTS_ADD_SPACES=B.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,de.PE_UTM_OPTS_NS=B.PeNotationUtm.prototype.PE_UTM_OPTS_NS},de.geogToUtm=function V(ae,pe,ue,ye,le){B.ensureCache.prepare();let se=0;ae&&(se=B.getPointer(ae));const Ce=he(ue),ge=B.ensureFloat64(Ce),Pe=J(pe,I.PE_UTM_MAX),Ee=B.ensureInt32(Pe),Ge=B._pe_geog_to_utm(se,pe,ge,ye,Ee);if(Ge)for(let Se=0;Se<pe;Se++)le[Se]=B.UTF8ToString(Pe[Se]);return Ge},de.utmToGeog=function ce(ae,pe,ue,ye,le){B.ensureCache.prepare();let se=0;ae&&(se=B.getPointer(ae));const Ce=ue.map(Ge=>B.ensureString(Ge)),ge=B.ensureInt32(Ce),Pe=B.ensureFloat64(new Array(2*pe)),Ee=B._pe_utm_to_geog(se,pe,ge,ye,Pe);return Ee&&oe(le,pe,Pe),Ee}}(P||(P={})),function(de){const ie=new Map;de.init=function V(){de.PE_PCSINFO_OPTION_NONE=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,de.PE_PCSINFO_OPTION_DOMAIN=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,de.PE_POLE_OUTSIDE_BOUNDARY=B.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,de.PE_POLE_POINT=B.PePCSInfo.prototype.PE_POLE_POINT},de.generate=function ce(ae,pe=de.PE_PCSINFO_OPTION_DOMAIN){let ue,ye;return ie.has(ae)&&(ye=ie.get(ae),ye[pe]&&(ue=ye[pe])),ue||(ue=B.PePCSInfo.prototype.generate(ae,pe),ye||(ye=[],ie.set(ae,ye)),ye[pe]=ue),ue}}(j||(j={})),function(de){de.versionString=function ie(){return B.PeVersion.prototype.version_string()}}(K||(K={}));const me=Object.freeze({__proto__:null,get _pe(){return B},isLoaded:N,isSupported:function ne(){return!!(0,D.Z)("esri-wasm")},load:k,get PeCSTransformations(){return F},get PeDefs(){return I},get PeFactory(){return x},get PeGCSExtent(){return $},get PeGTlistExtended(){return Y},get PeGTlistExtendedEntry(){return Z},get PeGTTransformations(){return re},get PeNotationDms(){return X},get PeNotationMgrs(){return L},get PeNotationUsng(){return T},get PeNotationUtm(){return P},get PePCSInfo(){return j},get PeVersion(){return K},_init:W})},29840:(qe,Me,E)=>{"use strict";E.d(Me,{M:()=>Y,f:()=>Q,i:()=>I,p:()=>Z,r:()=>N,t:()=>B,w:()=>ne});var M=E(62208),D=E(21726);function Q(re,X){const L=X&&X.url&&X.url.path;if(re&&L&&(re=(0,D.hF)(re,L,{preserveProtocolRelative:!0}),X.portalItem&&X.readResourcePaths)){const T=(0,D.PF)(re,X.portalItem.itemUrl);F.test(T)&&X.readResourcePaths.push(X.portalItem.resourceFromPath(T).path)}return $(re,X&&X.portal)}function B(re,X,L=Y.YES){if(!re)return re;!(0,D.YP)(re)&&X&&X.blockedRelativeUrls&&X.blockedRelativeUrls.push(re);let T=(0,D.hF)(re);if(X){const P=X.verifyItemRelativeUrls&&X.verifyItemRelativeUrls.rootPath||X.url&&X.url.path;if(P){const j=$(P,X.portal);T=(0,D.PF)($(T,X.portal),j,j),T!==re&&X.verifyItemRelativeUrls&&X.verifyItemRelativeUrls.writtenUrls.push(T)}}return T=function x(re,X){return X&&!X.isPortal&&X.urlKey&&X.customBaseUrl?(0,D.Ie)(re,`${X.urlKey}.${X.customBaseUrl}`,X.portalHostname):re}(T,X&&X.portal),(0,D.YP)(T)&&(T=(0,D.Fv)(T)),null!=X&&X.resources&&null!=X&&X.portalItem&&!(0,D.YP)(T)&&!(0,D.HK)(T)&&L===Y.YES&&X.resources.toKeep.push({resource:X.portalItem.resourceFromPath(T)}),T}function N(re,X,L){return Q(re,L)}function ne(re,X,L,T){const P=B(re,T);void 0!==P&&(X[L]=P)}const k=/\/items\/([^\/]+)\/resources\//,F=/^\.\/resources\//;function I(re){const X=(0,M.pC)(re)?re.match(k):null;return(0,M.pC)(X)?X[1]:null}function $(re,X){if(!X||X.isPortal||!X.urlKey||!X.customBaseUrl)return re;const L=`${X.urlKey}.${X.customBaseUrl}`,T=(0,D.TI)();return(0,D.D6)(T,`${T.scheme}://${L}`)?(0,D.Ie)(re,X.portalHostname,L):(0,D.Ie)(re,L,X.portalHostname)}var Y,re;(re=Y||(Y={}))[re.YES=0]="YES",re[re.NO=1]="NO";const Z=Object.freeze({__proto__:null,fromJSON:Q,toJSON:B,read:N,write:ne,itemIdFromResourceUrl:I,get MarkKeep(){return Y}})},14259:(qe,Me,E)=>{"use strict";E.d(Me,{q:()=>N});var M,Q,B={exports:{}};M=B,void 0!==(Q=function(){function k(x,$,Y,Z,re){for(;Z>Y;){if(Z-Y>600){var X=Z-Y+1,L=$-Y+1,T=Math.log(X),P=.5*Math.exp(2*T/3),j=.5*Math.sqrt(T*P*(X-P)/X)*(L-X/2<0?-1:1);k(x,$,Math.max(Y,Math.floor($-L*P/X+j)),Math.min(Z,Math.floor($+(X-L)*P/X+j)),re)}var K=x[$],W=Y,te=Z;for(F(x,Y,$),re(x[Z],K)>0&&F(x,Y,Z);W<te;){for(F(x,W,te),W++,te--;re(x[W],K)<0;)W++;for(;re(x[te],K)>0;)te--}0===re(x[Y],K)?F(x,Y,te):F(x,++te,Z),te<=$&&(Y=te+1),$<=te&&(Z=te-1)}}function F(x,$,Y){var Z=x[$];x[$]=x[Y],x[Y]=Z}function I(x,$){return x<$?-1:x>$?1:0}return function ne(x,$,Y,Z,re){k(x,$,Y||0,Z||x.length-1,re||I)}}())&&(M.exports=Q);const N=B.exports},76279:(qe,Me,E)=>{"use strict";E.d(Me,{r:()=>D});var M=E(14259);function D(T,P){if(!(this instanceof D))return new D(T,P);this._maxEntries=Math.max(4,T||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),P&&("function"==typeof P?this.toBBox=P:this._initFormat(P)),this.clear()}function Q(T,P,j){if(!j)return P.indexOf(T);for(var K=0;K<P.length;K++)if(j(T,P[K]))return K;return-1}function B(T,P){N(T,0,T.children.length,P,T)}function N(T,P,j,K,W){W||(W=X(null)),W.minX=1/0,W.minY=1/0,W.maxX=-1/0,W.maxY=-1/0;for(var te,J=P;J<j;J++)te=T.children[J],ne(W,T.leaf?K(te):te);return W}function ne(T,P){return T.minX=Math.min(T.minX,P.minX),T.minY=Math.min(T.minY,P.minY),T.maxX=Math.max(T.maxX,P.maxX),T.maxY=Math.max(T.maxY,P.maxY),T}function k(T,P){return T.minX-P.minX}function F(T,P){return T.minY-P.minY}function I(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function x(T){return T.maxX-T.minX+(T.maxY-T.minY)}function $(T,P){return(Math.max(P.maxX,T.maxX)-Math.min(P.minX,T.minX))*(Math.max(P.maxY,T.maxY)-Math.min(P.minY,T.minY))}function Y(T,P){var j=Math.max(T.minX,P.minX),K=Math.max(T.minY,P.minY),W=Math.min(T.maxX,P.maxX),te=Math.min(T.maxY,P.maxY);return Math.max(0,W-j)*Math.max(0,te-K)}function Z(T,P){return T.minX<=P.minX&&T.minY<=P.minY&&P.maxX<=T.maxX&&P.maxY<=T.maxY}function re(T,P){return P.minX<=T.maxX&&P.minY<=T.maxY&&P.maxX>=T.minX&&P.maxY>=T.minY}function X(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function L(T,P,j,K,W){for(var te,J=[P,j];J.length;)(j=J.pop())-(P=J.pop())<=K||(te=P+Math.ceil((j-P)/K/2)*K,(0,M.q)(T,te,P,j,W),J.push(P,te,te,j))}D.prototype={all:function(){return this._all(this.data,[])},search:function(T){var P=this.data,j=[],K=this.toBBox;if(!re(T,P))return j;for(var W,te,J,he,oe=[];P;){for(W=0,te=P.children.length;W<te;W++)J=P.children[W],re(T,he=P.leaf?K(J):J)&&(P.leaf?j.push(J):Z(T,he)?this._all(J,j):oe.push(J));P=oe.pop()}return j},collides:function(T){var P=this.data,j=this.toBBox;if(!re(T,P))return!1;for(var K,W,te,J,he=[];P;){for(K=0,W=P.children.length;K<W;K++)if(te=P.children[K],re(T,J=P.leaf?j(te):te)){if(P.leaf||Z(T,J))return!0;he.push(te)}P=he.pop()}return!1},load:function(T){if(!T||!T.length)return this;if(T.length<this._minEntries){for(var P=0,j=T.length;P<j;P++)this.insert(T[P]);return this}var K=this._build(T.slice(),0,T.length-1,0);if(this.data.children.length)if(this.data.height===K.height)this._splitRoot(this.data,K);else{if(this.data.height<K.height){var W=this.data;this.data=K,K=W}this._insert(K,this.data.height-K.height-1,!0)}else this.data=K;return this},insert:function(T){return T&&this._insert(T,this.data.height-1),this},clear:function(){return this.data=X([]),this},remove:function(T,P){if(!T)return this;for(var j,K,W,te,J=this.data,he=this.toBBox(T),oe=[],me=[];J||oe.length;){if(J||(J=oe.pop(),K=oe[oe.length-1],j=me.pop(),te=!0),J.leaf&&-1!==(W=Q(T,J.children,P)))return J.children.splice(W,1),oe.push(J),this._condense(oe),this;te||J.leaf||!Z(J,he)?K?(j++,J=K.children[j],te=!1):J=null:(oe.push(J),me.push(j),j=0,K=J,J=J.children[0])}return this},toBBox:function(T){return T},compareMinX:k,compareMinY:F,toJSON:function(){return this.data},fromJSON:function(T){return this.data=T,this},_all:function(T,P){for(var j=[];T;)T.leaf?P.push.apply(P,T.children):j.push.apply(j,T.children),T=j.pop();return P},_build:function(T,P,j,K){var W,te=j-P+1,J=this._maxEntries;if(te<=J)return B(W=X(T.slice(P,j+1)),this.toBBox),W;K||(K=Math.ceil(Math.log(te)/Math.log(J)),J=Math.ceil(te/Math.pow(J,K-1))),(W=X([])).leaf=!1,W.height=K;var he,oe,me,de,ie=Math.ceil(te/J),V=ie*Math.ceil(Math.sqrt(J));for(L(T,P,j,V,this.compareMinX),he=P;he<=j;he+=V)for(L(T,he,me=Math.min(he+V-1,j),ie,this.compareMinY),oe=he;oe<=me;oe+=ie)de=Math.min(oe+ie-1,me),W.children.push(this._build(T,oe,de,K-1));return B(W,this.toBBox),W},_chooseSubtree:function(T,P,j,K){for(var W,te,J,he,oe,me,de,ie;K.push(P),!P.leaf&&K.length-1!==j;){for(de=ie=1/0,W=0,te=P.children.length;W<te;W++)oe=I(J=P.children[W]),(me=$(T,J)-oe)<ie?(ie=me,de=oe<de?oe:de,he=J):me===ie&&oe<de&&(de=oe,he=J);P=he||P.children[0]}return P},_insert:function(T,P,j){var W=j?T:(0,this.toBBox)(T),te=[],J=this._chooseSubtree(W,this.data,P,te);for(J.children.push(T),ne(J,W);P>=0&&te[P].children.length>this._maxEntries;)this._split(te,P),P--;this._adjustParentBBoxes(W,te,P)},_split:function(T,P){var j=T[P],K=j.children.length,W=this._minEntries;this._chooseSplitAxis(j,W,K);var te=this._chooseSplitIndex(j,W,K),J=X(j.children.splice(te,j.children.length-te));J.height=j.height,J.leaf=j.leaf,B(j,this.toBBox),B(J,this.toBBox),P?T[P-1].children.push(J):this._splitRoot(j,J)},_splitRoot:function(T,P){this.data=X([T,P]),this.data.height=T.height+1,this.data.leaf=!1,B(this.data,this.toBBox)},_chooseSplitIndex:function(T,P,j){var K,W,te,J,he,oe,me,de;for(oe=me=1/0,K=P;K<=j-P;K++)J=Y(W=N(T,0,K,this.toBBox),te=N(T,K,j,this.toBBox)),he=I(W)+I(te),J<oe?(oe=J,de=K,me=he<me?he:me):J===oe&&he<me&&(me=he,de=K);return de},_chooseSplitAxis:function(T,P,j){var K=T.leaf?this.compareMinX:k,W=T.leaf?this.compareMinY:F;this._allDistMargin(T,P,j,K)<this._allDistMargin(T,P,j,W)&&T.children.sort(K)},_allDistMargin:function(T,P,j,K){T.children.sort(K);var W,te,J=this.toBBox,he=N(T,0,P,J),oe=N(T,j-P,j,J),me=x(he)+x(oe);for(W=P;W<j-P;W++)te=T.children[W],ne(he,T.leaf?J(te):te),me+=x(he);for(W=j-P-1;W>=P;W--)te=T.children[W],ne(oe,T.leaf?J(te):te),me+=x(oe);return me},_adjustParentBBoxes:function(T,P,j){for(var K=j;K>=0;K--)ne(P[K],T)},_condense:function(T){for(var P,j=T.length-1;j>=0;j--)0===T[j].children.length?j>0?(P=T[j-1].children).splice(P.indexOf(T[j]),1):this.clear():B(T[j],this.toBBox)},_initFormat:function(T){var P=["return a"," - b",";"];this.compareMinX=new Function("a","b",P.join(T[0])),this.compareMinY=new Function("a","b",P.join(T[1])),this.toBBox=new Function("a","return {minX: a"+T[0]+", minY: a"+T[1]+", maxX: a"+T[2]+", maxY: a"+T[3]+"};")}}},17626:(qe,Me,E)=>{"use strict";function M(D,Q,B,N){var ne,k=arguments.length,F=k<3?Q:null===N?N=Object.getOwnPropertyDescriptor(Q,B):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(D,Q,B,N);else for(var I=D.length-1;I>=0;I--)(ne=D[I])&&(F=(k<3?ne(F):k>3?ne(Q,B,F):ne(Q,B))||F);return k>3&&F&&Object.defineProperty(Q,B,F),F}E.d(Me,{_:()=>M})},67831:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>L,b:()=>X,c:()=>D,f:()=>N,g:()=>Z,h:()=>Ce,i:()=>W,j:()=>J,k:()=>te,l:()=>T,m:()=>B,n:()=>j,s:()=>Q,t:()=>de});var M=E(39863);function D(Te,Ze){return Te[0]=Ze[0],Te[1]=Ze[1],Te}function Q(Te,Ze,tt){return Te[0]=Ze,Te[1]=tt,Te}function B(Te,Ze,tt){return Te[0]=Ze[0]+tt[0],Te[1]=Ze[1]+tt[1],Te}function N(Te,Ze,tt){return Te[0]=Ze[0]-tt[0],Te[1]=Ze[1]-tt[1],Te}function ne(Te,Ze,tt){return Te[0]=Ze[0]*tt[0],Te[1]=Ze[1]*tt[1],Te}function k(Te,Ze,tt){return Te[0]=Ze[0]/tt[0],Te[1]=Ze[1]/tt[1],Te}function Z(Te,Ze,tt){return Te[0]=Ze[0]*tt,Te[1]=Ze[1]*tt,Te}function X(Te,Ze){const tt=Ze[0]-Te[0],xe=Ze[1]-Te[1];return Math.sqrt(tt*tt+xe*xe)}function L(Te,Ze){const tt=Ze[0]-Te[0],xe=Ze[1]-Te[1];return tt*tt+xe*xe}function T(Te){const Ze=Te[0],tt=Te[1];return Math.sqrt(Ze*Ze+tt*tt)}function P(Te){const Ze=Te[0],tt=Te[1];return Ze*Ze+tt*tt}function j(Te,Ze){return Te[0]=-Ze[0],Te[1]=-Ze[1],Te}function W(Te,Ze){const tt=Ze[0],xe=Ze[1];let Ve=tt*tt+xe*xe;return Ve>0&&(Ve=1/Math.sqrt(Ve),Te[0]=Ze[0]*Ve,Te[1]=Ze[1]*Ve),Te}function te(Te,Ze){return Te[0]*Ze[0]+Te[1]*Ze[1]}function J(Te,Ze,tt){const xe=Ze[0]*tt[1]-Ze[1]*tt[0];return Te[0]=Te[1]=0,Te[2]=xe,Te}function de(Te,Ze,tt){const xe=Ze[0],Ve=Ze[1];return Te[0]=tt[0]*xe+tt[2]*Ve+tt[4],Te[1]=tt[1]*xe+tt[3]*Ve+tt[5],Te}const Ce=N;Object.freeze({__proto__:null,copy:D,set:Q,add:B,subtract:N,multiply:ne,divide:k,ceil:function F(Te,Ze){return Te[0]=Math.ceil(Ze[0]),Te[1]=Math.ceil(Ze[1]),Te},floor:function I(Te,Ze){return Te[0]=Math.floor(Ze[0]),Te[1]=Math.floor(Ze[1]),Te},min:function x(Te,Ze,tt){return Te[0]=Math.min(Ze[0],tt[0]),Te[1]=Math.min(Ze[1],tt[1]),Te},max:function $(Te,Ze,tt){return Te[0]=Math.max(Ze[0],tt[0]),Te[1]=Math.max(Ze[1],tt[1]),Te},round:function Y(Te,Ze){return Te[0]=Math.round(Ze[0]),Te[1]=Math.round(Ze[1]),Te},scale:Z,scaleAndAdd:function re(Te,Ze,tt,xe){return Te[0]=Ze[0]+tt[0]*xe,Te[1]=Ze[1]+tt[1]*xe,Te},distance:X,squaredDistance:L,length:T,squaredLength:P,negate:j,inverse:function K(Te,Ze){return Te[0]=1/Ze[0],Te[1]=1/Ze[1],Te},normalize:W,dot:te,cross:J,lerp:function he(Te,Ze,tt,xe){const Ve=Ze[0],He=Ze[1];return Te[0]=Ve+xe*(tt[0]-Ve),Te[1]=He+xe*(tt[1]-He),Te},random:function oe(Te,Ze){Ze=Ze||1;const tt=2*(0,M.R)()*Math.PI;return Te[0]=Math.cos(tt)*Ze,Te[1]=Math.sin(tt)*Ze,Te},transformMat2:function me(Te,Ze,tt){const xe=Ze[0],Ve=Ze[1];return Te[0]=tt[0]*xe+tt[2]*Ve,Te[1]=tt[1]*xe+tt[3]*Ve,Te},transformMat2d:de,transformMat3:function ie(Te,Ze,tt){const xe=Ze[0],Ve=Ze[1];return Te[0]=tt[0]*xe+tt[3]*Ve+tt[6],Te[1]=tt[1]*xe+tt[4]*Ve+tt[7],Te},transformMat4:function V(Te,Ze,tt){const xe=Ze[0],Ve=Ze[1];return Te[0]=tt[0]*xe+tt[4]*Ve+tt[12],Te[1]=tt[1]*xe+tt[5]*Ve+tt[13],Te},rotate:function ce(Te,Ze,tt,xe){const Ve=Ze[0]-tt[0],He=Ze[1]-tt[1],ee=Math.sin(xe),_e=Math.cos(xe);return Te[0]=Ve*_e-He*ee+tt[0],Te[1]=Ve*ee+He*_e+tt[1],Te},angle:function ae(Te,Ze){const tt=Te[0],xe=Te[1],Ve=Ze[0],He=Ze[1];let ee=tt*tt+xe*xe;ee>0&&(ee=1/Math.sqrt(ee));let _e=Ve*Ve+He*He;_e>0&&(_e=1/Math.sqrt(_e));const je=(tt*Ve+xe*He)*ee*_e;return je>1?0:je<-1?Math.PI:Math.acos(je)},str:function pe(Te){return"vec2("+Te[0]+", "+Te[1]+")"},exactEquals:function ue(Te,Ze){return Te[0]===Ze[0]&&Te[1]===Ze[1]},equals:function ye(Te,Ze){const tt=Te[0],xe=Te[1],Ve=Ze[0],He=Ze[1];return Math.abs(tt-Ve)<=M.E*Math.max(1,Math.abs(tt),Math.abs(Ve))&&Math.abs(xe-He)<=M.E*Math.max(1,Math.abs(xe),Math.abs(He))},projectAndScale:function le(Te,Ze,tt,xe,Ve){let He=Ze[0]-tt[0],ee=Ze[1]-tt[1];const _e=(xe[0]*He+xe[1]*ee)*(Ve-1);return He=xe[0]*_e,ee=xe[1]*_e,Te[0]=Ze[0]+He,Te[1]=Ze[1]+ee,Te},len:T,sub:Ce,mul:ne,div:k,dist:X,sqrDist:L,sqrLen:P})},9545:(qe,Me,E)=>{"use strict";function M(){return new Float32Array(2)}function Q(re,X){const L=new Float32Array(2);return L[0]=re,L[1]=X,L}function N(){return M()}function ne(){return Q(1,1)}function k(){return Q(1,0)}function F(){return Q(0,1)}E.d(Me,{c:()=>M,f:()=>Q});const I=N(),x=ne(),$=k(),Y=F();Object.freeze({__proto__:null,create:M,clone:function D(re){const X=new Float32Array(2);return X[0]=re[0],X[1]=re[1],X},fromValues:Q,createView:function B(re,X){return new Float32Array(re,X,2)},zeros:N,ones:ne,unitX:k,unitY:F,ZEROS:I,ONES:x,UNIT_X:$,UNIT_Y:Y})},99770:(qe,Me,E)=>{"use strict";function M(){return[0,0]}function Q(X,L){return[X,L]}function N(X,L){return new Float64Array(X,L,2)}function k(){return Q(1,1)}function F(){return Q(1,0)}function I(){return Q(0,1)}E.d(Me,{a:()=>M,c:()=>N,f:()=>Q});const $=k(),Y=F(),Z=I();Object.freeze({__proto__:null,create:M,clone:function D(X){return[X[0],X[1]]},fromValues:Q,fromArray:function B(X){const L=[0,0],T=Math.min(2,X.length);for(let P=0;P<T;++P)L[P]=X[P];return L},createView:N,zeros:function ne(){return[0,0]},ones:k,unitX:F,unitY:I,ZEROS:[0,0],ONES:$,UNIT_X:Y,UNIT_Y:Z})},84161:(qe,Me,E)=>{"use strict";E.d(Me,{E:()=>I,a:()=>X,b:()=>ne,c:()=>he,d:()=>J,e:()=>oe,f:()=>k,g:()=>B,h:()=>P,i:()=>T,k:()=>Pe,l:()=>Q,m:()=>V,n:()=>te,p:()=>j,q:()=>ae,r:()=>Ge,s:()=>N,t:()=>ce,u:()=>xe});var M=E(28093),D=E(39863);function Q(ee){const _e=ee[0],je=ee[1],Ye=ee[2];return Math.sqrt(_e*_e+je*je+Ye*Ye)}function B(ee,_e){return ee[0]=_e[0],ee[1]=_e[1],ee[2]=_e[2],ee}function N(ee,_e,je,Ye){return ee[0]=_e,ee[1]=je,ee[2]=Ye,ee}function ne(ee,_e,je){return ee[0]=_e[0]+je[0],ee[1]=_e[1]+je[1],ee[2]=_e[2]+je[2],ee}function k(ee,_e,je){return ee[0]=_e[0]-je[0],ee[1]=_e[1]-je[1],ee[2]=_e[2]-je[2],ee}function F(ee,_e,je){return ee[0]=_e[0]*je[0],ee[1]=_e[1]*je[1],ee[2]=_e[2]*je[2],ee}function I(ee,_e,je){return ee[0]=_e[0]/je[0],ee[1]=_e[1]/je[1],ee[2]=_e[2]/je[2],ee}function X(ee,_e,je){return ee[0]=_e[0]*je,ee[1]=_e[1]*je,ee[2]=_e[2]*je,ee}function T(ee,_e){const je=_e[0]-ee[0],Ye=_e[1]-ee[1],pt=_e[2]-ee[2];return Math.sqrt(je*je+Ye*Ye+pt*pt)}function P(ee,_e){const je=_e[0]-ee[0],Ye=_e[1]-ee[1],pt=_e[2]-ee[2];return je*je+Ye*Ye+pt*pt}function j(ee){const _e=ee[0],je=ee[1],Ye=ee[2];return _e*_e+je*je+Ye*Ye}function te(ee,_e){const je=_e[0],Ye=_e[1],pt=_e[2];let it=je*je+Ye*Ye+pt*pt;return it>0&&(it=1/Math.sqrt(it),ee[0]=_e[0]*it,ee[1]=_e[1]*it,ee[2]=_e[2]*it),ee}function J(ee,_e){return ee[0]*_e[0]+ee[1]*_e[1]+ee[2]*_e[2]}function he(ee,_e,je){const Ye=_e[0],pt=_e[1],it=_e[2],at=je[0],ot=je[1],et=je[2];return ee[0]=pt*et-it*ot,ee[1]=it*at-Ye*et,ee[2]=Ye*ot-pt*at,ee}function oe(ee,_e,je,Ye){const pt=_e[0],it=_e[1],at=_e[2];return ee[0]=pt+Ye*(je[0]-pt),ee[1]=it+Ye*(je[1]-it),ee[2]=at+Ye*(je[2]-at),ee}function V(ee,_e,je){const Ye=_e[0],pt=_e[1],it=_e[2];return ee[0]=je[0]*Ye+je[4]*pt+je[8]*it+je[12],ee[1]=je[1]*Ye+je[5]*pt+je[9]*it+je[13],ee[2]=je[2]*Ye+je[6]*pt+je[10]*it+je[14],ee}function ce(ee,_e,je){const Ye=_e[0],pt=_e[1],it=_e[2];return ee[0]=Ye*je[0]+pt*je[3]+it*je[6],ee[1]=Ye*je[1]+pt*je[4]+it*je[7],ee[2]=Ye*je[2]+pt*je[5]+it*je[8],ee}function ae(ee,_e,je){const Ye=je[0],pt=je[1],it=je[2],ot=_e[0],et=_e[1],_t=_e[2];let Ke=pt*_t-it*et,ct=it*ot-Ye*_t,Et=Ye*et-pt*ot,Mt=pt*Et-it*ct,Gt=it*Ke-Ye*Et,$t=Ye*ct-pt*Ke;const Jt=2*je[3];return Ke*=Jt,ct*=Jt,Et*=Jt,Mt*=2,Gt*=2,$t*=2,ee[0]=ot+Ke+Mt,ee[1]=et+ct+Gt,ee[2]=_t+Et+$t,ee}const se=(0,M.c)(),Ce=(0,M.c)();function Pe(ee,_e){return ee[0]===_e[0]&&ee[1]===_e[1]&&ee[2]===_e[2]}function Ge(ee,_e,je){const Ye=je[0]-_e[0],pt=je[1]-_e[1],it=je[2]-_e[2];let at=Ye*Ye+pt*pt+it*it;return at>0?(at=1/Math.sqrt(at),ee[0]=Ye*at,ee[1]=pt*at,ee[2]=it*at,ee):(ee[0]=0,ee[1]=0,ee[2]=0,ee)}const xe=Q;Object.freeze({__proto__:null,length:Q,copy:B,set:N,add:ne,subtract:k,multiply:F,divide:I,ceil:function x(ee,_e){return ee[0]=Math.ceil(_e[0]),ee[1]=Math.ceil(_e[1]),ee[2]=Math.ceil(_e[2]),ee},floor:function $(ee,_e){return ee[0]=Math.floor(_e[0]),ee[1]=Math.floor(_e[1]),ee[2]=Math.floor(_e[2]),ee},min:function Y(ee,_e,je){return ee[0]=Math.min(_e[0],je[0]),ee[1]=Math.min(_e[1],je[1]),ee[2]=Math.min(_e[2],je[2]),ee},max:function Z(ee,_e,je){return ee[0]=Math.max(_e[0],je[0]),ee[1]=Math.max(_e[1],je[1]),ee[2]=Math.max(_e[2],je[2]),ee},round:function re(ee,_e){return ee[0]=Math.round(_e[0]),ee[1]=Math.round(_e[1]),ee[2]=Math.round(_e[2]),ee},scale:X,scaleAndAdd:function L(ee,_e,je,Ye){return ee[0]=_e[0]+je[0]*Ye,ee[1]=_e[1]+je[1]*Ye,ee[2]=_e[2]+je[2]*Ye,ee},distance:T,squaredDistance:P,squaredLength:j,negate:function K(ee,_e){return ee[0]=-_e[0],ee[1]=-_e[1],ee[2]=-_e[2],ee},inverse:function W(ee,_e){return ee[0]=1/_e[0],ee[1]=1/_e[1],ee[2]=1/_e[2],ee},normalize:te,dot:J,cross:he,lerp:oe,hermite:function me(ee,_e,je,Ye,pt,it){const at=it*it,ot=at*(2*it-3)+1,et=at*(it-2)+it,_t=at*(it-1),Ke=at*(3-2*it);return ee[0]=_e[0]*ot+je[0]*et+Ye[0]*_t+pt[0]*Ke,ee[1]=_e[1]*ot+je[1]*et+Ye[1]*_t+pt[1]*Ke,ee[2]=_e[2]*ot+je[2]*et+Ye[2]*_t+pt[2]*Ke,ee},bezier:function de(ee,_e,je,Ye,pt,it){const at=1-it,ot=at*at,et=it*it,_t=ot*at,Ke=3*it*ot,ct=3*et*at,Et=et*it;return ee[0]=_e[0]*_t+je[0]*Ke+Ye[0]*ct+pt[0]*Et,ee[1]=_e[1]*_t+je[1]*Ke+Ye[1]*ct+pt[1]*Et,ee[2]=_e[2]*_t+je[2]*Ke+Ye[2]*ct+pt[2]*Et,ee},random:function ie(ee,_e){_e=_e||1;const je=2*(0,D.R)()*Math.PI,Ye=2*(0,D.R)()-1,pt=Math.sqrt(1-Ye*Ye)*_e;return ee[0]=Math.cos(je)*pt,ee[1]=Math.sin(je)*pt,ee[2]=Ye*_e,ee},transformMat4:V,transformMat3:ce,transformQuat:ae,rotateX:function pe(ee,_e,je,Ye){const pt=[],it=[];return pt[0]=_e[0]-je[0],pt[1]=_e[1]-je[1],pt[2]=_e[2]-je[2],it[0]=pt[0],it[1]=pt[1]*Math.cos(Ye)-pt[2]*Math.sin(Ye),it[2]=pt[1]*Math.sin(Ye)+pt[2]*Math.cos(Ye),ee[0]=it[0]+je[0],ee[1]=it[1]+je[1],ee[2]=it[2]+je[2],ee},rotateY:function ue(ee,_e,je,Ye){const pt=[],it=[];return pt[0]=_e[0]-je[0],pt[1]=_e[1]-je[1],pt[2]=_e[2]-je[2],it[0]=pt[2]*Math.sin(Ye)+pt[0]*Math.cos(Ye),it[1]=pt[1],it[2]=pt[2]*Math.cos(Ye)-pt[0]*Math.sin(Ye),ee[0]=it[0]+je[0],ee[1]=it[1]+je[1],ee[2]=it[2]+je[2],ee},rotateZ:function ye(ee,_e,je,Ye){const pt=[],it=[];return pt[0]=_e[0]-je[0],pt[1]=_e[1]-je[1],pt[2]=_e[2]-je[2],it[0]=pt[0]*Math.cos(Ye)-pt[1]*Math.sin(Ye),it[1]=pt[0]*Math.sin(Ye)+pt[1]*Math.cos(Ye),it[2]=pt[2],ee[0]=it[0]+je[0],ee[1]=it[1]+je[1],ee[2]=it[2]+je[2],ee},angle:function le(ee,_e){B(se,ee),B(Ce,_e),te(se,se),te(Ce,Ce);const je=J(se,Ce);return je>1?0:je<-1?Math.PI:Math.acos(je)},str:function ge(ee){return"vec3("+ee[0]+", "+ee[1]+", "+ee[2]+")"},exactEquals:Pe,equals:function Ee(ee,_e){if(ee===_e)return!0;const je=ee[0],Ye=ee[1],pt=ee[2],it=_e[0],at=_e[1],ot=_e[2];return Math.abs(je-it)<=D.E*Math.max(1,Math.abs(je),Math.abs(it))&&Math.abs(Ye-at)<=D.E*Math.max(1,Math.abs(Ye),Math.abs(at))&&Math.abs(pt-ot)<=D.E*Math.max(1,Math.abs(pt),Math.abs(ot))},direction:Ge,sub:k,mul:F,div:I,dist:T,sqrDist:P,len:xe,sqrLen:j})},28093:(qe,Me,E)=>{"use strict";function M(){return[0,0,0]}function D(T){return[T[0],T[1],T[2]]}function Q(T,P,j){return[T,P,j]}function B(T){const P=[0,0,0],j=Math.min(3,T.length);for(let K=0;K<j;++K)P[K]=T[K];return P}function N(T,P){return new Float64Array(T,P,3)}function k(){return Q(1,1,1)}function F(){return Q(1,0,0)}function I(){return Q(0,1,0)}function x(){return Q(0,0,1)}E.d(Me,{O:()=>Y,Z:()=>$,a:()=>D,b:()=>N,c:()=>M,d:()=>B,f:()=>Q});const $=[0,0,0],Y=k(),Z=F(),re=I(),X=x();Object.freeze({__proto__:null,create:M,clone:D,fromValues:Q,fromArray:B,createView:N,zeros:function ne(){return[0,0,0]},ones:k,unitX:F,unitY:I,unitZ:x,ZEROS:$,ONES:Y,UNIT_X:Z,UNIT_Y:re,UNIT_Z:X})},993:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>B,b:()=>Z,c:()=>D,d:()=>te,e:()=>T,f:()=>P,g:()=>ie,h:()=>V,l:()=>J,n:()=>W,s:()=>Q});var M=E(39863);function D(ge,Pe){return ge[0]=Pe[0],ge[1]=Pe[1],ge[2]=Pe[2],ge[3]=Pe[3],ge}function Q(ge,Pe,Ee,Ge,Se){return ge[0]=Pe,ge[1]=Ee,ge[2]=Ge,ge[3]=Se,ge}function B(ge,Pe,Ee){return ge[0]=Pe[0]+Ee[0],ge[1]=Pe[1]+Ee[1],ge[2]=Pe[2]+Ee[2],ge[3]=Pe[3]+Ee[3],ge}function N(ge,Pe,Ee){return ge[0]=Pe[0]-Ee[0],ge[1]=Pe[1]-Ee[1],ge[2]=Pe[2]-Ee[2],ge[3]=Pe[3]-Ee[3],ge}function ne(ge,Pe,Ee){return ge[0]=Pe[0]*Ee[0],ge[1]=Pe[1]*Ee[1],ge[2]=Pe[2]*Ee[2],ge[3]=Pe[3]*Ee[3],ge}function k(ge,Pe,Ee){return ge[0]=Pe[0]/Ee[0],ge[1]=Pe[1]/Ee[1],ge[2]=Pe[2]/Ee[2],ge[3]=Pe[3]/Ee[3],ge}function Z(ge,Pe,Ee){return ge[0]=Pe[0]*Ee,ge[1]=Pe[1]*Ee,ge[2]=Pe[2]*Ee,ge[3]=Pe[3]*Ee,ge}function X(ge,Pe){const Ee=Pe[0]-ge[0],Ge=Pe[1]-ge[1],Se=Pe[2]-ge[2],ve=Pe[3]-ge[3];return Math.sqrt(Ee*Ee+Ge*Ge+Se*Se+ve*ve)}function L(ge,Pe){const Ee=Pe[0]-ge[0],Ge=Pe[1]-ge[1],Se=Pe[2]-ge[2],ve=Pe[3]-ge[3];return Ee*Ee+Ge*Ge+Se*Se+ve*ve}function T(ge){const Pe=ge[0],Ee=ge[1],Ge=ge[2],Se=ge[3];return Math.sqrt(Pe*Pe+Ee*Ee+Ge*Ge+Se*Se)}function P(ge){const Pe=ge[0],Ee=ge[1],Ge=ge[2],Se=ge[3];return Pe*Pe+Ee*Ee+Ge*Ge+Se*Se}function W(ge,Pe){const Ee=Pe[0],Ge=Pe[1],Se=Pe[2],ve=Pe[3];let Te=Ee*Ee+Ge*Ge+Se*Se+ve*ve;return Te>0&&(Te=1/Math.sqrt(Te),ge[0]=Ee*Te,ge[1]=Ge*Te,ge[2]=Se*Te,ge[3]=ve*Te),ge}function te(ge,Pe){return ge[0]*Pe[0]+ge[1]*Pe[1]+ge[2]*Pe[2]+ge[3]*Pe[3]}function J(ge,Pe,Ee,Ge){const Se=Pe[0],ve=Pe[1],Te=Pe[2],Ze=Pe[3];return ge[0]=Se+Ge*(Ee[0]-Se),ge[1]=ve+Ge*(Ee[1]-ve),ge[2]=Te+Ge*(Ee[2]-Te),ge[3]=Ze+Ge*(Ee[3]-Ze),ge}function ie(ge,Pe){return ge[0]===Pe[0]&&ge[1]===Pe[1]&&ge[2]===Pe[2]&&ge[3]===Pe[3]}function V(ge,Pe){const Ee=ge[0],Ge=ge[1],Se=ge[2],ve=ge[3],Te=Pe[0],Ze=Pe[1],tt=Pe[2],xe=Pe[3];return Math.abs(Ee-Te)<=M.E*Math.max(1,Math.abs(Ee),Math.abs(Te))&&Math.abs(Ge-Ze)<=M.E*Math.max(1,Math.abs(Ge),Math.abs(Ze))&&Math.abs(Se-tt)<=M.E*Math.max(1,Math.abs(Se),Math.abs(tt))&&Math.abs(ve-xe)<=M.E*Math.max(1,Math.abs(ve),Math.abs(xe))}Object.freeze({__proto__:null,copy:D,set:Q,add:B,subtract:N,multiply:ne,divide:k,ceil:function F(ge,Pe){return ge[0]=Math.ceil(Pe[0]),ge[1]=Math.ceil(Pe[1]),ge[2]=Math.ceil(Pe[2]),ge[3]=Math.ceil(Pe[3]),ge},floor:function I(ge,Pe){return ge[0]=Math.floor(Pe[0]),ge[1]=Math.floor(Pe[1]),ge[2]=Math.floor(Pe[2]),ge[3]=Math.floor(Pe[3]),ge},min:function x(ge,Pe,Ee){return ge[0]=Math.min(Pe[0],Ee[0]),ge[1]=Math.min(Pe[1],Ee[1]),ge[2]=Math.min(Pe[2],Ee[2]),ge[3]=Math.min(Pe[3],Ee[3]),ge},max:function $(ge,Pe,Ee){return ge[0]=Math.max(Pe[0],Ee[0]),ge[1]=Math.max(Pe[1],Ee[1]),ge[2]=Math.max(Pe[2],Ee[2]),ge[3]=Math.max(Pe[3],Ee[3]),ge},round:function Y(ge,Pe){return ge[0]=Math.round(Pe[0]),ge[1]=Math.round(Pe[1]),ge[2]=Math.round(Pe[2]),ge[3]=Math.round(Pe[3]),ge},scale:Z,scaleAndAdd:function re(ge,Pe,Ee,Ge){return ge[0]=Pe[0]+Ee[0]*Ge,ge[1]=Pe[1]+Ee[1]*Ge,ge[2]=Pe[2]+Ee[2]*Ge,ge[3]=Pe[3]+Ee[3]*Ge,ge},distance:X,squaredDistance:L,length:T,squaredLength:P,negate:function j(ge,Pe){return ge[0]=-Pe[0],ge[1]=-Pe[1],ge[2]=-Pe[2],ge[3]=-Pe[3],ge},inverse:function K(ge,Pe){return ge[0]=1/Pe[0],ge[1]=1/Pe[1],ge[2]=1/Pe[2],ge[3]=1/Pe[3],ge},normalize:W,dot:te,lerp:J,random:function he(ge,Pe){let Ee,Ge,Se,ve,Te,Ze;Pe=Pe||1;do{Ee=2*(0,M.R)()-1,Ge=2*(0,M.R)()-1,Te=Ee*Ee+Ge*Ge}while(Te>=1);do{Se=2*(0,M.R)()-1,ve=2*(0,M.R)()-1,Ze=Se*Se+ve*ve}while(Ze>=1);const tt=Math.sqrt((1-Te)/Ze);return ge[0]=Pe*Ee,ge[1]=Pe*Ge,ge[2]=Pe*Se*tt,ge[3]=Pe*ve*tt,ge},transformMat4:function oe(ge,Pe,Ee){const Ge=Pe[0],Se=Pe[1],ve=Pe[2],Te=Pe[3];return ge[0]=Ee[0]*Ge+Ee[4]*Se+Ee[8]*ve+Ee[12]*Te,ge[1]=Ee[1]*Ge+Ee[5]*Se+Ee[9]*ve+Ee[13]*Te,ge[2]=Ee[2]*Ge+Ee[6]*Se+Ee[10]*ve+Ee[14]*Te,ge[3]=Ee[3]*Ge+Ee[7]*Se+Ee[11]*ve+Ee[15]*Te,ge},transformQuat:function me(ge,Pe,Ee){const Ge=Pe[0],Se=Pe[1],ve=Pe[2],Te=Ee[0],Ze=Ee[1],tt=Ee[2],xe=Ee[3],Ve=xe*Ge+Ze*ve-tt*Se,He=xe*Se+tt*Ge-Te*ve,ee=xe*ve+Te*Se-Ze*Ge,_e=-Te*Ge-Ze*Se-tt*ve;return ge[0]=Ve*xe+_e*-Te+He*-tt-ee*-Ze,ge[1]=He*xe+_e*-Ze+ee*-Te-Ve*-tt,ge[2]=ee*xe+_e*-tt+Ve*-Ze-He*-Te,ge[3]=Pe[3],ge},str:function de(ge){return"vec4("+ge[0]+", "+ge[1]+", "+ge[2]+", "+ge[3]+")"},exactEquals:ie,equals:V,sub:N,mul:ne,div:k,dist:X,sqrDist:L,len:T,sqrLen:P})},20414:(qe,Me,E)=>{"use strict";E.d(Me,{h$:()=>Q,VL:()=>B,rW:()=>k,B7:()=>ne,St:()=>D});const M={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function D(F){return M[F]||M[F.toLowerCase()]}function Q(F){var I;return null!=(I=M[F])?I:M[F.toLowerCase()]}function B(F){return[...Q(F)]}function N(F,I,x){x<0&&++x,x>1&&--x;const $=6*x;return $<1?F+(I-F)*$:2*x<1?I:3*x<2?F+(I-F)*(2/3-x)*6:F}function ne(F,I,x,$=1){const Y=(F%360+360)%360/360,Z=x<=.5?x*(I+1):x+I-x*I,re=2*x-Z;return[Math.round(255*N(re,Z,Y+1/3)),Math.round(255*N(re,Z,Y)),Math.round(255*N(re,Z,Y-1/3)),$]}function k(F){const I=F.length>5,x=I?8:4,$=(1<<x)-1,Y=I?1:17,Z=I?9===F.length:5===F.length;let re=Number("0x"+F.substr(1));if(isNaN(re))return null;const X=[0,0,0,1];let L;return Z&&(L=re&$,re>>=x,X[3]=Y*L/255),L=re&$,re>>=x,X[2]=Y*L,L=re&$,re>>=x,X[1]=Y*L,L=re&$,re>>=x,X[0]=Y*L,X}},59318:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>N}),E(8314);var B,D=E(94113),Q=E(38365);const N={apiKey:void 0,applicationUrl:null==(B=globalThis.location)?void 0:B.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,D.RH)(N,globalThis.esriConfig,!0),delete N.has),N.assetsPath||(N.assetsPath=`https://cdn.jsdelivr.net/npm/@arcgis/core@4.23.0-next.${Q.r}/assets`),N.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(N,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),N.request.corsEnabledServers=[],N.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0}},14517:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>de});var M=E(55538),D=E(63290),Q=E(34595),B=E(44648),N=E(34117),k=(E(8314),E(58817)),F=E(27899),I=E(31283),x=E(36082),$=E(2345),Y=E(12196);class Z{constructor(V,ce,ae){this.properties=V,this.propertyName=ce,this.metadata=ae,this._observers=null,this._accessed=null,this._handles=null,this.flags=$.v.Dirty|(ae.nonNullable?$.v.NonNullable:0)|(ae.hasOwnProperty("value")?$.v.HasDefaultValue:0)|(void 0===ae.get?$.v.DepTrackingInitialized:0)|(void 0===ae.dependsOn?$.v.AutoTracked:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){(0,x.it)(this);const V=this.properties.store,ce=this.propertyName,ae=this.flags,pe=V.get(ce);if(ae&$.v.Computing||~ae&$.v.Dirty&&V.has(ce))return pe;this.flags|=$.v.Computing;const ue=this.properties.host;let ye;ae&$.v.AutoTracked?ye=(0,x.LJ)(this,this.metadata.get,ue):((0,x.GF)(ue,this),ye=this.metadata.get.call(ue)),V.set(ce,ye,I.s3.COMPUTED);const le=V.get(ce);return le===pe?this.flags&=~$.v.Dirty:(0,x.gb)(this.commit,this),this.flags&=~$.v.Computing,le}onObservableAccessed(V){V!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(V)||this._accessed.push(V))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=$.v.DepTrackingInitialized;const V=this._accessed;if(null===V)return;let ce=this._handles;null===ce&&(ce=this._handles=[]);for(let ae=0;ae<V.length;++ae)ce.push(V[ae].observe(this));V.length=0}observe(V){return null===this._observers&&(this._observers=[]),this._observers.includes(V)||this._observers.push(V),new Y.X(this._observers,V)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&$.v.Overriden&&(this.flags|=$.v.Dirty);const V=this._observers;if(null!==V)for(let ce=0;ce<V.length;++ce)V[ce].onInvalidated()}commit(){this.flags&=~$.v.Dirty,this.onCommitted()}onCommitted(){if(null===this._observers)return;const V=this._observers.slice();for(let ce=0;ce<V.length;++ce)V[ce].onCommitted()}_clearObservationHandles(){const V=this._handles;if(null!==V){for(let ce=0;ce<V.length;++ce)V[ce].remove();V.length=0}}}class re{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(V){const ce=new re;return this._values.forEach((ae,pe)=>{V&&V.has(pe)||ce.set(pe,(0,k.d9)(ae))}),ce}get(V){return this._values.get(V)}originOf(){return I.s3.USER}keys(){return[...this._values.keys()]}set(V,ce){this._values.set(V,ce)}delete(V){this._values.delete(V)}has(V){return this._values.has(V)}forEach(V){this._values.forEach(V)}}var X=E(52323);function L(ie,V,ce){return void 0!==ie}function T(ie,V,ce,ae){return!(void 0===ie||null==ce&&ie.flags&$.v.NonNullable)}D.Z.getLogger("esri.core.accessorSupport.Properties");class j{constructor(V){this.host=V,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=B.F.INITIALIZING,this.store=new re,this._origin=I.s3.USER;const ce=this.host.constructor.__accessorMetadata__,ae=ce.properties;for(const pe in ae){const ue=new Z(this,pe,ae[pe]);this.properties.set(pe,ue)}this.metadatas=ae,this._autoDestroy=ce.autoDestroy}initialize(){this.lifecycle=B.F.CONSTRUCTING}constructed(){this.lifecycle=B.F.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[V,ce]of this.properties){const ae=this.internalGet(V);ae&&(ie=ae)&&"function"==typeof ie.destroy&&(ae.destroy(),~ce.flags&$.v.NonNullable&&this._internalSet(ce,null)),ce.destroy()}else for(const[V,ce]of this.properties)ce.destroy();var ie}get initialized(){return this.lifecycle!==B.F.INITIALIZING}get(V){const ce=this.properties.get(V);if(ce.metadata.get)return ce.getComputed();(0,x.it)(ce);const ae=this.store;return ae.has(V)?ae.get(V):ce.metadata.value}originOf(V){const ce=this.store.originOf(V);if(void 0===ce){const ae=this.properties.get(V);if(void 0!==ae&&ae.flags&$.v.HasDefaultValue)return"defaults"}return(0,I.x3)(ce)}has(V){return!!this.properties.has(V)&&this.store.has(V)}keys(){return[...this.properties.keys()]}internalGet(V){const ce=this.properties.get(V);if(L(ce))return this.store.has(V)?this.store.get(V):ce.metadata.value}internalSet(V,ce){const ae=this.properties.get(V);L(ae)&&this._internalSet(ae,ce)}getDependsInfo(V,ce,ae){const pe=this.properties.get(ce);if(!L(pe))return"";const ue=new Set,ye=(0,x.LJ)({onObservableAccessed:se=>ue.add(se),onTrackingEnd:()=>{}},()=>{var se;return null==(se=pe.metadata.get)?void 0:se.call(V)});let le=`${ae}${V.declaredClass.split(".").pop()}.${ce}: ${ye}\n`;if(0===ue.size)return le;ae+="  ";for(const se of ue){if(!(se instanceof Z))continue;const Ce=se.properties.host,ge=se.propertyName,Pe=(0,X.vw)(Ce);le+=Pe?Pe.getDependsInfo(Ce,ge,ae):`${ae}${ge}: undefined\n`}return le}setAtOrigin(V,ce,ae){const pe=this.properties.get(V);if(L(pe))return this._setAtOrigin(pe,ce,ae)}isOverridden(V){const ce=this.properties.get(V);return void 0!==ce&&!!(ce.flags&$.v.Overriden)}clearOverride(V){const ce=this.properties.get(V);void 0!==ce&&ce.flags&$.v.Overriden&&(ce.flags&=~$.v.Overriden,ce.notifyChange())}override(V,ce){const ae=this.properties.get(V);if(!T(ae,0,ce))return;const pe=ae.metadata.cast;if(pe){const ue=this._cast(pe,ce),{valid:ye,value:le}=ue;if(W.release(ue),!ye)return;ce=le}ae.flags|=$.v.Overriden,this._internalSet(ae,ce)}set(V,ce){const ae=this.properties.get(V);if(!T(ae,0,ce))return;const pe=ae.metadata.cast;if(pe){const ye=this._cast(pe,ce),{valid:le,value:se}=ye;if(W.release(ye),!le)return;ce=se}const ue=ae.metadata.set;ue?ue.call(this.host,ce):this._internalSet(ae,ce)}setDefaultOrigin(V){this._origin=(0,I.M9)(V)}getDefaultOrigin(){return(0,I.x3)(this._origin)}notifyChange(V){const ce=this.properties.get(V);void 0!==ce&&ce.notifyChange()}invalidate(V){const ce=this.properties.get(V);void 0!==ce&&ce.invalidate()}commit(V){const ce=this.properties.get(V);void 0!==ce&&ce.commit()}_internalSet(V,ce){this._setAtOrigin(V,ce,this.lifecycle!==B.F.INITIALIZING?this._origin:I.s3.DEFAULTS)}_setAtOrigin(V,ce,ae){const pe=this.store,ue=V.propertyName;pe.has(ue,ae)&&(0,k.fS)(ce,pe.get(ue))&&~V.flags&$.v.Overriden&&ae===pe.originOf(ue)||(V.invalidate(),pe.set(ue,ce,ae),V.commit(),(0,x.mS)(this.host,V))}_cast(V,ce){const ae=W.acquire();return ae.valid=!0,ae.value=ce,V&&(ae.value=V.call(this.host,ce,ae)),ae}}const W=new F.Z(class K{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var te=E(82255),J=E(45262),he=E(77712),oe=E(76898);function me(ie){if(null==ie)return{value:ie};if(Array.isArray(ie))return{type:[ie[0]],value:null};switch(typeof ie){case"object":return ie.constructor&&ie.constructor.__accessorMetadata__||ie instanceof Date?{type:ie.constructor,value:ie}:ie;case"boolean":return{type:Boolean,value:ie};case"string":return{type:String,value:ie};case"number":return{type:Number,value:ie};case"function":return{type:ie,value:null};default:return}}class de{constructor(...V){if(this.constructor===de)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new j(this)}),V.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,V))}static createSubclass(V={}){if(Array.isArray(V))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:ce,declaredClass:ae,constructor:pe}=V;delete V.declaredClass,delete V.properties,delete V.constructor;const ue=this;class ye extends ue{constructor(...se){super(...se),this.inherited=null,pe&&pe.apply(this,se)}}(0,N.JT)(ye.prototype);for(const le in V){const se=V[le];ye.prototype[le]="function"==typeof se?function(...Ce){const ge=this.inherited;let Pe;this.inherited=function(...Ee){if(ue.prototype[le])return ue.prototype[le].apply(this,Ee)};try{Pe=se.apply(this,Ce)}catch(Ee){throw this.inherited=ge,Ee}return this.inherited=ge,Pe}:V[le]}for(const le in ce){const se=me(ce[le]);(0,he.Cb)(se)(ye.prototype,le)}return(0,oe.j)(ae)(ye)}postscript(V){const ce=this.__accessor__,ae=ce.ctorArgs||V;ce.initialize(),ae&&(this.set(ae),ce.ctorArgs=null),ce.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||((0,J.BT)(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===B.F.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(V){this.get(V)}get(V){return(0,Q.U2)(this,V)}hasOwnProperty(V){return this.__accessor__?this.__accessor__.has(V):Object.prototype.hasOwnProperty.call(this,V)}isInstanceOf(V){return(0,M.XV)(D.Z.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof V}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(V,ce){return(0,te.t)(this,V,ce),this}watch(V,ce,ae){return(0,J.YP)(this,V,ce,ae)}_clearOverride(V){return this.__accessor__.clearOverride(V)}_override(V,ce){return this.__accessor__.override(V,ce)}_isOverridden(V){return this.__accessor__.isOverridden(V)}notifyChange(V){this.__accessor__.notifyChange(V)}_get(V){return this.__accessor__.internalGet(V)}_set(V,ce){return this.__accessor__.internalSet(V,ce),this}}},35575:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});var M=E(27899);function D(N){N.length=0}class Q{constructor(ne=50,k=50){this._pool=new M.Z(Array,void 0,D,k,ne)}acquire(){return this._pool.acquire()}release(ne){this._pool.release(ne)}prune(){this._pool.prune(0)}static acquire(){return B.acquire()}static release(ne){return B.release(ne)}static prune(){B.prune()}}const B=new Q(100)},79608:(qe,Me,E)=>{"use strict";E.d(Me,{J:()=>x});var M=E(17626),D=E(14517),B=(E(8314),E(58817)),N=E(63290),ne=E(62208),k=E(31283),F=E(52323),I=E(76898);N.Z.getLogger("esri.core.Clonable");const x=Y=>{let Z=class extends Y{clone(){const re=(0,ne.s3)((0,F.vw)(this),"unable to clone instance of non-accessor class"),X=re.metadatas,L=re.store,T={},P=new Map;for(const W in X){const te=X[W],J=null==L?void 0:L.originOf(W),he=te.clonable;if(te.readOnly||!1===he||J!==k.s3.USER&&J!==k.s3.DEFAULTS&&J!==k.s3.WEB_MAP&&J!==k.s3.WEB_SCENE)continue;const oe=this[W];let me=null;me="function"==typeof he?he(oe):"reference"===he?oe:(0,B.Vo)(oe),null!=oe&&null==me||(J===k.s3.DEFAULTS?P.set(W,me):T[W]=me)}const j=new(Object.getPrototypeOf(this).constructor)(T);if(P.size){var K;const W=null==(K=(0,F.vw)(j))?void 0:K.store;if(W)for(const[te,J]of P)W.set(te,J,k.s3.DEFAULTS)}return j}};return Z=(0,M._)([(0,I.j)("esri.core.Clonable")],Z),Z};let $=class extends(x(D.Z)){};$=(0,M._)([(0,I.j)("esri.core.Clonable")],$)},48701:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ce});var k,ae,M=E(17626),D=E(35575),Q=E(61885),B=E(58817),N=E(62208),ne=E(27899);(ae=k||(k={}))[ae.ADD=1]="ADD",ae[ae.REMOVE=2]="REMOVE",ae[ae.MOVE=4]="MOVE";var L,F=E(50618),I=E(77712),x=E(90912),$=E(61039),Y=E(76898),Z=E(36082),re=E(12196);class X{constructor(){this._observers=[]}observe(pe){return this._observers.includes(pe)||this._observers.push(pe),new re.X(this._observers,pe)}notify(){const pe=this._observers.slice();for(let ue=0;ue<pe.length;++ue){const ye=pe[ue];ye.onInvalidated(),ye.onCommitted()}}}const P=new ne.Z(class T{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(pe){this.defaultPrevented=!1,this.item=pe}},void 0,ae=>{ae.item=null,ae.target=null,ae.defaultPrevented=!1,ae.cancellable=!1}),j=()=>{};function K(ae){return ae?ae instanceof V?ae.toArray():ae.length?Array.prototype.slice.apply(ae):[]:[]}function W(ae){if(ae&&ae.length)return ae[0]}function te(ae,pe,ue,ye){const le=Math.min(ae.length-ue,pe.length-ye);let se=0;for(;se<le&&ae[ue+se]===pe[ye+se];)se++;return se}function J(ae,pe,ue,ye){pe&&pe.forEach((le,se,Ce)=>{ae.push(le),J(ae,ue.call(ye,le,se,Ce),ue,ye)})}const he=new Set,oe=new Set,me=new Set,de=new Map;let ie=0,V=L=class extends Q.Z.EventedAccessor{constructor(ae){super(ae),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new X,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:ie++})}static isCollection(ae){return null!=ae&&ae instanceof L}normalizeCtorArgs(ae){return ae?Array.isArray(ae)||ae instanceof L?{items:ae}:ae:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,Z.it)(this._observable),this._items}set items(ae){this._emitBeforeChanges(k.ADD)||(this._splice(0,this.length,K(ae)),this._emitAfterChanges(k.ADD))}hasEventListener(ae){return"change"===ae?this._chgListeners.length>0:this._emitter.hasEventListener(ae)}on(ae,pe){if("change"===ae){const ue=this._chgListeners,ye={removed:!1,callback:pe};return ue.push(ye),this._notifications&&this._notifications.push({listeners:ue.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=j,ye.removed=!0,ue.splice(ue.indexOf(ye),1)}}}return this._emitter.on(ae,pe)}once(ae,pe){const ue=this.on(ae,pe);return{remove(){ue.remove()}}}add(ae,pe){if((0,Z.it)(this._observable),this._emitBeforeChanges(k.ADD))return this;const ue=this.getNextIndex(null!=pe?pe:null);return this._splice(ue,0,[ae]),this._emitAfterChanges(k.ADD),this}addMany(ae,pe=this._items.length){if((0,Z.it)(this._observable),!ae||!ae.length)return this;if(this._emitBeforeChanges(k.ADD))return this;const ue=this.getNextIndex(pe);return this._splice(ue,0,K(ae)),this._emitAfterChanges(k.ADD),this}at(ae){if((0,Z.it)(this._observable),(ae=Math.trunc(ae)||0)<0&&(ae+=this.length),!(ae<0||ae>=this.length))return this._items[ae]}removeAll(){if((0,Z.it)(this._observable),!this.length||this._emitBeforeChanges(k.REMOVE))return[];const ae=this._splice(0,this.length)||[];return this._emitAfterChanges(k.REMOVE),ae}clone(){return(0,Z.it)(this._observable),this._createNewInstance({items:this._items.map(B.d9)})}concat(...ae){(0,Z.it)(this._observable);const pe=ae.map(K);return this._createNewInstance({items:this._items.concat(...pe)})}drain(ae,pe){if((0,Z.it)(this._observable),!this.length||this._emitBeforeChanges(k.REMOVE))return;const ue=(0,N.j0)(this._splice(0,this.length)),ye=ue.length;for(let le=0;le<ye;le++)ae.call(pe,ue[le],le,ue);this._emitAfterChanges(k.REMOVE)}every(ae,pe){return(0,Z.it)(this._observable),this._items.every(ae,pe)}filter(ae,pe){let ue;return(0,Z.it)(this._observable),ue=2===arguments.length?this._items.filter(ae,pe):this._items.filter(ae),this._createNewInstance({items:ue})}find(ae,pe){return(0,Z.it)(this._observable),this._items.find(ae,pe)}findIndex(ae,pe){return(0,Z.it)(this._observable),this._items.findIndex(ae,pe)}flatten(ae,pe){(0,Z.it)(this._observable);const ue=[];return J(ue,this,ae,pe),new L(ue)}forEach(ae,pe){return(0,Z.it)(this._observable),this._items.forEach(ae,pe)}getItemAt(ae){return(0,Z.it)(this._observable),this._items[ae]}getNextIndex(ae){(0,Z.it)(this._observable);const pe=this.length;return(ae=null==ae?pe:ae)<0?ae=0:ae>pe&&(ae=pe),ae}includes(ae,pe=0){return(0,Z.it)(this._observable),this._items.includes(ae,pe)}indexOf(ae,pe=0){return(0,Z.it)(this._observable),this._items.indexOf(ae,pe)}join(ae=","){return(0,Z.it)(this._observable),this._items.join(ae)}lastIndexOf(ae,pe=this.length-1){return(0,Z.it)(this._observable),this._items.lastIndexOf(ae,pe)}map(ae,pe){(0,Z.it)(this._observable);const ue=this._items.map(ae,pe);return new L({items:ue})}reorder(ae,pe=this.length-1){(0,Z.it)(this._observable);const ue=this.indexOf(ae);if(-1!==ue){if(pe<0?pe=0:pe>=this.length&&(pe=this.length-1),ue!==pe){if(this._emitBeforeChanges(k.MOVE))return ae;this._splice(ue,1),this._splice(pe,0,[ae]),this._emitAfterChanges(k.MOVE)}return ae}}pop(){if((0,Z.it)(this._observable),!this.length||this._emitBeforeChanges(k.REMOVE))return;const ae=W(this._splice(this.length-1,1));return this._emitAfterChanges(k.REMOVE),ae}push(...ae){return(0,Z.it)(this._observable),this._emitBeforeChanges(k.ADD)||(this._splice(this.length,0,ae),this._emitAfterChanges(k.ADD)),this.length}reduce(ae,pe){(0,Z.it)(this._observable);const ue=this._items;return 2===arguments.length?ue.reduce(ae,pe):ue.reduce(ae)}reduceRight(ae,pe){(0,Z.it)(this._observable);const ue=this._items;return 2===arguments.length?ue.reduceRight(ae,pe):ue.reduceRight(ae)}remove(ae){return(0,Z.it)(this._observable),this.removeAt(this.indexOf(ae))}removeAt(ae){if((0,Z.it)(this._observable),ae<0||ae>=this.length||this._emitBeforeChanges(k.REMOVE))return;const pe=W(this._splice(ae,1));return this._emitAfterChanges(k.REMOVE),pe}removeMany(ae){if((0,Z.it)(this._observable),!ae||!ae.length||this._emitBeforeChanges(k.REMOVE))return[];const pe=ae instanceof L?ae.toArray():ae,ue=this._items,ye=[],le=pe.length;for(let se=0;se<le;se++){const ge=ue.indexOf(pe[se]);if(ge>-1){const Pe=1+te(pe,ue,se+1,ge+1),Ee=this._splice(ge,Pe);Ee&&Ee.length>0&&ye.push.apply(ye,Ee),se+=Pe-1}}return this._emitAfterChanges(k.REMOVE),ye}reverse(){if((0,Z.it)(this._observable),this._emitBeforeChanges(k.MOVE))return this;const ae=this._splice(0,this.length);return ae&&(ae.reverse(),this._splice(0,0,ae)),this._emitAfterChanges(k.MOVE),this}shift(){if((0,Z.it)(this._observable),!this.length||this._emitBeforeChanges(k.REMOVE))return;const ae=W(this._splice(0,1));return this._emitAfterChanges(k.REMOVE),ae}slice(ae=0,pe=this.length){return(0,Z.it)(this._observable),this._createNewInstance({items:this._items.slice(ae,pe)})}some(ae,pe){return(0,Z.it)(this._observable),this._items.some(ae,pe)}sort(ae){if((0,Z.it)(this._observable),!this.length||this._emitBeforeChanges(k.MOVE))return this;const pe=(0,N.j0)(this._splice(0,this.length));return arguments.length?pe.sort(ae):pe.sort(),this._splice(0,0,pe),this._emitAfterChanges(k.MOVE),this}splice(ae,pe,...ue){(0,Z.it)(this._observable);const ye=(pe?k.REMOVE:0)|(ue.length?k.ADD:0);if(this._emitBeforeChanges(ye))return[];const le=this._splice(ae,pe,ue)||[];return this._emitAfterChanges(ye),le}toArray(){return(0,Z.it)(this._observable),this._items.slice()}toJSON(){return(0,Z.it)(this._observable),this.toArray()}toLocaleString(){return(0,Z.it)(this._observable),this._items.toLocaleString()}toString(){return(0,Z.it)(this._observable),this._items.toString()}unshift(...ae){return(0,Z.it)(this._observable),!ae.length||this._emitBeforeChanges(k.ADD)||(this._splice(0,0,ae),this._emitAfterChanges(k.ADD)),this.length}_createNewInstance(ae){return new this.constructor(ae)}_splice(ae,pe,ue){const ye=this._items,le=this.itemType;let se,Ce;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,F.Os)(()=>this._dispatchChange())),pe){if(Ce=ye.splice(ae,pe),this.hasEventListener("before-remove")){const ge=P.acquire();ge.target=this,ge.cancellable=!0;for(let Pe=0,Ee=Ce.length;Pe<Ee;Pe++)se=Ce[Pe],ge.reset(se),this.emit("before-remove",ge),ge.defaultPrevented&&(Ce.splice(Pe,1),ye.splice(ae,0,se),ae+=1,Pe-=1,Ee-=1);P.release(ge)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const ge=P.acquire();ge.target=this,ge.cancellable=!1;const Pe=Ce.length;for(let Ee=0;Ee<Pe;Ee++)ge.reset(Ce[Ee]),this.emit("after-remove",ge);P.release(ge)}}if(ue&&ue.length){if(le){const Ge=[];for(const Se of ue){const ve=le.ensureType(Se);null==ve&&null!=Se||Ge.push(ve)}ue=Ge}const ge=this.hasEventListener("before-add"),Pe=this.hasEventListener("after-add"),Ee=ae===this.length;if(ge||Pe){const Ge=P.acquire();Ge.target=this,Ge.cancellable=!0;const Se=P.acquire();Se.target=this,Se.cancellable=!1;for(const ve of ue)ge?(Ge.reset(ve),this.emit("before-add",Ge),Ge.defaultPrevented||(Ee?ye.push(ve):ye.splice(ae++,0,ve),this._set("length",ye.length),Pe&&(Se.reset(ve),this.emit("after-add",Se)))):(Ee?ye.push(ve):ye.splice(ae++,0,ve),this._set("length",ye.length),Se.reset(ve),this.emit("after-add",Se));P.release(Se),P.release(Ge)}else{if(Ee)for(const Ge of ue)ye.push(Ge);else ye.splice(ae,0,...ue);this._set("length",ye.length)}}return(ue&&ue.length||Ce&&Ce.length)&&this._notifyChangeEvent(ue,Ce),Ce}_emitBeforeChanges(ae){let pe=!1;if(this.hasEventListener("before-changes")){const ue=P.acquire();ue.target=this,ue.cancellable=!0,ue.type=ae,this.emit("before-changes",ue),pe=ue.defaultPrevented,P.release(ue)}return pe}_emitAfterChanges(ae){if(this.hasEventListener("after-changes")){const pe=P.acquire();pe.target=this,pe.cancellable=!1,pe.type=ae,this.emit("after-changes",pe),P.release(pe)}this._observable.notify()}_notifyChangeEvent(ae,pe){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:ae,removed:pe})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const ae=this._notifications;this._notifications=null;for(const pe of ae){const ue=pe.changes;he.clear(),oe.clear(),me.clear();for(const{added:Pe,removed:Ee}of ue){if(Pe)if(0===me.size&&0===oe.size)for(const Ge of Pe)he.add(Ge);else for(const Ge of Pe)oe.has(Ge)?(me.add(Ge),oe.delete(Ge)):me.has(Ge)||he.add(Ge);if(Ee)if(0===me.size&&0===he.size)for(const Ge of Ee)oe.add(Ge);else for(const Ge of Ee)he.has(Ge)?he.delete(Ge):(me.delete(Ge),oe.add(Ge))}const ye=D.Z.acquire();he.forEach(Pe=>{ye.push(Pe)});const le=D.Z.acquire();oe.forEach(Pe=>{le.push(Pe)});const se=this._items,Ce=pe.items,ge=D.Z.acquire();if(me.forEach(Pe=>{Ce.indexOf(Pe)!==se.indexOf(Pe)&&ge.push(Pe)}),pe.listeners&&(ye.length||le.length||ge.length)){const Pe={target:this,added:ye,removed:le,moved:ge},Ee=pe.listeners.length;for(let Ge=0;Ge<Ee;Ge++){const Se=pe.listeners[Ge];Se.removed||Se.callback.call(this,Pe)}}D.Z.release(ye),D.Z.release(le),D.Z.release(ge)}he.clear(),oe.clear(),me.clear()}};V.ofType=ae=>{if(!ae)return L;if(de.has(ae))return de.get(ae);let pe=null;if("function"==typeof ae)pe=ae.prototype.declaredClass;else if(ae.base)pe=ae.base.prototype.declaredClass;else for(const ye in ae.typeMap){const le=ae.typeMap[ye].prototype.declaredClass;pe?pe+=` | ${le}`:pe=le}let ue=class extends L{};return(0,M._)([(0,$.c)({Type:ae,ensureType:"function"==typeof ae?(0,x.se)(ae):(0,x.N7)(ae)})],ue.prototype,"itemType",void 0),ue=(0,M._)([(0,Y.j)(`esri.core.Collection<${pe}>`)],ue),de.set(ae,ue),ue},(0,M._)([(0,I.Cb)()],V.prototype,"length",void 0),(0,M._)([(0,I.Cb)()],V.prototype,"items",null),V=L=(0,M._)([(0,Y.j)("esri.core.Collection")],V);const ce=V},46882:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var M=E(17626),D=E(48701),Q=E(80542),B=E(62208),F=(E(26584),E(63290),E(45262),E(21352)),I=E(77712),Z=(E(85931),E(8314),E(90912),E(76898));let re=class extends((0,Q.p)(D.Z)){constructor(L){super(L),this.getCollections=null}initialize(){this.handles.add((0,F.EH)(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const L=(0,B.pC)(this.getCollections)?this.getCollections():null;if((0,B.Wi)(L))return void this.removeAll();let T=0;for(const P of L)(0,B.pC)(P)&&(T=this._processCollection(T,P));this.splice(T,this.length)}_createNewInstance(L){return new D.Z(L)}_processCollection(L,T){if(!T)return L;const P=this.itemFilterFunction?this.itemFilterFunction:j=>!!j;for(const j of T)if(j){if(P(j)){const K=this.indexOf(j,L);K>=0?K!==L&&this.reorder(j,L):this.add(j,L),++L}if(this.getChildrenFunction){const K=this.getChildrenFunction(j);if(Array.isArray(K))for(const W of K)L=this._processCollection(L,W);else L=this._processCollection(L,K)}}return L}};(0,M._)([(0,I.Cb)()],re.prototype,"getCollections",void 0),(0,M._)([(0,I.Cb)()],re.prototype,"getChildrenFunction",void 0),(0,M._)([(0,I.Cb)()],re.prototype,"itemFilterFunction",void 0),re=(0,M._)([(0,Z.j)("esri.core.CollectionFlattener")],re);const X=re},26584:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>B});var M=E(58817),D=E(63290),Q=E(90888);class B extends Q.Z{constructor(ne,k,F){if(super(ne,k,F),!(this instanceof B))return new B(ne,k,F)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(ne,k)=>{if(k&&"object"==typeof k&&"function"==typeof k.toJSON)return k;try{return(0,M.d9)(k)}catch(F){return"[object]"}}))}}catch(ne){throw D.Z.getLogger("esri.core.Error").error(ne),ne}return{name:this.name,message:this.message,details:this.details}}static fromJSON(ne){return new B(ne.name,ne.message,ne.details)}}B.prototype.type="error"},61885:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var M=E(17626),D=E(14517),Q=E(54024),B=E(76898);class N{constructor(){this._emitter=new N.EventEmitter(this)}emit(F,I){return this._emitter.emit(F,I)}on(F,I){return this._emitter.on(F,I)}once(F,I){return this._emitter.once(F,I)}hasEventListener(F){return this._emitter.hasEventListener(F)}}!function(k){class F{constructor($=null){this.target=$,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit($,Y){const Z=this._listenersMap&&this._listenersMap.get($);if(!Z)return!1;const re=this.target||this;return[...Z].forEach(X=>{X.call(re,Y)}),Z.length>0}on($,Y){if(Array.isArray($)){const re=$.map(X=>this.on(X,Y));return(0,Q.AL)(re)}if($.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const Z=this._listenersMap.get($)||[];return Z.push(Y),this._listenersMap.set($,Z),{remove:()=>{const re=this._listenersMap&&this._listenersMap.get($)||[],X=re.indexOf(Y);X>=0&&re.splice(X,1)}}}once($,Y){const Z=this.on($,re=>{Z.remove(),Y.call(null,re)});return Z}hasEventListener($){const Y=this._listenersMap&&this._listenersMap.get($);return null!=Y&&Y.length>0}}k.EventEmitter=F,k.EventedMixin=x=>{let $=class extends x{constructor(){super(...arguments),this._emitter=new F}destroy(){this._emitter.clear()}emit(Y,Z){return this._emitter.emit(Y,Z)}on(Y,Z){return this._emitter.on(Y,Z)}once(Y,Z){return this._emitter.once(Y,Z)}hasEventListener(Y){return this._emitter.hasEventListener(Y)}};return $=(0,M._)([(0,B.j)("esri.core.Evented")],$),$};let I=class extends D.Z{constructor(){super(...arguments),this._emitter=new N.EventEmitter(this)}destroy(){this._emitter.clear()}emit(x,$){return this._emitter.emit(x,$)}on(x,$){return this._emitter.on(x,$)}once(x,$){return this._emitter.once(x,$)}hasEventListener(x){return this._emitter.hasEventListener(x)}};I=(0,M._)([(0,B.j)("esri.core.Evented")],I),k.EventedAccessor=I}(N||(N={}));const ne=N},80542:(qe,Me,E)=>{"use strict";E.d(Me,{r:()=>F,p:()=>k});var M=E(17626),D=E(14517),Q=E(72392),B=E(77712),N=E(76898),ne=E(70257);const k=I=>{let x=class extends I{destroy(){var $,Y;this.destroyed||(null==($=this._get("handles"))||$.destroy(),null==(Y=this._get("updatingHandles"))||Y.destroy())}get handles(){return this._get("handles")||new Q.Z}get updatingHandles(){return this._get("updatingHandles")||new ne.t}};return(0,M._)([(0,B.Cb)({readOnly:!0})],x.prototype,"handles",null),(0,M._)([(0,B.Cb)({readOnly:!0})],x.prototype,"updatingHandles",null),x=(0,M._)([(0,N.j)("esri.core.HandleOwner")],x),x};let F=class extends(k(D.Z)){};F=(0,M._)([(0,N.j)("esri.core.HandleOwner")],F)},72392:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>F});var M=E(17626),D=E(14517),Q=E(48701),B=E(62208),N=E(77712),ne=E(76898);let k=class extends D.Z{constructor(I){super(I),this._groups=new Map}destroy(){this.removeAll()}get size(){let I=0;return this._groups.forEach(x=>{I+=x.length}),I}add(I,x){if(!this._isHandle(I)&&!Array.isArray(I)&&!Q.Z.isCollection(I))return this;const $=this._getOrCreateGroup(x);return Array.isArray(I)||Q.Z.isCollection(I)?I.forEach(Y=>this._isHandle(Y)&&$.push(Y)):$.push(I),this.notifyChange("size"),this}forEach(I,x){if("function"==typeof I)this._groups.forEach($=>$.forEach(I));else{const $=this._getGroup(I);$&&x&&$.forEach(x)}}has(I){return this._groups.has(this._ensureGroupKey(I))}remove(I){if(Array.isArray(I)||Q.Z.isCollection(I))return I.forEach(this.remove,this),this;if(!this.has(I))return this;const x=this._getGroup(I);for(let $=0;$<x.length;$++)x[$].remove();return this._deleteGroup(I),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(I=>{for(let x=0;x<I.length;x++)I[x].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(I){return I&&!!I.remove}_getOrCreateGroup(I){if(this.has(I))return this._getGroup(I);const x=[];return this._groups.set(this._ensureGroupKey(I),x),x}_getGroup(I){return(0,B.j0)(this._groups.get(this._ensureGroupKey(I)))}_deleteGroup(I){return this._groups.delete(this._ensureGroupKey(I))}_ensureGroupKey(I){return I||"_default_"}};(0,M._)([(0,N.Cb)({readOnly:!0})],k.prototype,"size",null),k=(0,M._)([(0,ne.j)("esri.core.Handles")],k);const F=k},61996:(qe,Me,E)=>{"use strict";E.d(Me,{I:()=>B});var M=E(17626),D=E(76898);let Q=0;const B=ne=>{let k=class extends ne{constructor(...F){super(...F),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+Q++})}};return k=(0,M._)([(0,D.j)("esri.core.Identifiable")],k),k};let N=class extends(B(class{})){};N=(0,M._)([(0,D.j)("esri.core.Identifiable")],N)},78498:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>D});var M=E(1036);class D{constructor(B,N){this._storage=new M.WJ,this._storage.maxSize=B,N&&this._storage.registerRemoveFunc("",N)}put(B,N){this._storage.put(B,N,1,1)}pop(B){return this._storage.pop(B)}get(B){return this._storage.get(B)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},86810:(qe,Me,E)=>{"use strict";E.d(Me,{wq:()=>L,eC:()=>Z});var M=E(17626),D=E(14517),Q=E(62208),B=E(58817),N=E(31283);class ne{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(P){const j=new ne;return this._values.forEach((K,W)=>{P&&P.has(W)||j.set(W,(0,B.d9)(K.value),K.origin)}),j}get(P,j){j=this._normalizeOrigin(j);const K=this._values.get(P);return null==j||(null==K?void 0:K.origin)===j?null==K?void 0:K.value:void 0}originOf(P){var j,K;return null!=(j=null==(K=this._values.get(P))?void 0:K.origin)?j:N.s3.USER}keys(P){P=this._normalizeOrigin(P);const j=[...this._values.keys()];return null==P?j:j.filter(K=>{var W;return(null==(W=this._values.get(K))?void 0:W.origin)===P})}set(P,j,K){if((K=this._normalizeOrigin(K))===N.s3.DEFAULTS){const W=this._values.get(P);if(W&&null!=W.origin&&W.origin>K)return}this._values.set(P,new k(j,K))}delete(P,j){var K;null!=(j=this._normalizeOrigin(j))&&(null==(K=this._values.get(P))?void 0:K.origin)!==j||this._values.delete(P)}has(P,j){var K;return null!=(j=this._normalizeOrigin(j))?(null==(K=this._values.get(P))?void 0:K.origin)===j:this._values.has(P)}forEach(P){this._values.forEach(({value:j},K)=>P(j,K))}_normalizeOrigin(P){if(null!=P)return P===N.s3.DEFAULTS?P:N.s3.USER}}class k{constructor(P,j){this.value=P,this.origin=j}}var F=E(12590),I=E(29338),x=E(52323),$=E(36054),Y=E(76898);const Z=T=>{let P=class extends T{constructor(...j){super(...j);const K=(0,Q.j0)((0,x.vw)(this)),W=K.store,te=new ne;K.store=te,(0,F.M)(K,W,te)}read(j,K){(0,I.i)(this,j,K)}write(j={},K){return(0,$.c)(this,j,K)}toJSON(j){return this.write({},j)}static fromJSON(j,K){return re.call(this,j,K)}};return P=(0,M._)([(0,Y.j)("esri.core.JSONSupport")],P),P.prototype.toJSON.isDefaultToJSON=!0,P};function re(T,P){if(!T)return null;if(T.declaredClass)throw new Error("JSON object is already hydrated");const j=new this;return j.read(T,P),j}let L=class extends(Z(D.Z)){};L=(0,M._)([(0,Y.j)("esri.core.JSONSupport")],L)},93961:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>D});var M=E(1036);class D{constructor(B,N){this._storage=new M.WJ,this._storage.maxSize=B,N&&this._storage.registerRemoveFunc("",N)}put(B,N,ne){this._storage.put(B,N,ne,1)}pop(B){return this._storage.pop(B)}get(B){return this._storage.get(B)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(B){this._storage.maxSize=B}}},47996:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>re});var M=E(17626),D=E(26584),Q=E(60330),B=E(10699),N=E(14889),ne=E(77712),k=E(76898);const $="loaded",Y=X=>{let L=class extends X{constructor(...T){super(...T),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(P=>{const j=this.load.bind(this);this.load=K=>{const W=new Promise((te,J)=>{const he=(0,B.$F)(K,J);this.destroyed&&J(new D.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(te,J).finally(()=>{he&&he.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const te=this._loadController=new AbortController;j({signal:te.signal}),(0,B.fu)(te.signal,()=>{this._promiseProps.abort()})}return P(),W}})),this.when(()=>{this._set("loadStatus",$),this._loadController=null},P=>{this._set("loadStatus","failed"),this._set("loadError",P),this._loadController=null})}get loaded(){return this.loadStatus===$}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var T;return this.isFulfilled()||(this._set("loadError",new D.Z("load:cancelled","Cancelled")),null==(T=this._loadController)||T.abort()),this}};return(0,M._)([(0,ne.Cb)({readOnly:!0})],L.prototype,"loaded",null),(0,M._)([(0,ne.Cb)({readOnly:!0})],L.prototype,"loadError",void 0),(0,M._)([(0,ne.Cb)({clonable:!1})],L.prototype,"loadStatus",void 0),(0,M._)([(0,ne.Cb)({type:[N.Z],readOnly:!0})],L.prototype,"loadWarnings",null),L=(0,M._)([(0,k.j)("esri.core.Loadable")],L),L};let Z=class extends(Y(Q.D)){};var X;Z=(0,M._)([(0,k.j)("esri.core.Loadable")],Z),(X=Z||(Z={})).LoadableMixin=Y,X.isLoadable=function L(T){return!(!T||!T.load)};const re=Z},63290:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var M=E(59318),Q=(E(8314),E(62208)),B=E(77275);const N={info:0,warn:1,error:2,none:3};class ne{constructor(F){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=F.level&&(this.level=F.level),null!=F.writer&&(this.writer=F.writer),this._module=F.module,ne._loggers[this.module]=this;const I=this.module.lastIndexOf(".");-1!==I&&(this._parent=ne.getLogger(this.module.slice(0,I)))}get module(){return this._module}get parent(){return this._parent}error(...F){this._log("error","always",...F)}warn(...F){this._log("warn","always",...F)}info(...F){this._log("info","always",...F)}errorOnce(...F){this._log("error","once",...F)}warnOnce(...F){this._log("warn","once",...F)}infoOnce(...F){this._log("info","once",...F)}errorOncePerTick(...F){this._log("error","oncePerTick",...F)}warnOncePerTick(...F){this._log("warn","oncePerTick",...F)}infoOncePerTick(...F){this._log("info","oncePerTick",...F)}get test(){const F=this;return{loggedMessages:F._loggedMessages,clearLoggedWarnings:()=>F._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(F={}){const I=ne._loggers;return ne._loggers=F,I},set throttlingDisabled(F){ne._throttlingDisabled=F}}}static getLogger(F){let I=ne._loggers[F];return I||(I=new ne({module:F})),I}_log(F,I,...x){if(this._matchLevel(F)){if("always"!==I&&!ne._throttlingDisabled){const $=this._argsToKey(x),Y=this._loggedMessages[F].get($);if("once"===I&&null!=Y||"oncePerTick"===I&&Y&&Y>=ne._tickCounter)return;this._loggedMessages[F].set($,ne._tickCounter),ne._scheduleTickCounterIncrement()}for(const $ of M.Z.log.interceptors)if($(F,this.module,...x))return;this._inheritedWriter()(F,this.module,...x)}}_parentWithMember(F,I){let x=this;for(;(0,Q.pC)(x);){const $=x[F];if((0,Q.pC)($))return $;x=x.parent}return I}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(F,I,...x){console[F](`[${I}]`,...x)}_matchLevel(F){return N[this._parentWithMember("level",M.Z.log.level?M.Z.log.level:"warn")]<=N[F]}_argsToKey(...F){return(0,B.hP)(JSON.stringify(F,(x,$)=>"object"!=typeof $||Array.isArray($)?$:"[Object]"))}static _scheduleTickCounterIncrement(){ne._tickCounterScheduled||(ne._tickCounterScheduled=!0,Promise.resolve().then(()=>{ne._tickCounter++,ne._tickCounterScheduled=!1}))}}ne._loggers={},ne._tickCounter=0,ne._tickCounterScheduled=!1,ne._throttlingDisabled=!1},88159:(qe,Me,E)=>{"use strict";function M(N,ne){for(const[k,F]of N)if(ne(F,k))return!0;return!1}function Q(N,ne,k){const F=N.get(ne);if(void 0!==F)return F;const I=k();return N.set(ne,I),I}E.d(Me,{s1:()=>Q,oE:()=>M})},1036:(qe,Me,E)=>{"use strict";E.d(Me,{Xq:()=>N,WJ:()=>ne});var B,k,M=E(62208),D=E(77029);(k=B||(B={}))[k.ALL=0]="ALL",k[k.SOME=1]="SOME";class N{constructor(F,I,x){this._namespace=F,this._storage=I,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",x&&(this._storage.registerRemoveFunc(this._namespace,x),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(F,I,x,$=0){this._storage.put(this._namespace+F,I,x,$)}get(F){const I=this._storage.get(this._namespace+F);return void 0===I?++this._miss:++this._hit,I}pop(F){const I=this._storage.pop(this._namespace+F);return void 0===I?++this._miss:++this._hit,I}updateSize(F,I,x){this._storage.updateSize(this._namespace+F,I,x)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class ne{constructor(F=10485760){this._maxSize=F,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new D.Z,this._users=new D.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(F){this._users.push(F)}deregister(F){this._users.removeUnordered(F)}registerRemoveFunc(F,I){this._removeFuncs.push([F,I])}deregisterRemoveFunc(F){this._removeFuncs.filterInPlace(I=>I[0]!==F)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(F){this._maxSize=Math.max(F,0),this._checkSizeLimit()}put(F,I,x,$){const Y=this._db.get(F);if(Y&&(this._size-=Y.size,this._db.delete(F),Y.entry!==I&&this._notifyRemove(F,Y.entry,B.ALL)),x>this._maxSize)return void this._notifyRemove(F,I,B.ALL);if(void 0===I)return void console.warn("Refusing to cache undefined entry ");if(!x||x<0)return void console.warn("Refusing to cache entry with invalid size "+x);const Z=1+Math.max($,-3)- -3;this._db.set(F,{entry:I,size:x,lifetime:Z,lives:Z}),this._size+=x,this._checkSizeLimit()}updateSize(F,I,x){const $=this._db.get(F);if($&&$.entry===I){for(this._size-=$.size;x>this._maxSize;){const Y=this._notifyRemove(F,I,B.SOME);if(!((0,M.pC)(Y)&&Y>0))return void this._db.delete(F);x=Y}$.size=x,this._size+=x,this._checkSizeLimit()}}pop(F){const I=this._db.get(F);if(I)return this._size-=I.size,this._db.delete(F),++this._hit,I.entry;++this._miss}get(F){const I=this._db.get(F);if(void 0!==I)return this._db.delete(F),I.lives=I.lifetime,this._db.set(F,I),++this._hit,I.entry;++this._miss}getStats(){const F={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},I={},x=new Array;this._db.forEach((Z,re)=>{const X=Z.lifetime;x[X]=(x[X]||0)+Z.size,this._users.forAll(L=>{const T=L.namespace;re.startsWith(T)&&(I[T]=(I[T]||0)+Z.size)})});const $={};this._users.forAll(Z=>{const re=Z.namespace;!isNaN(Z.hitRate)&&Z.hitRate>0?(I[re]=I[re]||0,$[re]=Math.round(100*Z.hitRate)+"%"):$[re]="0%"});const Y=Object.keys(I);Y.sort((Z,re)=>I[re]-I[Z]),Y.forEach(Z=>F[Z]=Math.round(I[Z]/2**20)+"MB / "+$[Z]);for(let Z=x.length-1;Z>=0;--Z){const re=x[Z];re&&(F["Priority "+(Z+-3-1)]=Math.round(re/this.size*100)+"%")}return F}resetStats(){this._hit=this._miss=0,this._users.forAll(F=>F.resetHitRate())}clear(F){this._db.forEach((I,x)=>{x.startsWith(F)&&(this._size-=I.size,this._db.delete(x),this._notifyRemove(x,I.entry,B.ALL))})}clearAll(){this._db.forEach((F,I)=>this._notifyRemove(I,F.entry,B.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(F,I,x){let $;return this._removeFuncs.some(Y=>{if(F.startsWith(Y[0])){const Z=Y[1](I,x);return"number"==typeof Z&&($=Z),!0}return!1}),$}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[F,I]of this._db){if(this._db.delete(F),I.lives<=1){this._size-=I.size;const x=this._notifyRemove(F,I.entry,B.SOME);(0,M.pC)(x)&&x>0&&(this._size+=x,I.lives=I.lifetime,I.size=x,this._db.set(F,I))}else--I.lives,this._db.set(F,I);if(this._size<=.9*this.maxSize)return}}}},90888:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});var M=E(94113);class Q{constructor(N,ne,k){this.name=N,this.details=k,this.message=void 0,this instanceof Q&&(this.message=ne&&function D(B,N){return B.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(ne,k){if(""===k)return"$";const F=(0,M.hS)(k,N),I=null==F?"":F;if(void 0===I)throw new Error(`could not find key "${k}" in template`);return I.toString()})}(ne,k)||"")}toString(){return"["+this.name+"]: "+this.message}}},99959:(qe,Me,E)=>{"use strict";E.d(Me,{R:()=>T,w:()=>P});var M=E(17626),D=E(14517),Q=E(62208),B=E(12590),N=E(58817),ne=E(31283);class k{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(ne.kk),this._values=new Map,this.multipleOriginsSupported=!0}clone(K){const W=new k,te=this._originStores[ne.s3.DEFAULTS];te&&te.forEach((J,he)=>{W.set(he,(0,N.d9)(J),ne.s3.DEFAULTS)});for(let J=ne.s3.SERVICE;J<ne.kk;J++){const he=this._originStores[J];he&&he.forEach((oe,me)=>{K&&K.has(me)||W.set(me,(0,N.d9)(oe),J)})}return W}get(K,W){const te=void 0===W?this._values:this._originStores[W];return te?te.get(K):void 0}keys(K){const W=null==K?this._values:this._originStores[K];return W?[...W.keys()]:[]}set(K,W,te=ne.s3.USER){let J=this._originStores[te];if(J||(J=new Map,this._originStores[te]=J),J.set(K,W),!this._values.has(K)||(0,Q.j0)(this._propertyOriginMap.get(K))<=te){const he=this._values.get(K);return this._values.set(K,W),this._propertyOriginMap.set(K,te),he!==W}return!1}delete(K,W=ne.s3.USER){const te=this._originStores[W];if(!te)return;const J=te.get(K);if(te.delete(K),this._values.has(K)&&this._propertyOriginMap.get(K)===W){this._values.delete(K);for(let he=W-1;he>=0;he--){const oe=this._originStores[he];if(oe&&oe.has(K)){this._values.set(K,oe.get(K)),this._propertyOriginMap.set(K,he);break}}}return J}has(K,W){const te=void 0===W?this._values:this._originStores[W];return!!te&&te.has(K)}revert(K,W){for(;W>0&&!this.has(K,W);)--W;const te=this._originStores[W],J=te&&te.get(K),he=this._values.get(K);return this._values.set(K,J),this._propertyOriginMap.set(K,W),he!==J}originOf(K){return this._propertyOriginMap.get(K)||ne.s3.DEFAULTS}forEach(K){this._values.forEach(K)}}var F=E(29338),I=E(52323),x=E(76898);const $=j=>{let K=class extends j{constructor(...W){super(...W);const te=(0,Q.j0)((0,I.vw)(this)),J=te.store,he=new k;te.store=he,(0,B.M)(te,J,he)}read(W,te){(0,F.i)(this,W,te)}getAtOrigin(W,te){const J=Y(this),he=(0,ne.M9)(te);if("string"==typeof W)return J.get(W,he);const oe={};return W.forEach(me=>{oe[me]=J.get(me,he)}),oe}originOf(W){return(0,ne.x3)(this.originIdOf(W))}originIdOf(W){return Y(this).originOf(W)}revert(W,te){const J=Y(this),he=(0,ne.M9)(te),oe=(0,I.vw)(this);let me;me="string"==typeof W?"*"===W?J.keys(he):[W]:W,me.forEach(de=>{oe.invalidate(de),J.revert(de,he),oe.commit(de)})}};return K=(0,M._)([(0,x.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],K),K};function Y(j){return(0,I.vw)(j).store}let Z=class extends($(D.Z)){};Z=(0,M._)([(0,x.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],Z);var re=E(36054);const X=j=>{let K=class extends j{constructor(...W){super(...W)}clear(W,te="user"){return L(this).delete(W,(0,ne.M9)(te))}write(W={},te){return(0,re.c)(this,W=W||{},te),W}setAtOrigin(W,te,J){(0,I.vw)(this).setAtOrigin(W,te,(0,ne.M9)(J))}removeOrigin(W){const te=L(this),J=(0,ne.M9)(W),he=te.keys(J);for(const oe of he)te.originOf(oe)===J&&te.set(oe,te.get(oe,J),ne.s3.USER)}updateOrigin(W,te){const J=L(this),he=(0,ne.M9)(te),oe=this.get(W);for(let me=he+1;me<ne.kk;++me)J.delete(W,me);J.set(W,oe,he)}toJSON(W){return this.write({},W)}};return K=(0,M._)([(0,x.j)("esri.core.WriteableMultiOriginJSONSupport")],K),K.prototype.toJSON.isDefaultToJSON=!0,K};function L(j){return(0,I.vw)(j).store}const T=j=>{let K=class extends(X($(j))){constructor(...W){super(...W)}};return K=(0,M._)([(0,x.j)("esri.core.MultiOriginJSONSupport")],K),K};let P=class extends(T(D.Z)){};P=(0,M._)([(0,x.j)("esri.core.MultiOriginJSONSupport")],P)},27899:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});let Q=(()=>{class B{constructor(ne,k,F,I=1,x=0){if(this.ctor=ne,this.acquireFunction=k,this.releaseFunction=F,this.allocationSize=I,this._pool=new Array(x),this._initialSize=x,this.ctor)for(let $=0;$<x;$++)this._pool[$]=new this.ctor;this.allocationSize=Math.max(I,1)}destroy(){this.prune(0)}acquire(...ne){let k;if(B.test.disabled)k=new this.ctor;else{if(0===this._pool.length){const F=this.allocationSize;for(let I=0;I<F;I++)this._pool[I]=new this.ctor}k=this._pool.pop()}return this.acquireFunction?this.acquireFunction(k,...ne):function D(B){return B&&B.acquire&&"function"==typeof B.acquire}(k)&&k.acquire(...ne),k}release(ne){ne&&!B.test.disabled&&(this.releaseFunction?this.releaseFunction(ne):function M(B){return B&&B.release&&"function"==typeof B.release}(ne)&&ne.release(),this._pool.push(ne))}prune(ne=this._initialSize){if(!(ne>=this._pool.length)){for(let k=ne;k<this._pool.length;++k)this._dispose(this._pool[k]);this._pool.length=ne}}_dispose(ne){ne.dispose&&"function"==typeof ne.dispose&&ne.dispose()}}return B.test={disabled:!1},B})()},73362:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>D});class D{constructor(B,N=29){this.name=B,this._counter=0,this._items=new Array(N)}record(B){this._items[++this._counter%this._items.length]=B}get median(){return this._items.slice().sort((B,N)=>B-N)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((B,N)=>B+N,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}},77029:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var D,M=E(85931);!function(F){const I=(Z,re,X,L)=>{let T=re,P=re;const j=X>>>1,K=Z[T-1];for(;P<=j;){P=T<<1,P<X&&L(Z[P-1],Z[P])<0&&++P;const W=Z[P-1];if(L(W,K)<=0)break;Z[T-1]=W,T=P}Z[T-1]=K},x=(Z,re)=>Z<re?-1:Z>re?1:0;F.sort=function $(Z,re,X,L){void 0===re&&(re=0),void 0===X&&(X=Z.length),void 0===L&&(L=x);for(let P=X>>>1;P>re;P--)I(Z,P,X,L);const T=re+1;for(let P=X-1;P>re;P--){const j=Z[re];Z[re]=Z[P],Z[P]=j,I(Z,T,P,L)}},F.iterableSort=function*Y(Z,re,X,L){void 0===re&&(re=0),void 0===X&&(X=Z.length),void 0===L&&(L=x);for(let P=X>>>1;P>re;P--)I(Z,P,X,L),yield;const T=re+1;for(let P=X-1;P>re;P--){const j=Z[re];Z[re]=Z[P],Z[P]=j,I(Z,T,P,L),yield}}}(D||(D={}));const Q=D;class ne{constructor(I){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new M.SO,I&&(I.initialSize&&(this.data=new Array(I.initialSize)),I.allocator&&(this._allocator=I.allocator),void 0!==I.deallocator&&(this._deallocator=I.deallocator),I.shrink&&(this._shrink=()=>k(this)))}toArray(){return this.data.slice(0,this.length)}filter(I){const x=new Array;for(let $=0;$<this._length;$++){const Y=this.data[$];I(Y)&&x.push(Y)}return x}getItemAt(I){if(!(I<0||I>=this._length))return this.data[I]}get length(){return this._length}set length(I){if(I>this._length){if(this._allocator){for(;this._length<I;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=I}else{if(this._deallocator)for(let x=I;x<this._length;++x)this.data[x]=this._deallocator(this.data[x]);this._length=I,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(I){this.data[this._length++]=I}pushArray(I,x=I.length){for(let $=0;$<x;$++)this.data[this._length++]=I[$]}fill(I,x){for(let $=0;$<x;$++)this.data[this._length++]=I}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const I=this.data[this._length];return++this._length,I}unshift(I){this.data.unshift(I),this._length++,k(this)}pop(){if(0===this.length)return;const I=this.data[this.length-1];return this.length=this.length-1,this._shrink(),I}remove(I){const x=(0,M.cq)(this.data,I,this.length,this._hint);if(-1!==x)return this.data.splice(x,1),this.length=this.length-1,I}removeUnordered(I){const x=(0,M.e$)(this.data,I,this.length,this._hint);return void 0!==x&&(this.length=this.length-1),this._shrink(),x}removeUnorderedIndex(I){if(!(I>=this.length||I<0))return this.swapElements(I,this.length-1),this.pop()}removeUnorderedMany(I,x=I.length,$){this.length=(0,M.FY)(this.data,I,this.length,x,this._hint,$),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(I,x){I>=this.length||x>=this.length||I===x||([this.data[I],this.data[x]]=[this.data[x],this.data[I]])}sort(I){Q.sort(this.data,0,this.length,I)}iterableSort(I){return Q.iterableSort(this.data,0,this.length,I)}some(I,x){for(let $=0;$<this.length;++$)if(I.call(x,this.data[$],$,this.data))return!0;return!1}filterInPlace(I,x){let $=0;for(let Y=0;Y<this._length;++Y){const Z=this.data[Y];I.call(x,Z,Y,this.data)&&(this.data[Y]=this.data[$],this.data[$]=Z,$++)}if(this._deallocator)for(let Y=$;Y<this._length;Y++)this.data[Y]=this._deallocator(this.data[Y]);return this._length=$,this._shrink(),this}forAll(I,x){const $=this.length,Y=this.data;for(let Z=0;Z<$;++Z)I.call(x,Y[Z],Z,Y)}forEach(I,x){for(let $=0;$<this.length;++$)I.call(x,this.data[$],$,this.data)}map(I,x){const $=new Array(this.length);for(let Y=0;Y<this.length;++Y)$[Y]=I.call(x,this.data[Y],Y,this.data);return $}reduce(I,x){let $=x;for(let Y=0;Y<this.length;++Y)$=I($,this.data[Y],Y,this.data);return $}has(I){const x=this.length,$=this.data;for(let Y=0;Y<x;++Y)if($[Y]===I)return!0;return!1}}function k(F){F.data.length>1.5*F.length&&(F.data.length=Math.floor(1.1*F.length))}},60330:(qe,Me,E)=>{"use strict";E.d(Me,{D:()=>I,v:()=>F});var ne,x,M=E(17626),D=E(14517),Q=E(62208),B=E(10699),N=E(76898);(x=ne||(ne={}))[x.PENDING=0]="PENDING",x[x.RESOLVED=1]="RESOLVED",x[x.REJECTED=2]="REJECTED";class k{constructor($){this.instance=$,this._resolver=(0,B.dD)(),this._status=ne.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=ne.RESOLVED,this._cleanUp()},()=>{this._status=ne.REJECTED,this._cleanUp()})}addResolvingPromise($){this._resolvingPromises.push($),this._tryResolve()}isResolved(){return this._status===ne.RESOLVED}isRejected(){return this._status===ne.REJECTED}isFulfilled(){return this._status!==ne.PENDING}abort(){this._resolver.reject((0,B.zE)())}when($,Y){return this._resolver.promise.then($,Y)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const $=(0,B.dD)(),Y=[...this._resolvingPromises,(0,Q.j0)($.promise)],Z=this._allPromise=Promise.all(Y);Z.then(()=>{this.isFulfilled()||this._allPromise!==Z||this._resolver.resolve(this.instance)},re=>{this.isFulfilled()||this._allPromise!==Z||(0,B.D_)(re)||this._resolver.reject(re)}),$.resolve()}}const F=x=>{let $=class extends x{constructor(...Y){super(...Y),this._promiseProps=new k(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(Y,Z){return new Promise((re,X)=>{this._promiseProps.when(re,X)}).then(Y,Z)}catch(Y){return this.when(null,Y)}addResolvingPromise(Y){Y&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in Y?Y.when():Y)}};return $=(0,M._)([(0,N.j)("esri.core.Promise")],$),$};let I=class extends(F(D.Z)){};I=(0,M._)([(0,N.j)("esri.core.Promise")],I)},35133:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>D});var M=E(62208);class D{constructor(B=(N=>N.values().next().value)){this._peeker=B,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return;let B;for(B of this._items);return B}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(B){this.contains(B)||this._items.add(B)}contains(B){return this._items.has(B)}pop(){if(0===this.length)return;const B=this.peek();return this._items.delete((0,M.j0)(B)),B}popLast(){if(0===this.length)return;const B=this.last();return this._items.delete((0,M.j0)(B)),B}remove(B){this._items.delete(B)}filter(B){return this._items.forEach(N=>{B(N)||this._items.delete(N)}),this}}},4619:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(Q=1){this._seed=Q}set seed(Q){this._seed=null==Q?Math.random()*M._m:Q}getInt(){return this._seed=(M._a*this._seed+M._c)%M._m,this._seed}getFloat(){return this.getInt()/(M._m-1)}getIntRange(Q,B){return Math.round(this.getFloatRange(Q,B))}getFloatRange(Q,B){const N=B-Q;return Q+this.getInt()/M._m*N}}M._m=2147483647,M._a=48271,M._c=0},14889:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>D});var M=E(90888);class D extends M.Z{constructor(B,N,ne){if(super(B,N,ne),!(this instanceof D))return new D(B,N,ne)}}D.prototype.type="warning"},31283:(qe,Me,E)=>{"use strict";E.d(Me,{s3:()=>D,kk:()=>Q,x3:()=>N,Wm:()=>k,M9:()=>B});var D,x,M=E(62208);(x=D||(D={}))[x.DEFAULTS=0]="DEFAULTS",x[x.COMPUTED=1]="COMPUTED",x[x.SERVICE=2]="SERVICE",x[x.PORTAL_ITEM=3]="PORTAL_ITEM",x[x.WEB_SCENE=4]="WEB_SCENE",x[x.WEB_MAP=5]="WEB_MAP",x[x.USER=6]="USER";const Q=D.USER+1;function B(x){switch(x){case"defaults":return D.DEFAULTS;case"service":return D.SERVICE;case"portal-item":return D.PORTAL_ITEM;case"web-scene":return D.WEB_SCENE;case"web-map":return D.WEB_MAP;case"user":return D.USER}}function N(x){switch(x){case D.DEFAULTS:return"defaults";case D.SERVICE:return"service";case D.PORTAL_ITEM:return"portal-item";case D.WEB_SCENE:return"web-scene";case D.WEB_MAP:return"web-map";case D.USER:return"user"}return(0,M.j0)(void 0)}function k(x){return N(x)}},83960:(qe,Me,E)=>{"use strict";E.d(Me,{B:()=>D});var M=E(77712);function D(Q,B){const N=B?$n(Pt({},B),{source:Q}):Q;return(0,M.Cb)({aliasOf:N})}},66656:(qe,Me,E)=>{"use strict";E.d(Me,{p:()=>k});var M=E(90912),D=E(34117);const Q=Object.prototype.toString;function B(F){const I="__accessorMetadata__"in F?(0,M.se)(F):F;return function(...x){if(x.push(I),"number"==typeof x[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return N.apply(this,x)}}function N(F,I,x,$){(0,D.VZ)(F,I).cast=$}function k(...F){if(3!==F.length||"string"!=typeof F[1])return 1===F.length&&"[object Function]"===Q.call(F[0])?B(F[0]):1===F.length&&"string"==typeof F[0]?function ne(F){return function(I,x){(0,D.VZ)(I,F).cast=I[x]}}(F[0]):void 0}},55342:(qe,Me,E)=>{"use strict";E.d(Me,{J:()=>Q});var M=E(2076),D=E(77712);function Q(B,N={}){var ne;const k=B instanceof M.X?B:new M.X(B,N),F={type:null==(ne=null==N?void 0:N.ignoreUnknown)||ne?k.apiValues:String,json:{type:k.jsonValues,read:(null==N||!N.readOnly)&&{reader:k.read},write:{writer:k.write}}};return void 0!==(null==N?void 0:N.readOnly)&&(F.readOnly=!!N.readOnly),void 0!==(null==N?void 0:N.default)&&(F.json.default=N.default),void 0!==(null==N?void 0:N.name)&&(F.json.name=N.name),(0,D.Cb)(F)}},77712:(qe,Me,E)=>{"use strict";E.d(Me,{Eg:()=>I,Cb:()=>ne,CJ:()=>k});var M=E(63290),D=E(90912),Q=E(34595),B=E(34117),N=E(82255);function ne(x={}){return($,Y)=>{if($===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${$.name}.${Y}. Accessor does not support static properties.`);const Z=Object.getOwnPropertyDescriptor($,Y),re=(0,B.VZ)($,Y);Z&&(Z.get||Z.set?(re.get=Z.get||re.get,re.set=Z.set||re.set):"value"in Z&&("value"in x&&M.Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${Y}" on "${$.constructor.name}" already defined in the metadata`,x),re.value=x.value=Z.value)),null!=x.readOnly&&(re.readOnly=x.readOnly);const X=x.aliasOf;if(X){const P="string"==typeof X?X:X.source,j="string"==typeof X?null:!0===X.overridable;let K;re.dependsOn=[P],re.get=function(){let W=(0,Q.U2)(this,P);if("function"==typeof W){K||(K=P.split(".").slice(0,-1).join("."));const te=(0,Q.U2)(this,K);te&&(W=W.bind(te))}return W},re.readOnly||(re.set=j?function(W){void 0!==W?this._override(Y,W):this._clearOverride(Y)}:function(W){(0,N.t)(this,P,W)})}const L=x.type,T=x.types;re.cast||(L?re.cast=function F(x){let $=0,Y=x;if((0,D.AY)(x))return(0,D.sY)(x);for(;Array.isArray(Y)&&1===Y.length&&"string"!=typeof Y[0]&&"number"!=typeof Y[0];)Y=Y[0],$++;const Z=Y;if((0,D.gB)(Z))return 0===$?(0,D.i$)(Z):(0,D.Iu)((0,D.i$)(Z),$);if(1===$)return(0,D.rY)(Z);if($>1)return(0,D.di)(Z,$);return x.from?x.from:(0,D.se)(x)}(L):T&&(re.cast=Array.isArray(T)?(0,D.Ls)((0,D.N7)(T[0])):(0,D.N7)(T))),x.range&&(re.cast=I(re.cast,x.range)),(0,B.tz)(re,x)}}function k(x,$,Y){const Z=(0,B.VZ)(x,Y);Z.json||(Z.json={});let re=Z.json;return void 0!==$&&(re.origins||(re.origins={}),re.origins[$]||(re.origins[$]={}),re=re.origins[$]),re}function I(x,$){return Y=>{let Z=+x(Y);return null!=$.step&&(Z=Math.round(Z/$.step)*$.step),null!=$.min&&(Z=Math.max($.min,Z)),null!=$.max&&(Z=Math.min($.max,Z)),Z}}},68653:(qe,Me,E)=>{"use strict";E.d(Me,{r:()=>D});var M=E(77712);function D(Q,B,N){let ne,k;return void 0===B||Array.isArray(B)?(k=Q,N=B,ne=[void 0]):(k=B,ne=Array.isArray(Q)?Q:[Q]),(F,I)=>{const x=F.constructor.prototype;ne.forEach($=>{const Y=(0,M.CJ)(F,$,k);Y.read&&"object"==typeof Y.read||(Y.read={}),Y.read.reader=x[I],N&&(Y.read.source=(Y.read.source||[]).concat(N))})}}},61039:(qe,Me,E)=>{"use strict";function M(D){return(Q,B)=>{Q[B]=D}}E.d(Me,{c:()=>M})},76898:(qe,Me,E)=>{"use strict";E.d(Me,{j:()=>F}),E(8314);var D=E(44648),Q=E(34117),B=E(36082),N=E(33794);const ne=new Set,k=new Set;function F($){return Y=>{Y.prototype.declaredClass=$,function x($){const Z=(0,Q.JT)($.prototype).properties,re={};for(const X of Object.getOwnPropertyNames(Z)){const L=Z[X];(0,N.OM)(L),re[X]={enumerable:!0,configurable:!0,get:I(X,L),set(T){const P=this.__accessor__;if(void 0!==P){if(!Object.isFrozen(this)){if(P.initialized&&L.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${X}' of ${this.declaredClass}`);if(P.lifecycle===D.F.CONSTRUCTED&&L.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${X}' of ${this.declaredClass}`);P.set(X,T)}}else Object.defineProperty(this,X,{enumerable:!0,configurable:!0,writable:!0,value:T})}}}Object.defineProperties($.prototype,re)}(Y);const Z=[],re=[];let X=Y.prototype;for(;X;)X.hasOwnProperty("initialize")&&!ne.has(X.initialize)&&(ne.add(X.initialize),Z.push(X.initialize)),X.hasOwnProperty("destroy")&&!k.has(X.destroy)&&(k.add(X.destroy),re.push(X.destroy)),X=Object.getPrototypeOf(X);ne.clear(),k.clear();class L extends Y{constructor(...P){if(super(...P),this.constructor===L&&"function"==typeof this.postscript){if(Z.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let j=Z.length-1;j>=0;j--)Z[j].call(this)}}),re.length){let j=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!j){j=!0;for(let K=0;K<re.length;K++)re[K].call(this)}}})}this.postscript(...P)}}}return L.__accessorMetadata__=(0,Q.JT)(Y.prototype),L.prototype.declaredClass=$,L}}function I($,Y){return null==Y.get?function(){const Z=this.__accessor__.properties.get($);if(void 0===Z)return;(0,B.it)(Z);const re=this.__accessor__.store;return re.has($)?re.get($):Z.metadata.value}:function(){const Z=this.__accessor__.properties.get($);if(void 0!==Z)return Z.getComputed()}}},99433:(qe,Me,E)=>{"use strict";E.d(Me,{c:()=>D});var M=E(77712);function D(Q,B,N){let ne,k;return void 0===B?(k=Q,ne=[void 0]):"string"!=typeof B?(k=Q,ne=[void 0],N=B):(k=B,ne=Array.isArray(Q)?Q:[Q]),(F,I)=>{const x=F.constructor.prototype;for(const $ of ne){const Y=(0,M.CJ)(F,$,k);Y.write&&"object"==typeof Y.write||(Y.write={}),N&&(Y.write.target=N),Y.write.writer=x[I]}}}},12590:(qe,Me,E)=>{"use strict";E.d(Me,{M:()=>D});var M=E(31283);function D(Q,B,N){B.keys().forEach(k=>{N.set(k,B.get(k),M.s3.DEFAULTS)}),Object.keys(Q.metadatas).forEach(k=>{Q.internalGet(k)&&N.set(k,Q.internalGet(k),M.s3.DEFAULTS)})}},84682:(qe,Me,E)=>{"use strict";E.d(Me,{Hg:()=>re,uD:()=>Y,V7:()=>Z});var M=E(14517),D=E(48701),Q=E(62208),B=E(52323);const N=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function ne(L){return L instanceof M.Z}function k(L){return L instanceof D.Z?Object.keys(L.items):ne(L)?(0,B.vw)(L).keys():L?Object.keys(L):[]}function F(L,T){return L instanceof D.Z?L.items[T]:L[T]}function x(L){return L?L.declaredClass:null}function $(L,T){const P=L.diff;if(P&&"function"==typeof P)return P(L,T);const j=k(L),K=k(T);if(0===j.length&&0===K.length)return;if(!j.length||!K.length||function I(L,T){return!(!Array.isArray(L)||!Array.isArray(T))&&L.length!==T.length}(L,T))return{type:"complete",oldValue:L,newValue:T};const W=K.filter(de=>-1===j.indexOf(de)),te=j.filter(de=>-1===K.indexOf(de)),J=j.filter(de=>K.indexOf(de)>-1&&F(L,de)!==F(T,de)).concat(W,te).sort(),he=x(L);if(he&&N.indexOf(he)>-1&&J.length)return{type:"complete",oldValue:L,newValue:T};let oe;const me=ne(L)&&ne(T);for(const de of J){const ie=F(L,de),V=F(T,de);let ce;(me||"function"!=typeof ie&&"function"!=typeof V)&&ie!==V&&(null==ie&&null==V||(ce=P&&P[de]&&"function"==typeof P[de]?P[de](ie,V):"object"==typeof ie&&"object"==typeof V&&x(ie)===x(V)?$(ie,V):{type:"complete",oldValue:ie,newValue:V},(0,Q.pC)(ce)&&((0,Q.pC)(oe)?oe.diff[de]=ce:oe={type:"partial",diff:{[de]:ce}})))}return oe}function Y(L,T){if((0,Q.Wi)(L))return!1;const P=T.split(".");let j=L;for(const K of P){if("complete"===j.type)return!0;if("partial"!==j.type)return!1;{const W=j.diff[K];if(!W)return!1;j=W}}return!0}function Z(L,T){for(const P of T)if(Y(L,P))return!0;return!1}function re(L,T){if(!("function"==typeof L||"function"==typeof T||(0,Q.Wi)(L)&&(0,Q.Wi)(T)))return(0,Q.Wi)(L)||(0,Q.Wi)(T)||"object"==typeof L&&"object"==typeof T&&x(L)!==x(T)?{type:"complete",oldValue:L,newValue:T}:$(L,T)}},90912:(qe,Me,E)=>{"use strict";E.d(Me,{z8:()=>V,rY:()=>te,Ls:()=>W,TJ:()=>L,vU:()=>I,sY:()=>pe,di:()=>oe,Iu:()=>he,q9:()=>F,i$:()=>de,N7:()=>ie,Zs:()=>k,se:()=>K,AY:()=>ae,gB:()=>me,V5:()=>ce}),E(8314);var D=E(63290),Q=E(88159);const B=D.Z.getLogger("esri.core.Accessor");function N(se){return null==se?se:new Date(se)}function ne(se){return null==se?se:!!se}function k(se){return null==se?se:se.toString()}function F(se){return null==se?se:(se=parseFloat(se),isNaN(se)?0:se)}function I(se){return null==se?se:Math.round(parseFloat(se))}function x(se){return se&&se.constructor&&void 0!==se.constructor.__accessorMetadata__}function $(se,Ce){return null!=Ce&&se&&!(Ce instanceof se)}function Y(se){return se&&"isCollection"in se}function Z(se){return se&&se.Type?"function"==typeof se.Type?se.Type:se.Type.base:null}function X(se,Ce){return!!x(Ce)&&(B.error("Accessor#set","Assigning an instance of '"+(Ce.declaredClass||"unknown")+"' which is not a subclass of '"+T(se)+"'"),!0)}function L(se,Ce){return null==Ce?Ce:Y(se)?function re(se,Ce){if(!Ce||!Ce.constructor||!Y(Ce.constructor))return X(se,Ce)?Ce:new se(Ce);const ge=Z(se.prototype.itemType),Pe=Z(Ce.constructor.prototype.itemType);return ge?Pe?ge===Pe?Ce:ge.prototype.isPrototypeOf(Pe.prototype)?new se(Ce):(X(se,Ce),Ce):new se(Ce):Ce}(se,Ce):$(se,Ce)?X(se,Ce)?Ce:new se(Ce):Ce}function T(se){return se&&se.prototype&&se.prototype.declaredClass||"unknown"}const P=new WeakMap;function j(se){switch(se){case Number:return F;case V:return I;case Boolean:return ne;case String:return k;case Date:return N;default:return(0,Q.s1)(P,se,()=>L.bind(null,se))}}function K(se,Ce){const ge=j(se);return 1===arguments.length?ge:ge(Ce)}function W(se,Ce,ge){return 1===arguments.length?W.bind(null,se):Ce&&(Array.isArray(Ce)?Ce.map(Pe=>se(Pe,ge)):[se(Ce,ge)])}function te(se,Ce){return 1===arguments.length?W(K.bind(null,se)):W(K.bind(null,se),Ce)}function J(se,Ce,ge){return 0!==Ce&&Array.isArray(ge)?ge.map(Pe=>J(se,Ce-1,Pe)):se(ge)}function he(se,Ce,ge){if(2===arguments.length)return he.bind(null,se,Ce);if(!ge)return ge;let Pe=Ce,Ee=ge=J(se,Ce,ge);for(;Pe>0&&Array.isArray(Ee);)Pe--,Ee=Ee[0];if(void 0!==Ee)for(let Ge=0;Ge<Pe;Ge++)ge=[ge];return ge}function oe(se,Ce,ge){return 2===arguments.length?he(K.bind(null,se),Ce):he(K.bind(null,se),Ce,ge)}function me(se){return!!Array.isArray(se)&&!se.some(Ce=>{const ge=typeof Ce;return!("string"===ge||"number"===ge||"function"===ge&&se.length>1)})}function de(se,Ce){if(2===arguments.length)return de(se).call(null,Ce);const ge=new Set,Pe=se.filter(ve=>"function"!=typeof ve),Ee=se.filter(ve=>"function"==typeof ve);for(const ve of se)"string"!=typeof ve&&"number"!=typeof ve||ge.add(ve);let Ge=null,Se=null;return(ve,Te)=>{if(null==ve)return ve;const Ze=typeof ve,tt="string"===Ze||"number"===Ze;return tt&&(ge.has(ve)||Ee.some(xe=>"string"===Ze&&xe===String||"number"===Ze&&xe===Number))||"object"===Ze&&Ee.some(xe=>!$(ve,xe))?ve:(tt&&Pe.length?(Ge||(Ge=Pe.map(xe=>"string"==typeof xe?`'${xe}'`:`${xe}`).join(", ")),B.error("Accessor#set",`'${ve}' is not a valid value for this property, only the following values are valid: ${Ge}`)):"object"==typeof ve&&Ee.length?(Se||(Se=Ee.map(xe=>T(xe)).join(", ")),B.error("Accessor#set",`'${ve}' is not a valid value for this property, value must be one of ${Se}`)):B.error("Accessor#set",`'${ve}' is not a valid value for this property`),Te&&(Te.valid=!1),null)}}function ie(se,Ce){if(2===arguments.length)return ie(se).call(null,Ce);const ge={},Pe=[],Ee=[];for(const Te in se.typeMap){const Ze=se.typeMap[Te];ge[Te]=K(Ze),Pe.push(T(Ze)),Ee.push(Te)}const Ge=()=>`'${Pe.join("', '")}'`,Se=()=>`'${Ee.join("', '")}'`,ve="string"==typeof se.key?Te=>Te[se.key]:se.key;return Te=>{if(se.base&&!$(se.base,Te)||null==Te)return Te;const Ze=ve(Te)||se.defaultKeyValue,tt=ge[Ze];if(!tt)return B.error("Accessor#set",`Invalid property value, value needs to be one of ${Ge()}, or a plain object that can autocast (having .type = ${Se()})`),null;if(!$(se.typeMap[Ze],Te))return Te;if("string"==typeof se.key&&!x(Te)){const xe={};for(const Ve in Te)Ve!==se.key&&(xe[Ve]=Te[Ve]);return tt(xe)}return tt(Te)}}class V{}const ce={native:se=>({type:"native",value:se}),array:se=>({type:"array",value:se}),oneOf:se=>({type:"one-of",values:se})};function ae(se){if(!se||!("type"in se))return!1;switch(se.type){case"native":case"array":case"one-of":return!0}return!1}function pe(se){switch(se.type){case"native":return K(se.value);case"array":return W(pe(se.value));case"one-of":return function ue(se){let Ce=null;return(ge,Pe)=>le(ge,se)?ge:(null==Ce&&(Ce=ye(se)),B.error("Accessor#set",`Invalid property value, value needs to be of type ${Ce}`),Pe&&(Pe.valid=!1),null)}(se);default:return null}}function ye(se){switch(se.type){case"native":switch(se.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case V:return"integer";case Date:return"date";default:return T(se.value)}case"array":return`array of ${ye(se.value)}`;case"one-of":{const Ce=se.values.map(ge=>ye(ge));return`one of ${Ce.slice(0,Ce.length-1)} or ${Ce[Ce.length-1]}`}}return"unknown"}function le(se,Ce){if(null==se)return!0;switch(Ce.type){case"native":switch(Ce.value){case Number:case V:return"number"==typeof se;case Boolean:return"boolean"==typeof se;case String:return"string"==typeof se}return se instanceof Ce.value;case"array":return!!Array.isArray(se)&&!se.some(ge=>!le(ge,Ce.value));case"one-of":return Ce.values.some(ge=>le(se,ge))}}},33794:(qe,Me,E)=>{"use strict";E.d(Me,{hk:()=>$,HS:()=>I,Ah:()=>x,OM:()=>T});var M=E(90912),Q=E(383);function N(P){P.name&&(P.read&&"object"==typeof P.read?void 0===P.read.source&&(P.read.source=P.name):P.read={source:P.name},P.write&&"object"==typeof P.write?void 0===P.write.target&&(P.write.target=P.name):P.write={target:P.name})}function ne(P){"boolean"==typeof P.read?P.read={enabled:P.read}:"function"==typeof P.read?P.read={enabled:!0,reader:P.read}:P.read&&"object"==typeof P.read&&void 0===P.read.enabled&&(P.read.enabled=!0)}function k(P){"boolean"==typeof P.write?P.write={enabled:P.write}:"function"==typeof P.write?P.write={enabled:!0,writer:P.write}:P.write&&"object"==typeof P.write&&void 0===P.write.enabled&&(P.write.enabled=!0)}var F=E(23025);function I(P,j){return $(P,"read",j)}function x(P,j){return $(P,"write",j)}function $(P,j,K){let W=P&&P.json;if(P&&P.json&&P.json.origins&&K){const te=P.json.origins[K.origin];te&&("any"===j||j in te)&&(W=te)}return W}function re(P){return P.type?X(P):L(P)}function X(P){if(!P.type)return;let j=0,K=P.type;for(;Array.isArray(K)&&!(0,M.gB)(K);)K=K[0],j++;return{type:K,ndimArray:j}}function L(P){if(!P.types)return;let j=0,K=P.types;for(;Array.isArray(K);)K=K[0],j++;return{types:K,ndimArray:j}}function T(P){(function B(P){if(P.json||(P.json={}),ne(P.json),k(P.json),N(P.json),P.json.origins)for(const j in P.json.origins)ne(P.json.origins[j]),k(P.json.origins[j]),N(P.json.origins[j]);return!0})(P)&&(function D(P){if(P.json&&P.json.origins){const j=P.json.origins,K={"web-document":["web-scene","web-map"]};for(const W in K)if(j[W]){const te=j[W];K[W].forEach(J=>{j[J]=te}),delete j[W]}}}(P),function Y(P){const j=function Z(P){return P.json.types?L(P.json):P.type?X(P):L(P)}(P);if(P.json.origins)for(const K in P.json.origins){const W=P.json.origins[K],te=W.types?re(W):j;(0,Q.U)(te,W,!1),W.types&&!W.write&&P.json.write&&P.json.write.enabled&&(W.write=Pt({},P.json.write)),(0,F.U)(te,W)}(0,Q.U)(j,P.json,!0),(0,F.U)(j,P.json)}(P))}},383:(qe,Me,E)=>{"use strict";E.d(Me,{U:()=>k,d:()=>F});var M=E(63290),D=E(94113),Q=E(14889),B=E(34117),N=E(94056);const ne=M.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function k(K,W,te){var J,he;K&&(!te&&!W.read||null!=(J=W.read)&&J.reader||!1===(null==(he=W.read)?void 0:he.enabled)||function X(K){return"types"in K?T(K.types):L(K.type)}(K)&&(0,D.RB)("read.reader",F(K),W))}function F(K){var W;const te=null!=(W=K.ndimArray)?W:0;if(te>1)return function Y(K){var W;const te=I(K),J=$.bind(null,te),he=null!=(W=K.ndimArray)?W:0;return(oe,me,de)=>{if(null==oe)return oe;oe=J(oe,de,he);let ie=he,V=oe;for(;ie>0&&Array.isArray(V);)ie--,V=V[0];if(void 0!==V)for(let ce=0;ce<ie;ce++)oe=[oe];return oe}}(K);if(1===te)return Z(K);if("type"in K&&re(K.type)){var J,he;const oe=null==(J=K.type.prototype)||null==(he=J.itemType)?void 0:he.Type,me=Z("function"==typeof oe?{type:oe}:{types:oe});return(de,ie,V)=>{const ce=me(de,ie,V);return ce&&new K.type(ce)}}return I(K)}function I(K){return"type"in K?function x(K){return K.prototype.read?(W,te,J)=>{if(null==W)return W;const he=typeof W;if("object"!==he)return void ne.error(`Expected JSON value of type 'object' to deserialize type '${K.prototype.declaredClass}', but got '${he}'`);const oe=new K;return oe.read(W,J),oe}:K.fromJSON}(K.type):function P(K){var W;let te=null;const J=null!=(W=K.errorContext)?W:"type";return(he,oe,me)=>{if(null==he)return he;const de=typeof he;if("object"!==de)return void ne.error(`Expected JSON value of type 'object' to deserialize, but got '${de}'`);te||(te=function j(K){const W={};for(const he in K.typeMap){var te,J;const oe=K.typeMap[he],me=(0,B.JT)(oe.prototype);if("function"==typeof K.key)continue;const de=me.properties[K.key];if(!de)continue;null!=(te=de.json)&&te.type&&Array.isArray(de.json.type)&&1===de.json.type.length&&"string"==typeof de.json.type[0]&&(W[de.json.type[0]]=oe);const ie=null==(J=de.json)?void 0:J.write;if(!ie||!ie.writer){W[he]=oe;continue}const V=ie.target,ce="string"==typeof V?V:K.key,ae={};ie.writer(he,ae,ce),ae[ce]&&(W[ae[ce]]=oe)}return W}(K));const ie=K.key;if("string"!=typeof ie)return;const V=he[ie],ce=V?te[V]:K.defaultKeyValue?K.typeMap[K.defaultKeyValue]:void 0;if(!ce){const pe=`Type '${V||"unknown"}' is not supported`;return me&&me.messages&&he&&me.messages.push(new Q.Z(`${J}:unsupported`,pe,{definition:he,context:me})),void ne.error(pe)}const ae=new ce;return ae.read(he,me),ae}}(K.types)}function $(K,W,te,J){return 0!==J&&Array.isArray(W)?W.map(he=>$(K,he,te,J-1)):K(W,void 0,te)}function Z(K){const W=I(K);return(te,J,he)=>{if(null==te)return te;if(Array.isArray(te)){const me=[];for(const de of te){const ie=W(de,void 0,he);void 0!==ie&&me.push(ie)}return me}const oe=W(te,void 0,he);return void 0!==oe?[oe]:void 0}}function re(K){if(!(0,N.u)(K))return!1;const W=K.prototype.itemType;return!(!W||!W.Type)&&("function"==typeof W.Type?L(W.Type):T(W.Type))}function L(K){return!Array.isArray(K)&&!!K&&K.prototype&&("read"in K.prototype||"fromJSON"in K||re(K))}function T(K){for(const W in K.typeMap)if(!L(K.typeMap[W]))return!1;return!0}},94056:(qe,Me,E)=>{"use strict";function M(D){return!!D&&D.prototype&&D.prototype.declaredClass&&0===D.prototype.declaredClass.indexOf("esri.core.Collection")}E.d(Me,{u:()=>M})},23025:(qe,Me,E)=>{"use strict";E.d(Me,{U:()=>ne,k:()=>Y});var M=E(26584),D=E(63290),Q=E(94113),B=E(94056);const N=D.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function ne(L,T){var P;if(!T.write||T.write.writer||!1===T.write.enabled&&!T.write.overridePolicy)return;const j=null!=(P=null==L?void 0:L.ndimArray)?P:0;T.write.writer=L&&(1===j||"type"in L&&(0,B.u)(L.type))?Z:j>1?function X(L){return function(T,P,j,K){let W;if(null===T)W=null;else{W=re(T,K,L);let te=L,J=W;for(;te>0&&Array.isArray(J);)te--,J=J[0];if(void 0!==J)for(let he=0;he<te;he++)W=[W]}(0,Q.RB)(j,W,P)}}(j):T.types?Array.isArray(T.types)?function I(L){return(T,P,j,K)=>T&&Array.isArray(T)?x(T.filter(W=>F(W,L,K)),P,j,K):x(T,P,j,K)}(T.types[0]):function k(L){return(T,P,j,K)=>T?F(T,L,K)?x(T,P,j,K):void 0:x(T,P,j,K)}(T.types):x}function F(L,T,P){for(const W in T.typeMap)if(L instanceof T.typeMap[W])return!0;if(null!=P&&P.messages){var j,K;const W=null!=(j=T.errorContext)?j:"type",te=`Values of type '${null!=(K="function"!=typeof T.key?L[T.key]:L.declaredClass)?K:"Unknown"}' cannot be written`;P&&P.messages&&L&&P.messages.push(new M.Z(`${W}:unsupported`,te,{definition:L,context:P})),N.error(te)}return!1}function x(L,T,P,j){(0,Q.RB)(P,$(L,j),T)}function $(L,T){return L&&"function"==typeof L.write?L.write({},T):L&&"function"==typeof L.toJSON?L.toJSON():"number"==typeof L?Y(L):L}function Y(L){return L===-1/0?-Number.MAX_VALUE:L===1/0?Number.MAX_VALUE:isNaN(L)?null:L}function Z(L,T,P,j){let K;null===L?K=null:L&&"function"==typeof L.map?(K=L.map(W=>$(W,j)),"function"==typeof K.toArray&&(K=K.toArray())):K=[$(L,j)],(0,Q.RB)(P,K,T)}function re(L,T,P){return 0!==P&&Array.isArray(L)?L.map(j=>re(j,T,P-1)):$(L,T)}},34595:(qe,Me,E)=>{"use strict";E.d(Me,{Gg:()=>ne,U2:()=>N,$z:()=>B});var M=E(52323);function D(k,F){const I="?"===k[k.length-1]?k.slice(0,-1):k;if(null!=F.getItemAt||Array.isArray(F)){const $=parseInt(I,10);if(!isNaN($))return Array.isArray(F)?F[$]:F.getItemAt($)}const x=(0,M.vw)(F);return(0,M.b6)(x,I)?x.get(I):F[I]}function Q(k,F,I){if(null==k)return k;const x=D(F[I],k);return!x&&I<F.length-1?void 0:I===F.length-1?x:Q(x,F,I+1)}function B(k,F,I=0){return"string"==typeof F&&-1===F.indexOf(".")?D(F,k):Q(k,(0,M.NI)(F),I)}function N(k,F){return B(k,F)}function ne(k,F){return void 0!==B(F,k)}},44648:(qe,Me,E)=>{"use strict";var M,D;E.d(Me,{F:()=>M}),(D=M||(M={}))[D.INITIALIZING=0]="INITIALIZING",D[D.CONSTRUCTING=1]="CONSTRUCTING",D[D.CONSTRUCTED=2]="CONSTRUCTED"},34117:(qe,Me,E)=>{"use strict";E.d(Me,{JT:()=>N,VZ:()=>k,tz:()=>x});var M=E(58817),D=E(62208),Q=E(52323);class B{constructor(L){this.autoDestroy=!1,this.properties=L}}function N(X){let L=X.constructor.__accessorMetadata__;const T=Object.prototype.hasOwnProperty.call(X.constructor,"__accessorMetadata__");if(L){if(!T){const P=Object.create(L.properties),j=L.autoDestroy;for(const K in P)P[K]=(0,M.d9)(P[K]);L=new B(P),L.autoDestroy=j,Object.defineProperty(X.constructor,"__accessorMetadata__",{value:L,enumerable:!1,configurable:!0,writable:!0})}}else L=new B({}),Object.defineProperty(X.constructor,"__accessorMetadata__",{value:L,enumerable:!1,configurable:!0,writable:!0});return(0,D.j0)(X.constructor.__accessorMetadata__)}function k(X,L){const T=function ne(X){return N(X).properties}(X);let P=T[L];return P||(P=T[L]={}),P}function x(X,L){return(0,Q.TS)(X,L,Y)}const $=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Y(X){return $.test(X)?"replace":"merge"}},29338:(qe,Me,E)=>{"use strict";E.d(Me,{i:()=>I,$:()=>x});var M=E(34595),D=E(52323),Q=E(33794);function B($,Y,Z){if(!$||!$.read||!1===$.read.enabled||!$.read.source)return!1;const re=$.read.source;if("string"==typeof re){if(re===Y||re.indexOf(".")>-1&&0===re.indexOf(Y)&&(0,M.Gg)(re,Z))return!0}else for(const X of re)if(X===Y||X.indexOf(".")>-1&&0===X.indexOf(Y)&&(0,M.Gg)(X,Z))return!0;return!1}function ne($,Y,Z,re,X){let L=(0,Q.HS)(Y[Z],X);(function N($){return $&&(!$.read||!1!==$.read.enabled&&!$.read.source)})(L)&&($[Z]=!0);for(const T of Object.getOwnPropertyNames(Y))L=(0,Q.HS)(Y[T],X),B(L,Z,re)&&($[T]=!0)}function k($,Y,Z,re){const L=(0,Q.hk)(Z.metadatas[Y],"any",re),T=L&&L.default;if(void 0===T)return;const P="function"==typeof T?T.call($,Y,re):T;void 0!==P&&Z.set(Y,P)}const F={origin:"service"};function I($,Y,Z=F){if(!Y||"object"!=typeof Y)return;const re=(0,D.vw)($),X=re.metadatas,L={};for(const T of Object.getOwnPropertyNames(Y))ne(L,X,T,Y,Z);re.setDefaultOrigin(Z.origin);for(const T of Object.getOwnPropertyNames(L)){const P=(0,Q.HS)(X[T],Z).read,j=P&&P.source;let K;K=j&&"string"==typeof j?(0,M.$z)(Y,j):Y[T],P&&P.reader&&(K=P.reader.call($,K,Y,Z)),void 0!==K&&re.set(T,K)}if(!Z||!Z.ignoreDefaults){re.setDefaultOrigin("defaults");for(const T of Object.getOwnPropertyNames(X))L[T]||k($,T,re,Z)}re.setDefaultOrigin("user")}function x($,Y,Z,re=F){var X;const L=$n(Pt({},re),{messages:[]});Z(L),null==(X=L.messages)||X.forEach(T=>{"warning"!==T.type||$.loaded?re&&re.messages&&re.messages.push(T):$.loadWarnings.push(T)})}},82255:(qe,Me,E)=>{"use strict";E.d(Me,{t:()=>N});var M=E(26584),D=E(8314),Q=E(63290),B=E(34595);function N(I,x,$){if(I&&x)if("object"==typeof x)for(const Y of Object.getOwnPropertyNames(x))N(I,Y,x[Y]);else{if(-1!==x.indexOf(".")){const Z=x.split("."),re=Z.splice(Z.length-1,1)[0];return void N((0,B.U2)(I,Z),re,$)}const Y=I.__accessor__;null!=Y&&function ne(I,x){if((0,D.Z)("esri-unknown-property-errors")&&!function k(I,x){return null!=x.metadatas[I]}(I,x))throw new M.Z("set:unknown-property",function F(I,x){return"setting unknown property '"+I+"' on instance of "+x.host.declaredClass}(I,x))}(x,Y),I[x]=$}}Q.Z.getLogger("esri.core.accessorSupport.set")},36082:(qe,Me,E)=>{"use strict";E.d(Me,{mS:()=>T,LJ:()=>Y,gb:()=>Z,it:()=>I,GF:()=>j}),E(8314);var D=E(63290),Q=E(52323),B=E(2345);let N,ne=[];const k=D.Z.getLogger("esri.core.Accessor");function I(W){void 0!==N&&N.onObservableAccessed(W)}let x=!1,$=!1;function Y(W,te,J){if(x)return re(W,te,J);X(W);const he=te.call(J);return L(),he}function Z(W,te){return Y(void 0,W,te)}function re(W,te,J){const he=x;x=!0,X(W);let oe=null;try{oe=te.call(J)}catch(me){$&&k.error(me)}return L(),x=he,oe}function X(W){N=W,ne.push(W)}function L(){const W=ne.pop();N=ne.length>0?ne[ne.length-1]:void 0,void 0!==W&&W.onTrackingEnd()}function T(W,te){if(te.flags&B.v.DepTrackingInitialized)return;const J=$;$=!1,te.flags&B.v.AutoTracked?re(te,te.metadata.get,W):j(W,te),$=J}const P=[];function j(W,te){te.flags&B.v.ExplicitlyTracking||(te.flags|=B.v.ExplicitlyTracking,re(te,()=>{const J=te.metadata.dependsOn||P;for(const he of J)if("string"==typeof he&&-1===he.indexOf("."))K(W,he,!1);else{const oe=(0,Q.NI)(he);for(let me=0,de=W;me<oe.length&&null!=de&&"object"==typeof de;++me)de=K(de,oe[me],me!==oe.length-1)}}),te.flags&=~B.v.ExplicitlyTracking)}function K(W,te,J){const he="?"===te[te.length-1]?te.slice(0,-1):te;if(null!=W.getItemAt||Array.isArray(W)){const de=parseInt(he,10);if(!isNaN(de))return Array.isArray(W)?W[de]:W.getItemAt(de)}const oe=(0,Q.vw)(W),me=null==oe?void 0:oe.properties.get(he);return me&&(I(me),T(W,me)),J?W[he]:void 0}},2345:(qe,Me,E)=>{"use strict";var M,D;E.d(Me,{v:()=>M}),(D=M||(M={}))[D.Dirty=1]="Dirty",D[D.Overriden=2]="Overriden",D[D.Computing=4]="Computing",D[D.NonNullable=8]="NonNullable",D[D.HasDefaultValue=16]="HasDefaultValue",D[D.DepTrackingInitialized=32]="DepTrackingInitialized",D[D.AutoTracked=64]="AutoTracked",D[D.ExplicitlyTracking=128]="ExplicitlyTracking"},12196:(qe,Me,E)=>{"use strict";E.d(Me,{X:()=>D});var M=E(85931);class D{constructor(B,N){this._observers=B,this._observer=N}remove(){(0,M.Od)(this._observers,this._observer)}}},819:(qe,Me,E)=>{"use strict";E.d(Me,{M:()=>M});class M{constructor(Q){this._notify=Q,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const Q=this._invalidCount;if(1===Q)return this._invalidCount=0,void this._notify();this._invalidCount=Q>0?Q-1:0}onObservableAccessed(Q){this._accessed.includes(Q)||this._accessed.push(Q)}onTrackingEnd(){const Q=this._handles,B=this._accessed;for(let N=0;N<B.length;++N)Q.push(B[N].observe(this));B.length=0}clear(){const Q=this._handles;for(let B=0;B<Q.length;++B)Q[B].remove();Q.length=0}}},21352:(qe,Me,E)=>{"use strict";E.d(Me,{EH:()=>k,U5:()=>N,Xz:()=>ne});var M=E(36082),D=E(819);let Q=!1;const B=[];function N(x,$){let Y=new D.M(function X(){if(!Y||re)return;if(Q)return void F(X);const T=Z;Y.clear(),Q=!0,re=!0,Z=(0,M.LJ)(Y,x),re=!1,Q=!1,$(Z,T),I()}),Z=null,re=!1;return re=!0,Z=(0,M.LJ)(Y,x),re=!1,{remove:function L(){Y&&(Y.destroy(),Y=null,Z=null)}}}function ne(x,$){let Y=new D.M(function re(){$(Z,L)}),Z=null;function L(){return Y?(Y.clear(),Z=(0,M.LJ)(Y,x),Z):null}return L(),{remove:function X(){Y&&(Y.destroy(),Y=null),Z=null}}}function k(x){let $=new D.M(function Z(){$&&!Y&&(Q?F(Z):($.clear(),Q=!0,Y=!0,(0,M.LJ)($,x),Y=!1,Q=!1,I()))}),Y=!1;return Y=!0,(0,M.LJ)($,x),Y=!1,{remove:function re(){$&&($.destroy(),$=null)}}}function F(x){B.includes(x)||B.unshift(x)}function I(){for(;B.length;)B.pop()()}},52323:(qe,Me,E)=>{"use strict";E.d(Me,{vw:()=>B,b6:()=>N,TS:()=>k,IH:()=>X,Qc:()=>re,NI:()=>x});var M=E(54024),D=E(58817),Q=E(62208);function B(L){return L?L.__accessor__?L.__accessor__:L.propertyInvalidated?L:null:null}function N(L,T){return null!=L&&L.metadatas&&null!=L.metadatas[T]}function k(L,T,P){return F(L,T,P?{policy:P,path:""}:null)}function F(L,T,P){return T?Object.keys(T).reduce(function(j,K){let W=null,te="merge";if(P&&(W=P.path?`${P.path}.${K}`:K,te=P.policy(W)),"replace"===te)return j[K]=T[K],j;if(void 0===j[K])return j[K]=(0,D.d9)(T[K]),j;let J=j[K],he=T[K];if(J===he)return j;if(Array.isArray(he)||Array.isArray(j))J=j[K]=J?Array.isArray(J)?J.concat():[J]:[],he&&(Array.isArray(he)||(he=[he]),he.forEach(oe=>{-1===J.indexOf(oe)&&J.push(oe)}));else if(he&&"object"==typeof he)if(P){const oe=P.path;P.path=(0,Q.j0)(W),j[K]=F(J,he,P),P.path=oe}else j[K]=F(J,he,null);else j.hasOwnProperty(K)&&!T.hasOwnProperty(K)||(j[K]=he);return j},L||{}):L}function x(L){return Array.isArray(L)?L:L.split(".")}function $(L){return L.indexOf(",")>-1?L.split(",").map(T=>T.trim()):[L.trim()]}function re(L,T,P,j){const K=function Y(L){if(Array.isArray(L)){const T=[];for(const P of L)T.push(...$(P));return T}return $(L)}(T);if(1!==K.length){const W=K.map(te=>j(L,te,P));return(0,M.AL)(W)}return j(L,K[0],P)}function X(L){let T=!1;return()=>{T||(T=!0,L())}}},45262:(qe,Me,E)=>{"use strict";E.d(Me,{BT:()=>j,YP:()=>me,aQ:()=>V});var $,ae,M=E(35575),D=E(58817),Q=E(62208),B=E(27899),ne=E(50618),k=E(86236),F=E(34595),I=E(21352),x=E(52323);(ae=$||($={}))[ae.Untracked=0]="Untracked",ae[ae.Tracked=1]="Tracked";class Y{constructor(){this.uid=(0,k.D)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(pe,ue,ye,le,se){return this.pool.acquire($.Untracked,pe,ue,ye,le,se,D.fS)}static acquireTracked(pe,ue,ye,le){return this.pool.acquire($.Tracked,pe,ue,ye,null,null,le)}notify(pe,ue){this.type===$.Untracked?this.callback.call(this.target,pe,ue,this.path,this.target):this.callback.call(null,pe,ue)}acquire(pe,ue,ye,le,se,Ce,ge){this.uid=(0,k.D)(),this.removed=!1,this.type=pe,this.oldValue=ue,this.callback=ye,this.getValue=le,this.target=se,this.path=Ce,this.equals=ge}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,k.D)(),this.removed=!0}}Y.pool=new class N extends B.Z{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=(0,Q.Bd)(this._set)}acquire(...pe){const ue=super.acquire(...pe);return this._set.delete(ue),ue}release(pe){pe&&!this._set.has(pe)&&(super.release(pe),this._set.add(pe))}_dispose(pe){this._set.delete(pe),super._dispose(pe)}}(Y);const Z=new M.Z,re=new Set;let X;function L(ae){re.delete(ae),re.add(ae),X||(X=(0,ne.Os)(K))}function T(ae){if(ae.removed)return;const pe=ae.oldValue,ue=ae.getValue();ae.equals(pe,ue)||(ae.oldValue=ue,ae.notify(ue,pe))}function j(ae){for(const pe of re.values())pe.target===ae&&(pe.removed=!0)}function K(){let ae=10;for(;X&&ae--;){X=null;const pe=W(),ue=Z.acquire();for(const ye of pe){const le=ye.uid;T(ye),le===ye.uid&&ye.removed&&ue.push(ye)}for(const ye of re)ye.removed&&(ue.push(ye),re.delete(ye));for(const ye of ue)Y.pool.release(ye);Z.release(ue),Z.release(pe),te.forEach(ye=>ye())}}function W(){const ae=Z.acquire();ae.length=re.size;let pe=0;for(const ue of re)ae[pe]=ue,++pe;return re.clear(),ae}const te=new Set;function me(ae,pe,ue,ye=!1){return!ae.__accessor__||ae.__accessor__.destroyed?{remove(){}}:ye?function oe(ae,pe,ue){const ye=(0,x.Qc)(ae,pe,ue,(le,se,Ce)=>{let ge=!1;return(0,I.U5)(()=>(0,F.$z)(le,se),(Pe,Ee)=>{le.__accessor__.destroyed?ye.remove():ge||(ge=!0,(0,D.fS)(Ee,Pe)||Ce.call(le,Pe,Ee,se,le),ge=!1)})});return ye}(ae,pe,ue):function he(ae,pe,ue){let ye=(0,x.Qc)(ae,pe,ue,(le,se,Ce)=>{let ge,Pe,Ee=(0,I.Xz)(()=>(0,F.$z)(le,se),(Ge,Se)=>{le.__accessor__.destroyed||ge&&ge.uid!==Pe?ye.remove():(ge||(ge=Y.acquireUntracked(Ge,Ce,Se,le,se),Pe=ge.uid),L(ge))});return{remove:(0,x.IH)(()=>{Ee.remove(),ge&&(ge.uid!==Pe||ge.removed||(ge.removed=!0,L(ge)),ge=null),ye=Ee=null})}});return ye}(ae,pe,ue)}function V(ae,pe,ue=!1,ye=D.fS){return ue?function ie(ae,pe,ue){let ye=!1;return(0,I.U5)(ae,(le,se)=>{ye||(ye=!0,ue(se,le)||pe(le,se),ye=!1)})}(ae,pe,ye):function de(ae,pe,ue){let ye,le,se=(0,I.Xz)(ae,(Ce,ge)=>{ye&&ye.uid!==le?se.remove():(ye||(ye=Y.acquireTracked(Ce,pe,ge,ue),le=ye.uid),L(ye))});return{remove:(0,x.IH)(()=>{se.remove(),ye&&(ye.uid!==le||ye.removed||(ye.removed=!0,L(ye)),ye=null),se=null})}}(ae,pe,ye)}},36054:(qe,Me,E)=>{"use strict";E.d(Me,{d:()=>$,c:()=>Y});var M=E(85931),D=E(26584),Q=E(63290),B=E(31283),N=E(52323),ne=E(33794);const k=Q.Z.getLogger("esri.core.accessorSupport.write");function F(Z,re,X,L,T){var P,j;const K={};return null==(P=re.write)||null==(j=P.writer)||j.call(Z,L,K,X,T),K}function I(Z,re,X,L,T,P){if(!L||!L.write)return!1;const j=Z.get(X);if(!T&&L.write.overridePolicy){const K=L.write.overridePolicy.call(Z,j,X,P);void 0!==K&&(T=K)}if(T||(T=L.write),!T||!1===T.enabled)return!1;if((null===j&&!T.allowNull&&!T.writerEnsuresNonNull||void 0===j)&&T.isRequired){const K=new D.Z("web-document-write:property-required",`Missing value for required property '${X}' on '${Z.declaredClass}'`,{propertyName:X,target:Z});return K&&P&&P.messages?P.messages.push(K):K&&!P&&k.error(K.name,K.message),!1}return!(void 0===j||null===j&&!T.allowNull&&!T.writerEnsuresNonNull||(!re.store.multipleOriginsSupported||re.store.originOf(X)===B.s3.DEFAULTS)&&function x(Z,re,X,L,T){const P=L.default;if(void 0===P)return!1;if(null!=L.defaultEquals)return L.defaultEquals(T);if("function"==typeof P){if(Array.isArray(T)){const j=P.call(Z,re,X);return(0,M.fS)(j,T)}return!1}return P===T}(Z,X,P,L,j)||!T.ignoreOrigin&&P&&P.origin&&re.store.multipleOriginsSupported&&re.store.originOf(X)<(0,B.M9)(P.origin))}function $(Z,re,X,L){const T=(0,N.vw)(Z),j=(0,ne.Ah)(T.metadatas[re],L);return!!j&&I(Z,T,re,j,X,L)}function Y(Z,re,X){if(Z&&"function"==typeof Z.toJSON&&(!Z.toJSON.isDefaultToJSON||!Z.write))return(0,N.TS)(re,Z.toJSON());const L=(0,N.vw)(Z),T=L.metadatas;for(const K in T){const W=(0,ne.Ah)(T[K],X);if(!I(Z,L,K,W,void 0,X))continue;const te=Z.get(K),J=F(Z,W,W.write&&"string"==typeof W.write.target?W.write.target:K,te,X);var P,j;Object.keys(J).length>0&&(re=(0,N.TS)(re,J),null!=X&&null!=(P=X.resources)&&null!=(j=P.pendingOperations)&&j.length&&Promise.all(X.resources.pendingOperations).then(()=>(0,N.TS)(re,J)),X&&X.writtenProperties&&X.writtenProperties.push({target:Z,propName:K,oldOrigin:(0,B.Wm)(L.store.originOf(K)),newOrigin:X.origin}))}return re}},85931:(qe,Me,E)=>{"use strict";E.d(Me,{SO:()=>K,a9:()=>X,fS:()=>I,xH:()=>j,cq:()=>te,zG:()=>Y,w6:()=>L,Od:()=>ce,e$:()=>J,FY:()=>oe});var M=E(62208),D=E(4619);function I(ae,pe,ue){if((0,M.Wi)(ae)&&(0,M.Wi)(pe))return!0;if((0,M.Wi)(ae)||(0,M.Wi)(pe)||ae.length!==pe.length)return!1;if(ue){for(let ye=0;ye<ae.length;ye++)if(!ue(ae[ye],pe[ye]))return!1}else for(let ye=0;ye<ae.length;ye++)if(ae[ye]!==pe[ye])return!1;return!0}function Y(ae){return ae&&"number"==typeof ae.length}const re=!!Array.prototype.fill;function X(ae,pe){if(re)return new Array(ae).fill(pe);const ue=new Array(ae);for(let ye=0;ye<ae;ye++)ue[ye]=pe;return ue}function L(ae,pe){void 0===pe&&(pe=ae,ae=0);const ue=new Array(pe-ae);for(let ye=ae;ye<pe;ye++)ue[ye-ae]=ye;return ue}function j(ae){return ae.reduce((pe,ue)=>pe.concat(ue||[]),[])}class K{constructor(){this.last=0}}const W=new K;function te(ae,pe,ue,ye){ye=ye||W;const le=Math.max(0,ye.last-10);for(let Ce=le;Ce<ue;++Ce)if(ae[Ce]===pe)return ye.last=Ce,Ce;const se=Math.min(le,ue);for(let Ce=0;Ce<se;++Ce)if(ae[Ce]===pe)return ye.last=Ce,Ce;return-1}function J(ae,pe,ue,ye){const le=null==ue?ae.length:ue,se=te(ae,pe,le,ye);if(-1!==se)return ae[se]=ae[le-1],null==ue&&ae.pop(),pe}const he=new Set;function oe(ae,pe,ue=ae.length,ye=pe.length,le,se){if(0===ye||0===ue)return ue;he.clear();for(let ge=0;ge<ye;++ge)he.add(pe[ge]);le=le||W;const Ce=Math.max(0,le.last-10);for(let ge=Ce;ge<ue;++ge)if(he.has(ae[ge])&&(se&&se.push(ae[ge]),he.delete(ae[ge]),ae[ge]=ae[ue-1],--ue,--ge,0===he.size||0===ue))return he.clear(),ue;for(let ge=0;ge<Ce;++ge)if(he.has(ae[ge])&&(se&&se.push(ae[ge]),he.delete(ae[ge]),ae[ge]=ae[ue-1],--ue,--ge,0===he.size||0===ue))return he.clear(),ue;return he.clear(),ue}function ce(ae,pe){const ue=ae.indexOf(pe);return-1!==ue?(ae.splice(ue,1),pe):null}new D.Z},59213:(qe,Me,E)=>{"use strict";E.d(Me,{Ed:()=>Q,UI:()=>B,q6:()=>N,mt:()=>ne});var M=E(62208),D=E(10699);function Q(F,I,x){return(0,D.as)(F.map(($,Y)=>I.apply(x,[$,Y])))}function B(F,I,x){return(0,D.as)(F.map(($,Y)=>I.apply(x,[$,Y]))).then($=>$.map(Y=>Y.value))}function N(F){return(0,M.Wi)(F)?(0,D.DB)():F.then(I=>({ok:!0,value:I})).catch(I=>({ok:!1,error:I}))}function ne(F){return F.then(I=>({ok:!0,value:I})).catch(I=>((0,D.r9)(I),{ok:!1,error:I}))}},27306:(qe,Me,E)=>{"use strict";function M(ne){return 32+ne.length}function Q(ne){if(!ne)return 0;let k=32;for(const F in ne)if(ne.hasOwnProperty(F)){const I=ne[F];switch(typeof I){case"string":k+=M(I);break;case"number":k+=16;break;case"boolean":k+=4}}return k}function B(ne,k){return 32+ne.length*k}var N,ne;E.d(Me,{Y8:()=>N,f2:()=>Q,do:()=>B}),(ne=N||(N={}))[ne.KILOBYTES=1024]="KILOBYTES",ne[ne.MEGABYTES=1048576]="MEGABYTES",ne[ne.GIGABYTES=1073741824]="GIGABYTES"},84244:(qe,Me,E)=>{"use strict";E.d(Me,{m:()=>D});const D=function M(Q){return{setTimeout:(B,N)=>{const ne=Q.setTimeout(B,N);return{remove:()=>Q.clearTimeout(ne)}}}}(globalThis)},89726:(qe,Me,E)=>{"use strict";E.d(Me,{R:()=>Q,Z:()=>D});var M=E(48701);function D(N,ne,k=M.Z){return ne||(ne=new k),ne===N||(ne.removeAll(),function B(N){return N&&(Array.isArray(N)||"items"in N&&Array.isArray(N.items))}(N)?ne.addMany(N):N&&ne.add(N)),ne}function Q(N){return N}},94573:(qe,Me,E)=>{"use strict";function D(ne){}function B(ne){return()=>ne}E.d(Me,{Bg:()=>D,sM:()=>B}),E(8314)},55538:(qe,Me,E)=>{"use strict";E.d(Me,{x9:()=>k,XV:()=>N,Mr:()=>ne});var M=E(8314);const D=new Set;function N(F,I,x={}){if((0,M.Z)("esri-deprecation-warnings")){const{moduleName:$}=x;k(F,"Function: "+($?$+"::":"")+I+"()",x)}}function ne(F,I,x={}){if((0,M.Z)("esri-deprecation-warnings")){const{moduleName:$}=x;k(F,"Property: "+($?$+"::":"")+I,x)}}function k(F,I,x={}){if((0,M.Z)("esri-deprecation-warnings")){const{replacement:$,version:Y,see:Z,warnOnce:re}=x;let X=I;$&&(X+=`\n\t\u{1f6e0}\ufe0f Replacement: ${$}`),Y&&(X+=`\n\t\u2699\ufe0f Version: ${Y}`),Z&&(X+=`\n\t\u{1f517} See ${Z} for more details.`),function Q(F,I,x=!1){x&&D.has(I)||(x&&D.add(I),F.warn(`\u{1f6d1} DEPRECATED - ${I}`))}(F,X,re)}}},40764:(qe,Me,E)=>{"use strict";function M(F){return"string"==typeof F?document.getElementById(F):F}function D(F){for(;F.hasChildNodes();)F.removeChild(F.firstChild)}function B(F,I){const x=I.parentNode;x&&x.insertBefore(F,I)}function N(F,I){for(;;){const x=F.firstChild;if(!x)break;I.appendChild(x)}}E.d(Me,{L7:()=>M,cS:()=>D,Vt:()=>B,YD:()=>N}),(()=>{if("function"==typeof Element.prototype.closest)return(I,x)=>I.closest(x);Element.prototype.matches||Element})()},17770:(qe,Me,E)=>{"use strict";function M(k){return k&&("function"==typeof k.on||"function"==typeof k.addEventListener)}function D(k,F,I){if(!M(k))throw new TypeError("target is not a Evented or EventTarget object");if("on"in k)return k.on(F,I);if(Array.isArray(F)){const x=F.slice();for(const $ of x)k.addEventListener($,I);return{remove(){for(const $ of x)k.removeEventListener($,I)}}}return k.addEventListener(F,I),{remove(){k.removeEventListener(F,I)}}}function Q(k,F,I){if(!M(k))throw new TypeError("target is not a Evented or EventTarget object");if("once"in k)return k.once(F,I);const x=D(k,F,$=>{x.remove(),I.call(k,$)});return{remove(){x.remove()}}}E.d(Me,{kK:()=>ne,vT:()=>M,on:()=>D,IH:()=>Q});const N={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function ne({key:k}){return N[k]||k}},54024:(qe,Me,E)=>{"use strict";E.d(Me,{AL:()=>D,kB:()=>Q});var M=E(62208);function D(F){return Q(()=>F.forEach(I=>(0,M.pC)(I)&&I.remove()))}function Q(F){return{remove:()=>{F&&(F(),F=void 0)}}}},8314:(qe,Me,E)=>{"use strict";var M,D;let Q;var B,N;function ne(k){return"function"==typeof Q[k]?Q[k]=Q[k](globalThis):Q[k]}E.d(Me,{Z:()=>ne}),Q=null!=(M=globalThis.dojoConfig)&&M.has||null!=(D=globalThis.esriConfig)&&D.has?Pt(Pt({},null==(B=globalThis.dojoConfig)?void 0:B.has),null==(N=globalThis.esriConfig)?void 0:N.has):{},ne.add=(k,F,I,x)=>((x||void 0===Q[k])&&(Q[k]=F),I&&ne(k)),ne.cache=Q,ne.add("esri-deprecation-warnings",!0),(()=>{var k;ne.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const F="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(ne.add("host-browser",F),ne.add("host-node","object"==typeof globalThis.process&&(null==(k=globalThis.process.versions)?void 0:k.node)&&globalThis.process.versions.v8),ne.add("dom",F),ne("host-browser")){const I=navigator,x=I.userAgent,$=I.appVersion,Y=parseFloat($);if(ne.add("wp",parseFloat(x.split("Windows Phone")[1])||void 0),ne.add("msapp",parseFloat(x.split("MSAppHost/")[1])||void 0),ne.add("khtml",$.includes("Konqueror")?Y:void 0),ne.add("edge",parseFloat(x.split("Edge/")[1])||void 0),ne.add("opr",parseFloat(x.split("OPR/")[1])||void 0),ne.add("webkit",!ne("wp")&&!ne("edge")&&parseFloat(x.split("WebKit/")[1])||void 0),ne.add("chrome",!ne("edge")&&!ne("opr")&&parseFloat(x.split("Chrome/")[1])||void 0),ne.add("android",!ne("wp")&&parseFloat(x.split("Android ")[1])||void 0),ne.add("safari",!$.includes("Safari")||ne("wp")||ne("chrome")||ne("android")||ne("edge")||ne("opr")?void 0:parseFloat($.split("Version/")[1])),ne.add("mac",$.includes("Macintosh")),!ne("wp")&&x.match(/(iPhone|iPod|iPad)/)){const Z=RegExp.$1.replace(/P/,"p"),re=x.match(/OS ([\d_]+)/)?RegExp.$1:"1",X=parseFloat(re.replace(/_/,".").replace(/_/g,""));ne.add(Z,X),ne.add("ios",X)}ne.add("trident",parseFloat($.split("Trident/")[1])||void 0),ne("webkit")||(!x.includes("Gecko")||ne("wp")||ne("khtml")||ne("trident")||ne("edge")||ne.add("mozilla",Y),ne("mozilla")&&ne.add("ff",parseFloat(x.split("Firefox/")[1]||x.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const k=navigator.userAgent,F=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(k),I=/iPhone/i.test(k);F&&ne.add("esri-mobile",F),I&&ne.add("esri-iPhone",I),ne.add("esri-geolocation",!!navigator.geolocation)}ne.add("esri-canvas-svg-support",!ne("trident")),ne.add("esri-wasm","WebAssembly"in globalThis),ne.add("esri-shared-array-buffer",()=>{const k="SharedArrayBuffer"in globalThis,F=!1===globalThis.crossOriginIsolated;return k&&!F}),ne.add("esri-atomics","Atomics"in globalThis),ne.add("esri-workers","Worker"in globalThis),ne.add("web-feat:cache","caches"in globalThis),ne.add("esri-workers-arraybuffer-transfer",!ne("safari")||Number(ne("safari"))>=12),ne.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ne.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ne.add("featurelayer-snapshot-enabled",!0),ne.add("featurelayer-snapshot-point-min-threshold",8e4),ne.add("featurelayer-snapshot-point-max-threshold",4e5),ne.add("featurelayer-snapshot-point-coverage",.1),ne.add("featurelayer-advanced-symbols",!1),ne.add("featurelayer-pbf",!0),ne.add("featurelayer-pbf-statistics",!1),ne.add("feature-layers-workers",!0),ne.add("feature-polyline-generalization-factor",1),ne.add("mapview-transitions-duration",200),ne.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ne.add("mapserver-pbf-enabled",!1),ne("host-webworker")||ne("host-browser")&&(ne.add("esri-csp-restrictions",()=>{try{new Function}catch(k){return!0}return!1}),ne.add("esri-image-decode",()=>{if("decode"in new Image){const k=new Image;return k.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void k.decode().then(()=>{ne.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ne.add("esri-image-decode",!1,!0,!0)})}return!1}),ne.add("esri-url-encodes-apostrophe",()=>{const k=window.document.createElement("a");return k.href="?'",k.href.includes("?%27")}))})()},56354:(qe,Me,E)=>{"use strict";function M(B){const N=[];return function*(){yield*N;for(const ne of B)N.push(ne),yield ne}}function D(B,N){for(const ne of B)if(null!=ne&&N(ne))return ne}function Q(B){return null!=B&&"function"==typeof B[Symbol.iterator]}E.d(Me,{Fs:()=>M,sE:()=>D,TW:()=>Q})},2076:(qe,Me,E)=>{"use strict";E.d(Me,{X:()=>D,w:()=>Q});var M=E(94113);class D{constructor(N,ne={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=N,this.options=ne,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(N),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=k=>this.fromJSON(k),this.write=(k,F,I)=>{const x=this.toJSON(k);void 0!==x&&(0,M.RB)(I,x,F)},this.write.isJSONMapWriter=!0}toJSON(N){if(this.apiToJSON.hasOwnProperty(N)){const ne=this.apiToJSON[N];return this.options.useNumericKeys?+ne:ne}return this.options.ignoreUnknown?void 0:N}fromJSON(N){return this.jsonToAPI.hasOwnProperty(N)?this.jsonToAPI[N]:this.options.ignoreUnknown?void 0:N}_invertMap(N){const ne={};for(const k in N)ne[N[k]]=k;return ne}_getKeysSorted(N){const ne=[];for(const k in N)ne.push(k);return ne.sort(),ne}}function Q(){return function(B,N){return new D(B,Pt({ignoreUnknown:!0},N))}}},58817:(qe,Me,E)=>{"use strict";E.d(Me,{d9:()=>ne,fS:()=>Y,yd:()=>N,Vo:()=>k}),E(85931),E(8314);var Q=E(62208),B=E(55713);function N(P,j){let K;if(j)for(K in P)P.hasOwnProperty(K)&&(void 0===P[K]?delete P[K]:P[K]instanceof Object&&N(P[K],!0));else for(K in P)P.hasOwnProperty(K)&&void 0===P[K]&&delete P[K];return P}function ne(P){if(!P||"object"!=typeof P||"function"==typeof P)return P;const j=$(P);if((0,Q.pC)(j))return j;if(F(P))return P.clone();if(I(P))return P.map(ne);if(x(P))return P.clone();const K={};for(const W of Object.getOwnPropertyNames(P))K[W]=ne(P[W]);return K}function k(P){if(!P||"object"!=typeof P||"function"==typeof P)return P;const j=$(P);if((0,Q.pC)(j))return j;if(I(P)){let K=!0;const W=P.map(te=>{const J=k(te);return null!=te&&null==J&&(K=!1),J});return K?W:null}if(F(P))return P.clone();if(!x(P)){const K=new(Object.getPrototypeOf(P).constructor);for(const W of Object.getOwnPropertyNames(P)){const te=P[W],J=k(te);if(null!=te&&null==J)return null;K[W]=J}return K}return null}function F(P){return"function"==typeof P.clone}function I(P){return"function"==typeof P.map&&"function"==typeof P.forEach}function x(P){return"function"==typeof P.notifyChange&&"function"==typeof P.watch}function $(P){if((0,B.W0)(P)||(0,B.lq)(P)||(0,B.KZ)(P)||(0,B.z3)(P)||(0,B.Uc)(P)||(0,B.Hx)(P)||(0,B.ZY)(P)||(0,B.xZ)(P)||(0,B.fS)(P))return(0,B.tP)(P);if(P instanceof Date)return new Date(P.getTime());if(P instanceof ArrayBuffer)return P.slice(0,P.byteLength);if(P instanceof Map){const j=new Map;return P.forEach((K,W)=>{j.set(W,ne(K))}),j}if(P instanceof Set){const j=new Set;return P.forEach(K=>{j.add(ne(K))}),j}return null}function Y(P,j){return P===j||"number"==typeof P&&isNaN(P)&&"number"==typeof j&&isNaN(j)||"function"==typeof(P||{}).getTime&&"function"==typeof(j||{}).getTime&&P.getTime()===j.getTime()||!1}},47877:(qe,Me,E)=>{"use strict";E.d(Me,{G:()=>ne,w:()=>F});var M=E(15861),D=E(59213),Q=E(48701),B=E(47996),N=E(62208);function ne($,Y){return k.apply(this,arguments)}function k(){return(k=(0,M.Z)(function*($,Y){return yield $.load(),F($,Y)})).apply(this,arguments)}function F($,Y){return I.apply(this,arguments)}function I(){return I=(0,M.Z)(function*($,Y){const Z=[],re=(...L)=>{for(const T of L)(0,N.Wi)(T)||(Array.isArray(T)?re(...T):Q.Z.isCollection(T)?T.forEach(P=>re(P)):B.Z.isLoadable(T)&&Z.push(T))};Y(re);let X=null;if(yield(0,D.UI)(Z,function(){var L=(0,M.Z)(function*(T){!1!==(yield(0,D.q6)(x(T)?T.loadAll():T.load())).ok||X||(X=T)});return function(T){return L.apply(this,arguments)}}()),X)throw X.loadError;return $}),I.apply(this,arguments)}function x($){return"loadAll"in $&&"function"==typeof $.loadAll}},21286:(qe,Me,E)=>{"use strict";E.d(Me,{ZF:()=>X,Kt:()=>L,jE:()=>J,uZ:()=>N,oK:()=>j,Vl:()=>Y,wt:()=>k,t7:()=>x,Sf:()=>B,fp:()=>F,BV:()=>Z});var M=E(84161);E(993);const Q=new Float32Array(1);function B(de){--de;for(let ie=1;ie<32;ie<<=1)de|=de>>ie;return de+1}function N(de,ie,V){return Math.min(Math.max(de,ie),V)}function k(de){return 0==(de&de-1)}function F(de){return de--,de|=de>>1,de|=de>>2,de|=de>>4,de|=de>>8,de|=de>>16,++de}function x(de,ie,V){return de+(ie-de)*V}function Y(de){return de*Math.PI/180}function Z(de){return 180*de/Math.PI}function X(de){return Math.acos(N(de,-1,1))}function L(de){return Math.asin(N(de,-1,1))}function j(de){return K(Math.max(-me,Math.min(de,me)))}function K(de){return Q[0]=de,Q[0]}function J(de,ie){const V=(0,M.l)(de),ce=L(de[2]/V),ae=Math.atan2(de[1]/V,de[0]/V);return(0,M.s)(ie,V,ce,ae),ie}const me=K(34028234663852886e22)},62208:(qe,Me,E)=>{"use strict";function D(oe){return null!=oe}function Q(oe){return null==oe}function B(oe){return void 0===oe}function N(oe,me){return D(oe)?me(oe):null}function ne(oe){return oe}function k(oe,me){if(Q(oe))throw new Error(me);return oe}function F(oe,me){return D(oe)?oe:"function"==typeof me?me():me}function I(oe,me){return D(oe)?oe:me}function x(oe){return D(oe)&&oe.destroy(),null}function $(oe){return D(oe)&&oe.dispose(),null}function Y(oe){return D(oe)&&oe.remove(),null}function Z(oe){return D(oe)&&oe.abort(),null}function re(oe){return D(oe)&&oe.release(),null}function L(oe){return null}function P(oe,me){const de=new Array;for(const ie of oe)de.push(K(ie,null,me));return de}function j(oe,me){for(const de of oe)N(de,me)}function K(oe,me,de){return D(oe)?de(oe):me}function te(oe){return oe.filter(me=>D(me))}function J(oe,...me){let de=oe;for(let ie=0;ie<me.length&&de;++ie)de=de[me[ie]];return de}function he(oe){return oe}E.d(Me,{IM:()=>Z,yw:()=>N,j0:()=>he,SC:()=>x,O3:()=>$,lV:()=>te,JR:()=>j,U2:()=>J,Wi:()=>Q,pC:()=>D,o8:()=>B,Fd:()=>P,R2:()=>K,Bd:()=>L,RY:()=>re,hw:()=>Y,Wg:()=>ne,Pt:()=>F,s3:()=>k,yl:()=>I})},79682:(qe,Me,E)=>{"use strict";E.d(Me,{Y:()=>D});const M=[];function D(Q){M.push(Q),1===M.length&&queueMicrotask(()=>{const B=M.slice();M.length=0;for(const N of B)N()})}},75327:(qe,Me,E)=>{"use strict";E.d(Me,{lt:()=>x,WU:()=>N,Qc:()=>$});var M=E(77275),D=E(56683);const Q={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function B(L){L||(L=(0,D.Kd)());let T=L in Q;if(!T){const W=L.split("-");W.length>1&&W[0]in Q&&(L=W[0],T=!0),T||(L="en")}const[P,j,K="#,##0.###"]=Q[L];return{decimal:P,group:j,pattern:K}}function N(L,T){const P=B((T=Pt({},T)).locale);T.customs=P;const j=T.pattern||P.pattern;return isNaN(L)||Math.abs(L)===1/0?null:function k(L,T,P){const j=(P=P||{}).customs.group,K=P.customs.decimal,W=T.split(";"),te=W[0];if(-1!==(T=W[L<0?1:0]||"-"+te).indexOf("%"))L*=100;else if(-1!==T.indexOf("\u2030"))L*=1e3;else{if(-1!==T.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==T.indexOf("E"))throw new Error("exponential notation not supported")}const J=ne,he=te.match(J);if(!he)throw new Error("unable to find a number expression in pattern: "+T);return!1===P.fractional&&(P.places=0),T.replace(J,function F(L,T,P){!0===(P=P||{}).places&&(P.places=0),P.places===1/0&&(P.places=6);const j=T.split("."),K="string"==typeof P.places&&P.places.indexOf(",");let W=P.places;K?W=P.places.substring(K+1):W>=0||(W=(j[1]||[]).length),P.round<0||(L=Number(L.toFixed(Number(W))));const te=String(Math.abs(L)).split("."),J=te[1]||"";if(j[1]||P.places){K&&(P.places=P.places.substring(0,K));const ce=void 0!==P.places?P.places:j[1]&&j[1].lastIndexOf("0")+1;ce>J.length&&(te[1]=J.padEnd(Number(ce),"0")),W<J.length&&(te[1]=J.substr(0,Number(W)))}else te[1]&&te.pop();const he=j[0].replace(",","");let oe=he.indexOf("0");-1!==oe&&(oe=he.length-oe,oe>te[0].length&&(te[0]=te[0].padStart(oe,"0")),-1===he.indexOf("#")&&(te[0]=te[0].substr(te[0].length-oe)));let me,de,ie=j[0].lastIndexOf(",");if(-1!==ie){me=j[0].length-ie-1;const ce=j[0].substr(0,ie);ie=ce.lastIndexOf(","),-1!==ie&&(de=ce.length-ie-1)}const V=[];for(let ce=te[0];ce;){const ae=ce.length-me;V.push(ae>0?ce.substr(ae):ce),ce=ae>0?ce.slice(0,ae):"",de&&(me=de,de=void 0)}return te[0]=V.reverse().join(P.group||","),te.join(P.decimal||".")}(L,he[0],{decimal:K,group:j,places:P.places,round:P.round}))}(L,j,T)}const ne=/[#0,]*[#0](?:\.0*#*)?/;function x(L){const T=B((L=L||{}).locale),P=L.pattern||T.pattern,j=T.group,K=T.decimal;let W=1;if(-1!==P.indexOf("%"))W/=100;else if(-1!==P.indexOf("\u2030"))W/=1e3;else if(-1!==P.indexOf("\xa4"))throw new Error("currency notation not supported");const te=P.split(";");return 1===te.length&&te.push("-"+te[0]),{regexp:re(te,function(he){return(he="(?:"+(0,M.Qs)(he,".")+")").replace(ne,function(oe){const me={signed:!1,separator:L.strict?j:[j,""],fractional:L.fractional,decimal:K,exponent:!1},de=oe.split(".");let ie=L.places;1===de.length&&1!==W&&(de[1]="###"),1===de.length||0===ie?me.fractional=!1:(void 0===ie&&(ie=L.pattern?de[1].lastIndexOf("0")+1:1/0),ie&&null==L.fractional&&(me.fractional=!0),!L.places&&ie<de[1].length&&(ie+=","+de[1].length),me.places=ie);const V=de[0].split(",");return V.length>1&&(me.groupSize=V.pop().length,V.length>1&&(me.groupSize2=V.pop().length)),"("+function Y(L){"places"in(L=L||{})||(L.places=1/0),"string"!=typeof L.decimal&&(L.decimal="."),"fractional"in L&&!/^0/.test(String(L.places))||(L.fractional=[!0,!1]),"exponent"in L||(L.exponent=[!0,!1]),"eSigned"in L||(L.eSigned=[!0,!1]);const T=Z(L),P=re(L.fractional,function(K){let W="";return K&&0!==L.places&&(W="\\"+L.decimal,L.places===1/0?W="(?:"+W+"\\d+)?":W+="\\d{"+L.places+"}"),W},!0);let j=T+P;return P&&(j="(?:(?:"+j+")|(?:"+P+"))"),j+re(L.exponent,function(K){return K?"([eE]"+Z({signed:L.eSigned})+")":""})}(me)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:j,decimal:K,factor:W}}function $(L,T){const P=x(T),j=new RegExp("^"+P.regexp+"$").exec(L);if(!j)return NaN;let K=j[1];if(!j[1]){if(!j[2])return NaN;K=j[2],P.factor*=-1}return K=K.replace(new RegExp("["+P.group+"\\s\\xa0]","g"),"").replace(P.decimal,"."),Number(K)*P.factor}function Z(L){return"signed"in(L=L||{})||(L.signed=[!0,!1]),"separator"in L?"groupSize"in L||(L.groupSize=3):L.separator="",re(L.signed,function(T){return T?"[-+]":""},!0)+re(L.separator,function(T){if(!T)return"(?:\\d+)";" "===(T=(0,M.Qs)(T))?T="\\s":"\xa0"===T&&(T="\\s\\xa0");const P=L.groupSize,j=L.groupSize2;if(j){const K="(?:0|[1-9]\\d{0,"+(j-1)+"}(?:["+T+"]\\d{"+j+"})*["+T+"]\\d{"+P+"})";return P-j>0?"(?:"+K+"|(?:0|[1-9]\\d{0,"+(P-1)+"}))":K}return"(?:0|[1-9]\\d{0,"+(P-1)+"}(?:["+T+"]\\d{"+P+"})*)"},!0)}const re=function(L,T,P){if(!(L instanceof Array))return T(L);const j=[];for(let K=0;K<L.length;K++)j.push(T(L[K]));return X(j.join("|"),P)},X=function(L,T){return"("+(T?"?:":"")+L+")"}},94113:(qe,Me,E)=>{"use strict";E.d(Me,{RH:()=>D,hS:()=>Q,RB:()=>B});var M=E(58817);function D(k,F,I=!1){return ne(k,F,I)}function Q(k,F){if(null!=F)return F[k]||N(k.split("."),!1,F)}function B(k,F,I){const x=k.split("."),$=x.pop(),Y=N(x,!0,I);Y&&$&&(Y[$]=F)}function N(k,F,I){let x=I;for(const $ of k){if(null==x)return;if(!($ in x)){if(!F)return;x[$]={}}x=x[$]}return x}function ne(k,F,I){return F?Object.keys(F).reduce(function(x,$){let Y=x[$],Z=F[$];return Y===Z?x:void 0===Y?(x[$]=(0,M.d9)(Z),x):(Array.isArray(Z)||Array.isArray(x)?(Y=x[$]=Y?Array.isArray(Y)?Y.concat():[Y]:[],Z&&(Array.isArray(Z)||(Z=[Z]),I?Z.forEach(re=>{-1===Y.indexOf(re)&&Y.push(re)}):x[$]=Z.concat())):Z&&"object"==typeof Z?x[$]=ne(Y,Z,I):x.hasOwnProperty($)&&!F.hasOwnProperty($)||(x[$]=Z),x)},k||{}):k}},24192:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>k});var Q,F,M=E(8314),D=E(27899);(F=Q||(Q={}))[F.varint=0]="varint",F[F.fixed64=1]="fixed64",F[F.delimited=2]="delimited",F[F.fixed32=5]="fixed32",F[F.unknown=99]="unknown";const B=4294967296,N=new TextDecoder("utf-8"),ne=(0,M.Z)("safari")||(0,M.Z)("ios")?6:(0,M.Z)("ff")?12:32;class k{constructor(I,x,$=0,Y=(I?I.byteLength:0)){this._tag=0,this._dataType=Q.unknown,this._init(I,x,$,Y)}_init(I,x,$,Y){this._data=I,this._dataView=x,this._pos=$,this._end=Y}clone(){return new k(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(I){this._pos=I}nextTag(I){for(;;){if(this._pos===this._end)return!1;const x=this._decodeVarint();if(this._tag=x>>3,this._dataType=7&x,!I||I===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const I=this._decodeVarint();return this._tag=I>>3,this._dataType=7&I,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let I=4294967295;return I=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?I:(I=(I|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?I:(I=(I|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?I:(I=(I|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?I:(I=(I|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?I:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const I=this.getUInt32();return I>>>1^-(1&I)|0}getSInt64(){return this._decodeSVarint()}getBool(){const I=0!==this._data[this._pos];return this._skip(1),I}getEnum(){return this._decodeVarint()}getFixed64(){const I=this._dataView,x=this._pos,$=I.getUint32(x,!0)+I.getUint32(x+4,!0)*B;return this._skip(8),$}getSFixed64(){const I=this._dataView,x=this._pos,$=I.getUint32(x,!0)+I.getInt32(x+4,!0)*B;return this._skip(8),$}getDouble(){const I=this._dataView.getFloat64(this._pos,!0);return this._skip(8),I}getFixed32(){const I=this._dataView.getUint32(this._pos,!0);return this._skip(4),I}getSFixed32(){const I=this._dataView.getInt32(this._pos,!0);return this._skip(4),I}getFloat(){const I=this._dataView.getFloat32(this._pos,!0);return this._skip(4),I}getString(){const I=this._getLength(),x=this._pos,$=this._toString(this._data,x,x+I);return this._skip(I),$}getBytes(){const I=this._getLength(),x=this._pos,$=this._toBytes(this._data,x,x+I);return this._skip(I),$}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(I,x,$,Y){const Z=this.getMessage(),re=I(Z,x,$,Y);return Z.release(),re}processMessage(I){const x=this.getMessage(),$=I(x);return x.release(),$}getMessage(){const I=this._getLength(),x=k.pool.acquire();return x._init(this._data,this._dataView,this._pos,this._pos+I),this._skip(I),x}release(){k.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case Q.varint:this._decodeVarint();break;case Q.fixed64:this._skip(8);break;case Q.delimited:this._skip(this._getLength());break;case Q.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(I){this._skip(I)}_skip(I){if(this._pos+I>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=I}_decodeVarint(){const I=this._data;let x,$=this._pos,Y=0;if(this._end-$>=10)do{if(x=I[$++],Y|=127&x,0==(128&x)||(x=I[$++],Y|=(127&x)<<7,0==(128&x))||(x=I[$++],Y|=(127&x)<<14,0==(128&x))||(x=I[$++],Y|=(127&x)<<21,0==(128&x))||(x=I[$++],Y+=268435456*(127&x),0==(128&x))||(x=I[$++],Y+=34359738368*(127&x),0==(128&x))||(x=I[$++],Y+=4398046511104*(127&x),0==(128&x))||(x=I[$++],Y+=562949953421312*(127&x),0==(128&x))||(x=I[$++],Y+=72057594037927940*(127&x),0==(128&x))||(x=I[$++],Y+=0x8000000000000000*(127&x),0==(128&x)))break;throw new Error("Varint too long!")}while(0);else{let Z=1;for(;$!==this._end&&(x=I[$],0!=(128&x));)++$,Y+=(127&x)*Z,Z*=128;if($===this._end)throw new Error("Varint overrun!");++$,Y+=x*Z}return this._pos=$,Y}_decodeSVarint(){const I=this._decodeVarint();return I%2?-(I+1)/2:I/2}_getLength(){if(this._dataType!==Q.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(I,x,$){if(($=Math.min(this._end,$))-x>ne){const re=I.subarray(x,$);return N.decode(re)}let Y="",Z="";for(let re=x;re<$;++re){const X=I[re];128&X?Z+="%"+X.toString(16):(Y+=decodeURIComponent(Z)+String.fromCharCode(X),Z="")}return Z.length&&(Y+=decodeURIComponent(Z)),Y}_toBytes(I,x,$){return $=Math.min(this._end,$),new Uint8Array(I.buffer,x,$-x)}}k.pool=new D.Z(k,null,F=>{F._data=null,F._dataView=null})},10699:(qe,Me,E)=>{"use strict";E.d(Me,{e4:()=>de,$6:()=>ne,Ue:()=>F,zE:()=>I,dD:()=>te,hh:()=>pe,vr:()=>ye,Ds:()=>ae,as:()=>J,WW:()=>he,R8:()=>K,D_:()=>j,Hc:()=>Y,y8:()=>V,fu:()=>X,$F:()=>L,d1:()=>oe,DB:()=>me,r9:()=>Z,k_:()=>x,H9:()=>re,Yn:()=>le,gx:()=>ce,Hl:()=>T});var M=E(84244),D=E(26584),Q=E(17770),N=(E(63290),E(62208));function ne(se){return Promise.all(se)}function F(se){return new Promise((Ce,ge)=>{try{se(Ce,ge)}catch(Pe){Promise.resolve().then(()=>ge(Pe))}})}function I(se="Aborted"){return new D.Z("AbortError",se)}function x(se,Ce="Aborted"){if(Y(se))throw I(Ce)}function $(se){return(0,N.pC)(se)?"aborted"in se?se:se.signal:se}function Y(se){const Ce=$(se);return(0,N.pC)(Ce)&&Ce.aborted}function Z(se){if(j(se))throw se}function re(se){if(!j(se))throw se}function X(se,Ce){const ge=$(se);if(!(0,N.Wi)(ge)){if(!ge.aborted)return(0,Q.IH)(ge,"abort",()=>Ce());Ce()}}function L(se,Ce){const ge=$(se);if(!(0,N.Wi)(ge))return x(ge),(0,Q.IH)(ge,"abort",()=>Ce(I()))}function T(se,Ce){const ge=$(Ce);return(0,N.Wi)(ge)?se:new Promise((Pe,Ee)=>{let Ge=X(Ce,()=>Ee(I()));const Se=()=>Ge=(0,N.hw)(Ge);se.then(Se,Se),se.then(Pe,Ee)})}function j(se){return se&&"AbortError"===se.name}function K(se){return se.catch(Ce=>{if(!j(Ce))throw Ce})}function te(){let se=null;const Ce=new Promise((ge,Pe)=>{se={promise:void 0,resolve:ge,reject:Pe}});return se.promise=Ce,se}function J(se){if(!se)return;if("function"!=typeof se.forEach){const ge=Object.keys(se);return J(ge.map(Pe=>se[Pe])).then(Pe=>{const Ee={};return ge.forEach((Ge,Se)=>Ee[Ge]=Pe[Se]),Ee})}const Ce=se;return F(ge=>{const Pe=[];let Ee=Ce.length;0===Ee&&ge(Pe),Ce.forEach(Ge=>{const Se={promise:Ge||Promise.resolve(Ge)};Pe.push(Se),Se.promise.then(ve=>{Se.value=ve}).catch(ve=>{Se.error=ve}).then(()=>{--Ee,0===Ee&&ge(Pe)})})})}function he(se){return J(se).then(Ce=>Ce.filter(ge=>!!ge.value).map(ge=>ge.value))}function oe(se){return Promise.reject(se)}function me(se){return Promise.resolve(se)}function de(se,Ce,ge){const Pe=new AbortController;return X(ge,()=>Pe.abort()),new Promise((Ee,Ge)=>{let Se=setTimeout(()=>{Se=0,Ee(Ce)},se);X(Pe,()=>{Se&&(clearTimeout(Se),Ge(I()))})})}function V(se){return se&&"function"==typeof se.then}function ce(se){return V(se)?se:Promise.resolve(se)}function ae(se,Ce=-1){let ge,Pe,Ee,Ge,Se=null;const ve=(...Te)=>{if(ge){Pe=Te,Ge&&Ge.reject(I()),Ge=te();const Ve=(0,N.j0)(Ge.promise);if(Se){const He=Se;Se=null,He.abort()}return Ve}if(Ee=Ge||te(),Ge=null,Ce>0){const Ve=new AbortController;ge=ce(se(...Te,Ve.signal));const He=ge;de(Ce).then(()=>{ge===He&&(Ge?Ve.abort():Se=Ve)})}else ge=1,ge=ce(se(...Te));const Ze=()=>{const Ve=Pe;Pe=Ee=ge=Se=null,null!=Ve&&ve(...Ve)},tt=ge,xe=Ee;return tt.then(Ze,Ze),tt.then(xe.resolve,xe.reject),(0,N.j0)(xe.promise)};return ve}function pe(){let se,Ce;const ge=new Promise((Ee,Ge)=>{se=Ee,Ce=Ge}),Pe=Ee=>{se(Ee)};return Pe.resolve=Ee=>se(Ee),Pe.reject=Ee=>Ce(Ee),Pe.timeout=(Ee,Ge)=>M.m.setTimeout(()=>Pe.reject(Ge),Ee),Pe.promise=ge,Pe}function ye(se,Ce){let ge,Pe=new AbortController;const Ee=se(Pe.signal);let Ge={promise:Ee,finished:!1,abort:()=>{Pe&&(Pe.abort(),Pe=null)}};const Se=()=>{Ge&&(Ge.finished=!0,Ge=null),(0,N.pC)(ge)&&(ge.remove(),ge=null),Pe=null};return Ee.then(Se,Se),ge=X(Ce,()=>{(0,N.pC)(Ge)&&Ge.abort()}),Ge}function le(se){return Promise.resolve().then(()=>{x(se)})}},32917:(qe,Me,E)=>{"use strict";E.d(Me,{nn:()=>T,on:()=>x,Z_:()=>L,tX:()=>P,YP:()=>k,gx:()=>F,N1:()=>Y});var M=E(17770),D=E(54024),Q=E(62208),B=E(10699),N=E(45262);function k(j,K,W={}){return I(j,K,W,re)}function F(j,K,W={}){return I(j,K,W,X)}function I(j,K,W={},te){let J=null;const he=W.once?(oe,me)=>{te(oe)&&((0,Q.hw)(J),K(oe,me))}:(oe,me)=>{te(oe)&&K(oe,me)};if(J=(0,N.aQ)(j,he,W.sync,W.equals),W.initial){const oe=j();he(oe,oe)}return J}function x(j,K,W,te={}){let J=null,he=null,oe=null;function me(){J&&he&&(he.remove(),null==te.onListenerRemove||te.onListenerRemove(J),J=null,he=null)}function de(V){te.once&&te.once&&(0,Q.hw)(oe),W(V)}const ie=k(j,(V,ce)=>{me(),(0,M.vT)(V)&&(J=V,he=(0,M.on)(V,K,de),null==te.onListenerAdd||te.onListenerAdd(V))},{sync:te.sync,initial:!0});return oe=(0,D.kB)(()=>{ie.remove(),me()}),oe}function Y(j,K){return function Z(j,K,W){if((0,B.Hc)(W))return Promise.reject();const te=j();if(null!=K&&K(te))return Promise.resolve(te);let J=null;function he(){J=(0,Q.hw)(J)}return new Promise((oe,me)=>{J=(0,D.AL)([(0,B.fu)(W,()=>{he(),me((0,B.zE)())}),I(j,de=>{he(),oe(de)},{sync:!1,once:!0},null!=K?K:re)])})}(j,X,K)}function re(j){return!0}function X(j){return!!j}E(21352);const L={sync:!0},T={initial:!0},P={sync:!0,initial:!0}},50618:(qe,Me,E)=>{"use strict";E.d(Me,{A:()=>P,Os:()=>T,MU:()=>de});var M=E(62208),D=E(79682),Q=E(73362),B=E(77029),N=E(10699),ne=E(27422);class k{constructor(ae){this.phases=ae,this.paused=!1,this.ticks=-1,this.removed=!1}}class F{constructor(ae){this.callback=ae,this.isActive=!0}remove(){this.isActive=!1}}let I=0;const $={time:(0,ne.HA)(0),deltaTime:(0,ne.HA)(0),elapsedFrameTime:(0,ne.HA)(0),frameDuration:(0,ne.HA)(0)},Y=["prepare","preRender","render","postRender","update","finish"],Z=[],re=new B.Z;class X{constructor(ae){this._task=ae}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const L={frameTasks:re,willDispatch:!1,clearFrameTasks:function K(ce=!1){re.forAll(ae=>{ae.removed=!0}),ce&&oe()},dispatch:me,executeFrameTasks:function J(ce){const ae=(0,ne.HA)(ce-I);I=ce;const pe=1e3/60,ue=Math.max(0,ae-pe);for(let ye=0;ye<Y.length;ye++){const le=performance.now(),se=Y[ye];re.forAll(Ce=>{var ge;Ce.paused||Ce.removed||(0===ye&&Ce.ticks++,Ce.phases[se]&&($.time=ce,$.deltaTime=0===Ce.ticks?(0,ne.HA)(0):ae,$.elapsedFrameTime=(0,ne.HA)(performance.now()-ce),$.frameDuration=(0,ne.HA)(pe-ue),null==(ge=Ce.phases[se])||ge.call(Ce,$)))}),ie[ye].record(performance.now()-le)}oe(),V.record(performance.now()-ce)}};function T(ce){const ae=new F(ce);return Z.push(ae),L.willDispatch||(L.willDispatch=!0,(0,D.Y)(me)),ae}function P(ce){const ae=new k(ce);return re.push(ae),null==j&&(I=performance.now(),j=requestAnimationFrame(te)),new X(ae)}let j=null;function te(){const ce=performance.now();j=null,j=re.length>0?requestAnimationFrame(te):null,L.executeFrameTasks(ce)}const he=new B.Z;function oe(){re.forAll(ce=>{ce.removed&&he.push(ce)}),re.removeUnorderedMany(he.data,he.length),he.clear()}function me(){for(;Z.length;){const ce=(0,M.j0)(Z.shift());ce.isActive&&ce.callback()}L.willDispatch=!1}function de(ce=1,ae){const pe=(0,N.hh)(),ue=()=>{(0,N.Hc)(ae)?pe.reject((0,N.zE)()):0===ce?pe():(--ce,(0,D.Y)(()=>ue()))};return ue(),pe.promise}const ie=Y.map(ce=>new Q.Z(ce)),V=new Q.Z("total")},23841:(qe,Me,E)=>{"use strict";E.d(Me,{vW:()=>k,s1:()=>F,F2:()=>B,Wz:()=>N,t_:()=>ne});const M=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function B(T){return T?T/72*96:0}function N(T){return T?72*T/96:0}function ne(T){if("string"==typeof T){const P=T.match(M);if(P){const j=Number(P[1]),K=P[3]&&P[3].toLowerCase(),W="-"===T.charAt(0),te="px"===K?N(j):j;return W?-te:te}return console.warn("screenUtils.toPt: input not recognized!"),null}return T}function k(T=0,P=0){return{x:T,y:P}}function F(T=0,P=0){return[T,P]}},77275:(qe,Me,E)=>{"use strict";E.d(Me,{Qs:()=>N,hP:()=>ne,gx:()=>B,Cb:()=>k});var M=E(94113);const D=/\{([^\}]+)\}/g;function Q(F){return null==F?"":F}function B(F,I){return F.replace(D,"object"==typeof I?(x,$)=>Q((0,M.hS)($,I)):(x,$)=>Q(I($)))}function N(F,I){return F.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,x=>I&&-1!==I.indexOf(x)?x:`\\${x}`)}function ne(F){let I=0;for(let x=0;x<F.length;x++)I=(I<<5)-I+F.charCodeAt(x),I|=0;return I}function k(F){return(new DOMParser).parseFromString(F||"","text/html").body.innerText||""}},28705:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>Y,z:()=>Z});var M=E(17626),D=E(48701),Q=E(89726),B=E(80542),ne=(E(8314),E(63290)),k=E(62208),F=E(77712),$=(E(85931),E(90912),E(76898));ne.Z.getLogger("esri.core.support.OwningCollection");let Y=class extends((0,B.p)(D.Z)){constructor(re){super(re),this.handles.add([this.on("before-add",X=>{(0,k.Wi)(X.item)&&X.preventDefault()}),this.on("after-add",X=>this._own(X.item)),this.on("after-remove",X=>this._release(X.item))])}get owner(){return this._get("owner")}set owner(re){re!==this._get("owner")&&(this._releaseAll(),this._set("owner",re),this._ownAll())}_ownAll(){for(const re of this.items)this._own(re)}_releaseAll(){for(const re of this.items)this._release(re)}_createNewInstance(re){return this.itemType?new(D.Z.ofType(this.itemType.Type))(re):new D.Z(re)}};function Z(re,X){return{type:re,cast:Q.R,set(L){const T=(0,Q.Z)(L,this._get(X),re);T.owner=this,this._set(X,T)}}}(0,M._)([(0,F.Cb)()],Y.prototype,"owner",null),Y=(0,M._)([(0,$.j)("esri.core.support.OwningCollection")],Y)},7074:(qe,Me,E)=>{"use strict";function M(D,Q,B,N){let ne=null,k=1e3;"number"==typeof Q?(k=Q,N=B):(ne=null!=Q?Q:null,k=B);let F,I=0;const x=()=>{I=0,D.apply(N,F)},$=(...Y)=>{ne&&ne.apply(N,Y),F=Y,k?I||(I=setTimeout(x,k)):x()};return $.remove=()=>{I&&(clearTimeout(I),I=0)},$.forceUpdate=()=>{I&&(clearTimeout(I),x())},$.hasPendingUpdates=()=>!!I,$}E.d(Me,{P:()=>M})},27422:(qe,Me,E)=>{"use strict";function M(N){return N}E.d(Me,{HA:()=>M})},28170:(qe,Me,E)=>{"use strict";E.d(Me,{rJ:()=>Y,Nm:()=>N,JE:()=>k}),E(8314);const D={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},Q={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function N(Z,re,X){const L=new Date(Z.getTime());if(re&&X){const T=Q[X],{getter:P,setter:j,multiplier:K}=T;if("months"===X){const W=function B(Z,re){const X=new Date(Z,re+1,1);return X.setDate(0),X.getDate()}(L.getFullYear(),L.getMonth()+re);L.getDate()>W&&L.setDate(W)}L[j](L[P]()+re*K)}return L}function k(Z,re){switch(re){case"milliseconds":return new Date(Z.getTime());case"seconds":return new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),Z.getHours(),Z.getMinutes(),Z.getSeconds());case"minutes":return new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),Z.getHours(),Z.getMinutes());case"hours":return new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),Z.getHours());case"days":return new Date(Z.getFullYear(),Z.getMonth(),Z.getDate());case"weeks":return new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()-Z.getDay());case"months":return new Date(Z.getFullYear(),Z.getMonth(),1);case"years":return new Date(Z.getFullYear(),0,1);case"decades":return new Date(Z.getFullYear()-Z.getFullYear()%10,0,1);case"centuries":return new Date(Z.getFullYear()-Z.getFullYear()%100,0,1);default:return new Date}}function Y(Z,re,X){return 0===Z?0:Z*D[re]/D[X]}},55713:(qe,Me,E)=>{"use strict";function M(X,L){if(X.forEach)X.forEach(L);else for(let T=0;T<X.length;T++)L(X[T],T,X)}function D(X,L,T){if(X.slice)return X.slice(L,T);void 0===L?L=0:(L<0&&(L+=X.length),L=Math.min(X.length,Math.max(0,L))),void 0===T?T=X.length:(T<0&&(T+=X.length),T=Math.min(X.length,Math.max(0,T)));const P=Math.max(0,T-L),j=new X.constructor(P);for(let K=0;K<P;K++)j[K]=X[L+K];return j}function Q(X){return X instanceof ArrayBuffer||X&&X.constructor&&"ArrayBuffer"===X.constructor.name}function B(X){return X instanceof Int8Array||X&&X.constructor&&"Int8Array"===X.constructor.name}function N(X){return X instanceof Uint8Array||X&&X.constructor&&"Uint8Array"===X.constructor.name}function ne(X){return X instanceof Uint8ClampedArray||X&&X.constructor&&"Uint8ClampedArray"===X.constructor.name}function k(X){return X instanceof Int16Array||X&&X.constructor&&"Int16Array"===X.constructor.name}function F(X){return X instanceof Uint16Array||X&&X.constructor&&"Uint16Array"===X.constructor.name}function I(X){return X instanceof Int32Array||X&&X.constructor&&"Int32Array"===X.constructor.name}function x(X){return X instanceof Uint32Array||X&&X.constructor&&"Uint32Array"===X.constructor.name}function $(X){return X instanceof Float32Array||X&&X.constructor&&"Float32Array"===X.constructor.name}function Y(X){return X instanceof Float64Array||X&&X.constructor&&"Float64Array"===X.constructor.name}E.d(Me,{Ed:()=>M,eP:()=>Q,xZ:()=>$,fS:()=>Y,z3:()=>k,Hx:()=>I,W0:()=>B,Uc:()=>F,ZY:()=>x,lq:()=>N,KZ:()=>ne,tP:()=>D})},86236:(qe,Me,E)=>{"use strict";E.d(Me,{D:()=>Q});let M=0;function Q(){return++M}},16730:(qe,Me,E)=>{"use strict";E.d(Me,{gV:()=>it,En:()=>V,Z7:()=>Te,c9:()=>ve,_R:()=>Ge,qE:()=>xe,cM:()=>Se,hd:()=>I,ty:()=>ge,Jo:()=>at,$C:()=>Pe}),E(8314);var D=E(2076),Q=E(62208),B=E(12080),N=E(65234),ne=E(94425),k=E(37053),F=E(84029);const I=39.37,x=ne.sv.radius*Math.PI/200,$=/UNIT\[([^\]]+)\]\]$/i,Y=F.Z,Z=/UNIT\[([^\]]+)\]/i,re=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),X=(0,D.w)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),L=et=>et*et,T=et=>et*et*et,P={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:L(.001)},"square-centimeters":{inBaseUnits:L(.01)},"square-decimeters":{inBaseUnits:L(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:L(1e3)},"square-inches":{inBaseUnits:L(.0254)},"square-feet":{inBaseUnits:L(.3048)},"square-yards":{inBaseUnits:L(.9144)},"square-miles":{inBaseUnits:L(1609.344)},"square-us-feet":{inBaseUnits:L(1200/3937)},acres:{inBaseUnits:.0015625*L(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*T(.001)},"cubic-centimeters":{inBaseUnits:1e3*T(.01)},"cubic-decimeters":{inBaseUnits:1e3*T(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*T(1e3)},"cubic-inches":{inBaseUnits:1e3*T(.0254)},"cubic-feet":{inBaseUnits:1e3*T(.3048)},"cubic-yards":{inBaseUnits:1e3*T(.9144)},"cubic-miles":{inBaseUnits:1e3*T(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},j=function(){const et={};for(const _t in P)for(const Ke in P[_t].units)et[Ke]=_t;return et}();function oe(et){const _t=j[et];if(_t)return _t;throw new Error("unknown type")}function ie(et,_t=null){return _t=_t||oe(et),P[_t].baseUnit===et}function V(et,_t,Ke){if(_t===Ke)return et;const ct=oe(_t);if(ct!==oe(Ke))throw new Error("incompatible units");const Et=ie(_t,ct)?et:function K(et,_t,Ke){return et*P[Ke].units[_t].inBaseUnits}(et,_t,ct);return ie(Ke,ct)?Et:function W(et,_t,Ke){return et/P[Ke].units[_t].inBaseUnits}(Et,Ke,ct)}function ge(et,_t,Ke){return V(et,_t,"meters")/(Ke*Math.PI/180)}function Pe(et){return X.fromJSON(et.toLowerCase())||null}function Ge(et){if(et&&"object"==typeof et&&!(0,k.N$)(et))return 1;const _t=ve(et);return _t>1e5?1:_t}function Se(et){return ve(et)>=(et instanceof N.Z?(0,B.Iu)(et).metersPerDegree:1e5)?"meters":xe(et)}function ve(et,_t=ne.sv.metersPerDegree){return Te(et,!0)||_t}function Te(et,_t=!1){let Ke,ct,Et=null;if(null!=et&&("object"==typeof et?(Ke=et.wkid,ct=et.wkt):"number"==typeof et?Ke=et:"string"==typeof et&&(ct=et)),Ke){if((0,k.o$)(Ke))return ne.yr.metersPerDegree;if((0,k.ME)(Ke))return ne.Z1.metersPerDegree;Et=Y.values[Y[Ke]],!Et&&_t&&re.has(Ke)&&(Et=x)}else ct&&(He(ct)?Et=Ze($.exec(ct),Et):Ve(ct)&&(Et=Ze(Z.exec(ct),Et)));return Et}function Ze(et,_t){return et&&et[1]?tt(et[1]):_t}function tt(et){return parseFloat(et.split(",")[1])}function xe(et){let _t,Ke,ct=null;if(null!=et&&("object"==typeof et?(_t=et.wkid,Ke=et.wkt):"number"==typeof et?_t=et:"string"==typeof et&&(Ke=et)),_t)ct=Y.units[Y[_t]];else if(Ke){const Et=He(Ke)?$:Ve(Ke)?Z:null;if(Et){const Mt=Et.exec(Ke);Mt&&Mt[1]&&(ct=function _e(et){const _t=/[\\"\\']{1}([^\\"\\']+)/.exec(et);let Ke=_t&&_t[1];if(!Ke||-1===Y.units.indexOf(Ke)){const ct=tt(et);Ke=null;const Et=Y.values;for(let Mt=0;Mt<Et.length;++Mt)if(Math.abs(ct-Et[Mt])<1e-7){Ke=Y.units[Mt];break}}return Ke}(Mt[1]))}}return(0,Q.pC)(ct)?Pe(ct):null}function Ve(et){return/^GEOCCS/i.test(et)}function He(et){return/^PROJCS/i.test(et)}const Ye={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},pt={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},it=(0,D.w)()(Ye),at=(0,D.w)()(pt);(0,D.w)()(Pt(Pt({},Ye),pt))},21726:(qe,Me,E)=>{"use strict";E.d(Me,{R9:()=>L,qg:()=>ae,tD:()=>le,ZN:()=>ht,fl:()=>we,rS:()=>je,Ie:()=>sn,sJ:()=>pt,AH:()=>_e,io:()=>et,L:()=>J,TI:()=>te,vt:()=>xt,oh:()=>Pe,P$:()=>xe,Ml:()=>Dt,ed:()=>se,b7:()=>ce,D6:()=>Ee,tm:()=>Ce,YP:()=>Ve,jc:()=>He,HK:()=>ee,$U:()=>$t,oC:()=>Mt,zd:()=>mt,kl:()=>Ge,v_:()=>tt,hF:()=>ve,_l:()=>it,PF:()=>Te,Fv:()=>Ze,B7:()=>V,u0:()=>de,Yd:()=>bt,Hu:()=>ze,Qj:()=>Kt,hO:()=>pn,mN:()=>me});var M=E(59318),D=E(26584),Q=E(63290),B=E(62208);const N=Q.Z.getLogger("esri.core.urlUtils"),ne=M.Z.request,k="esri/config: esriConfig.request.proxyUrl is not set.",F=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,I=/^\s*http:/i,x=/^\s*https:/i,$=/^\s*file:/i,Y=/:\d+$/,Z=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,re=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),X=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class L{constructor(Vt=""){this.uri=Vt,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let Zt=(0,B.j0)(this.uri.match(re));this.scheme=Zt[2]||(Zt[1]?"":null),this.authority=Zt[4]||(Zt[3]?"":null),this.path=Zt[5],this.query=Zt[7]||(Zt[6]?"":null),this.fragment=Zt[9]||(Zt[8]?"":null),null!=this.authority&&(Zt=(0,B.j0)(this.authority.match(X)),this.user=Zt[3]||null,this.password=Zt[4]||null,this.host=Zt[6]||Zt[7],this.port=Zt[9]||null)}toString(){return this.uri}}const T={};let j=new L(M.Z.applicationUrl);let W=function he(){const rt=(0,B.j0)(j.path),Vt=rt.substring(0,rt.lastIndexOf(rt.split("/")[rt.split("/").length-1]));return`${j.scheme}://${j.host}${null!=j.port?`:${j.port}`:""}${Vt}`}();const te=()=>j,J=()=>W;function me(rt){const Vt={path:null,query:null},Zt=new L(rt),nn=rt.indexOf("?");return null===Zt.query?Vt.path=rt:(Vt.path=rt.substring(0,nn),Vt.query=de(Zt.query)),Zt.fragment&&(Vt.hash=Zt.fragment,null===Zt.query&&(Vt.path=Vt.path.substring(0,Vt.path.length-(Zt.fragment.length+1)))),Vt}function de(rt){const Vt=rt.split("&"),Zt={};for(const nn of Vt){if(!nn)continue;const fn=nn.indexOf("=");let Nn,pr;fn<0?(Nn=decodeURIComponent(nn),pr=""):(Nn=decodeURIComponent(nn.slice(0,fn)),pr=decodeURIComponent(nn.slice(fn+1)));let Or=Zt[Nn];"string"==typeof Or&&(Or=Zt[Nn]=[Or]),Array.isArray(Or)?Or.push(pr):Zt[Nn]=pr}return Zt}function ie(rt){return rt&&"object"==typeof rt&&"toJSON"in rt&&"function"==typeof rt.toJSON}function V(rt,Vt){return rt?Vt&&"function"==typeof Vt?Object.keys(rt).map(Zt=>encodeURIComponent(Zt)+"="+encodeURIComponent(Vt(Zt,rt[Zt]))).join("&"):Object.keys(rt).map(Zt=>{const nn=rt[Zt];if(null==nn)return"";const fn=encodeURIComponent(Zt)+"=",Nn=Vt&&Vt[Zt];return Nn?fn+encodeURIComponent(Nn(nn)):Array.isArray(nn)?nn.map(pr=>ie(pr)?fn+encodeURIComponent(JSON.stringify(pr)):fn+encodeURIComponent(pr)).join("&"):ie(nn)?fn+encodeURIComponent(JSON.stringify(nn)):fn+encodeURIComponent(nn)}).filter(Zt=>Zt).join("&"):""}function ce(rt=!1){let Vt,Zt=ne.proxyUrl;if("string"==typeof rt){Vt=$t(rt);const nn=se(rt);nn&&(Zt=nn.proxyUrl)}else Vt=!!rt;if(!Zt)throw N.warn(k),new D.Z("urlutils:proxy-not-set",k);return Vt&&Pn()&&(Zt=pn(Zt)),me(Zt)}function ae(rt){const Vt=se(rt);let Zt,nn;if(Vt){const fn=ue(Vt.proxyUrl);Zt=fn.path,nn=fn.query?de(fn.query):null}if(Zt){const fn=me(rt);rt=Zt+"?"+fn.path;const Nn=V(Pt(Pt({},nn),fn.query));Nn&&(rt=`${rt}?${Nn}`)}return rt}const pe={path:"",query:""};function ue(rt){const Vt=rt.indexOf("?");return-1!==Vt?(pe.path=rt.slice(0,Vt),pe.query=rt.slice(Vt+1)):(pe.path=rt,pe.query=null),pe}function ye(rt){return(rt=Sn(rt=function Wt(rt){return rt&&"/"===rt[rt.length-1]?rt:`${rt}/`}(rt=ue(rt).path),!0)).toLowerCase()}function le(rt){const Vt={proxyUrl:rt.proxyUrl,urlPrefix:ye(rt.urlPrefix)},Zt=ne.proxyRules,nn=Vt.urlPrefix;let fn=Zt.length;for(let Nn=0;Nn<Zt.length;Nn++){const pr=Zt[Nn].urlPrefix;if(0===nn.indexOf(pr)){if(nn.length===pr.length)return-1;fn=Nn;break}0===pr.indexOf(nn)&&(fn=Nn+1)}return Zt.splice(fn,0,Vt),fn}function se(rt){const Vt=ne.proxyRules,Zt=ye(rt);for(let nn=0;nn<Vt.length;nn++)if(0===Zt.indexOf(Vt[nn].urlPrefix))return Vt[nn]}function Ce(rt,Vt){return rt=ge(rt),Vt=ge(Vt),Sn(rt)===Sn(Vt)}function ge(rt){const Vt=(rt=Ze(rt)).indexOf("/sharing");return Vt>0?rt.substring(0,Vt):rt.replace(/\/+$/,"")}function Pe(rt){const Vt=nn=>null==nn||nn instanceof RegExp&&nn.test(rt)||"string"==typeof nn&&rt.startsWith(nn),Zt=ne.interceptors;if(Zt)for(const nn of Zt)if(Array.isArray(nn.urls)){if(nn.urls.some(Vt))return nn}else if(Vt(nn.urls))return nn;return null}function Ee(rt,Vt,Zt=!1){const nn=Ct(rt),fn=Ct(Vt);return!(!Zt&&nn.scheme!==fn.scheme)&&null!=nn.host&&null!=fn.host&&nn.host.toLowerCase()===fn.host.toLowerCase()&&nn.port===fn.port}function Ge(rt){if("string"==typeof rt){if(!Ve(rt))return!0;rt=Ct(rt)}if(Ee(rt,j))return!0;const Vt=ne.trustedServers||[];for(let Zt=0;Zt<Vt.length;Zt++){const nn=Se(Vt[Zt]);for(let fn=0;fn<nn.length;fn++)if(Ee(rt,nn[fn]))return!0}return!1}function Se(rt){return T[rt]||(T[rt]=Gt(rt)||Mt(rt)?[new L(ve(rt))]:[new L(`http://${rt}`),new L(`https://${rt}`)]),T[rt]}function ve(rt,Vt=W,Zt){return Mt(rt)?Zt&&Zt.preserveProtocolRelative?rt:"http"===j.scheme&&j.authority===xe(rt).slice(2)?`http:${rt}`:`https:${rt}`:Gt(rt)?rt:(0,B.j0)(tt("/"===rt[0]?function ut(rt){const Vt=rt.indexOf("//"),Zt=rt.indexOf("/",Vt+2);return-1===Zt?rt:rt.slice(0,Zt)}(Vt):Vt,rt))}function Te(rt,Vt=W,Zt){if(!Ve(rt))return rt;const nn=Ze(rt),fn=nn.toLowerCase(),Nn=Ze(Vt).toLowerCase().replace(/\/+$/,""),pr=Zt?Ze(Zt).toLowerCase().replace(/\/+$/,""):null;if(pr&&0!==Nn.indexOf(pr))return rt;const Or=(qr,Jr,Fs)=>-1===(Fs=qr.indexOf(Jr,Fs))?qr.length:Fs;let ar=Or(fn,"/",fn.indexOf("//")+2),wr=-1;for(;fn.slice(0,ar+1)===Nn.slice(0,ar)+"/"&&(wr=ar+1,ar!==fn.length);)ar=Or(fn,"/",ar+1);if(-1===wr||pr&&wr<pr.length)return rt;rt=nn.slice(wr);const ys=Nn.slice(wr-1).replace(/[^/]+/g,"").length;if(ys>0)for(let qr=0;qr<ys;qr++)rt=`../${rt}`;else rt=`./${rt}`;return rt}function Ze(rt){return function Yt(rt){const Vt=ne.httpsDomains;if(!function Jt(rt){return I.test(rt)||"http"===j.scheme&&Mt(rt)}(rt))return rt;const Zt=rt.indexOf("/",7);let nn;if(nn=-1===Zt?rt:rt.slice(0,Zt),nn=nn.toLowerCase().slice(7),Y.test(nn)){if(!nn.endsWith(":80"))return rt;nn=nn.slice(0,-3),rt=rt.replace(":80","")}return function An(){return"http"===j.scheme}()&&nn===j.authority&&!Z.test(rt)||(Pn()&&nn===j.authority||Vt&&Vt.some(fn=>nn===fn||nn.endsWith(`.${fn}`))||Pn()&&!se(rt))&&(rt=pn(rt)),rt}(rt=function Ht(rt){return rt.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(rt=function At(rt){if(/^https?:\/\//i.test(rt)){const Vt=ue(rt);rt=(rt=Vt.path.replace(/\/{2,}/g,"/")).replace("/","//"),Vt.query&&(rt+=`?${Vt.query}`)}return rt}(rt=ve(rt=rt.trim()))))}function tt(...rt){const Vt=rt.filter(B.pC);if(!Vt||!Vt.length)return;const Zt=[];if(Ve(Vt[0])){const fn=Vt[0],Nn=fn.indexOf("//");-1!==Nn&&(Zt.push(fn.slice(0,Nn+1)),function cn(rt){return $.test(rt)}(Vt[0])&&(Zt[0]+="/"),Vt[0]=fn.slice(Nn+2))}else"/"===Vt[0][0]&&Zt.push("");const nn=Vt.reduce((fn,Nn)=>Nn?fn.concat(Nn.split("/")):fn,[]);for(let fn=0;fn<nn.length;fn++){const Nn=nn[fn];".."===Nn&&Zt.length>0&&".."!==Zt[Zt.length-1]?Zt.pop():(!Nn&&fn===nn.length-1||Nn&&("."!==Nn||0===Zt.length))&&Zt.push(Nn)}return Zt.join("/")}function xe(rt,Vt=!1){if(He(rt)||ee(rt))return null;let Zt=rt.indexOf("://");if(-1===Zt&&Mt(rt))Zt=2;else{if(-1===Zt)return null;Zt+=3}const nn=rt.indexOf("/",Zt);return-1!==nn&&(rt=rt.slice(0,nn)),Vt&&(rt=Sn(rt,!0)),rt}function Ve(rt){return Mt(rt)||Gt(rt)}function He(rt){return null!=rt&&"blob:"===rt.slice(0,5)}function ee(rt){return"data:"===rt.slice(0,5)}function _e(rt){const Vt=pt(rt);if(!Vt||!Vt.isBase64)return null;const Zt=atob(Vt.data),nn=new Uint8Array(Zt.length);for(let fn=0;fn<Zt.length;fn++)nn[fn]=Zt.charCodeAt(fn);return nn.buffer}function je(rt){return btoa(String.fromCharCode.apply(null,rt)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const Ye=/^data:(.*?)(;base64)?,(.*)$/;function pt(rt){const Vt=rt.match(Ye);if(!Vt)return null;const[,Zt,nn,fn]=Vt;return{mediaType:Zt,isBase64:!!nn,data:fn}}function it(rt){return rt.isBase64?`data:${rt.mediaType};base64,${rt.data}`:`data:${rt.mediaType},${rt.data}`}function et(rt,Vt){(function Ke(rt,Vt){if(!rt)return!1;const Zt=document.createElement("a");if(!("download"in Zt))return!1;const nn=URL.createObjectURL(rt);return Zt.download=Vt,Zt.href=nn,Zt.style.display="none",document.body.appendChild(Zt),Zt.click(),document.body.removeChild(Zt),URL.revokeObjectURL(nn),!0})(rt,Vt)||function Et(rt,Vt){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(rt,Vt)}(rt,Vt)}function Mt(rt){return null!=rt&&void 0!==rt&&"/"===rt[0]&&"/"===rt[1]}function Gt(rt){return F.test(rt)}function $t(rt){return x.test(rt)||"https"===j.scheme&&Mt(rt)}function pn(rt){return Mt(rt)?`https:${rt}`:rt.replace(I,"https:")}function Pn(){return"https"===j.scheme}function Sn(rt,Vt=!1){return Mt(rt)?rt.slice(2):(rt=rt.replace(F,""),Vt&&rt.length>1&&"/"===rt[0]&&"/"===rt[1]&&(rt=rt.slice(2)),rt)}function bt(rt){let Vt=0;if(Ve(rt)){const nn=rt.indexOf("//");-1!==nn&&(Vt=nn+2)}const Zt=rt.lastIndexOf("/");return Zt<Vt?rt:rt.slice(0,Zt+1)}function xt(rt,Vt){if(!rt)return"";const Zt=me(rt).path.replace(/\/+$/,""),nn=Zt.substring(Zt.lastIndexOf("/")+1);if(null==Vt||!Vt.length)return nn;const fn=new RegExp(`.(${Vt.join("|")})$`,"ig");return nn.replace(fn,"")}function Kt(rt){return rt.replace(/\/+$/,"")}function sn(rt,Vt,Zt){if(!(Vt&&Zt&&rt&&Ve(rt)))return rt;const nn=rt.indexOf("//"),fn=rt.indexOf("/",nn+2),Nn=rt.indexOf(":",nn+2),pr=Math.min(fn<0?rt.length:fn,Nn<0?rt.length:Nn);return rt.slice(nn+2,pr).toLowerCase()!==Vt.toLowerCase()?rt:`${rt.slice(0,nn+2)}${Zt}${rt.slice(pr)}`}function Ct(rt){return"string"==typeof rt?new L(ve(rt)):(rt.scheme||(rt.scheme=j.scheme),rt)}function mt(rt){return on.test(rt)}function ze(rt,Vt){const Zt=me(rt),nn=Object.keys(Zt.query||{});return nn.length>0&&Vt&&Vt.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${nn.join(", ")}.`),Zt.path}function ht(rt,Vt,Zt){const nn=me(rt),fn=nn.query||{};return fn[Vt]=String(Zt),`${nn.path}?${V(fn)}`}function we(rt,Vt){const Zt=me(rt),nn=Zt.query||{};for(const Nn in Vt)nn[Nn]=Vt[Nn];const fn=V(nn);return fn?`${Zt.path}?${fn}`:Zt.path}function Dt(rt){if((0,B.Wi)(rt))return null;const Vt=rt.match(kt);return Vt?Vt[1]:null}const kt=/.*?\.([^\/]*)$/,on=/(^data:image\/svg|\.svg$)/i},35948:(qe,Me,E)=>{"use strict";function M(){const D=crypto.getRandomValues(new Uint16Array(8));D[3]=4095&D[3]|16384,D[4]=16383&D[4]|32768;const Q=B=>D[B].toString(16);return Q(0)+Q(1)+"-"+Q(2)+"-"+Q(3)+"-"+Q(4)+"-"+Q(5)+Q(6)+Q(7)}E.d(Me,{D:()=>M})},27e3:(qe,Me,E)=>{"use strict";E.d(Me,{S1:()=>N,on:()=>J,Wy:()=>te,YP:()=>ne,gx:()=>F,Nj:()=>re,PA:()=>x,cm:()=>$,Z4:()=>Y});var M=E(17770),Q=(E(58817),E(10699));const B=/\?(\.|$)/g;function N(pe,ue,ye,le){const se=Array.isArray(ue)?ue:ue.indexOf(",")>-1?ue.split(","):[ue],Ce=ne(pe,ue,ye,le);for(const ge of se){const Pe=ge.trim().replace(B,"$1"),Ee=pe.get(Pe);ye.call(pe,Ee,Ee,Pe,pe)}return Ce}function ne(pe,ue,ye,le){return pe.watch(ue,ye,le)}function F(pe,ue,ye,le){return he(pe,ue,me,ye,le)}function x(pe,ue,ye,le){return he(pe,ue,de,ye,le)}function $(pe,ue,ye,le){return function oe(pe,ue,ye,le,se){const Ce="function"==typeof le?le:null,ge="object"==typeof le?le:null;"boolean"==typeof le&&(se=le);let Pe,Ee=!1;function Ge(){Pe&&(Pe.remove(),Pe=null)}const Se=(0,Q.dD)();(0,Q.fu)(ge,()=>{Ge(),Se.reject((0,Q.zE)())});const ve={then:Se.promise.then.bind(Se.promise),catch:Se.promise.catch.bind(Se.promise),remove:Ge};return Object.freeze(ve),Pe=he(pe,ue,ye,(Te,Ze,tt,xe)=>{Ee=!0,Ge(),Ce&&Ce.call(pe,Te,Ze,tt,xe),Se.resolve({value:Te,oldValue:Ze,propertyName:tt,target:xe})},se),Ee&&Ge(),ve}(pe,ue,de,ye,le)}function Y(pe,ue,ye,le){return he(pe,ue,ie,ye,le)}function re(pe,ue,ye,le){return he(pe,ue,V,ye,le)}function te(pe,ue,ye,le){let se=!1;const Ce=pe.watch(ue,(ge,Pe,Ee,Ge)=>{se||ye.call(pe,ge,Pe,Ee,Ge)},le);return{remove(){Ce.remove()},pause(){se=!0},resume(){se=!1}}}function J(pe,ue,ye,le,se,Ce,ge){const Pe={};function Ee(Se){const ve=Pe[Se];ve&&(Ce&&Ce(ve.target,Se,pe,ye),ve.handle.remove(),delete Pe[Se])}const Ge=N(pe,ue,(Se,ve,Te)=>{Ee(Te),(0,M.vT)(Se)&&(Pe[Te]={handle:(0,M.on)(Se,ye,le),target:Se},se&&se(Se,Te,pe,ye))},ge);return{remove(){Ge.remove();for(const Se in Pe)Ee(Se)}}}function he(pe,ue,ye,le,se){const Ce=pe.watch(ue,(ge,Pe,Ee,Ge)=>{ye&&!ye(ge)||null==le||le.call(pe,ge,Pe,Ee,Ge)},se);if(Array.isArray(ue))for(const ge of ue){const Pe=pe.get(ge);ye&&ye(Pe)&&(null==le||le.call(pe,Pe,Pe,ue,pe))}else{const ge=pe.get(ue);ye&&ye(ge)&&(null==le||le.call(pe,ge,ge,ue,pe))}return Ce}function me(pe){return!!pe}function de(pe){return!pe}function ie(pe){return!0===pe}function V(pe){return!1===pe}},93662:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var M=E(54024),D=E(63290),Q=E(10699),B=E(89951);const N=D.Z.getLogger("esri.core.workers.Connection");class ne{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(F,I){return new Promise((x,$)=>{let Y=!0;const Z=re=>{(0,Q.k_)(I.signal),Y&&(Y=!1,re())};this._clients.length=F.length,this._clientPromises.length=F.length;for(let re=0;re<F.length;++re){const X=F[re];(0,Q.y8)(X)?this._clientPromises[re]=X.then(L=>(this._clients[re]=new B.Z(L,I),Z(x),this._clients[re]),()=>(Z($),null)):(this._clients[re]=new B.Z(X,I),this._clientPromises[re]=Promise.resolve(this._clients[re]),Z(x))}})}broadcast(F,I,x){const $=new Array(this._clientPromises.length);for(let Y=0;Y<this._clientPromises.length;++Y)$[Y]=this._clientPromises[Y].then(re=>re.invoke(F,I,x));return $}close(){for(const F of this._clientPromises)F.then(I=>I.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let F;for(let I=0;I<this._clients.length;++I){const x=this._clients[I];if(x){if(!x.isBusy())return Promise.resolve(x)}else F=F||[],F.push(this._clientPromises[I])}return F?Promise.race(F):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(F,I,x){let $=null;return Array.isArray(x)?(N.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),$={transferList:x}):$=x,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(Y=>Y.invoke(F,I,$))}on(F,I){return Promise.all(this._clientPromises).then(()=>(0,M.AL)(this._clients.map(x=>x.on(F,I))))}openPorts(){return new Promise(F=>{const I=new Array(this._clientPromises.length);let x=I.length;for(let $=0;$<this._clientPromises.length;++$)this._clientPromises[$].then(Y=>{I[$]=Y.openPort(),0==--x&&F(I)})})}get test(){return{numClients:this._clients.length}}}},89951:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>L});var M=E(24263),D=E(26584),Q=E(17770),B=E(62208),N=E(10699),ne=E(13126),k=E(38365);const F={statsWorker:()=>Promise.all([E.e(3930),E.e(4135)]).then(E.bind(E,44135)),geometryEngineWorker:()=>Promise.all([E.e(4918),E.e(8592),E.e(1843)]).then(E.bind(E,28632)),CSVSourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(9155)]).then(E.bind(E,39155)),EdgeProcessingWorker:()=>Promise.all([E.e(479),E.e(8592),E.e(8947)]).then(E.bind(E,36239)),ElevationSamplerWorker:()=>Promise.all([E.e(479),E.e(853),E.e(8149)]).then(E.bind(E,28149)),FeatureServiceSnappingSourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(6354)]).then(E.bind(E,86354)),GeoJSONSourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(8592),E.e(4079)]).then(E.bind(E,84079)),LercWorker:()=>E.e(7300).then(E.bind(E,57300)),MemorySourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(8592),E.e(7728)]).then(E.bind(E,7728)),PBFDecoderWorker:()=>E.e(6089).then(E.bind(E,46089)),Pipeline:()=>Promise.all([E.e(5086),E.e(3755),E.e(410),E.e(9091),E.e(3930),E.e(8330),E.e(9628),E.e(8592),E.e(6595)]).then(E.bind(E,87249)),PointCloudWorker:()=>Promise.all([E.e(8592),E.e(1107)]).then(E.bind(E,61107)),RasterWorker:()=>Promise.all([E.e(7692),E.e(6926),E.e(8594),E.e(581),E.e(8592),E.e(5976)]).then(E.bind(E,15976)),SceneLayerWorker:()=>E.e(3320).then(E.bind(E,83320)),WFSSourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(3774),E.e(8592),E.e(2305)]).then(E.bind(E,62305)),WorkerTileHandler:()=>Promise.all([E.e(4821),E.e(3751),E.e(4522),E.e(8364),E.e(9057)]).then(E.bind(E,90195))},{CLOSE:I,ABORT:x,INVOKE:$,RESPONSE:Y,OPEN_PORT:Z,ON:re}=ne.Cs;class X{constructor(P){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=P,this._timer=null,this._process=this._process.bind(this)}push(P){P.type===ne.Cs.ABORT?this._cancelledJobIds.add(P.jobId):(this._invokeMessages.push(P),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const P of this._invokeMessages)this._cancelledJobIds.has(P.jobId)||this._invoke(P);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class L{constructor(P,j){this._port=P,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new X(K=>this._onInvokeMessage(K)),this._client=j.client,this._onMessage=this._onMessage.bind(this),this._channel=j.channel,this._schedule=j.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(P){const j=new MessageChannel;let K;K="function"==typeof P?new P:"default"in P&&"function"==typeof P.default?new P.default:P;const W=new L(j.port1,{channel:j,client:K});return"object"==typeof K&&"remoteClient"in K&&(K.remoteClient=W),L.clients.set(W,K),j.port2}static loadWorker(P){const j=F[P];return j?j():Promise.resolve(null)}close(){this._post({type:I}),this._close()}isBusy(){return this._outJobs.size>0}invoke(P,j,K){const W=K&&K.signal,te=K&&K.transferList;if(!this._port)return Promise.reject(new D.Z("worker:port-closed",`Cannot call invoke('${P}'), port is closed`,{methodName:P,data:j}));const J=(0,ne.jt)();return new Promise((he,oe)=>{const me=(0,N.$F)(W,()=>{var ie;const V=this._outJobs.get(J);V&&(this._outJobs.delete(J),null==(ie=V.abortHandle)||ie.remove(),this._post({type:x,jobId:J}),oe((0,N.zE)()))});this._outJobs.set(J,{resolve:he,reject:oe,abortHandle:me,debugInfo:P}),this._post({type:$,jobId:J,methodName:P,abortable:null!=W},j,te)})}on(P,j){const K=new MessageChannel;function W(te){j(te.data)}return this._port.postMessage({type:ne.Cs.ON,eventType:P,port:K.port2},[K.port2]),K.port1.addEventListener("message",W),K.port1.start(),{remove(){K.port1.postMessage({type:ne.Cs.CLOSE}),K.port1.close(),K.port1.removeEventListener("message",W)}}}openPort(){const P=new MessageChannel;return this._post({type:Z,port:P.port2}),P.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(P=>{var j;null==(j=P.abortHandle)||j.remove(),P.reject((0,N.zE)(`Worker closing, aborting job calling '${P.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(P){(0,B.pC)(this._schedule)?this._schedule(()=>this._processMessage(P)):this._processMessage(P)}_processMessage(P){const j=(0,ne.QM)(P);if(j)switch(j.type){case Y:this._onResponseMessage(j);break;case $:this._invokeQueue.push(j);break;case x:this._onAbortMessage(j);break;case I:this._onCloseMessage();break;case Z:this._onOpenPortMessage(j);break;case re:this._onOnMessage(j)}}_onAbortMessage(P){const j=this._inJobs,K=P.jobId,W=j.get(K);this._invokeQueue.push(P),W&&(W.controller&&W.controller.abort(),j.delete(K))}_onCloseMessage(){const P=this._client;this._close(),P&&"destroy"in P&&L.clients.get(this)===P&&P.destroy(),L.clients.delete(this),P&&P.remoteClient&&(P.remoteClient=null)}_onInvokeMessage(P){const{methodName:j,jobId:K,data:W,abortable:te}=P,J=te?new AbortController:null,he=this._inJobs;let oe,me=this._client,de=me[j];try{if(!de&&j&&-1!==j.indexOf(".")){const ie=j.split(".");for(let V=0;V<ie.length-1;V++)me=me[ie[V]],de=me[ie[V+1]]}if("function"!=typeof de)throw new TypeError(`${j} is not a function`);oe=de.call(me,W,{client:this,signal:J?J.signal:null})}catch(ie){return void this._post({type:Y,jobId:K,error:(0,ne.AB)(ie)})}(0,N.y8)(oe)?(he.set(K,{controller:J,promise:oe}),oe.then(ie=>{he.has(K)&&(he.delete(K),this._post({type:Y,jobId:K},ie))},ie=>{he.has(K)&&(he.delete(K),(0,N.D_)(ie)||this._post({type:Y,jobId:K,error:(0,ne.AB)(ie||{message:`Error encountered at method ${j}`})}))})):this._post({type:Y,jobId:K},oe)}_onOpenPortMessage(P){new L(P.port,{client:this._client})}_onOnMessage(P){const{port:j}=P,K=this._client.on(P.eventType,te=>{j.postMessage(te)}),W=(0,Q.on)(P.port,"message",te=>{(0,ne.QM)(te).type===ne.Cs.CLOSE&&(W.remove(),K.remove(),j.close())})}_onResponseMessage(P){var j;const{jobId:K,error:W,data:te}=P,J=this._outJobs;if(!J.has(K))return;const he=J.get(K);J.delete(K),null==(j=he.abortHandle)||j.remove(),W?he.reject(D.Z.fromJSON(JSON.parse(W))):he.resolve(te)}_post(P,j,K){return(0,ne.oi)(this._port,P,j,K)}}L.kernelInfo={revision:k.$,version:M.i8,buildDate:k.r},L.clients=new Map},13126:(qe,Me,E)=>{"use strict";E.d(Me,{Cs:()=>D,jt:()=>B,oi:()=>k,QM:()=>F,AB:()=>ne});var D,$,M=E(8314);($=D||(D={}))[$.HANDSHAKE=0]="HANDSHAKE",$[$.OPEN=1]="OPEN",$[$.OPENED=2]="OPENED",$[$.RESPONSE=3]="RESPONSE",$[$.INVOKE=4]="INVOKE",$[$.ABORT=5]="ABORT",$[$.CLOSE=6]="CLOSE",$[$.OPEN_PORT=7]="OPEN_PORT",$[$.ON=8]="ON";let Q=0;function B(){return Q++}function ne($){return $?"string"==typeof $?JSON.stringify({name:"message",message:$}):$.toJSON?JSON.stringify($):JSON.stringify({name:$.name,message:$.message,details:$.details||{stack:$.stack}}):null}function k($,Y,Z,re){if(Y.type===D.OPEN_PORT)return void $.postMessage(Y,[Y.port]);if(Y.type!==D.INVOKE&&Y.type!==D.RESPONSE)return void $.postMessage(Y);let X;!function N($){return $&&"object"==typeof $&&("result"in $||"transferList"in $)}(Z)?(X=I(re),Y.data=Z):(X=I(Z.transferList),Y.data=Z.result),X?$.postMessage(Y,X):$.postMessage(Y)}function F($){if(!$)return null;const Y=$.data;return Y?"string"==typeof Y?JSON.parse(Y):Y:null}function I($){if(!$||!$.length)return null;if((0,M.Z)("esri-workers-arraybuffer-transfer"))return $;const Y=$.filter(Z=>!function x($){return $ instanceof ArrayBuffer||$&&$.constructor&&"ArrayBuffer"===$.constructor.name}(Z));return Y.length?Y:null}},59289:(qe,Me,E)=>{"use strict";E.d(Me,{j2:()=>Ze,bA:()=>He});var M=E(15861),D=E(26584),Q=E(8314),B=E(10699),N=E(93662),ne=E(89951),k=E(24263),F=E(63290),I=E(13126),x=E(54346),$=E(59318),Z=(E(52515),E(21726));const X={};var P=E(79682);class j{constructor(){const ot=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(et=>{this[et]=(..._t)=>ot[et](..._t)})}}class K{constructor(){this._dispatcher=new j,this._workerPostMessage({type:I.Cs.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(ot){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=ot,ot&&this.addEventListener("message",ot)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(ot){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=ot,ot&&this.addEventListener("messageerror",ot)}get onerror(){return this._onerrorHandler}set onerror(ot){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=ot,ot&&this.addEventListener("error",ot)}postMessage(ot){(0,P.Y)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:ot}))})}dispatchEvent(ot){return this._dispatcher.dispatchEvent(ot)}addEventListener(ot,et,_t){this._dispatcher.addEventListener(ot,et,_t)}removeEventListener(ot,et,_t){this._dispatcher.removeEventListener(ot,et,_t)}_workerPostMessage(ot){(0,P.Y)(()=>{this.dispatchEvent(new MessageEvent("message",{data:ot}))})}_workerMessageHandler(ot){var et=this;return(0,M.Z)(function*(){const _t=(0,I.QM)(ot);if(_t&&_t.type===I.Cs.OPEN){const{modulePath:Ke,jobId:ct}=_t;let Et=yield ne.Z.loadWorker(Ke);Et||(Et=yield import(Ke));const Mt=ne.Z.connect(Et);et._workerPostMessage({type:I.Cs.OPENED,jobId:ct,data:Mt})}})()}}var W=E(56683),te=E(38365);const J=F.Z.getLogger("esri.core.workers"),{HANDSHAKE:he}=I.Cs,oe='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let me,de;const ie="Failed to create Worker. Fallback to execute module in main thread";function ce(){return(ce=(0,M.Z)(function*(){if(!(0,Q.Z)("esri-workers")||((0,Q.Z)("mozilla"),0))return ae(new K);if(!me&&!de)try{const ot=oe.replace('"{CONFIGURATION}"',`'${ue()}'`);me=URL.createObjectURL(new Blob([ot],{type:"text/javascript"}))}catch(ot){de=ot||{}}let at;if(me)try{at=new Worker(me,{name:"esri-worker-"+ye++})}catch(ot){J.warn(ie,de),at=new K}else J.warn(ie,de),at=new K;return ae(at)})).apply(this,arguments)}function ae(at){return pe.apply(this,arguments)}function pe(){return(pe=(0,M.Z)(function*(at){return new Promise(ot=>{function et(Ke){const ct=(0,I.QM)(Ke);ct&&ct.type===he&&(at.removeEventListener("message",et),at.removeEventListener("error",_t),ot(at))}function _t(Ke){Ke.preventDefault(),at.removeEventListener("message",et),at.removeEventListener("error",_t),J.warn("Failed to create Worker. Fallback to execute module in main thread",Ke),(at=new K).addEventListener("message",et),at.addEventListener("error",_t)}at.addEventListener("message",et),at.addEventListener("error",_t)})})).apply(this,arguments)}function ue(){let at;if(null!=$.Z.default){const Ke=Pt({},$.Z);delete Ke.default,at=JSON.parse(JSON.stringify(Ke))}else at=JSON.parse(JSON.stringify($.Z));at.assetsPath=(0,Z.hF)(at.assetsPath),at.request.interceptors=[],at.log.interceptors=[],at.locale=(0,W.Kd)(),at.has={"esri-csp-restrictions":(0,Q.Z)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,Q.Z)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":(0,Q.Z)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":(0,Q.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,Q.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,Q.Z)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,Q.Z)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,Q.Z)("esri-atomics"),"esri-shared-array-buffer":(0,Q.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,Q.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,Q.Z)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,Q.Z)("feature-polyline-generalization-factor"),"host-webworker":1},at.workers.loaderUrl&&(at.workers.loaderUrl=(0,Z.hF)(at.workers.loaderUrl)),at.workers.workerPath=(0,Z.hF)(at.workers.workerPath?at.workers.workerPath:(0,x.V)("esri/core/workers/RemoteClient.js")),at.workers.useDynamicImport=!1;const ot=$.Z.workers.loaderConfig,et=function T(at){var ot;const et={async:at.async,isDebug:at.isDebug,locale:at.locale,baseUrl:at.baseUrl,has:Pt({},at.has),map:Pt({},at.map),packages:at.packages&&at.packages.concat()||[],paths:Pt({},at.paths)};return at.hasOwnProperty("async")||(et.async=!0),at.hasOwnProperty("isDebug")||(et.isDebug=!1),at.baseUrl||(et.baseUrl=X.baseUrl),null==(ot=X.packages)||ot.forEach(_t=>{!function L(at,ot){for(const et of at)if(et.name===ot.name)return;at.push(ot)}(et.packages,_t)}),et}({baseUrl:null==ot?void 0:ot.baseUrl,locale:(0,W.Kd)(),has:Pt({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},null==ot?void 0:ot.has),map:Pt({},null==ot?void 0:ot.map),paths:Pt({},null==ot?void 0:ot.paths),packages:(null==ot?void 0:ot.packages)||[]});return JSON.stringify({esriConfig:at,loaderConfig:et,kernelInfo:{version:k.i8,buildDate:te.r,revision:te.$}})}let ye=0;const le=F.Z.getLogger("esri.core.workers"),{ABORT:se,INVOKE:Ce,OPEN:ge,OPENED:Pe,RESPONSE:Ee}=I.Cs;class Ge{constructor(ot,et){this._outJobs=new Map,this._inJobs=new Map,this.worker=ot,this.id=et,ot.addEventListener("message",this._onMessage.bind(this)),ot.addEventListener("error",_t=>{_t.preventDefault(),le.error(_t)})}static create(ot){return(0,M.Z)(function*(){const et=yield function V(){return ce.apply(this,arguments)}();return new Ge(et,ot)})()}terminate(){this.worker.terminate()}open(ot,et={}){var _t=this;return(0,M.Z)(function*(){const{signal:Ke}=et,ct=(0,I.jt)();return new Promise((Et,Mt)=>{const Gt={resolve:Et,reject:Mt,abortHandle:(0,B.$F)(Ke,()=>{_t._outJobs.delete(ct),_t._post({type:se,jobId:ct})})};_t._outJobs.set(ct,Gt),_t._post({type:ge,jobId:ct,modulePath:ot})})})()}_onMessage(ot){const et=(0,I.QM)(ot);if(et)switch(et.type){case Pe:this._onOpenedMessage(et);break;case Ee:this._onResponseMessage(et);break;case se:this._onAbortMessage(et);break;case Ce:this._onInvokeMessage(et)}}_onAbortMessage(ot){const et=this._inJobs,_t=ot.jobId,Ke=et.get(_t);Ke&&(Ke.controller&&Ke.controller.abort(),et.delete(_t))}_onInvokeMessage(ot){const{methodName:et,jobId:_t,data:Ke,abortable:ct}=ot,Et=ct?new AbortController:null,Mt=this._inJobs,Gt=k.Nv[et];let $t;try{if("function"!=typeof Gt)throw new TypeError(`${et} is not a function`);$t=Gt.call(null,Ke,{signal:Et?Et.signal:null})}catch(Jt){return void this._post({type:Ee,jobId:_t,error:(0,I.AB)(Jt)})}(0,B.y8)($t)?(Mt.set(_t,{controller:Et,promise:$t}),$t.then(Jt=>{Mt.has(_t)&&(Mt.delete(_t),this._post({type:Ee,jobId:_t},Jt))},Jt=>{Mt.has(_t)&&(Mt.delete(_t),Jt||(Jt={message:"Error encountered at method"+et}),(0,B.D_)(Jt)||this._post({type:Ee,jobId:_t,error:(0,I.AB)(Jt||{message:`Error encountered at method ${et}`})}))})):this._post({type:Ee,jobId:_t},$t)}_onOpenedMessage(ot){var et;const{jobId:_t,data:Ke}=ot,ct=this._outJobs.get(_t);ct&&(this._outJobs.delete(_t),null==(et=ct.abortHandle)||et.remove(),ct.resolve(Ke))}_onResponseMessage(ot){var et;const{jobId:_t,error:Ke,data:ct}=ot,Et=this._outJobs.get(_t);Et&&(this._outJobs.delete(_t),null==(et=Et.abortHandle)||et.remove(),Ke?Et.reject(D.Z.fromJSON(JSON.parse(Ke))):Et.resolve(ct))}_post(ot,et,_t){return(0,I.oi)(this.worker,ot,et,_t)}}let Se=(0,Q.Z)("esri-workers-debug")?1:(0,Q.Z)("host-browser")?navigator.hardwareConcurrency-1:0;Se||(Se=(0,Q.Z)("safari")&&(0,Q.Z)("mac")||(0,Q.Z)("trident")?7:2);let ve=0;const Te=[];function Ze(){pt()}function xe(at,ot){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,M.Z)(function*(at,ot){const et=new N.Z;return yield et.open(at,ot),et})).apply(this,arguments)}function He(at){return ee.apply(this,arguments)}function ee(){return(ee=(0,M.Z)(function*(at,ot={}){if("string"!=typeof at)throw new D.Z("workers:undefined-module","modulePath is missing");let et=ot.strategy||"distributed";if((0,Q.Z)("host-webworker")&&!(0,Q.Z)("esri-workers")&&(et="local"),"local"===et){let _t=yield ne.Z.loadWorker(at);_t||(_t=yield import(at)),(0,B.k_)(ot.signal);const Ke=ot.client||_t;return xe([ne.Z.connect(_t)],$n(Pt({},ot),{client:Ke}))}if(yield pt(),(0,B.k_)(ot.signal),"dedicated"===et){const _t=ve++%Se;return xe([yield Te[_t].open(at,ot)],ot)}if(ot.maxNumWorkers&&ot.maxNumWorkers>0){const _t=Math.min(ot.maxNumWorkers,Se);if(_t<Se){const Ke=new Array(_t);for(let ct=0;ct<_t;++ct){const Et=ve++%Se;Ke[ct]=Te[Et].open(at,ot)}return xe(Ke,ot)}}return xe(Te.map(_t=>_t.open(at,ot)),ot)})).apply(this,arguments)}let je,Ye=null;function pt(){return it.apply(this,arguments)}function it(){return(it=(0,M.Z)(function*(){if(Ye)return Ye;je=new AbortController;const at=[];for(let ot=0;ot<Se;ot++){const et=Ge.create(ot).then(_t=>(Te[ot]=_t,_t));at.push(et)}return Ye=Promise.all(at),Ye})).apply(this,arguments)}},29132:(qe,Me,E)=>{"use strict";E.d(Me,{qM:()=>Y});var M=E(90912),D=E(2004),Q=E(21674),B=E(72854),N=E(49672),ne=E(37118),k=E(55214);E(65234),E(71774),E(91179);const Y={base:Q.Z,key:"type",typeMap:{extent:D.Z,multipoint:B.Z,point:N.Z,polyline:k.Z,polygon:ne.Z}};(0,M.N7)(Y)},2004:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>K});var L,M=E(17626),D=E(62208),Q=E(77275),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898)),I=E(21674),x=E(49672),$=E(65234),Y=E(33190),Z=E(11519),re=E(37053),X=E(46367);function P(W,te,J){return null==te?J:null==J?te:W(te,J)}let j=L=class extends I.Z{constructor(...W){super(...W),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(W,te,J,he,oe){return function T(W){return W&&("esri.geometry.SpatialReference"===W.declaredClass||null!=W.wkid)}(W)?{spatialReference:W,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof W?(W.spatialReference=null==W.spatialReference?$.Z.WGS84:W.spatialReference,W):{xmin:W,ymin:te,xmax:J,ymax:he,spatialReference:null==oe?$.Z.WGS84:oe}}static fromBounds(W,te){return new L({xmin:W[0],ymin:W[1],xmax:W[2],ymax:W[3],spatialReference:te})}static fromPoint(W){return new L({xmin:W.x,ymin:W.y,zmin:W.z,xmax:W.x,ymax:W.y,zmax:W.z,spatialReference:W.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const W=new x.Z({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(W.z=.5*(this.zmin+this.zmax)),this.hasM&&(W.m=.5*(this.mmin+this.mmax)),W}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(W){const te=this.center;return null!=W.z&&this.hasZ?this.offset(W.x-te.x,W.y-te.y,W.z-te.z):this.offset(W.x-te.x,W.y-te.y)}clone(){const W=new L;return W.xmin=this.xmin,W.ymin=this.ymin,W.xmax=this.xmax,W.ymax=this.ymax,W.spatialReference=this.spatialReference,null!=this.zmin&&(W.zmin=this.zmin,W.zmax=this.zmax),null!=this.mmin&&(W.mmin=this.mmin,W.mmax=this.mmax),W}contains(W){if(!W)return!1;const te=this.spatialReference,J=W.spatialReference;return te&&J&&!te.equals(J)&&(0,X.Q8)(te,J)&&(W=te.isWebMercator?(0,X.$)(W):(0,X.Sx)(W,!0)),"point"===W.type?(0,Y.aV)(this,W):"extent"===W.type&&(0,Y.uP)(this,W)}equals(W){if(this===W)return!0;if((0,D.Wi)(W))return!1;const te=this.spatialReference,J=W.spatialReference;return te&&J&&!te.equals(J)&&(0,X.Q8)(te,J)&&(W=te.isWebMercator?(0,X.$)(W):(0,X.Sx)(W,!0)),this.xmin===W.xmin&&this.ymin===W.ymin&&this.zmin===W.zmin&&this.mmin===W.mmin&&this.xmax===W.xmax&&this.ymax===W.ymax&&this.zmax===W.zmax&&this.mmax===W.mmax}expand(W){const te=.5*(1-W),J=this.width*te,he=this.height*te;if(this.xmin+=J,this.ymin+=he,this.xmax-=J,this.ymax-=he,this.hasZ){const oe=(this.zmax-this.zmin)*te;this.zmin+=oe,this.zmax-=oe}if(this.hasM){const oe=(this.mmax-this.mmin)*te;this.mmin+=oe,this.mmax-=oe}return this}intersects(W){if((0,D.Wi)(W))return!1;"mesh"===W.type&&(W=W.extent);const te=this.spatialReference,J=W.spatialReference;return te&&J&&!te.equals(J)&&(0,X.Q8)(te,J)&&(W=te.isWebMercator?(0,X.$)(W):(0,X.Sx)(W,!0)),(0,Z.IY)(W.type)(this,W)}normalize(){const W=this._normalize(!1,!0);return Array.isArray(W)?W:[W]}offset(W,te,J){return this.xmin+=W,this.ymin+=te,this.xmax+=W,this.ymax+=te,null!=J&&(this.zmin+=J,this.zmax+=J),this}shiftCentralMeridian(){return this._normalize(!0)}union(W){return this===W||(this.xmin=Math.min(this.xmin,W.xmin),this.ymin=Math.min(this.ymin,W.ymin),this.xmax=Math.max(this.xmax,W.xmax),this.ymax=Math.max(this.ymax,W.ymax),(this.hasZ||W.hasZ)&&(this.zmin=P(Math.min,this.zmin,W.zmin),this.zmax=P(Math.max,this.zmax,W.zmax)),(this.hasM||W.hasM)&&(this.mmin=P(Math.min,this.mmin,W.mmin),this.mmax=P(Math.max,this.mmax,W.mmax))),this}intersection(W){return this===W?this:(0,D.Wi)(W)||!this.intersects(W)?null:(this.xmin=Math.max(this.xmin,W.xmin),this.ymin=Math.max(this.ymin,W.ymin),this.xmax=Math.min(this.xmax,W.xmax),this.ymax=Math.min(this.ymax,W.ymax),(this.hasZ||W.hasZ)&&(this.zmin=P(Math.max,this.zmin,W.zmin),this.zmax=P(Math.min,this.zmax,W.zmax)),(this.hasM||W.hasM)&&(this.mmin=P(Math.max,this.mmin,W.mmin),this.mmax=P(Math.min,this.mmax,W.mmax)),this)}toJSON(W){return this.write({},W)}_shiftCM(W=(0,re.C5)(this.spatialReference)){if(!W||!this.spatialReference)return this;const te=this.spatialReference,J=this._getCM(W);if(J){const he=te.isWebMercator?(0,X.Sx)(J):J;this.xmin-=J.x,this.xmax-=J.x,te.isWebMercator||(he.x=this._normalizeX(he.x,W).x),this.spatialReference=new $.Z((0,Q.gx)(te.isWGS84?W.altTemplate:W.wkTemplate,{Central_Meridian:he.x}))}return this}_getCM(W){let te=null;const[J,he]=W.valid,oe=this.xmin,me=this.xmax;return oe>=J&&oe<=he&&me>=J&&me<=he||(te=this.center),te}_normalize(W,te,J){const he=this.spatialReference;if(!he)return this;if(!(J=J||(0,re.C5)(he)))return this;const oe=this._getParts(J).map(ie=>ie.extent);if(oe.length<2)return oe[0]||this;if(oe.length>2)return W?this._shiftCM(J):this.set({xmin:J.valid[0],xmax:J.valid[1]});if(W)return this._shiftCM(J);if(te)return oe;let me=!0,de=!0;return oe.forEach(ie=>{ie.hasZ||(me=!1),ie.hasM||(de=!1)}),{rings:oe.map(ie=>{const V=[[ie.xmin,ie.ymin],[ie.xmin,ie.ymax],[ie.xmax,ie.ymax],[ie.xmax,ie.ymin],[ie.xmin,ie.ymin]];if(me){const ce=(ie.zmax-ie.zmin)/2;for(let ae=0;ae<V.length;ae++)V[ae].push(ce)}if(de){const ce=(ie.mmax-ie.mmin)/2;for(let ae=0;ae<V.length;ae++)V[ae].push(ce)}return V}),hasZ:me,hasM:de,spatialReference:he}}_getParts(W){let te=this.cache._parts;if(!te){te=[];const{ymin:oe,ymax:me,spatialReference:de}=this,ie=this.width,V=this.xmin,ce=this.xmax;let ae;W=W||(0,re.C5)(de);const[pe,ue]=W.valid;ae=this._normalizeX(this.xmin,W);const ye=ae.x,le=ae.frameId;ae=this._normalizeX(this.xmax,W);const se=ae.x,Ce=ae.frameId,ge=ye===se&&ie>0;if(ie>2*ue){const Pe=new L(V<ce?ye:se,oe,ue,me,de),Ee=new L(pe,oe,V<ce?se:ye,me,de),Ge=new L(0,oe,ue,me,de),Se=new L(pe,oe,0,me,de),ve=[],Te=[];Pe.contains(Ge)&&ve.push(le),Pe.contains(Se)&&Te.push(le),Ee.contains(Ge)&&ve.push(Ce),Ee.contains(Se)&&Te.push(Ce);for(let Ze=le+1;Ze<Ce;Ze++)ve.push(Ze),Te.push(Ze);te.push({extent:Pe,frameIds:[le]},{extent:Ee,frameIds:[Ce]},{extent:Ge,frameIds:ve},{extent:Se,frameIds:Te})}else ye>se||ge?te.push({extent:new L(ye,oe,ue,me,de),frameIds:[le]},{extent:new L(pe,oe,se,me,de),frameIds:[Ce]}):te.push({extent:new L(ye,oe,se,me,de),frameIds:[le]});this.cache._parts=te}const J=this.hasZ,he=this.hasM;if(J||he){const oe={};J&&(oe.zmin=this.zmin,oe.zmax=this.zmax),he&&(oe.mmin=this.mmin,oe.mmax=this.mmax);for(let me=0;me<te.length;me++)te[me].extent.set(oe)}return te}_normalizeX(W,te){const[J,he]=te.valid,oe=2*he;let me,de=0;return W>he?(me=Math.ceil(Math.abs(W-he)/oe),W-=me*oe,de=me):W<J&&(me=Math.ceil(Math.abs(W-J)/oe),W+=me*oe,de=-me),{x:W,frameId:de}}};(0,M._)([(0,B.Cb)({readOnly:!0})],j.prototype,"cache",null),(0,M._)([(0,B.Cb)({readOnly:!0})],j.prototype,"center",null),(0,M._)([(0,B.Cb)({readOnly:!0})],j.prototype,"extent",null),(0,M._)([(0,B.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],j.prototype,"hasM",null),(0,M._)([(0,B.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],j.prototype,"hasZ",null),(0,M._)([(0,B.Cb)({readOnly:!0})],j.prototype,"height",null),(0,M._)([(0,B.Cb)({readOnly:!0})],j.prototype,"width",null),(0,M._)([(0,B.Cb)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],j.prototype,"xmin",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],j.prototype,"ymin",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],j.prototype,"mmin",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],j.prototype,"zmin",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],j.prototype,"xmax",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],j.prototype,"ymax",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],j.prototype,"mmax",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],j.prototype,"zmax",void 0),j=L=(0,M._)([(0,F.j)("esri.geometry.Extent")],j),j.prototype.toJSON.isDefaultToJSON=!0;const K=j},21674:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(68653)),F=E(76898),I=E(65234);let x=class extends D.wq{constructor(...Y){super(...Y),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=I.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(Y,Z){if(Y instanceof I.Z)return Y;if(null!=Y){const re=new I.Z;return re.read(Y,Z),re}return Y}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(Y){return this.cache[Y]}setCacheValue(Y,Z){this.cache[Y]=Z}};(0,M._)([(0,Q.Cb)()],x.prototype,"type",void 0),(0,M._)([(0,Q.Cb)({readOnly:!0})],x.prototype,"cache",null),(0,M._)([(0,Q.Cb)({readOnly:!0})],x.prototype,"extent",null),(0,M._)([(0,Q.Cb)({type:Boolean,json:{write:{overridePolicy:Y=>({enabled:Y})}}})],x.prototype,"hasM",void 0),(0,M._)([(0,Q.Cb)({type:Boolean,json:{write:{overridePolicy:Y=>({enabled:Y})}}})],x.prototype,"hasZ",void 0),(0,M._)([(0,Q.Cb)({type:I.Z,json:{write:!0}})],x.prototype,"spatialReference",void 0),(0,M._)([(0,k.r)("spatialReference")],x.prototype,"readSpatialReference",null),x=(0,M._)([(0,F.j)("esri.geometry.Geometry")],x);const $=x},79334:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>K});var Z,M=E(17626),D=E(85931),Q=E(2076),B=E(86810),N=E(16730),ne=E(14889),k=E(77712),x=(E(8314),E(90912),E(68653)),$=E(76898),Y=E(99433);const re=(0,Q.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),X=re.jsonValues.slice();(0,D.e$)(X,"orthometric");const L=(0,Q.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let T=Z=class extends B.wq{constructor(W){super(W),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(W,te,J){return re.write(W,te,J)}readHeightModel(W,te,J){return re.read(W)||(J&&J.messages&&J.messages.push(function j(W,te){return new ne.Z("height-model:unsupported",`Height model of value '${W}' is not supported`,te)}(W,{context:J})),null)}readHeightUnit(W,te,J){return L.read(W)||(J&&J.messages&&J.messages.push(P(W,{context:J})),null)}readHeightUnitService(W,te,J){return(0,N.$C)(W)||L.read(W)||(J&&J.messages&&J.messages.push(P(W,{context:J})),null)}readVertCRS(W,te){return te.vertCRS||te.ellipsoid||te.geoid}clone(){return new Z({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(W){return!!W&&(this===W||this.heightModel===W.heightModel&&this.heightUnit===W.heightUnit&&this.vertCRS===W.vertCRS)}static deriveUnitFromSR(W,te){const J=(0,N.cM)(te);return new Z({heightModel:W.heightModel,heightUnit:J,vertCRS:W.vertCRS})}write(W,te){return te=Pt({origin:"web-scene"},te),super.write(W,te)}static fromJSON(W){if(!W)return null;const te=new Z;return te.read(W,{origin:"web-scene"}),te}};function P(W,te){return new ne.Z("height-unit:unsupported",`Height unit of value '${W}' is not supported`,te)}(0,M._)([(0,k.Cb)({type:re.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:X,default:"ellipsoidal"}}}})],T.prototype,"heightModel",void 0),(0,M._)([(0,Y.c)("web-scene","heightModel")],T.prototype,"writeHeightModel",null),(0,M._)([(0,x.r)(["web-scene","service"],"heightModel")],T.prototype,"readHeightModel",null),(0,M._)([(0,k.Cb)({type:L.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:L.jsonValues,write:L.write}}}})],T.prototype,"heightUnit",void 0),(0,M._)([(0,x.r)("web-scene","heightUnit")],T.prototype,"readHeightUnit",null),(0,M._)([(0,x.r)("service","heightUnit")],T.prototype,"readHeightUnitService",null),(0,M._)([(0,k.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],T.prototype,"vertCRS",void 0),(0,M._)([(0,x.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],T.prototype,"readVertCRS",null),T=Z=(0,M._)([(0,$.j)("esri.geometry.HeightModelInfo")],T);const K=T},72854:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var $,M=E(17626),D=E(58817),Q=E(77712),N=(E(90912),E(76898)),ne=E(99433),k=E(2004),F=E(21674),I=E(49672),x=E(18945);function Y(L){return(T,P)=>null==T?P:null==P?T:L(T,P)}let re=$=class extends F.Z{constructor(...L){super(...L),this.points=[],this.type="multipoint"}normalizeCtorArgs(L,T){if(!L&&!T)return null;const P={};Array.isArray(L)?(P.points=L,P.spatialReference=T):function Z(L){return L&&("esri.geometry.SpatialReference"===L.declaredClass||null!=L.wkid)}(L)?P.spatialReference=L:(L.points&&(P.points=L.points),L.spatialReference&&(P.spatialReference=L.spatialReference),L.hasZ&&(P.hasZ=L.hasZ),L.hasM&&(P.hasM=L.hasM));const j=P.points&&P.points[0];return j&&(void 0===P.hasZ&&void 0===P.hasM?(P.hasZ=j.length>2,P.hasM=!1):void 0===P.hasZ?P.hasZ=j.length>3:void 0===P.hasM&&(P.hasM=j.length>3)),P}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const L=this.points;if(!L.length)return null;const T=new k.Z,P=this.hasZ,j=this.hasM,K=P?3:2,W=L[0],te=Y(Math.min),J=Y(Math.max);let he,oe,me,de,[ie,V]=W,[ce,ae]=W;for(let pe=0,ue=L.length;pe<ue;pe++){const ye=L[pe],[le,se]=ye;if(ie=te(ie,le),V=te(V,se),ce=J(ce,le),ae=J(ae,se),P&&ye.length>2){const Ce=ye[2];he=te(he,Ce),me=J(me,Ce)}if(j&&ye.length>K){const Ce=ye[K];oe=te(oe,Ce),de=J(de,Ce)}}return T.xmin=ie,T.ymin=V,T.xmax=ce,T.ymax=ae,T.spatialReference=this.spatialReference,P?(T.zmin=he,T.zmax=me):(T.zmin=null,T.zmax=null),j?(T.mmin=oe,T.mmax=de):(T.mmin=null,T.mmax=null),T}writePoints(L,T){T.points=(0,D.d9)(this.points)}addPoint(L){return(0,x.l)(this,L),Array.isArray(L)?this.points.push(L):this.points.push(L.toArray()),this.notifyChange("points"),this}clone(){const L={points:(0,D.d9)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(L.hasZ=!0),this.hasM&&(L.hasM=!0),new $(L)}getPoint(L){if(!this._validateInputs(L))return null;const T=this.points[L],P={x:T[0],y:T[1],spatialReference:this.spatialReference};let j=2;return this.hasZ&&(P.z=T[2],j=3),this.hasM&&(P.m=T[j]),new I.Z(P)}removePoint(L){if(!this._validateInputs(L))return null;const T=new I.Z(this.points.splice(L,1)[0],this.spatialReference);return this.notifyChange("points"),T}setPoint(L,T){return this._validateInputs(L)?((0,x.l)(this,T),Array.isArray(T)||(T=T.toArray()),this.points[L]=T,this.notifyChange("points"),this):this}toJSON(L){return this.write({},L)}_validateInputs(L){return null!=L&&L>=0&&L<this.points.length}};(0,M._)([(0,Q.Cb)({readOnly:!0})],re.prototype,"cache",null),(0,M._)([(0,Q.Cb)()],re.prototype,"extent",null),(0,M._)([(0,Q.Cb)({type:[[Number]],json:{write:{isRequired:!0}}})],re.prototype,"points",void 0),(0,M._)([(0,ne.c)("points")],re.prototype,"writePoints",null),re=$=(0,M._)([(0,N.j)("esri.geometry.Multipoint")],re),re.prototype.toJSON.isDefaultToJSON=!0;const X=re},49672:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>oe});var K,M=E(17626),D=E(63290),Q=E(62208),B=E(77712),k=(E(85931),E(8314),E(66656)),F=E(68653),I=E(76898),x=E(99433),$=E(90912),Y=E(21674),Z=E(65234),P=E(37053),j=E(46367);const W=[0,0];function te(me){return me&&("esri.geometry.SpatialReference"===me.declaredClass||null!=me.wkid)}const J=D.Z.getLogger("esri.geometry.Point");let he=K=class extends Y.Z{constructor(...me){super(...me),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(me,de){de._set("x",me._get("x")),de._set("y",me._get("y")),de._set("z",me._get("z")),de._set("m",me._get("m"));const ie=me._get("spatialReference");de._set("spatialReference",Object.isFrozen(ie)?ie:ie.clone())}normalizeCtorArgs(me,de,ie,V,ce){let ae;if(Array.isArray(me))ae=me,ce=de,me=ae[0],de=ae[1],ie=ae[2],V=ae[3];else if(me&&"object"==typeof me){if(ae=me,me=null!=ae.x?ae.x:ae.longitude,de=null!=ae.y?ae.y:ae.latitude,ie=ae.z,V=ae.m,(ce=ae.spatialReference)&&"esri.geometry.SpatialReference"!==ce.declaredClass&&(ce=new Z.Z(ce)),null!=ae.longitude||null!=ae.latitude)if(null==ae.longitude)J.warn(".longitude=","Latitude was defined without longitude");else if(null==ae.latitude)J.warn(".latitude=","Longitude was defined without latitude");else if(!ae.declaredClass&&ce&&ce.isWebMercator){const ue=(0,j.hG)(ae.longitude,ae.latitude,W);me=ue[0],de=ue[1]}}else te(ie)?(ce=ie,ie=null):te(V)&&(ce=V,V=null);const pe={x:me,y:de};return null==pe.x&&null!=pe.y?J.warn(".y=","Y coordinate was defined without an X coordinate"):null==pe.y&&null!=pe.x&&J.warn(".x=","X coordinate was defined without a Y coordinate"),null!=ce&&(pe.spatialReference=ce),null!=ie&&(pe.z=ie),null!=V&&(pe.m=V),pe}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(me){me!==(void 0!==this._get("m"))&&(this._set("m",me?0:void 0),this._set("hasM",me))}get hasZ(){return void 0!==this.z}set hasZ(me){me!==(void 0!==this._get("z"))&&(this._set("z",me?0:void 0),this._set("hasZ",me))}get latitude(){const{spatialReference:me,x:de,y:ie}=this;if(me){if(me.isWebMercator)return(0,j.R6)(de,ie,W)[1];if(me.isGeographic)return ie}return null}set latitude(me){const{spatialReference:de,x:ie}=this;de&&(de.isWebMercator?this._set("y",(0,j.hG)(ie,me,W)[1]):de.isGeographic&&this._set("y",me),this._set("latitude",me))}get longitude(){const{x:me,y:de,spatialReference:ie}=this;if(ie){if(ie.isWebMercator)return(0,j.R6)(me,de,W)[0];if(ie.isGeographic)return me}return null}set longitude(me){const{y:de,spatialReference:ie}=this;ie&&(ie.isWebMercator?this._set("x",(0,j.hG)(me,de,W)[0]):ie.isGeographic&&this._set("x",me),this._set("longitude",me))}writeX(me,de,ie){de[ie]=isNaN(me)?"NaN":me}readX(me){return"string"==typeof me?NaN:me}clone(){const me=new K;return me.x=this.x,me.y=this.y,me.z=this.z,me.m=this.m,me.spatialReference=this.spatialReference,me}copy(me){return K.copy(me,this),this}equals(me){if((0,Q.Wi)(me))return!1;const{x:de,y:ie,z:V,m:ce,spatialReference:ae}=this,{z:pe,m:ue}=me;let{x:ye,y:le,spatialReference:se}=me;if(!ae.equals(se))if(ae.isWebMercator&&se.isWGS84)[ye,le]=(0,j.hG)(ye,le),se=ae;else{if(!ae.isWGS84||!se.isWebMercator)return!1;[ye,le]=(0,j.R6)(ye,le),se=ae}return de===ye&&ie===le&&V===pe&&ce===ue&&ae.wkid===se.wkid}offset(me,de,ie){return function re(me,de,ie,V){var ce;return me.x=me.x+de,me.y=me.y+ie,null!=V&&(me.z=(null!=(ce=me.z)?ce:0)+V),me}(this,me,de,ie)}normalize(){if(!this.spatialReference)return this;const me=(0,P.C5)(this.spatialReference);if(!me)return this;let de=this.x;const[ie,V]=me.valid,ce=2*V;let ae;return de>V?(ae=Math.ceil(Math.abs(de-V)/ce),de-=ae*ce):de<ie&&(ae=Math.ceil(Math.abs(de-ie)/ce),de+=ae*ce),this._set("x",de),this}distance(me){return function L(me,de){const ie=me.x-de.x,V=me.y-de.y,ce=me.hasZ&&de.hasZ?me.z-de.z:0;return Math.sqrt(ie*ie+V*V+ce*ce)}(this,me)}toArray(){const me=this.hasZ,de=this.hasM;return me&&de?[this.x,this.y,this.z,this.m]:me?[this.x,this.y,this.z]:de?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(me){return this.write({},me)}};(0,M._)([(0,B.Cb)({readOnly:!0})],he.prototype,"cache",null),(0,M._)([(0,B.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],he.prototype,"hasM",null),(0,M._)([(0,B.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],he.prototype,"hasZ",null),(0,M._)([(0,B.Cb)({type:Number})],he.prototype,"latitude",null),(0,M._)([(0,B.Cb)({type:Number})],he.prototype,"longitude",null),(0,M._)([(0,B.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,k.p)(me=>isNaN(me)?me:(0,$.q9)(me))],he.prototype,"x",void 0),(0,M._)([(0,x.c)("x")],he.prototype,"writeX",null),(0,M._)([(0,F.r)("x")],he.prototype,"readX",null),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],he.prototype,"y",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],he.prototype,"z",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],he.prototype,"m",void 0),he=K=(0,M._)([(0,I.j)("esri.geometry.Point")],he),he.prototype.toJSON.isDefaultToJSON=!0;const oe=he},37118:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>J});var K,M=E(17626),D=E(85931),Q=E(58817),B=E(62208),N=E(77712),k=(E(90912),E(76898)),F=E(99433),I=E(2004),x=E(21674),$=E(49672),Y=E(65234),Z=E(27105),re=E(33190),X=E(25748),L=E(15176),T=E(11519),P=E(46367),j=E(18945);function W(he){return!Array.isArray(he[0])}let te=K=class extends x.Z{constructor(...he){super(...he),this.rings=[],this.type="polygon"}static fromExtent(he){const oe=he.clone().normalize(),me=he.spatialReference;let de=!1,ie=!1;for(const ce of oe)ce.hasZ&&(de=!0),ce.hasM&&(ie=!0);const V={rings:oe.map(function(ce){const ae=[[ce.xmin,ce.ymin],[ce.xmin,ce.ymax],[ce.xmax,ce.ymax],[ce.xmax,ce.ymin],[ce.xmin,ce.ymin]];if(de&&ce.hasZ){const pe=ce.zmin+.5*(ce.zmax-ce.zmin);for(let ue=0;ue<ae.length;ue++)ae[ue].push(pe)}if(ie&&ce.hasM){const pe=ce.mmin+.5*(ce.mmax-ce.mmin);for(let ue=0;ue<ae.length;ue++)ae[ue].push(pe)}return ae}),spatialReference:me};return de&&(V.hasZ=!0),ie&&(V.hasM=!0),new K(V)}normalizeCtorArgs(he,oe){let me,de,ie=null,V=null;return he&&!Array.isArray(he)?(ie=he.rings?he.rings:null,oe||(he.spatialReference?oe=he.spatialReference:he.rings||(oe=he)),me=he.hasZ,de=he.hasM):ie=he,ie=ie||[],ie.length&&ie[0]&&null!=ie[0][0]&&"number"==typeof ie[0][0]&&(ie=[ie]),V=ie[0]&&ie[0][0],V&&(void 0===me&&void 0===de?(me=V.length>2,de=V.length>3):void 0===me?me=de?V.length>3:V.length>2:void 0===de&&(de=me?V.length>3:V.length>2)),{rings:ie,spatialReference:oe=oe||Y.Z.WGS84,hasZ:me,hasM:de}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const he=(0,Z.tO)(this);if(!he||isNaN(he[0])||isNaN(he[1])||this.hasZ&&isNaN(he[2]))return null;const oe=new $.Z;return oe.x=he[0],oe.y=he[1],oe.spatialReference=this.spatialReference,this.hasZ&&(oe.z=he[2]),oe}get extent(){const{spatialReference:he}=this,oe=(0,L._w)(this);if(!oe)return null;const me=new I.Z(oe);return me.spatialReference=he,me}get isSelfIntersecting(){return(0,T.Ff)(this.rings)}writeRings(he,oe){oe.rings=(0,Q.d9)(this.rings)}addRing(he){if(!he)return;const oe=this.rings,me=oe.length;if(W(he)){const de=[];for(let ie=0,V=he.length;ie<V;ie++)de[ie]=he[ie].toArray();oe[me]=de}else oe[me]=he.concat();return this.notifyChange("rings"),this}clone(){const he=new K;return he.spatialReference=this.spatialReference,he.rings=(0,Q.d9)(this.rings),he.hasZ=this.hasZ,he.hasM=this.hasM,he}equals(he){if(this===he)return!0;if((0,B.Wi)(he))return!1;const oe=this.spatialReference,me=he.spatialReference;if((0,B.pC)(oe)!==(0,B.pC)(me)||(0,B.pC)(oe)&&(0,B.pC)(me)&&!oe.equals(me)||this.rings.length!==he.rings.length)return!1;const de=([ie,V,ce,ae],[pe,ue,ye,le])=>ie===pe&&V===ue&&(null==ce&&null==ye||ce===ye)&&(null==ae&&null==le||ae===le);for(let ie=0;ie<this.rings.length;ie++)if(!(0,D.fS)(this.rings[ie],he.rings[ie],de))return!1;return!0}contains(he){if(!he)return!1;const oe=(0,P.iV)(he,this.spatialReference);return(0,re.CI)(this,(0,B.pC)(oe)?oe:he)}isClockwise(he){let oe;return oe=W(he)?he.map(me=>this.hasZ?this.hasM?[me.x,me.y,me.z,me.m]:[me.x,me.y,me.z]:[me.x,me.y]):he,(0,X.bu)(oe,this.hasM,this.hasZ)}getPoint(he,oe){if(!this._validateInputs(he,oe))return null;const me=this.rings[he][oe],de=this.hasZ,ie=this.hasM;return de&&!ie?new $.Z(me[0],me[1],me[2],void 0,this.spatialReference):ie&&!de?new $.Z(me[0],me[1],void 0,me[2],this.spatialReference):de&&ie?new $.Z(me[0],me[1],me[2],me[3],this.spatialReference):new $.Z(me[0],me[1],this.spatialReference)}insertPoint(he,oe,me){return this._validateInputs(he,oe,!0)?((0,j.l)(this,me),Array.isArray(me)||(me=me.toArray()),this.rings[he].splice(oe,0,me),this.notifyChange("rings"),this):this}removePoint(he,oe){if(!this._validateInputs(he,oe))return null;const me=new $.Z(this.rings[he].splice(oe,1)[0],this.spatialReference);return this.notifyChange("rings"),me}removeRing(he){if(!this._validateInputs(he,null))return null;const oe=this.rings.splice(he,1)[0],me=this.spatialReference,de=oe.map(ie=>new $.Z(ie,me));return this.notifyChange("rings"),de}setPoint(he,oe,me){return this._validateInputs(he,oe)?((0,j.l)(this,me),Array.isArray(me)||(me=me.toArray()),this.rings[he][oe]=me,this.notifyChange("rings"),this):this}_validateInputs(he,oe,me=!1){if(null==he||he<0||he>=this.rings.length)return!1;if(null!=oe){const de=this.rings[he];if(me&&(oe<0||oe>de.length)||!me&&(oe<0||oe>=de.length))return!1}return!0}toJSON(he){return this.write({},he)}};(0,M._)([(0,N.Cb)({readOnly:!0})],te.prototype,"cache",null),(0,M._)([(0,N.Cb)({readOnly:!0})],te.prototype,"centroid",null),(0,M._)([(0,N.Cb)({readOnly:!0})],te.prototype,"extent",null),(0,M._)([(0,N.Cb)({readOnly:!0})],te.prototype,"isSelfIntersecting",null),(0,M._)([(0,N.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],te.prototype,"rings",void 0),(0,M._)([(0,F.c)("rings")],te.prototype,"writeRings",null),te=K=(0,M._)([(0,k.j)("esri.geometry.Polygon")],te),te.prototype.toJSON.isDefaultToJSON=!0;const J=te},55214:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>L});var Z,M=E(17626),D=E(58817),Q=E(77712),N=(E(90912),E(76898)),ne=E(99433),k=E(2004),F=E(21674),I=E(49672),x=E(65234),$=E(15176),Y=E(18945);let X=Z=class extends F.Z{constructor(...T){super(...T),this.paths=[],this.type="polyline"}normalizeCtorArgs(T,P){let j,K,W=null,te=null;return T&&!Array.isArray(T)?(W=T.paths?T.paths:null,P||(T.spatialReference?P=T.spatialReference:T.paths||(P=T)),j=T.hasZ,K=T.hasM):W=T,W=W||[],W.length&&W[0]&&null!=W[0][0]&&"number"==typeof W[0][0]&&(W=[W]),te=W[0]&&W[0][0],te&&(void 0===j&&void 0===K?(j=te.length>2,K=!1):void 0===j?j=!K&&te.length>3:void 0===K&&(K=!j&&te.length>3)),{paths:W,spatialReference:P=P||x.Z.WGS84,hasZ:j,hasM:K}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:T}=this,P=(0,$.Wn)(this);if(!P)return null;const j=new k.Z(P);return j.spatialReference=T,j}writePaths(T,P){P.paths=(0,D.d9)(this.paths)}addPath(T){if(!T)return;const P=this.paths,j=P.length;if(function re(T){return!Array.isArray(T[0])}(T)){const K=[];for(let W=0,te=T.length;W<te;W++)K[W]=T[W].toArray();P[j]=K}else P[j]=T.concat();return this.notifyChange("paths"),this}clone(){const T=new Z;return T.spatialReference=this.spatialReference,T.paths=(0,D.d9)(this.paths),T.hasZ=this.hasZ,T.hasM=this.hasM,T}getPoint(T,P){if(!this._validateInputs(T,P))return null;const j=this.paths[T][P],K=this.hasZ,W=this.hasM;return K&&!W?new I.Z(j[0],j[1],j[2],void 0,this.spatialReference):W&&!K?new I.Z(j[0],j[1],void 0,j[2],this.spatialReference):K&&W?new I.Z(j[0],j[1],j[2],j[3],this.spatialReference):new I.Z(j[0],j[1],this.spatialReference)}insertPoint(T,P,j){return this._validateInputs(T,P,!0)?((0,Y.l)(this,j),Array.isArray(j)||(j=j.toArray()),this.paths[T].splice(P,0,j),this.notifyChange("paths"),this):this}removePath(T){if(!this._validateInputs(T,null))return null;const P=this.paths.splice(T,1)[0],j=this.spatialReference,K=P.map(W=>new I.Z(W,j));return this.notifyChange("paths"),K}removePoint(T,P){if(!this._validateInputs(T,P))return null;const j=new I.Z(this.paths[T].splice(P,1)[0],this.spatialReference);return this.notifyChange("paths"),j}setPoint(T,P,j){return this._validateInputs(T,P)?((0,Y.l)(this,j),Array.isArray(j)||(j=j.toArray()),this.paths[T][P]=j,this.notifyChange("paths"),this):this}_validateInputs(T,P,j=!1){if(null==T||T<0||T>=this.paths.length)return!1;if(null!=P){const K=this.paths[T];if(j&&(P<0||P>K.length)||!j&&(P<0||P>=K.length))return!1}return!0}toJSON(T){return this.write({},T)}};(0,M._)([(0,Q.Cb)({readOnly:!0})],X.prototype,"cache",null),(0,M._)([(0,Q.Cb)({readOnly:!0})],X.prototype,"extent",null),(0,M._)([(0,Q.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],X.prototype,"paths",void 0),(0,M._)([(0,ne.c)("paths")],X.prototype,"writePaths",null),X=Z=(0,M._)([(0,N.j)("esri.geometry.Polyline")],X),X.prototype.toJSON.isDefaultToJSON=!0;const L=X},65234:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(86810),Q=E(58817),B=E(90912),N=E(77712),ne=E(76898),k=E(99433),F=E(37053);let x=I=class extends D.wq{constructor(Y){super(Y),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(Y){if(!Y)return null;if(Y.wkid){if(102100===Y.wkid)return I.WebMercator;if(4326===Y.wkid)return I.WGS84}const Z=new I;return Z.read(Y),Z}normalizeCtorArgs(Y){return Y&&"object"==typeof Y?Y:{["string"==typeof Y?"wkt":"wkid"]:Y}}get isWGS84(){return(0,F.oR)(this)}get isWebMercator(){return(0,F.sS)(this)}get isGeographic(){return(0,F.sT)(this)}get isWrappable(){return(0,F.MP)(this)}writeWkt(Y,Z){this.wkid||(Z.wkt=Y)}clone(){if(this===I.WGS84)return I.WGS84;if(this===I.WebMercator)return I.WebMercator;const Y=new I;return null!=this.wkid?(Y.wkid=this.wkid,null!=this.latestWkid&&(Y.latestWkid=this.latestWkid),null!=this.vcsWkid&&(Y.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(Y.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(Y.wkt=this.wkt),this.imageCoordinateSystem&&(Y.imageCoordinateSystem=(0,Q.d9)(this.imageCoordinateSystem)),Y}equals(Y){if(null==Y)return!1;if(this.imageCoordinateSystem||Y.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==Y.imageCoordinateSystem)return!1;const{id:Z,referenceServiceName:re}=Y.imageCoordinateSystem,{geodataXform:X}=Y.imageCoordinateSystem,L=this.imageCoordinateSystem;return null==Z||X?JSON.stringify(L)===JSON.stringify(Y.imageCoordinateSystem):re?L.id===Z&&L.referenceServiceName===re:L.id===Z}return(0,F.fS)(this,Y)}toJSON(Y){return this.write(void 0,Y)}};x.GCS_NAD_1927=null,x.WGS84=null,x.WebMercator=null,x.PlateCarree=null,(0,M._)([(0,N.Cb)({readOnly:!0})],x.prototype,"isWGS84",null),(0,M._)([(0,N.Cb)({readOnly:!0})],x.prototype,"isWebMercator",null),(0,M._)([(0,N.Cb)({readOnly:!0})],x.prototype,"isGeographic",null),(0,M._)([(0,N.Cb)({readOnly:!0})],x.prototype,"isWrappable",null),(0,M._)([(0,N.Cb)({type:B.z8,json:{write:!0}})],x.prototype,"latestWkid",void 0),(0,M._)([(0,N.Cb)({type:B.z8,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],x.prototype,"wkid",void 0),(0,M._)([(0,N.Cb)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],x.prototype,"wkt",void 0),(0,M._)([(0,k.c)("wkt"),(0,k.c)("web-scene","wkt")],x.prototype,"writeWkt",null),(0,M._)([(0,N.Cb)({type:B.z8,json:{write:!0}})],x.prototype,"vcsWkid",void 0),(0,M._)([(0,N.Cb)({type:B.z8,json:{write:!0}})],x.prototype,"latestVcsWkid",void 0),(0,M._)([(0,N.Cb)()],x.prototype,"imageCoordinateSystem",void 0),x=I=(0,M._)([(0,ne.j)("esri.geometry.SpatialReference")],x),x.prototype.toJSON.isDefaultToJSON=!0,x.GCS_NAD_1927=new x({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),x.WGS84=new x(F.Zn),x.WebMercator=new x(F.R_),x.PlateCarree=new x(F.WR),Object.freeze&&(Object.freeze(x.GCS_NAD_1927),Object.freeze(x.WGS84),Object.freeze(x.WebMercator));const $=x},54614:(qe,Me,E)=>{"use strict";E.d(Me,{Up:()=>ve,Bm:()=>ut,rS:()=>Ce,iQ:()=>Te,kR:()=>ue,zD:()=>ye,iV:()=>le,CM:()=>Jt,oj:()=>se,KC:()=>Ke,Wt:()=>pt});var M=E(15861),D=E(26584),Q=E(21286),B=E(62208),N=E(10699),ne=E(16730),k=E(28347),I=(E(84161),E(28093)),x=E(2004),$=E(72854),Y=E(44956),Z=E(49672),re=E(37118),X=E(55214),L=E(12080),P=(E(65401),E(94425));Math;const W=P.sv.radius,te=P.sv.eccentricitySquared,J={a1:W*te,a2:W*te*W*te,a3:W*te*te/2,a4:W*te*W*te*2.5,a5:W*te+W*te*te/2,a6:1-te};var oe=E(98346),me=E(37053),de=E(6178);E(33696);let V=null,ce=null,ae=null,pe={};function ue(){return!!V&&(0,Y.i)()}function ye(nt){return(0,B.Wi)(ae)&&(ae=Promise.all([(0,Y.l)(),E.e(4918).then(E.bind(E,4918)).then(Ot=>Ot.g),E.e(8592).then(E.bind(E,77777))])),ae.then(([,Ot,{hydratedAdapter:ft}])=>{(0,N.k_)(nt),ce=ft,V=Ot.default,V._enableProjection(Y.p)})}function le(nt,Ot,ft=null){return Array.isArray(nt)?0===nt.length?[]:se(ce,nt,nt[0].spatialReference,Ot,ft):se(ce,[nt],nt.spatialReference,Ot,ft)[0]}function se(nt,Ot,ft,Rt,zt=null){if((0,B.Wi)(ft)||(0,B.Wi)(Rt))return Ot;if(ve(ft,Rt,zt))return Ot.map(Cn=>(0,B.Wg)(function xe(nt,Ot,ft){return nt?"x"in nt?function He(nt,Ot,ft,Rt,zt){_n[0]=nt.x,_n[1]=nt.y;const Cn=nt.z;return _n[2]=void 0!==Cn?Cn:zt,Jt(_n,Ot,0,_n,Rt,0,1)?(ft.x=_n[0],ft.y=_n[1],ft.spatialReference=Rt,void 0===Cn?(ft.z=void 0,ft.hasZ=!1):(ft.z=_n[2],ft.hasZ=!0),void 0===nt.m?(ft.m=void 0,ft.hasM=!1):(ft.m=nt.m,ft.hasM=!0),ft):null}(nt,Ot,new Z.Z,ft,0):"xmin"in nt?function ot(nt,Ot,ft,Rt,zt){const{xmin:Cn,ymin:vn,xmax:On,ymax:kn,hasZ:sr,hasM:Xn}=nt;return ct(Cn,vn,sr?nt.zmin:zt,Ot,_n,Rt)?(ft.xmin=_n[0],ft.ymin=_n[1],sr&&(ft.zmin=_n[2]),ct(On,kn,sr?nt.zmax:zt,Ot,_n,Rt)?(ft.xmax=_n[0],ft.ymax=_n[1],sr&&(ft.zmax=_n[2]),Xn&&(ft.mmin=nt.mmin,ft.mmax=nt.mmax),ft.spatialReference=Rt,ft):null):null}(nt,Ot,new x.Z,ft,0):"rings"in nt?it(nt,Ot,new re.Z,ft,0):"paths"in nt?function Ye(nt,Ot,ft,Rt,zt){const{paths:Cn,hasZ:vn,hasM:On}=nt,kn=[];return xn(Cn,vn,On,Ot,kn,Rt,zt)?(ft.paths=kn,ft.spatialReference=Rt,ft.hasZ=vn,ft.hasM=On,ft):null}(nt,Ot,new X.Z,ft,0):"points"in nt?function _e(nt,Ot,ft,Rt,zt){const{points:Cn,hasZ:vn,hasM:On}=nt,kn=[],sr=Cn.length,Xn=[];for(const Nr of Cn)Xn.push(Nr[0],Nr[1],vn?Nr[2]:zt);if(!Jt(Xn,Ot,0,Xn,Rt,0,sr))return null;for(let Nr=0;Nr<sr;++Nr){const Wn=3*Nr,Qr=Xn[Wn],vr=Xn[Wn+1];kn.push(vn&&On?[Qr,vr,Xn[Wn+2],Cn[Nr][3]]:vn?[Qr,vr,Xn[Wn+2]]:On?[Qr,vr,Cn[Nr][2]]:[Qr,vr])}return ft.points=kn,ft.spatialReference=Rt,ft.hasZ=vn,ft.hasM=On,ft}(nt,Ot,new $.Z,ft,0):null:null}(Cn,ft,Rt)));if((0,B.Wi)(zt)){const Cn=oe.Z.cacheKey(ft,Rt);void 0!==pe[Cn]?zt=pe[Cn]:(zt=Ce(ft,Rt,null),(0,B.Wi)(zt)&&(zt=new oe.Z),pe[Cn]=zt)}if((0,B.Wi)(V))throw new Pe;return V._project(nt,Ot,ft,Rt,zt)}function Ce(nt,Ot,ft=null){if((0,B.Wi)(V))throw new Pe;if((0,B.Wi)(nt)||(0,B.Wi)(Ot))return null;const Rt=V._getTransformation(ce,nt,Ot,ft,null==ft?void 0:ft.spatialReference);return null!==Rt?oe.Z.fromGE(Rt):null}class Pe extends D.Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var Ee,nt;function ve(nt,Ot,ft){return!ft&&(!!(0,me.fS)(nt,Ot)||(0,me.JY)(nt)&&(0,me.JY)(Ot)&&!!rs(nt,Ot,rn))}function Te(nt,Ot,ft,Rt){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,M.Z)(function*(nt,Ot,ft,Rt){if(!ue())if(Array.isArray(nt)){for(const{source:zt,dest:Cn,geographicTransformation:vn}of nt)if(!ve(zt,Cn,vn))return ye(Rt)}else if(!ve(nt,Ot,ft))return ye(Rt)})).apply(this,arguments)}function pt(nt,Ot,ft=Ot.spatialReference,Rt=0){return(0,B.pC)(ft)&&(0,B.pC)(it(nt,nt.spatialReference,Ot,ft,Rt))}function it(nt,Ot,ft,Rt,zt){const{rings:Cn,hasZ:vn,hasM:On}=nt,kn=[];return xn(Cn,vn,On,Ot,kn,Rt,zt)?(ft.rings=kn,ft.spatialReference=Rt,ft.hasZ=vn,ft.hasM=On,ft):null}function Ke(nt,Ot,ft,Rt=0){_n[0]=nt.x,_n[1]=nt.y;const zt=nt.z;return _n[2]=void 0!==zt?zt:Rt,Jt(_n,nt.spatialReference,0,Ot,ft,0,1)}function ct(nt,Ot,ft,Rt,zt,Cn){return ln[0]=nt,ln[1]=Ot,ln[2]=ft,Jt(ln,Rt,0,zt,Cn,0,1)}function Jt(nt,Ot,ft,Rt,zt,Cn,vn=1){const On=rs(Ot,zt,rn);if((0,B.Wi)(On))return!1;if(On===At){if(nt===Rt&&ft===Cn)return!0;const sr=ft+3*vn;for(let Xn=ft,Nr=Cn;Xn<sr;Xn++,Nr++)Rt[Nr]=nt[Xn];return!0}const kn=ft+3*vn;for(let sr=ft,Xn=Cn;sr<kn;sr+=3,Xn+=3)On(nt,sr,Rt,Xn);return!0}function xn(nt,Ot,ft,Rt,zt,Cn,vn=0){const On=new Array;for(const sr of nt)for(const Xn of sr)On.push(Xn[0],Xn[1],Ot?Xn[2]:vn);if(!Jt(On,Rt,0,On,Cn,0,On.length/3))return!1;let kn=0;zt.length=0;for(const sr of nt){const Xn=new Array;for(const Nr of sr)Ot&&ft?Xn.push([On[kn++],On[kn++],On[kn++],Nr[3]]):Ot?Xn.push([On[kn++],On[kn++],On[kn++]]):ft?(Xn.push([On[kn++],On[kn++],Nr[2]]),kn++):(Xn.push([On[kn++],On[kn++]]),kn++);zt.push(Xn)}return!0}function ut(nt,Ot,ft,Rt){if((0,B.Wi)(nt)||(0,B.Wi)(Rt))return!1;const zt=Kt(nt,Ft),Cn=Kt(Rt,Lt);if(zt===Cn&&!bt(Cn)&&(zt!==Ee.UNKNOWN||(0,me.fS)(nt,Rt)))return(0,k.f)(ft,Ot),!0;if(bt(Cn)){const vn=Pr[zt][Ee.LON_LAT],On=Pr[Ee.LON_LAT][Cn];return!(0,B.Wi)(vn)&&!(0,B.Wi)(On)&&(vn(Ot,0,Jn,0),On(Jn,0,or,0),xt(jn*Jn[0],jn*Jn[1],ft),ft[12]=or[0],ft[13]=or[1],ft[14]=or[2],!0)}if((Cn===Ee.WEB_MERCATOR||Cn===Ee.PLATE_CARREE)&&(zt===Ee.WGS84||zt===Ee.CGCS2000&&Cn===Ee.PLATE_CARREE||zt===Ee.SPHERICAL_ECEF||zt===Ee.WEB_MERCATOR)){const vn=Pr[zt][Ee.LON_LAT],On=Pr[Ee.LON_LAT][Cn];return!(0,B.Wi)(vn)&&!(0,B.Wi)(On)&&(vn(Ot,0,Jn,0),On(Jn,0,or,0),zt===Ee.SPHERICAL_ECEF?function Wt(nt,Ot,ft){xt(nt,Ot,ft),(0,k.t)(ft,ft)}(jn*Jn[0],jn*Jn[1],ft):(0,k.i)(ft),ft[12]=or[0],ft[13]=or[1],ft[14]=or[2],!0)}return!1}function bt(nt){return nt===Ee.SPHERICAL_ECEF||nt===Ee.SPHERICAL_MARS_PCPF||nt===Ee.SPHERICAL_MOON_PCPF}function xt(nt,Ot,ft){const Rt=Math.sin(nt),zt=Math.cos(nt),Cn=Math.sin(Ot),vn=Math.cos(Ot),On=ft;return On[0]=-Rt,On[4]=-Cn*zt,On[8]=vn*zt,On[12]=0,On[1]=zt,On[5]=-Cn*Rt,On[9]=vn*Rt,On[13]=0,On[2]=0,On[6]=vn,On[10]=Cn,On[14]=0,On[3]=0,On[7]=0,On[11]=0,On[15]=1,On}function Kt(nt,Ot){return Ot.spatialReference===nt?Ot.spatialReferenceId:(Ot.spatialReference=nt,"metersPerUnit"in Ot&&(Ot.metersPerUnit=(0,ne.c9)(nt,1)),Ot.spatialReferenceId=nt.wkt===L.GG.wkt?Ee.SPHERICAL_ECEF:(0,me.oR)(nt)?Ee.WGS84:(0,me.sS)(nt)?Ee.WEB_MERCATOR:(0,me.QM)(nt)?Ee.PLATE_CARREE:nt.wkt===L.wY.wkt?Ee.WGS84_ECEF:nt.wkid===de.W.CGCS2000?Ee.CGCS2000:nt.wkt===L.HQ.wkt?Ee.SPHERICAL_MARS_PCPF:nt.wkt===L.VY.wkt?Ee.SPHERICAL_MOON_PCPF:(0,me.BZ)(nt)?Ee.GCSMARS2000:(0,me.V2)(nt)?Ee.GCSMOON2000:Ee.UNKNOWN)}function At(nt,Ot,ft,Rt){nt!==ft&&(ft[Rt++]=nt[Ot++],ft[Rt++]=nt[Ot++],ft[Rt]=nt[Ot])}function Ht(nt,Ot,ft,Rt){ft[Rt++]=Rn*(nt[Ot++]/P.sv.radius),ft[Rt++]=Rn*(Math.PI/2-2*Math.atan(Math.exp(-nt[Ot++]/P.sv.radius))),ft[Rt]=nt[Ot]}function mt(nt,Ot,ft,Rt){!function Ct(nt,Ot,ft,Rt,zt){const Cn=.4999999*Math.PI,vn=(0,Q.uZ)(jn*nt[Ot+1],-Cn,Cn),On=Math.sin(vn);ft[Rt++]=jn*nt[Ot]*zt.radius,ft[Rt++]=zt.halfSemiMajorAxis*Math.log((1+On)/(1-On)),ft[Rt]=nt[Ot+2]}(nt,Ot,ft,Rt,P.sv)}(nt=Ee||(Ee={}))[nt.UNKNOWN=0]="UNKNOWN",nt[nt.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",nt[nt.WGS84=2]="WGS84",nt[nt.WEB_MERCATOR=3]="WEB_MERCATOR",nt[nt.WGS84_ECEF=4]="WGS84_ECEF",nt[nt.CGCS2000=5]="CGCS2000",nt[nt.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",nt[nt.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",nt[nt.GCSMARS2000=8]="GCSMARS2000",nt[nt.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",nt[nt.GCSMOON2000=10]="GCSMOON2000",nt[nt.LON_LAT=11]="LON_LAT",nt[nt.PLATE_CARREE=12]="PLATE_CARREE";const ze=P.sv.radius*Math.PI/180,ht=180/(P.sv.radius*Math.PI);function we(nt,Ot,ft,Rt){ft[Rt]=nt[Ot]*ze,ft[Rt+1]=nt[Ot+1]*ze,ft[Rt+2]=nt[Ot+2]}function Xe(nt,Ot,ft,Rt){ft[Rt]=nt[Ot]*ht,ft[Rt+1]=nt[Ot+1]*ht,ft[Rt+2]=nt[Ot+2]}function Nn(nt,Ot,ft,Rt,zt){const Cn=zt+nt[Ot+2],vn=jn*nt[Ot+1],On=jn*nt[Ot],kn=Math.cos(vn);ft[Rt++]=Math.cos(On)*kn*Cn,ft[Rt++]=Math.sin(On)*kn*Cn,ft[Rt]=Math.sin(vn)*Cn}function pr(nt,Ot,ft,Rt){Nn(nt,Ot,ft,Rt,P.Z1.radius)}function Or(nt,Ot,ft,Rt){Nn(nt,Ot,ft,Rt,P.yr.radius)}function ar(nt,Ot,ft,Rt){Nn(nt,Ot,ft,Rt,P.sv.radius)}function wr(nt,Ot,ft,Rt,zt){const Cn=nt[Ot],vn=nt[Ot+1],On=nt[Ot+2],kn=Math.sqrt(Cn*Cn+vn*vn+On*On),sr=(0,Q.Kt)(On/(0===kn?1:kn)),Xn=Math.atan2(vn,Cn);ft[Rt++]=Rn*Xn,ft[Rt++]=Rn*sr,ft[Rt]=kn-zt}function ys(nt,Ot,ft,Rt){wr(nt,Ot,ft,Rt,P.Z1.radius)}function qr(nt,Ot,ft,Rt){wr(nt,Ot,ft,Rt,P.yr.radius)}function Jr(nt,Ot,ft,Rt){wr(nt,Ot,ft,Rt,P.sv.radius)}function us(nt,Ot,ft,Rt){!function Xs(nt,Ot,ft,Rt,zt){const Cn=jn*nt[Ot],vn=jn*nt[Ot+1],On=nt[Ot+2],kn=Math.sin(vn),sr=Math.cos(vn),Xn=zt.radius/Math.sqrt(1-zt.eccentricitySquared*kn*kn);ft[Rt++]=(Xn+On)*sr*Math.cos(Cn),ft[Rt++]=(Xn+On)*sr*Math.sin(Cn),ft[Rt++]=(Xn*(1-zt.eccentricitySquared)+On)*kn}(nt,Ot,ft,Rt,P.sv)}function cs(nt,Ot,ft,Rt){const zt=J,Cn=nt[Ot],vn=nt[Ot+1],On=nt[Ot+2];let kn,sr,Xn,Nr,Wn,Qr,vr,hs,Rr,ss,es,jr,qn,Wr,Vs,Ui,Mr,Fi,ts,qs,Zr;kn=Math.abs(On),sr=Cn*Cn+vn*vn,Xn=Math.sqrt(sr),Nr=sr+On*On,Wn=Math.sqrt(Nr),qs=Math.atan2(vn,Cn),Qr=On*On/Nr,vr=sr/Nr,Wr=zt.a2/Wn,Vs=zt.a3-zt.a4/Wn,vr>.3?(hs=kn/Wn*(1+vr*(zt.a1+Wr+Qr*Vs)/Wn),ts=Math.asin(hs),ss=hs*hs,Rr=Math.sqrt(1-ss)):(Rr=Xn/Wn*(1-Qr*(zt.a5-Wr-vr*Vs)/Wn),ts=Math.acos(Rr),ss=1-Rr*Rr,hs=Math.sqrt(ss)),es=1-P.sv.eccentricitySquared*ss,jr=P.sv.radius/Math.sqrt(es),qn=zt.a6*jr,Wr=Xn-jr*Rr,Vs=kn-qn*hs,Mr=Rr*Wr+hs*Vs,Ui=Rr*Vs-hs*Wr,Fi=Ui/(qn/es+Mr),ts+=Fi,Zr=Mr+Ui*Fi/2,On<0&&(ts=-ts),ft[Rt++]=Rn*qs,ft[Rt++]=Rn*ts,ft[Rt]=Zr}const Pr={[Ee.WGS84]:{[Ee.CGCS2000]:null,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:At,[Ee.WGS84_COMPARABLE_LON_LAT]:At,[Ee.SPHERICAL_ECEF]:ar,[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:mt,[Ee.PLATE_CARREE]:we,[Ee.WGS84]:At,[Ee.WGS84_ECEF]:us},[Ee.CGCS2000]:{[Ee.CGCS2000]:At,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:At,[Ee.WGS84_COMPARABLE_LON_LAT]:At,[Ee.SPHERICAL_ECEF]:ar,[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:null,[Ee.PLATE_CARREE]:we,[Ee.WGS84]:null,[Ee.WGS84_ECEF]:us},[Ee.GCSMARS2000]:{[Ee.CGCS2000]:null,[Ee.GCSMARS2000]:At,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:At,[Ee.WGS84_COMPARABLE_LON_LAT]:null,[Ee.SPHERICAL_ECEF]:null,[Ee.SPHERICAL_MARS_PCPF]:Or,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:null,[Ee.PLATE_CARREE]:null,[Ee.WGS84]:null,[Ee.WGS84_ECEF]:null},[Ee.GCSMOON2000]:{[Ee.CGCS2000]:null,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:At,[Ee.LON_LAT]:At,[Ee.WGS84_COMPARABLE_LON_LAT]:null,[Ee.SPHERICAL_ECEF]:null,[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:pr,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:null,[Ee.PLATE_CARREE]:null,[Ee.WGS84]:null,[Ee.WGS84_ECEF]:null},[Ee.WEB_MERCATOR]:{[Ee.CGCS2000]:null,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:Ht,[Ee.WGS84_COMPARABLE_LON_LAT]:Ht,[Ee.SPHERICAL_ECEF]:function Yt(nt,Ot,ft,Rt){Ht(nt,Ot,ft,Rt),ar(ft,Rt,ft,Rt)},[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:At,[Ee.PLATE_CARREE]:function Dt(nt,Ot,ft,Rt){Ht(nt,Ot,ft,Rt),we(ft,Rt,ft,Rt)},[Ee.WGS84]:Ht,[Ee.WGS84_ECEF]:function sn(nt,Ot,ft,Rt){Ht(nt,Ot,ft,Rt),us(ft,Rt,ft,Rt)}},[Ee.WGS84_ECEF]:{[Ee.CGCS2000]:cs,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:cs,[Ee.WGS84_COMPARABLE_LON_LAT]:cs,[Ee.SPHERICAL_ECEF]:function Os(nt,Ot,ft,Rt){cs(nt,Ot,ft,Rt),ar(ft,Rt,ft,Rt)},[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:function Ms(nt,Ot,ft,Rt){cs(nt,Ot,ft,Rt),mt(ft,Rt,ft,Rt)},[Ee.PLATE_CARREE]:function kt(nt,Ot,ft,Rt){cs(nt,Ot,ft,Rt),we(ft,Rt,ft,Rt)},[Ee.WGS84]:cs,[Ee.WGS84_ECEF]:At},[Ee.SPHERICAL_ECEF]:{[Ee.CGCS2000]:Jr,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:Jr,[Ee.WGS84_COMPARABLE_LON_LAT]:Jr,[Ee.SPHERICAL_ECEF]:At,[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:function Fs(nt,Ot,ft,Rt){Jr(nt,Ot,ft,Rt),mt(ft,Rt,ft,Rt)},[Ee.PLATE_CARREE]:function on(nt,Ot,ft,Rt){Jr(nt,Ot,ft,Rt),we(ft,Rt,ft,Rt)},[Ee.WGS84]:Jr,[Ee.WGS84_ECEF]:function mi(nt,Ot,ft,Rt){Jr(nt,Ot,ft,Rt),us(ft,Rt,ft,Rt)}},[Ee.SPHERICAL_MARS_PCPF]:{[Ee.CGCS2000]:null,[Ee.GCSMARS2000]:qr,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:qr,[Ee.WGS84_COMPARABLE_LON_LAT]:null,[Ee.SPHERICAL_ECEF]:null,[Ee.SPHERICAL_MARS_PCPF]:At,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:null,[Ee.PLATE_CARREE]:null,[Ee.WGS84]:null,[Ee.WGS84_ECEF]:null},[Ee.SPHERICAL_MOON_PCPF]:{[Ee.CGCS2000]:null,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:ys,[Ee.LON_LAT]:ys,[Ee.WGS84_COMPARABLE_LON_LAT]:null,[Ee.SPHERICAL_ECEF]:null,[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:At,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:null,[Ee.PLATE_CARREE]:null,[Ee.WGS84]:null,[Ee.WGS84_ECEF]:null},[Ee.UNKNOWN]:{[Ee.CGCS2000]:null,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:null,[Ee.WGS84_COMPARABLE_LON_LAT]:null,[Ee.SPHERICAL_ECEF]:null,[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:At,[Ee.WEB_MERCATOR]:null,[Ee.PLATE_CARREE]:null,[Ee.WGS84]:null,[Ee.WGS84_ECEF]:null},[Ee.LON_LAT]:{[Ee.CGCS2000]:At,[Ee.GCSMARS2000]:At,[Ee.GCSMOON2000]:At,[Ee.LON_LAT]:At,[Ee.WGS84_COMPARABLE_LON_LAT]:At,[Ee.SPHERICAL_ECEF]:ar,[Ee.SPHERICAL_MARS_PCPF]:Or,[Ee.SPHERICAL_MOON_PCPF]:pr,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:mt,[Ee.PLATE_CARREE]:we,[Ee.WGS84]:At,[Ee.WGS84_ECEF]:us},[Ee.WGS84_COMPARABLE_LON_LAT]:{[Ee.CGCS2000]:null,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:At,[Ee.WGS84_COMPARABLE_LON_LAT]:At,[Ee.SPHERICAL_ECEF]:ar,[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:null,[Ee.PLATE_CARREE]:we,[Ee.WGS84]:At,[Ee.WGS84_ECEF]:us},[Ee.PLATE_CARREE]:{[Ee.CGCS2000]:Xe,[Ee.GCSMARS2000]:null,[Ee.GCSMOON2000]:null,[Ee.LON_LAT]:Xe,[Ee.WGS84_COMPARABLE_LON_LAT]:Xe,[Ee.SPHERICAL_ECEF]:function rt(nt,Ot,ft,Rt){Xe(nt,Ot,ft,Rt),ar(ft,Rt,ft,Rt)},[Ee.SPHERICAL_MARS_PCPF]:null,[Ee.SPHERICAL_MOON_PCPF]:null,[Ee.UNKNOWN]:null,[Ee.WEB_MERCATOR]:function Vt(nt,Ot,ft,Rt){Xe(nt,Ot,ft,Rt),mt(ft,Rt,ft,Rt)},[Ee.PLATE_CARREE]:At,[Ee.WGS84]:Xe,[Ee.WGS84_ECEF]:function Zt(nt,Ot,ft,Rt){Xe(nt,Ot,ft,Rt),us(ft,Rt,ft,Rt)}}};function rs(nt,Ot,ft=Le()){return(0,B.Wi)(nt)||(0,B.Wi)(Ot)?null:function ds(nt,Ot,ft){if((0,B.Wi)(nt)||(0,B.Wi)(Ot)||ft.source.spatialReference===nt&&ft.dest.spatialReference===Ot)return ft;const Rt=Kt(nt,ft.source),zt=Kt(Ot,ft.dest);return ft.projector=Rt===Ee.UNKNOWN&&zt===Ee.UNKNOWN?(0,me.fS)(nt,Ot)?At:null:Pr[Rt][zt],ft}(nt,Ot,ft).projector}function Le(){return{source:{spatialReference:null,spatialReferenceId:Ee.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:Ee.UNKNOWN,metersPerUnit:1},projector:At}}const Ft={spatialReference:null,spatialReferenceId:Ee.UNKNOWN},Lt={spatialReference:null,spatialReferenceId:Ee.UNKNOWN},rn=Le(),jn=(Le(),(0,Q.Vl)(1)),Rn=(0,Q.BV)(1),ln=(0,I.c)(),Jn=(0,I.c)(),or=(0,I.c)(),_n=(0,I.c)();(0,I.c)()},12080:(qe,Me,E)=>{"use strict";E.d(Me,{GG:()=>N,HQ:()=>ne,VY:()=>k,wY:()=>F,Iu:()=>$,e8:()=>Y,rS:()=>x});var M=E(65234),D=E(94425),Q=E(37053);function B(Z){return new M.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${Z.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const N=B(D.sv),ne=B(D.yr),k=B(D.Z1),F=new M.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${D.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function x(Z){return Z&&((0,Q.BZ)(Z)||Z===ne)?ne:Z&&((0,Q.V2)(Z)||Z===k)?k:N}function $(Z){return Z&&((0,Q.BZ)(Z)||Z===ne)?D.yr:Z&&((0,Q.V2)(Z)||Z===k)?D.Z1:D.sv}function Y(Z){return(0,Q.o$)(Z)?D.yr:(0,Q.ME)(Z)?D.Z1:D.sv}},94425:(qe,Me,E)=>{"use strict";E.d(Me,{sv:()=>D,yr:()=>Q,Z1:()=>B});class M{constructor(ne,k,F,I){this.semiMajorAxis=ne,this.flattening=k,this.outerAtmosphereRimWidth=F,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=I||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const D=new M(6378137,1/298.257223563,3e5,.006694379990137799),Q=new M(3396190,1/169.8944472236118,23e4),B=new M(1737400,0,0)},98346:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});let M=0;class D{constructor(N=null){this.uid=M++,N?(this._wkt=void 0!==N.wkt?N.wkt:null,this._wkid=void 0!==N.wkid?N.wkid:-1,this._isInverse=void 0!==N.isInverse&&!0===N.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(N){const ne=new D;return ne._wkt=N.wkt,ne._wkid=N.wkid,ne._isInverse=N.isInverse,ne}get wkt(){return this._wkt}set wkt(N){this._wkt=N,this.uid=M++}get wkid(){return this._wkid}set wkid(N){this._wkid=N,this.uid=M++}get isInverse(){return this._isInverse}set isInverse(N){this._isInverse=N,this.uid=M++}getInverse(){const N=new D;return N._wkt=this.wkt,N._wkid=this._wkid,N._isInverse=!this.isInverse,N}}class Q{constructor(N){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,N&&N.steps)for(const ne of N.steps)this.steps.push(ne instanceof D?ne:new D({wkid:ne.wkid,wkt:ne.wkt,isInverse:ne.isInverse}))}static cacheKey(N,ne){return[null!=N.wkid?N.wkid.toString():"-1",null!=N.wkt?N.wkt.toString():"",null!=ne.wkid?ne.wkid.toString():"-1",null!=ne.wkt?ne.wkt.toString():""].join(",")}static fromGE(N){const ne=new Q;let k="";for(const F of N.steps){const I=D.fromGE(F);ne.steps.push(I),k+=I.uid.toString()+","}return ne._cached_projection={},ne._gtlistentry=null,ne._chain=k,ne}getInverse(){const N=new Q;N.steps=[];for(let ne=this.steps.length-1;ne>=0;ne--)N.steps.push(this.steps[ne].getInverse());return N}getGTListEntry(){let N="";for(const ne of this.steps)N+=ne.uid.toString()+",";return N!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=N),this._gtlistentry}assignCachedGe(N,ne,k){this._cached_projection[Q.cacheKey(N,ne)]=k}getCachedGeTransformation(N,ne){let k="";for(const I of this.steps)k+=I.uid.toString()+",";k!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=k);const F=this._cached_projection[Q.cacheKey(N,ne)];return void 0===F?null:F}}},6178:(qe,Me,E)=>{"use strict";var M,D;E.d(Me,{W:()=>M}),(D=M||(M={}))[D.CGCS2000=4490]="CGCS2000",D[D.GCSMARS2000=104971]="GCSMARS2000",D[D.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",D[D.GCSMOON2000=104903]="GCSMOON2000"},84029:(qe,Me,E)=>{"use strict";let M;E.d(Me,{Z:()=>D});const D={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(M=2e3;M<=2045;M++)D[M]=0;for(M=2056;M<=2065;M++)D[M]=0;for(M=2067;M<=2135;M++)D[M]=0;for(M=2137;M<=2154;M++)D[M]=0;for(M=2161;M<=2170;M++)D[M]=0;for(M=2172;M<=2193;M++)D[M]=0;for(M=2195;M<=2198;M++)D[M]=0;for(M=2200;M<=2203;M++)D[M]=0;for(M=2205;M<=2217;M++)D[M]=0;for(M=2222;M<=2224;M++)D[M]=1;for(M=2225;M<=2250;M++)D[M]=2;for(M=2251;M<=2253;M++)D[M]=1;for(M=2257;M<=2264;M++)D[M]=2;for(M=2274;M<=2279;M++)D[M]=2;for(M=2280;M<=2282;M++)D[M]=1;for(M=2283;M<=2289;M++)D[M]=2;for(M=2290;M<=2292;M++)D[M]=0;for(M=2308;M<=2313;M++)D[M]=0;for(M=2315;M<=2491;M++)D[M]=0;for(M=2494;M<=2866;M++)D[M]=0;for(M=2867;M<=2869;M++)D[M]=1;for(M=2870;M<=2888;M++)D[M]=2;for(M=2891;M<=2895;M++)D[M]=2;for(M=2896;M<=2898;M++)D[M]=1;for(M=2902;M<=2908;M++)D[M]=2;for(M=2915;M<=2920;M++)D[M]=2;for(M=2921;M<=2923;M++)D[M]=1;for(M=2924;M<=2930;M++)D[M]=2;for(M=2931;M<=2962;M++)D[M]=0;for(M=2964;M<=2968;M++)D[M]=2;for(M=2969;M<=2973;M++)D[M]=0;for(M=2975;M<=2991;M++)D[M]=0;for(M=2995;M<=3051;M++)D[M]=0;for(M=3054;M<=3079;M++)D[M]=0;for(M=3081;M<=3088;M++)D[M]=0;for(M=3092;M<=3101;M++)D[M]=0;for(M=3106;M<=3138;M++)D[M]=0;for(M=3146;M<=3151;M++)D[M]=0;for(M=3153;M<=3166;M++)D[M]=0;for(M=3168;M<=3172;M++)D[M]=0;for(M=3174;M<=3203;M++)D[M]=0;for(M=3294;M<=3358;M++)D[M]=0;for(M=3367;M<=3403;M++)D[M]=0;for(M=3408;M<=3416;M++)D[M]=0;for(M=3417;M<=3438;M++)D[M]=2;for(M=3441;M<=3446;M++)D[M]=2;for(M=3447;M<=3450;M++)D[M]=0;for(M=3451;M<=3459;M++)D[M]=2;for(M=3460;M<=3478;M++)D[M]=0;for(M=3554;M<=3559;M++)D[M]=0;for(M=3560;M<=3570;M++)D[M]=2;for(M=3571;M<=3581;M++)D[M]=0;for(M=3594;M<=3597;M++)D[M]=0;for(M=3601;M<=3604;M++)D[M]=0;for(M=3637;M<=3639;M++)D[M]=0;for(M=3665;M<=3667;M++)D[M]=0;for(M=3693;M<=3695;M++)D[M]=0;for(M=3701;M<=3727;M++)D[M]=0;for(M=3728;M<=3739;M++)D[M]=2;for(M=3740;M<=3751;M++)D[M]=0;for(M=3753;M<=3760;M++)D[M]=2;for(M=3761;M<=3773;M++)D[M]=0;for(M=3775;M<=3777;M++)D[M]=0;for(M=3779;M<=3781;M++)D[M]=0;for(M=3783;M<=3785;M++)D[M]=0;for(M=3788;M<=3791;M++)D[M]=0;for(M=3797;M<=3802;M++)D[M]=0;for(M=3814;M<=3816;M++)D[M]=0;for(M=3825;M<=3829;M++)D[M]=0;for(M=3832;M<=3841;M++)D[M]=0;for(M=3844;M<=3852;M++)D[M]=0;for(M=3873;M<=3885;M++)D[M]=0;for(M=3890;M<=3893;M++)D[M]=0;for(M=3907;M<=3912;M++)D[M]=0;for(M=3942;M<=3950;M++)D[M]=0;for(M=3968;M<=3970;M++)D[M]=0;for(M=3973;M<=3976;M++)D[M]=0;for(M=3986;M<=3989;M++)D[M]=0;for(M=3994;M<=3997;M++)D[M]=0;for(M=4048;M<=4051;M++)D[M]=0;for(M=4056;M<=4063;M++)D[M]=0;for(M=4093;M<=4096;M++)D[M]=0;for(M=4390;M<=4398;M++)D[M]=0;for(M=4399;M<=4413;M++)D[M]=2;for(M=4418;M<=4433;M++)D[M]=2;for(M=4455;M<=4457;M++)D[M]=2;for(M=4484;M<=4489;M++)D[M]=0;for(M=4491;M<=4554;M++)D[M]=0;for(M=4568;M<=4589;M++)D[M]=0;for(M=4652;M<=4656;M++)D[M]=0;for(M=4766;M<=4800;M++)D[M]=0;for(M=5014;M<=5016;M++)D[M]=0;for(M=5069;M<=5072;M++)D[M]=0;for(M=5105;M<=5130;M++)D[M]=0;for(M=5173;M<=5188;M++)D[M]=0;for(M=5253;M<=5259;M++)D[M]=0;for(M=5269;M<=5275;M++)D[M]=0;for(M=5292;M<=5311;M++)D[M]=0;for(M=5329;M<=5331;M++)D[M]=0;for(M=5343;M<=5349;M++)D[M]=0;for(M=5355;M<=5357;M++)D[M]=0;for(M=5387;M<=5389;M++)D[M]=0;for(M=5459;M<=5463;M++)D[M]=0;for(M=5479;M<=5482;M++)D[M]=0;for(M=5518;M<=5520;M++)D[M]=0;for(M=5530;M<=5539;M++)D[M]=0;for(M=5550;M<=5552;M++)D[M]=0;for(M=5562;M<=5583;M++)D[M]=0;for(M=5623;M<=5625;M++)D[M]=2;for(M=5631;M<=5639;M++)D[M]=0;for(M=5649;M<=5653;M++)D[M]=0;for(M=5663;M<=5680;M++)D[M]=0;for(M=5682;M<=5685;M++)D[M]=0;for(M=5875;M<=5877;M++)D[M]=0;for(M=5896;M<=5899;M++)D[M]=0;for(M=5921;M<=5940;M++)D[M]=0;for(M=6050;M<=6125;M++)D[M]=0;for(M=6244;M<=6275;M++)D[M]=0;for(M=6328;M<=6348;M++)D[M]=0;for(M=6350;M<=6356;M++)D[M]=0;for(M=6366;M<=6372;M++)D[M]=0;for(M=6381;M<=6387;M++)D[M]=0;for(M=6393;M<=6404;M++)D[M]=0;for(M=6480;M<=6483;M++)D[M]=0;for(M=6511;M<=6514;M++)D[M]=0;for(M=6579;M<=6581;M++)D[M]=0;for(M=6619;M<=6624;M++)D[M]=0;for(M=6625;M<=6627;M++)D[M]=2;for(M=6628;M<=6632;M++)D[M]=0;for(M=6634;M<=6637;M++)D[M]=0;for(M=6669;M<=6692;M++)D[M]=0;for(M=6707;M<=6709;M++)D[M]=0;for(M=6720;M<=6723;M++)D[M]=0;for(M=6732;M<=6738;M++)D[M]=0;for(M=6931;M<=6933;M++)D[M]=0;for(M=6956;M<=6959;M++)D[M]=0;for(M=7005;M<=7007;M++)D[M]=0;for(M=7057;M<=7070;M++)D[M]=2;for(M=7074;M<=7082;M++)D[M]=0;for(M=7109;M<=7118;M++)D[M]=0;for(M=7119;M<=7127;M++)D[M]=1;for(M=7374;M<=7376;M++)D[M]=0;for(M=7528;M<=7586;M++)D[M]=0;for(M=7587;M<=7645;M++)D[M]=2;for(M=7692;M<=7696;M++)D[M]=0;for(M=7755;M<=7787;M++)D[M]=0;for(M=7791;M<=7795;M++)D[M]=0;for(M=7799;M<=7801;M++)D[M]=0;for(M=7803;M<=7805;M++)D[M]=0;for(M=7825;M<=7831;M++)D[M]=0;for(M=7845;M<=7859;M++)D[M]=0;for(M=8013;M<=8032;M++)D[M]=0;for(M=8065;M<=8068;M++)D[M]=1;for(M=8518;M<=8529;M++)D[M]=2;for(M=8533;M<=8536;M++)D[M]=2;for(M=8538;M<=8540;M++)D[M]=2;for(M=8677;M<=8679;M++)D[M]=0;for(M=8836;M<=8840;M++)D[M]=0;for(M=8857;M<=8859;M++)D[M]=0;for(M=8908;M<=8910;M++)D[M]=0;for(M=9154;M<=9159;M++)D[M]=0;for(M=9205;M<=9218;M++)D[M]=0;for(M=9271;M<=9273;M++)D[M]=0;for(M=9295;M<=9297;M++)D[M]=0;for(M=9356;M<=9360;M++)D[M]=0;for(M=9404;M<=9407;M++)D[M]=0;for(M=9476;M<=9482;M++)D[M]=0;for(M=9487;M<=9494;M++)D[M]=0;for(M=9697;M<=9699;M++)D[M]=0;for(M=20002;M<=20032;M++)D[M]=0;for(M=20062;M<=20092;M++)D[M]=0;for(M=20135;M<=20138;M++)D[M]=0;for(M=20248;M<=20258;M++)D[M]=0;for(M=20348;M<=20358;M++)D[M]=0;for(M=20436;M<=20440;M++)D[M]=0;for(M=20822;M<=20824;M++)D[M]=0;for(M=20904;M<=20932;M++)D[M]=0;for(M=20934;M<=20936;M++)D[M]=0;for(M=21004;M<=21032;M++)D[M]=0;for(M=21035;M<=21037;M++)D[M]=0;for(M=21095;M<=21097;M++)D[M]=0;for(M=21148;M<=21150;M++)D[M]=0;for(M=21207;M<=21264;M++)D[M]=0;for(M=21307;M<=21364;M++)D[M]=0;for(M=21413;M<=21423;M++)D[M]=0;for(M=21453;M<=21463;M++)D[M]=0;for(M=21473;M<=21483;M++)D[M]=0;for(M=21780;M<=21782;M++)D[M]=0;for(M=21891;M<=21894;M++)D[M]=0;for(M=21896;M<=21899;M++)D[M]=0;for(M=22171;M<=22177;M++)D[M]=0;for(M=22181;M<=22187;M++)D[M]=0;for(M=22191;M<=22197;M++)D[M]=0;for(M=22234;M<=22236;M++)D[M]=0;for(M=22521;M<=22525;M++)D[M]=0;for(M=22991;M<=22994;M++)D[M]=0;for(M=23028;M<=23038;M++)D[M]=0;for(M=23830;M<=23853;M++)D[M]=0;for(M=23866;M<=23872;M++)D[M]=0;for(M=23877;M<=23884;M++)D[M]=0;for(M=23886;M<=23894;M++)D[M]=0;for(M=23946;M<=23948;M++)D[M]=0;for(M=24311;M<=24313;M++)D[M]=0;for(M=24342;M<=24347;M++)D[M]=0;for(M=24370;M<=24374;M++)D[M]=10;for(M=24375;M<=24381;M++)D[M]=0;for(M=24718;M<=24721;M++)D[M]=0;for(M=24817;M<=24821;M++)D[M]=0;for(M=24877;M<=24882;M++)D[M]=0;for(M=24891;M<=24893;M++)D[M]=0;for(M=25391;M<=25395;M++)D[M]=0;for(M=25828;M<=25838;M++)D[M]=0;for(M=26191;M<=26195;M++)D[M]=0;for(M=26391;M<=26393;M++)D[M]=0;for(M=26701;M<=26722;M++)D[M]=0;for(M=26729;M<=26799;M++)D[M]=2;for(M=26801;M<=26803;M++)D[M]=2;for(M=26811;M<=26813;M++)D[M]=2;for(M=26847;M<=26870;M++)D[M]=2;for(M=26891;M<=26899;M++)D[M]=0;for(M=26901;M<=26923;M++)D[M]=0;for(M=26929;M<=26946;M++)D[M]=0;for(M=26948;M<=26998;M++)D[M]=0;for(M=27037;M<=27040;M++)D[M]=0;for(M=27205;M<=27232;M++)D[M]=0;for(M=27258;M<=27260;M++)D[M]=0;for(M=27391;M<=27398;M++)D[M]=0;for(M=27561;M<=27564;M++)D[M]=0;for(M=27571;M<=27574;M++)D[M]=0;for(M=27581;M<=27584;M++)D[M]=0;for(M=27591;M<=27594;M++)D[M]=0;for(M=28191;M<=28193;M++)D[M]=0;for(M=28348;M<=28358;M++)D[M]=0;for(M=28402;M<=28432;M++)D[M]=0;for(M=28462;M<=28492;M++)D[M]=0;for(M=29118;M<=29122;M++)D[M]=0;for(M=29168;M<=29172;M++)D[M]=0;for(M=29177;M<=29185;M++)D[M]=0;for(M=29187;M<=29195;M++)D[M]=0;for(M=29900;M<=29903;M++)D[M]=0;for(M=30161;M<=30179;M++)D[M]=0;for(M=30491;M<=30494;M++)D[M]=0;for(M=30729;M<=30732;M++)D[M]=0;for(M=31251;M<=31259;M++)D[M]=0;for(M=31265;M<=31268;M++)D[M]=0;for(M=31275;M<=31279;M++)D[M]=0;for(M=31281;M<=31297;M++)D[M]=0;for(M=31461;M<=31469;M++)D[M]=0;for(M=31491;M<=31495;M++)D[M]=0;for(M=31917;M<=31922;M++)D[M]=0;for(M=31965;M<=32e3;M++)D[M]=0;for(M=32001;M<=32003;M++)D[M]=2;for(M=32005;M<=32031;M++)D[M]=2;for(M=32033;M<=32060;M++)D[M]=2;for(M=32064;M<=32067;M++)D[M]=2;for(M=32074;M<=32077;M++)D[M]=2;for(M=32081;M<=32086;M++)D[M]=0;for(M=32107;M<=32130;M++)D[M]=0;for(M=32133;M<=32158;M++)D[M]=0;for(M=32164;M<=32167;M++)D[M]=2;for(M=32180;M<=32199;M++)D[M]=0;for(M=32201;M<=32260;M++)D[M]=0;for(M=32301;M<=32360;M++)D[M]=0;for(M=32601;M<=32662;M++)D[M]=0;for(M=32664;M<=32667;M++)D[M]=2;for(M=32701;M<=32761;M++)D[M]=0;for(M=53001;M<=53004;M++)D[M]=0;for(M=53008;M<=53019;M++)D[M]=0;for(M=53021;M<=53032;M++)D[M]=0;for(M=53034;M<=53037;M++)D[M]=0;for(M=53042;M<=53046;M++)D[M]=0;for(M=53074;M<=53080;M++)D[M]=0;for(M=54001;M<=54004;M++)D[M]=0;for(M=54008;M<=54019;M++)D[M]=0;for(M=54021;M<=54032;M++)D[M]=0;for(M=54034;M<=54037;M++)D[M]=0;for(M=54042;M<=54046;M++)D[M]=0;for(M=54048;M<=54053;M++)D[M]=0;for(M=54074;M<=54080;M++)D[M]=0;for(M=54098;M<=54101;M++)D[M]=0;for(M=102001;M<=102040;M++)D[M]=0;for(M=102042;M<=102063;M++)D[M]=0;for(M=102065;M<=102067;M++)D[M]=0;for(M=102070;M<=102117;M++)D[M]=0;for(M=102122;M<=102216;M++)D[M]=0;for(M=102221;M<=102377;M++)D[M]=0;for(M=102382;M<=102388;M++)D[M]=0;for(M=102389;M<=102398;M++)D[M]=2;for(M=102399;M<=102444;M++)D[M]=0;for(M=102445;M<=102447;M++)D[M]=2;for(M=102448;M<=102458;M++)D[M]=0;for(M=102459;M<=102468;M++)D[M]=2;for(M=102469;M<=102499;M++)D[M]=0;for(M=102500;M<=102519;M++)D[M]=1;for(M=102520;M<=102524;M++)D[M]=0;for(M=102525;M<=102529;M++)D[M]=2;for(M=102530;M<=102588;M++)D[M]=0;for(M=102590;M<=102598;M++)D[M]=0;for(M=102601;M<=102603;M++)D[M]=0;for(M=102605;M<=102628;M++)D[M]=0;for(M=102629;M<=102646;M++)D[M]=2;for(M=102648;M<=102700;M++)D[M]=2;for(M=102701;M<=102703;M++)D[M]=0;for(M=102707;M<=102730;M++)D[M]=2;for(M=102733;M<=102758;M++)D[M]=2;for(M=102767;M<=102900;M++)D[M]=0;for(M=102901;M<=102933;M++)D[M]=2;for(M=102934;M<=102950;M++)D[M]=13;for(M=102951;M<=102960;M++)D[M]=0;for(M=102965;M<=102969;M++)D[M]=0;for(M=102971;M<=102973;M++)D[M]=0;for(M=102975;M<=102989;M++)D[M]=0;for(M=102990;M<=102992;M++)D[M]=1;for(M=102997;M<=103002;M++)D[M]=0;for(M=103003;M<=103008;M++)D[M]=2;for(M=103009;M<=103011;M++)D[M]=0;for(M=103012;M<=103014;M++)D[M]=2;for(M=103019;M<=103021;M++)D[M]=0;for(M=103022;M<=103024;M++)D[M]=2;for(M=103029;M<=103031;M++)D[M]=0;for(M=103032;M<=103034;M++)D[M]=2;for(M=103065;M<=103068;M++)D[M]=0;for(M=103074;M<=103076;M++)D[M]=0;for(M=103077;M<=103079;M++)D[M]=1;for(M=103080;M<=103082;M++)D[M]=0;for(M=103083;M<=103085;M++)D[M]=2;for(M=103090;M<=103093;M++)D[M]=0;for(M=103097;M<=103099;M++)D[M]=0;for(M=103100;M<=103102;M++)D[M]=2;for(M=103107;M<=103109;M++)D[M]=0;for(M=103110;M<=103112;M++)D[M]=2;for(M=103113;M<=103116;M++)D[M]=0;for(M=103117;M<=103120;M++)D[M]=2;for(M=103153;M<=103157;M++)D[M]=0;for(M=103158;M<=103162;M++)D[M]=2;for(M=103163;M<=103165;M++)D[M]=0;for(M=103166;M<=103168;M++)D[M]=1;for(M=103169;M<=103171;M++)D[M]=2;for(M=103186;M<=103188;M++)D[M]=0;for(M=103189;M<=103191;M++)D[M]=2;for(M=103192;M<=103195;M++)D[M]=0;for(M=103196;M<=103199;M++)D[M]=2;for(M=103200;M<=103224;M++)D[M]=0;for(M=103225;M<=103227;M++)D[M]=1;for(M=103232;M<=103237;M++)D[M]=0;for(M=103238;M<=103243;M++)D[M]=2;for(M=103244;M<=103246;M++)D[M]=0;for(M=103247;M<=103249;M++)D[M]=2;for(M=103254;M<=103256;M++)D[M]=0;for(M=103257;M<=103259;M++)D[M]=2;for(M=103264;M<=103266;M++)D[M]=0;for(M=103267;M<=103269;M++)D[M]=2;for(M=103300;M<=103375;M++)D[M]=0;for(M=103381;M<=103383;M++)D[M]=0;for(M=103384;M<=103386;M++)D[M]=1;for(M=103387;M<=103389;M++)D[M]=0;for(M=103390;M<=103392;M++)D[M]=2;for(M=103397;M<=103399;M++)D[M]=0;for(M=103400;M<=103471;M++)D[M]=2;for(M=103476;M<=103478;M++)D[M]=0;for(M=103479;M<=103481;M++)D[M]=2;for(M=103486;M<=103488;M++)D[M]=0;for(M=103489;M<=103491;M++)D[M]=2;for(M=103492;M<=103495;M++)D[M]=0;for(M=103496;M<=103499;M++)D[M]=2;for(M=103528;M<=103543;M++)D[M]=0;for(M=103544;M<=103548;M++)D[M]=2;for(M=103549;M<=103551;M++)D[M]=0;for(M=103552;M<=103554;M++)D[M]=1;for(M=103555;M<=103557;M++)D[M]=2;for(M=103558;M<=103560;M++)D[M]=0;for(M=103571;M<=103573;M++)D[M]=0;for(M=103574;M<=103576;M++)D[M]=2;for(M=103577;M<=103580;M++)D[M]=0;for(M=103581;M<=103583;M++)D[M]=2;for(M=103595;M<=103694;M++)D[M]=0;for(M=103696;M<=103699;M++)D[M]=0;for(M=103700;M<=103793;M++)D[M]=2;for(M=103794;M<=103872;M++)D[M]=0;for(M=103900;M<=103971;M++)D[M]=2},5548:(qe,Me,E)=>{"use strict";E.d(Me,{Gv:()=>Te,Ue:()=>N,cS:()=>se,fS:()=>Ge,TC:()=>x,pp:()=>Y,JR:()=>ge,al:()=>ne,t8:()=>le,Tn:()=>ye,op:()=>ue,dp:()=>te});var M=E(62208);function N(xe=Ze){return[xe[0],xe[1],xe[2],xe[3],xe[4],xe[5]]}function ne(xe,Ve,He,ee,_e,je,Ye=N()){return Ye[0]=xe,Ye[1]=Ve,Ye[2]=He,Ye[3]=ee,Ye[4]=_e,Ye[5]=je,Ye}function x(xe,Ve){xe[0]=Math.min(xe[0],Ve[0]),xe[1]=Math.min(xe[1],Ve[1]),xe[2]=Math.min(xe[2],Ve[2]),xe[3]=Math.max(xe[3],Ve[3]),xe[4]=Math.max(xe[4],Ve[4]),xe[5]=Math.max(xe[5],Ve[5])}function Y(xe,Ve){xe[0]=Math.min(xe[0],Ve[0]),xe[1]=Math.min(xe[1],Ve[1]),xe[2]=Math.min(xe[2],Ve[2]),xe[3]=Math.max(xe[3],Ve[0]),xe[4]=Math.max(xe[4],Ve[1]),xe[5]=Math.max(xe[5],Ve[2])}function te(xe,Ve=[0,0,0]){return Ve[0]=function T(xe){return xe[0]>=xe[3]?0:xe[3]-xe[0]}(xe),Ve[1]=function P(xe){return xe[1]>=xe[4]?0:xe[4]-xe[1]}(xe),Ve[2]=function j(xe){return xe[2]>=xe[5]?0:xe[5]-xe[2]}(xe),Ve}function ue(xe,Ve,He=xe){return He[0]=Ve[0],He[1]=Ve[1],He[2]=Ve[2],He!==xe&&(He[3]=xe[3],He[4]=xe[4],He[5]=xe[5]),He}function ye(xe,Ve,He=xe){return He[3]=Ve[0],He[4]=Ve[1],He[5]=Ve[2],He!==xe&&(He[0]=xe[0],He[1]=xe[1],He[2]=xe[2]),xe}function le(xe,Ve){return xe[0]=Ve[0],xe[1]=Ve[1],xe[2]=Ve[2],xe[3]=Ve[3],xe[4]=Ve[4],xe[5]=Ve[5],xe}function se(xe){return xe?le(xe,Te):N(Te)}function ge(xe,Ve){return xe[0]=Ve[0],xe[1]=Ve[1],xe[2]=Number.NEGATIVE_INFINITY,xe[3]=Ve[2],xe[4]=Ve[3],xe[5]=Number.POSITIVE_INFINITY,xe}function Pe(xe){return 6===xe.length}function Ge(xe,Ve,He){if((0,M.Wi)(xe)||(0,M.Wi)(Ve))return xe===Ve;if(!Pe(xe)||!Pe(Ve))return!1;if(He){for(let ee=0;ee<xe.length;ee++)if(!He(xe[ee],Ve[ee]))return!1}else for(let ee=0;ee<xe.length;ee++)if(xe[ee]!==Ve[ee])return!1;return!0}E(2004),E(65401);const Te=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Ze=[0,0,0,0,0,0];N()},65401:(qe,Me,E)=>{"use strict";E.d(Me,{Gv:()=>Pe,SO:()=>P,d9:()=>k,r3:()=>me,Zm:()=>he,Ue:()=>ne,Ho:()=>Y,oJ:()=>x,al:()=>I,Cb:()=>T,kK:()=>oe,HH:()=>$,bf:()=>L}),E(8314),E(21286);var Q=E(62208),B=E(2004);function ne(Se=Ee){return[Se[0],Se[1],Se[2],Se[3]]}function k(Se){return[Se[0],Se[1],Se[2],Se[3]]}function I(Se,ve,Te,Ze,tt=ne()){return tt[0]=Se,tt[1]=ve,tt[2]=Te,tt[3]=Ze,tt}function x(Se,ve=ne()){return ve[0]=Se.xmin,ve[1]=Se.ymin,ve[2]=Se.xmax,ve[3]=Se.ymax,ve}function $(Se,ve){return new B.Z({xmin:Se[0],ymin:Se[1],xmax:Se[2],ymax:Se[3],spatialReference:ve})}function Y(Se,ve){ve[0]<Se[0]&&(Se[0]=ve[0]),ve[0]>Se[2]&&(Se[2]=ve[0]),ve[1]<Se[1]&&(Se[1]=ve[1]),ve[1]>Se[3]&&(Se[3]=ve[1])}function L(Se){return(0,Q.Wi)(Se)||Se[0]>=Se[2]?0:Se[2]-Se[0]}function T(Se){return Se[1]>=Se[3]?0:Se[3]-Se[1]}function P(Se){return L(Se)*T(Se)}function he(Se,ve,Te){return ve[0]>=Se[0]-Te&&ve[1]>=Se[1]-Te&&ve[0]<=Se[2]+Te&&ve[1]<=Se[3]+Te}function oe(Se,ve){return Math.max(ve[0],Se[0])<=Math.min(ve[2],Se[2])&&Math.max(ve[1],Se[1])<=Math.min(ve[3],Se[3])}function me(Se,ve){return ve[0]>=Se[0]&&ve[2]<=Se[2]&&ve[1]>=Se[1]&&ve[3]<=Se[3]}const Pe=[1/0,1/0,-1/0,-1/0],Ee=[0,0,0,0]},32442:(qe,Me,E)=>{"use strict";function M(L){return void 0!==L.xmin&&void 0!==L.ymin&&void 0!==L.xmax&&void 0!==L.ymax}function D(L){return void 0!==L.points}function Q(L){return void 0!==L.x&&void 0!==L.y}function B(L){return void 0!==L.paths}function N(L){return void 0!==L.rings}function ne(L){return(T,P)=>null==T?P:null==P?T:L(T,P)}E.d(Me,{$P:()=>I,Yg:()=>x,lC:()=>Z,C6:()=>$});const k=ne(Math.min),F=ne(Math.max);function I(L,T){return B(T)?$(L,T.paths,!1,!1):N(T)?$(L,T.rings,!1,!1):D(T)?Z(L,T.points,!1,!1,!1,!1):M(T)?Y(L,T):(Q(T)&&(L[0]=T.x,L[1]=T.y,L[2]=T.x,L[3]=T.y),L)}function x(L,T){return B(T)?$(L,T.paths,!0,!1):N(T)?$(L,T.rings,!0,!1):D(T)?Z(L,T.points,!0,!1,!0,!1):M(T)?Y(L,T,0,0,!0,!1):(Q(T)&&(L[0]=T.x,L[1]=T.y,L[2]=T.z,L[3]=T.x,L[4]=T.y,L[5]=T.z),L)}function $(L,T,P,j){const K=P?3:2;if(!T.length||!T[0].length)return null;let W,te,J,he,[oe,me]=T[0][0],[de,ie]=T[0][0];for(let V=0;V<T.length;V++){const ce=T[V];for(let ae=0;ae<ce.length;ae++){const pe=ce[ae],[ue,ye]=pe;if(oe=k(oe,ue),me=k(me,ye),de=F(de,ue),ie=F(ie,ye),P&&pe.length>2){const le=pe[2];W=k(W,le),te=F(te,le)}if(j&&pe.length>K){const le=pe[K];J=k(W,le),he=F(te,le)}}}return P?j?(L[0]=oe,L[1]=me,L[2]=W,L[3]=J,L[4]=de,L[5]=ie,L[6]=te,L[7]=he,L.length=8,L):(L[0]=oe,L[1]=me,L[2]=W,L[3]=de,L[4]=ie,L[5]=te,L.length=6,L):j?(L[0]=oe,L[1]=me,L[2]=J,L[3]=de,L[4]=ie,L[5]=he,L.length=6,L):(L[0]=oe,L[1]=me,L[2]=de,L[3]=ie,L.length=4,L)}function Y(L,T,P,j,K,W){const te=T.xmin,J=T.xmax,he=T.ymin,oe=T.ymax;let me=T.zmin,de=T.zmax,ie=T.mmin,V=T.mmax;return K?(me=me||0,de=de||0,W?(ie=ie||0,V=V||0,L[0]=te,L[1]=he,L[2]=me,L[3]=ie,L[4]=J,L[5]=oe,L[6]=de,L[7]=V,L):(L[0]=te,L[1]=he,L[2]=me,L[3]=J,L[4]=oe,L[5]=de,L)):W?(ie=ie||0,V=V||0,L[0]=te,L[1]=he,L[2]=ie,L[3]=J,L[4]=oe,L[5]=V,L):(L[0]=te,L[1]=he,L[2]=J,L[3]=oe,L)}function Z(L,T,P,j,K,W){const te=P?3:2,J=j&&W,he=P&&K;if(!T.length||!T[0].length)return null;let oe,me,de,ie,[V,ce]=T[0],[ae,pe]=T[0];for(let ue=0;ue<T.length;ue++){const ye=T[ue],[le,se]=ye;if(V=k(V,le),ce=k(ce,se),ae=F(ae,le),pe=F(pe,se),he&&ye.length>2){const Ce=ye[2];oe=k(oe,Ce),me=F(me,Ce)}if(J&&ye.length>te){const Ce=ye[te];de=k(oe,Ce),ie=F(me,Ce)}}return K?(oe=oe||0,me=me||0,W?(de=de||0,ie=ie||0,L[0]=V,L[1]=ce,L[2]=oe,L[3]=de,L[4]=ae,L[5]=pe,L[6]=me,L[7]=ie,L):(L[0]=V,L[1]=ce,L[2]=oe,L[3]=ae,L[4]=pe,L[5]=me,L)):W?(de=de||0,ie=ie||0,L[0]=V,L[1]=ce,L[2]=de,L[3]=ae,L[4]=pe,L[5]=ie,L):(L[0]=V,L[1]=ce,L[2]=ae,L[3]=pe,L)}},27105:(qe,Me,E)=>{"use strict";E.d(Me,{$G:()=>D,tO:()=>Q});var M=E(25748);function D(k){return k?k.hasZ?[k.xmax-k.xmin/2,k.ymax-k.ymin/2,k.zmax-k.zmin/2]:[k.xmax-k.xmin/2,k.ymax-k.ymin/2]:null}function Q(k){return k?function B(k,F){if(!k||!k.length)return null;const I=[],x=[],$=F?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let Y=0,Z=k.length;Y<Z;Y++){const re=N(k[Y],F,$);re&&x.push(re)}if(x.sort((Y,Z)=>{let re=Y[2]-Z[2];return 0===re&&F&&(re=Y[4]-Z[4]),re}),x.length&&(I[0]=x[0][0],I[1]=x[0][1],F&&(I[2]=x[0][3]),(I[0]<$[0]||I[0]>$[1]||I[1]<$[2]||I[1]>$[3]||F&&(I[2]<$[4]||I[2]>$[5]))&&(I.length=0)),!I.length){const Y=k[0]&&k[0].length?function ne(k,F){const I=F?[0,0,0]:[0,0],x=F?[0,0,0]:[0,0];let $=0,Y=0,Z=0,re=0;for(let X=0,L=k.length;X<L-1;X++){const T=k[X],P=k[X+1];if(T&&P){I[0]=T[0],I[1]=T[1],x[0]=P[0],x[1]=P[1],F&&T.length>2&&P.length>2&&(I[2]=T[2],x[2]=P[2]);const j=(0,M.xA)(I,x);if(j){$+=j;const K=(0,M.Gi)(T,P);Y+=j*K[0],Z+=j*K[1],F&&K.length>2&&(re+=j*K[2])}}}return $>0?F?[Y/$,Z/$,re/$]:[Y/$,Z/$]:k.length?k[0]:null}(k[0],F):null;if(!Y)return null;I[0]=Y[0],I[1]=Y[1],F&&Y.length>2&&(I[2]=Y[2])}return I}(k.rings,k.hasZ):null}function N(k,F,I){let x=0,$=0,Y=0,Z=0,re=0;const X=k.length?k[0][0]:0,L=k.length?k[0][1]:0,T=k.length&&F?k[0][2]:0;for(let j=0;j<k.length;j++){const K=k[j],W=k[(j+1)%k.length],[te,J,he]=K,oe=te-X,me=J-L,de=F?he-T:void 0,[ie,V,ce]=W,ae=ie-X,pe=V-L,ue=F?ce-T:void 0,ye=oe*pe-ae*me;if(Z+=ye,x+=(oe+ae)*ye,$+=(me+pe)*ye,F&&K.length>2&&W.length>2){const le=oe*ue-ae*de;Y+=(de+ue)*le,re+=le}te<I[0]&&(I[0]=te),te>I[1]&&(I[1]=te),J<I[2]&&(I[2]=J),J>I[3]&&(I[3]=J),F&&(he<I[4]&&(I[4]=he),he>I[5]&&(I[5]=he))}if(Z>0&&(Z*=-1),re>0&&(re*=-1),!Z)return null;Z*=.5,re*=.5;const P=[x/(6*Z)+X,$/(6*Z)+L,Z];return F&&(I[4]===I[5]||0===re?(P[3]=(I[4]+I[5])/2,P[4]=0):(P[3]=Y/(6*re)+T,P[4]=re)),P}},33190:(qe,Me,E)=>{"use strict";E.d(Me,{OQ:()=>ne,Qg:()=>k,uP:()=>N,lQ:()=>B,aV:()=>Q,rM:()=>x,CI:()=>I});var M=E(62208);const D=[0,0];function Q(re,X){return!!(0,M.pC)(X)&&F(re,X.x,X.y,X.z)}function B(re,X){if(!X.points||X.points.length)return!1;for(const L of X.points)if(!ne(re,L))return!1;return!0}function N(re,X){const{xmin:L,ymin:T,zmin:P,xmax:j,ymax:K,zmax:W}=X;return re.hasZ&&X.hasZ?F(re,L,T,P)&&F(re,L,K,P)&&F(re,j,K,P)&&F(re,j,T,P)&&F(re,L,T,W)&&F(re,L,K,W)&&F(re,j,K,W)&&F(re,j,T,W):F(re,L,T)&&F(re,L,K)&&F(re,j,K)&&F(re,j,T)}function ne(re,X){return F(re,X[0],X[1])}function k(re,X){return F(re,X[0],X[1],X[2])}function F(re,X,L,T){return X>=re.xmin&&X<=re.xmax&&L>=re.ymin&&L<=re.ymax&&(null==T||!re.hasZ||T>=re.zmin&&T<=re.zmax)}function I(re,X){return D[1]=X.y,D[0]=X.x,x(re,D)}function x(re,X){return function $(re,X){if(!re)return!1;if(function Y(re){return!Array.isArray(re[0][0])}(re))return Z(!1,re,X);let L=!1;for(let T=0,P=re.length;T<P;T++)L=Z(L,re[T],X);return L}(re.rings,X)}function Z(re,X,L){const[T,P]=L;let j=re,K=0;for(let W=0,te=X.length;W<te;W++){K++,K===te&&(K=0);const[J,he]=X[W],[oe,me]=X[K];(he<P&&me>=P||me<P&&he>=P)&&J+(P-he)/(me-he)*(oe-J)<T&&(j=!j)}return j}},25748:(qe,Me,E)=>{"use strict";function Q(L,T){const P=T[0]-L[0],j=T[1]-L[1];if(L.length>2&&T.length>2){const K=L[2]-T[2];return Math.sqrt(P*P+j*j+K*K)}return Math.sqrt(P*P+j*j)}function N(L,T,P,j){const[K,W]=T,[te,J]=P[j],[he,oe]=P[j+1],me=he-te,de=oe-J,ce=Math.min(1,Math.max(0,((K-te)*me+(W-J)*de)/(me*me+de*de)));return L[0]=te+me*ce,L[1]=J+de*ce,L}function ne(L,T){return function B(L,T,P){const j=L[0]+P*(T[0]-L[0]),K=L[1]+P*(T[1]-L[1]);return L.length>2&&T.length>2?[j,K,L[2]+P*(T[2]-L[2])]:[j,K]}(L,T,.5)}function I(L,T,P){const j=L.length;let K=0,W=0,te=0;for(let J=0;J<j;J++){const he=L[J],oe=L[(J+1)%j];let me=2;K+=he[0]*oe[1]-oe[0]*he[1],he.length>2&&oe.length>2&&P&&(W+=he[0]*oe[2]-oe[0]*he[2],me=3),he.length>me&&oe.length>me&&T&&(te+=he[0]*oe[me]-oe[0]*he[me])}return K<=0&&W<=0&&te<=0}function x(L){if("rings"in L){for(const T of L.rings)T.length<3||T[0][0]===T[T.length-1][0]&&T[0][1]===T[T.length-1][1]||T.push([T[0][0],T[0][1]]);if(L.rings.length>0&&!I(L.rings[0],L.hasM,L.hasZ))for(let T=0;T<L.rings.length;++T)L.rings[T]=L.rings[T].reverse()}}E.d(Me,{pW:()=>x,xA:()=>Q,Gi:()=>ne,bu:()=>I,Tx:()=>N}),E(37053)},15176:(qe,Me,E)=>{"use strict";E.d(Me,{aO:()=>Z,_w:()=>L,Wn:()=>T});var M=E(32442);const k=[];function F(P,j,K,W){return{xmin:P,ymin:j,xmax:K,ymax:W}}function I(P,j,K,W,te,J){return{xmin:P,ymin:j,zmin:K,xmax:W,ymax:te,zmax:J}}function x(P,j,K,W,te,J){return{xmin:P,ymin:j,mmin:K,xmax:W,ymax:te,mmax:J}}function $(P,j,K,W,te,J,he,oe){return{xmin:P,ymin:j,zmin:K,mmin:W,xmax:te,ymax:J,zmax:he,mmax:oe}}function Y(P,j=!1,K=!1){return j?K?$(P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7]):I(P[0],P[1],P[2],P[3],P[4],P[5]):K?x(P[0],P[1],P[2],P[3],P[4],P[5]):F(P[0],P[1],P[2],P[3])}function Z(P){return P?function D(P){return void 0!==P.xmin&&void 0!==P.ymin&&void 0!==P.xmax&&void 0!==P.ymax}(P)?P:function B(P){return void 0!==P.x&&void 0!==P.y}(P)?function X(P){const{x:j,y:K,z:W,m:te}=P,J=null!=te;return null!=W?J?$(j,K,W,te,j,K,W,te):I(j,K,W,j,K,W):J?x(j,K,te,j,K,te):F(j,K,j,K)}(P):function ne(P){return void 0!==P.rings}(P)?L(P):function N(P){return void 0!==P.paths}(P)?T(P):function Q(P){return void 0!==P.points}(P)?function re(P){const{hasZ:j,hasM:K,points:W}=P;return Y((0,M.lC)(k,W,j,K),j,K)}(P):null:null}function L(P){const{hasZ:j,hasM:K,rings:W}=P,te=(0,M.C6)(k,W,j,K);return te?Y(te,j,K):null}function T(P){const{hasZ:j,hasM:K,paths:W}=P,te=(0,M.C6)(k,W,j,K);return te?Y(te,j,K):null}},11519:(qe,Me,E)=>{"use strict";E.d(Me,{h_:()=>Q,jQ:()=>Y,IY:()=>T,Ff:()=>re,UT:()=>L});var M=E(33190);function D(P,j){return(0,M.aV)(P,j)}function Q(P,j){let W,te,J;if(P.xmin<=j.xmin){if(W=j.xmin,P.xmax<W)return!1}else if(W=P.xmin,j.xmax<W)return!1;if(P.ymin<=j.ymin){if(te=j.ymin,P.ymax<te)return!1}else if(te=P.ymin,j.ymax<te)return!1;if(P.hasZ&&j.hasZ&&j.hasZ)if(P.zmin<=j.zmin){if(J=j.zmin,P.zmax<J)return!1}else if(J=P.zmin,j.zmax<J)return!1;return!0}function B(P,j){const{points:K,hasZ:W}=j,te=W?M.Qg:M.OQ;for(const J of K)if(te(P,J))return!0;return!1}const N=[0,0],ne=[0,0],k=[0,0],F=[0,0],I=[N,ne,k,F],x=[[k,N],[N,ne],[ne,F],[F,k]];function $(P,j){N[0]=P.xmin,N[1]=P.ymax,ne[0]=P.xmax,ne[1]=P.ymax,k[0]=P.xmin,k[1]=P.ymin,F[0]=P.xmax,F[1]=P.ymin;for(const K of I)if((0,M.rM)(j,K))return!0;for(const K of j.rings){if(!K.length)continue;let W=K[0];if((0,M.OQ)(P,W))return!0;for(let te=1;te<K.length;te++){const J=K[te];if((0,M.OQ)(P,J)||X(W,J,x))return!0;W=J}}return!1}function Y(P,j){N[0]=P.xmin,N[1]=P.ymax,ne[0]=P.xmax,ne[1]=P.ymax,k[0]=P.xmin,k[1]=P.ymin,F[0]=P.xmax,F[1]=P.ymin;const K=j.paths;for(const W of K){if(!K.length)continue;let te=W[0];if((0,M.OQ)(P,te))return!0;for(let J=1;J<W.length;J++){const he=W[J];if((0,M.OQ)(P,he)||X(te,he,x))return!0;te=he}}return!1}const Z=[0,0];function re(P){for(let j=0;j<P.length;j++){const K=P[j];for(let te=0;te<K.length-1;te++){const J=K[te],he=K[te+1];for(let oe=j+1;oe<P.length;oe++)for(let me=0;me<P[oe].length-1;me++){const de=P[oe][me],ie=P[oe][me+1];if(L(J,he,de,ie,Z)&&!(Z[0]===J[0]&&Z[1]===J[1]||Z[0]===de[0]&&Z[1]===de[1]||Z[0]===he[0]&&Z[1]===he[1]||Z[0]===ie[0]&&Z[1]===ie[1]))return!0}}const W=K.length;if(!(W<=4))for(let te=0;te<W-3;te++){let J=W-1;0===te&&(J=W-2);const he=K[te],oe=K[te+1];for(let me=te+2;me<J;me++){const de=K[me],ie=K[me+1];if(L(he,oe,de,ie,Z)&&!(Z[0]===he[0]&&Z[1]===he[1]||Z[0]===de[0]&&Z[1]===de[1]||Z[0]===oe[0]&&Z[1]===oe[1]||Z[0]===ie[0]&&Z[1]===ie[1]))return!0}}}return!1}function X(P,j,K){for(let W=0;W<K.length;W++)if(L(P,j,K[W][0],K[W][1]))return!0;return!1}function L(P,j,K,W,te){const[J,he]=P,[oe,me]=j,[de,ie]=K,[V,ce]=W,ae=V-de,pe=J-de,ue=oe-J,ye=ce-ie,le=he-ie,se=me-he,Ce=ye*ue-ae*se;if(0===Ce)return!1;const ge=(ae*le-ye*pe)/Ce,Pe=(ue*le-se*pe)/Ce;return ge>=0&&ge<=1&&Pe>=0&&Pe<=1&&(te&&(te[0]=J+ge*(oe-J),te[1]=he+ge*(me-he)),!0)}function T(P){switch(P){case"esriGeometryEnvelope":case"extent":return Q;case"esriGeometryMultipoint":case"multipoint":return B;case"esriGeometryPoint":case"point":return D;case"esriGeometryPolygon":case"polygon":return $;case"esriGeometryPolyline":case"polyline":return Y}}},91179:(qe,Me,E)=>{"use strict";E.d(Me,{im:()=>X,q9:()=>P,Ji:()=>L,YX:()=>I,aW:()=>x,wp:()=>$,oU:()=>Z,l9:()=>Y});var M=E(62208),D=E(2004),Q=E(21674),B=E(72854),N=E(49672),ne=E(37118),k=E(55214);function I(j){return void 0!==j.xmin&&void 0!==j.ymin&&void 0!==j.xmax&&void 0!==j.ymax}function x(j){return void 0!==j.points}function $(j){return void 0!==j.x&&void 0!==j.y}function Y(j){return void 0!==j.paths}function Z(j){return void 0!==j.rings}function X(j){return(0,M.Wi)(j)?null:j instanceof Q.Z?j:$(j)?N.Z.fromJSON(j):Y(j)?k.Z.fromJSON(j):Z(j)?ne.Z.fromJSON(j):x(j)?B.Z.fromJSON(j):I(j)?D.Z.fromJSON(j):null}function L(j){return j?$(j)?"esriGeometryPoint":Y(j)?"esriGeometryPolyline":Z(j)?"esriGeometryPolygon":I(j)?"esriGeometryEnvelope":x(j)?"esriGeometryMultipoint":null:null}const T={esriGeometryPoint:N.Z,esriGeometryPolyline:k.Z,esriGeometryPolygon:ne.Z,esriGeometryEnvelope:D.Z,esriGeometryMultipoint:B.Z};function P(j){return j&&T[j]||null}},13924:(qe,Me,E)=>{"use strict";E.d(Me,{aX:()=>ce,or:()=>ue});var M=E(15861),D=E(59318),Q=E(26584),B=E(63290),N=E(62208),ne=E(37118),k=E(55214),F=E(74618),I=E(37053),x=E(46367),Y=(E(29132),E(84792)),Z=E(21726),re=E(91179);function X(ye,le,se,Ce){return L.apply(this,arguments)}function L(){return(L=(0,M.Z)(function*(ye,le,se,Ce){const ge="string"==typeof ye?(0,Z.mN)(ye):ye,Pe=le[0].spatialReference,Ee=$n(Pt({},Ce),{query:$n(Pt({},ge.query),{f:"json",sr:JSON.stringify(Pe),target:JSON.stringify({geometryType:(0,re.Ji)(le[0]),geometries:le}),cutter:JSON.stringify(se)})}),Ge=yield(0,Y.default)(ge.path+"/cut",Ee),{cutIndexes:Se,geometries:ve=[]}=Ge.data;return{cutIndexes:Se,geometries:ve.map(Te=>{const Ze=(0,re.im)(Te);return Ze.spatialReference=Pe,Ze})}})).apply(this,arguments)}function T(ye,le,se){return P.apply(this,arguments)}function P(){return(P=(0,M.Z)(function*(ye,le,se){const Ce="string"==typeof ye?(0,Z.mN)(ye):ye,ge=le[0].spatialReference,Pe=(0,re.Ji)(le[0]),Ee=$n(Pt({},se),{query:$n(Pt({},Ce.query),{f:"json",sr:ge.wkid?ge.wkid:JSON.stringify(ge),geometries:JSON.stringify(j(le))})});return K((yield(0,Y.default)(Ce.path+"/simplify",Ee)).data,Pe,ge)})).apply(this,arguments)}function j(ye){return{geometryType:(0,re.Ji)(ye[0]),geometries:ye.map(le=>le.toJSON())}}function K(ye,le,se){const Ce=(0,re.q9)(le);return ye.map(ge=>{const Pe=Ce.fromJSON(ge);return Pe.spatialReference=se,Pe})}const W=B.Z.getLogger("esri.geometry.support.normalizeUtils");function J(ye){return"polygon"===ye[0].type}function he(ye){return"polyline"===ye[0].type}function de(ye,le,se){if(le){const Ce=function me(ye,le){if(!(ye instanceof k.Z||ye instanceof ne.Z)){const ge="straightLineDensify: the input geometry is neither polyline nor polygon";throw W.error(ge),new Q.Z(ge)}const se=(0,F.x3)(ye),Ce=[];for(const ge of se){const Pe=[];Ce.push(Pe),Pe.push([ge[0][0],ge[0][1]]);for(let Ee=0;Ee<ge.length-1;Ee++){const Ge=ge[Ee][0],Se=ge[Ee][1],ve=ge[Ee+1][0],Te=ge[Ee+1][1],Ze=Math.sqrt((ve-Ge)*(ve-Ge)+(Te-Se)*(Te-Se)),tt=(Te-Se)/Ze,xe=(ve-Ge)/Ze,Ve=Ze/le;if(Ve>1){for(let je=1;je<=Ve-1;je++){const Ye=je*le;Pe.push([xe*Ye+Ge,tt*Ye+Se])}const He=(Ze+Math.floor(Ve-1)*le)/2;Pe.push([xe*He+Ge,tt*He+Se])}Pe.push([ve,Te])}}return function te(ye){return"polygon"===ye.type}(ye)?new ne.Z({rings:Ce,spatialReference:ye.spatialReference}):new k.Z({paths:Ce,spatialReference:ye.spatialReference})}(ye,1e6);ye=(0,x.Sx)(Ce,!0)}return se&&(ye=(0,F.Sy)(ye,se)),ye}function ie(ye,le,se){if(Array.isArray(ye)){const Ce=ye[0];if(Ce>le){const ge=(0,F.XZ)(Ce,le);ye[0]=Ce+ge*(-2*le)}else if(Ce<se){const ge=(0,F.XZ)(Ce,se);ye[0]=Ce+ge*(-2*se)}}else{const Ce=ye.x;if(Ce>le){const ge=(0,F.XZ)(Ce,le);ye=ye.clone().offset(ge*(-2*le),0)}else if(Ce<se){const ge=(0,F.XZ)(Ce,se);ye=ye.clone().offset(ge*(-2*se),0)}}return ye}function V(ye,le){let se=-1;for(let Ce=0;Ce<le.cutIndexes.length;Ce++){const ge=le.cutIndexes[Ce],Pe=le.geometries[Ce],Ee=(0,F.x3)(Pe);for(let Ge=0;Ge<Ee.length;Ge++){const Se=Ee[Ge];Se.some(ve=>{if(ve[0]<180)return!0;{let Te=0;for(let tt=0;tt<Se.length;tt++){const xe=Se[tt][0];Te=xe>Te?xe:Te}Te=Number(Te.toFixed(9));const Ze=-360*(0,F.XZ)(Te,180);for(let tt=0;tt<Se.length;tt++){const xe=Pe.getPoint(Ge,tt);Pe.setPoint(Ge,tt,xe.clone().offset(Ze,0))}return!0}})}if(ge===se){if(J(ye))for(const Ge of(0,F.x3)(Pe))ye[ge]=ye[ge].addRing(Ge);else if(he(ye))for(const Ge of(0,F.x3)(Pe))ye[ge]=ye[ge].addPath(Ge)}else se=ge,ye[ge]=Pe}return ye}function ce(ye,le,se){return ae.apply(this,arguments)}function ae(){return(ae=(0,M.Z)(function*(ye,le,se){var Ce;if(!Array.isArray(ye))return ce([ye],le);const ge=null!=(Ce=null==le?void 0:le.url)?Ce:D.Z.geometryServiceUrl;let Pe,Ee,Ge,Se,ve,Te,Ze,tt,xe=0;const Ve=[],He=[];for(const it of ye)if((0,N.Wi)(it))He.push(it);else if(Pe||(Pe=it.spatialReference,Ee=(0,I.C5)(Pe),Ge=Pe.isWebMercator,Te=Ge?102100:4326,Se=F.UZ[Te].maxX,ve=F.UZ[Te].minX,Ze=F.UZ[Te].plus180Line,tt=F.UZ[Te].minus180Line),Ee)if("mesh"===it.type)He.push(it);else if("point"===it.type)He.push(ie(it.clone(),Se,ve));else if("multipoint"===it.type){const at=it.clone();at.points=at.points.map(ot=>ie(ot,Se,ve)),He.push(at)}else if("extent"===it.type){const at=it.clone()._normalize(!1,!1,Ee);He.push(at.rings?new ne.Z(at):at)}else if(it.extent){const at=it.extent,ot=(0,F.XZ)(at.xmin,ve)*(2*Se);let et=0===ot?it.clone():(0,F.Sy)(it.clone(),ot);at.offset(ot,0),at.intersects(Ze)&&at.xmax!==Se?(xe=at.xmax>xe?at.xmax:xe,et=de(et,Ge),Ve.push(et),He.push("cut")):at.intersects(tt)&&at.xmin!==ve?(xe=at.xmax*(2*Se)>xe?at.xmax*(2*Se):xe,et=de(et,Ge,360),Ve.push(et),He.push("cut")):He.push(et)}else He.push(it.clone());else He.push(it);let ee=(0,F.XZ)(xe,Se),_e=-90;const je=ee,Ye=new k.Z;for(;ee>0;){const it=360*ee-180;Ye.addPath([[it,_e],[it,-1*_e]]),_e*=-1,ee--}if(Ve.length>0&&je>0){const it=V(Ve,yield X(ge,Ve,Ye,se)),at=[],ot=[];for(let Ke=0;Ke<He.length;Ke++){const ct=He[Ke];if("cut"!==ct)ot.push(ct);else{const Et=it.shift(),Mt=ye[Ke];(0,N.pC)(Mt)&&"polygon"===Mt.type&&Mt.rings&&Mt.rings.length>1&&Et.rings.length>=Mt.rings.length?(at.push(Et),ot.push("simplify")):ot.push(Ge?(0,x.$)(Et):Et)}}if(!at.length)return ot;const et=yield T(ge,at,se),_t=[];for(let Ke=0;Ke<ot.length;Ke++){const ct=ot[Ke];_t.push("simplify"!==ct?ct:Ge?(0,x.$)(et.shift()):et.shift())}return _t}const pt=[];for(let it=0;it<He.length;it++){const at=He[it];if("cut"!==at)pt.push(at);else{const ot=Ve.shift();pt.push(!0===Ge?(0,x.$)(ot):ot)}}return Promise.resolve(pt)})).apply(this,arguments)}function ue(ye,le){const se=(0,I.C5)(le);if(se){const[Ce,ge]=se.valid,Pe=ge-Ce;if(ye<Ce)for(;ye<Ce;)ye+=Pe;if(ye>ge)for(;ye>ge;)ye-=Pe}return ye}},74618:(qe,Me,E)=>{"use strict";E.d(Me,{UZ:()=>B,x3:()=>k,uS:()=>F,XZ:()=>N,Sy:()=>ne});var M=E(55214),D=E(65234),Q=E(91179);const B={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new M.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:D.Z.WebMercator}),minus180Line:new M.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:D.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new M.Z({paths:[[[180,-180],[180,180]]],spatialReference:D.Z.WGS84}),minus180Line:new M.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:D.Z.WGS84})}};function N(I,x){return Math.ceil((I-x)/(2*x))}function ne(I,x){const $=k(I);for(const Y of $)for(const Z of Y)Z[0]+=x;return I}function k(I){return(0,Q.oU)(I)?I.rings:I.paths}function F(I){const x=(null==I?void 0:I.isWebMercator)?102100:4326;return[B[x].minX,B[x].maxX]}},83137:(qe,Me,E)=>{"use strict";E.d(Me,{yZ:()=>Q});var M=E(16730);function Q(k,F){const I=F||k.extent,x=k.width,$=(0,M.c9)(I&&I.spatialReference);return I&&x?I.width/x*$*M.hd*96:0}},37053:(qe,Me,E)=>{"use strict";E.d(Me,{WR:()=>de,Zn:()=>oe,R_:()=>me,fS:()=>$,C5:()=>Y,yW:()=>L,N$:()=>re,sT:()=>Z,BZ:()=>K,V2:()=>te,QM:()=>P,JY:()=>he,oR:()=>X,o$:()=>j,ME:()=>W,sS:()=>T,MP:()=>J});var M=E(62208),D=E(77275),Q=E(6178),B=E(84029);const N={102113:!0,102100:!0,3857:!0,3785:!0},ne={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},k='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',F=[-20037508.342788905,20037508.342788905],I=[-20037508.342787,20037508.342787],x={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:F,origin:I,dx:1e-5},102100:{wkTemplate:k,valid:F,origin:I,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:F,origin:I,dx:1e-5},3857:{wkTemplate:k,valid:F,origin:I,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function $(ie,V){return!(0,M.Wi)(ie)&&!(0,M.Wi)(V)&&(ie===V||(null!=ie.wkid||null!=V.wkid?ie.wkid===V.wkid||T(ie)&&T(V)||null!=V.latestWkid&&ie.wkid===V.latestWkid||null!=ie.latestWkid&&V.wkid===ie.latestWkid:!(!ie.wkt||!V.wkt)&&ie.wkt.toUpperCase()===V.wkt.toUpperCase()))}function Y(ie){return he(ie)&&ie.wkid?x[ie.wkid]:null}function Z(ie){return!!he(ie)&&(ie.wkid?null==B.Z[ie.wkid]:!!ie.wkt&&!!/^\s*GEOGCS/i.test(ie.wkt))}function re(ie){return!(K(ie)||te(ie))}function X(ie){return he(ie)&&4326===ie.wkid}function L(ie){return he(ie)&&ie.wkid===Q.W.CGCS2000}function T(ie){return he(ie)&&null!=ie.wkid&&!0===N[ie.wkid]}function P(ie){return he(ie)&&32662===ie.wkid}function j(ie){return ie===Q.W.GCSMARS2000||ie===Q.W.GCSMARS2000_SPHERE}function K(ie){return he(ie)&&null!=ie.wkid&&j(ie.wkid)}function W(ie){return ie===Q.W.GCSMOON2000}function te(ie){return he(ie)&&null!=ie.wkid&&W(ie.wkid)}function J(ie){return he(ie)&&null!=ie.wkid&&!0===ne[ie.wkid]}function he(ie){return(0,M.pC)(ie)&&(null!=ie.wkid&&ie.wkid>=2e3||null!=ie.wkt)}const oe={wkid:4326,wkt:(0,D.gx)(x[4326].wkTemplate,{Central_Meridian:"0.0"})},me={wkid:102100,latestWkid:3857},de={wkid:32662}},71774:(qe,Me,E)=>{"use strict";E.d(Me,{Mk:()=>Q,P$:()=>B});var M=E(2076);const Q=(0,M.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),B=(0,M.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},46367:(qe,Me,E)=>{"use strict";E.d(Me,{Q8:()=>X,$:()=>j,hG:()=>T,iV:()=>L,Sx:()=>K,R6:()=>P,mZ:()=>$});var M=E(58817),D=E(62208),Q=E(65234),B=E(94425),N=E(37053);function F(W){return 57.29577951308232*W}function I(W){return.017453292519943*W}function $(W){return Math.PI/2-2*Math.atan(Math.exp(-W/B.sv.radius))}function Y(W){return null!=W.wkid||null!=W.wkt}const Z=[0,0];function re(W,te,J,he,oe){const me=W,de=oe;if(de.spatialReference=J,"x"in me&&"x"in de)[de.x,de.y]=te(me.x,me.y,Z,he);else if("xmin"in me&&"xmin"in de)[de.xmin,de.ymin]=te(me.xmin,me.ymin,Z,he),[de.xmax,de.ymax]=te(me.xmax,me.ymax,Z,he);else if("paths"in me&&"paths"in de||"rings"in me&&"rings"in de){const ie="paths"in me?me.paths:me.rings,V=[];let ce;for(let ae=0;ae<ie.length;ae++){const pe=ie[ae];ce=[],V.push(ce);for(let ue=0;ue<pe.length;ue++)ce.push(te(pe[ue][0],pe[ue][1],[0,0],he)),pe[ue].length>2&&ce[ue].push(pe[ue][2]),pe[ue].length>3&&ce[ue].push(pe[ue][3])}"paths"in de?de.paths=V:de.rings=V}else if("points"in me&&"points"in de){const ie=me.points,V=[];for(let ce=0;ce<ie.length;ce++)V[ce]=te(ie[ce][0],ie[ce][1],[0,0],he),ie[ce].length>2&&V[ce].push(ie[ce][2]),ie[ce].length>3&&V[ce].push(ie[ce][3]);de.points=V}return oe}function X(W,te){const J=W&&(Y(W)?W:W.spatialReference),he=te&&(Y(te)?te:te.spatialReference);return!(W&&"type"in W&&"mesh"===W.type||te&&"type"in te&&"mesh"===te.type||!J||!he)&&(!!(0,N.fS)(he,J)||(0,N.sS)(he)&&(0,N.oR)(J)||(0,N.sS)(J)&&(0,N.oR)(he))}function L(W,te){if((0,D.Wi)(W))return null;const J=W.spatialReference,he=te&&(Y(te)?te:te.spatialReference);return X(J,he)?(0,N.fS)(J,he)?(0,M.d9)(W):(0,N.sS)(he)?re(W,T,Q.Z.WebMercator,!1,(0,M.d9)(W)):(0,N.oR)(he)?re(W,P,Q.Z.WGS84,!1,(0,M.d9)(W)):null:null}function T(W,te,J=[0,0]){te>89.99999?te=89.99999:te<-89.99999&&(te=-89.99999);const he=I(te);return J[0]=I(W)*B.sv.radius,J[1]=B.sv.halfSemiMajorAxis*Math.log((1+Math.sin(he))/(1-Math.sin(he))),J}function P(W,te,J=[0,0],he=!1){const oe=F(W/B.sv.radius);return J[0]=he?oe:oe-360*Math.floor((oe+180)/360),J[1]=F(Math.PI/2-2*Math.atan(Math.exp(-te/B.sv.radius))),J}function j(W,te=!1,J=(0,M.d9)(W)){return re(W,T,Q.Z.WebMercator,te,J)}function K(W,te=!1,J=(0,M.d9)(W)){return re(W,P,Q.Z.WGS84,te,J)}},18945:(qe,Me,E)=>{"use strict";function M(D,Q,B=!1){let{hasM:N,hasZ:ne}=D;Array.isArray(Q)?4!==Q.length||N||ne?3===Q.length&&B&&!N?(ne=!0,N=!1):3===Q.length&&N&&ne&&(N=!1,ne=!1):(N=!0,ne=!0):(ne=!ne&&Q.hasZ&&(!N||Q.hasM),N=!N&&Q.hasM&&(!ne||Q.hasZ)),D.hasZ=ne,D.hasM=N}E.d(Me,{l:()=>M})},33696:(qe,Me,E)=>{"use strict";E.d(Me,{k:()=>B});var M=E(62208),D=E(16730),Q=E(37053);function B(x,$,Y){if((0,M.Wi)($)||(0,M.Wi)(Y)||Y.vcsWkid||(0,Q.fS)($,Y))return null;const Z=(0,D._R)($)/(0,D._R)(Y);if(1===Z)return null;switch(x){case"point":case"esriGeometryPoint":return re=>function N(x,$){x&&null!=x.z&&(x.z*=$)}(re,Z);case"polyline":case"esriGeometryPolyline":return re=>function k(x,$){if(x)for(const Y of x.paths)for(const Z of Y)Z.length>2&&(Z[2]*=$)}(re,Z);case"polygon":case"esriGeometryPolygon":return re=>function ne(x,$){if(x)for(const Y of x.rings)for(const Z of Y)Z.length>2&&(Z[2]*=$)}(re,Z);case"multipoint":case"esriGeometryMultipoint":return re=>function F(x,$){if(x)for(const Y of x.points)Y.length>2&&(Y[2]*=$)}(re,Z);case"extent":case"esriGeometryExtent":return re=>function I(x,$){x&&null!=x.zmin&&null!=x.zmax&&(x.zmin*=$,x.zmax*=$)}(re,Z);default:return null}}},52515:(qe,Me,E)=>{"use strict";E(88411),E(15348),E(97059),E(56683);var N=E(41840),ne=E(15861),k=E(84792),F=E(26584),I=E(62208);function $(){return($=(0,ne.Z)(function*(P,j,K,W){const te=j.exec(K);if(!te)throw new F.Z("esri-intl:invalid-bundle",`Bundle id "${K}" is not compatible with the pattern "${j}"`);const J=te[1]?`${te[1]}/`:"",he=te[2],oe=(0,N.Su)(W),me=`${J}${he}.json`,de=oe?`${J}${he}_${oe}.json`:me;let ie;try{ie=yield Y(P(de))}catch(V){if(de===me)throw new F.Z("intl:unknown-bundle",`Bundle "${K}" cannot be loaded`,{error:V});try{ie=yield Y(P(me))}catch(ce){throw new F.Z("intl:unknown-bundle",`Bundle "${K}" cannot be loaded`,{error:ce})}}return ie})).apply(this,arguments)}function Y(P){return Z.apply(this,arguments)}function Z(){return(Z=(0,ne.Z)(function*(P){if((0,I.pC)(L.fetchBundleAsset))return L.fetchBundleAsset(P);const j=yield(0,k.default)(P,{responseType:"text"});return JSON.parse(j.data)})).apply(this,arguments)}class re{constructor({base:j="",pattern:K,location:W=new URL(window.location.href)}){let te;te="string"==typeof W?J=>new URL(J,new URL(W,window.location.href)).href:W instanceof URL?J=>new URL(J,W).href:W,this.pattern="string"==typeof K?new RegExp(`^${K}`):K,this.getAssetUrl=te,j=j?j.endsWith("/")?j:j+"/":"",this.matcher=new RegExp(`^${j}(?:(.*)/)?(.*)$`)}fetchMessageBundle(j,K){return function x(P,j,K,W){return $.apply(this,arguments)}(this.getAssetUrl,this.matcher,j,K)}}const L={};var T=E(54346);(0,N.tz)(function X(P){return new re(P)}({pattern:"esri/",location:T.V}))},88411:(qe,Me,E)=>{"use strict";E.d(Me,{Ze:()=>P,p6:()=>j});var M=E(2076),D=E(56683);const Q={year:"numeric",month:"numeric",day:"numeric"},B={year:"numeric",month:"long",day:"numeric"},N={year:"numeric",month:"short",day:"numeric"},ne={year:"numeric",month:"long",weekday:"long",day:"numeric"},k={hour:"numeric",minute:"numeric"},F=$n(Pt({},k),{second:"numeric"}),I={"short-date":Q,"short-date-short-time":Pt(Pt({},Q),k),"short-date-short-time-24":$n(Pt(Pt({},Q),k),{hour12:!1}),"short-date-long-time":Pt(Pt({},Q),F),"short-date-long-time-24":$n(Pt(Pt({},Q),F),{hour12:!1}),"short-date-le":Q,"short-date-le-short-time":Pt(Pt({},Q),k),"short-date-le-short-time-24":$n(Pt(Pt({},Q),k),{hour12:!1}),"short-date-le-long-time":Pt(Pt({},Q),F),"short-date-le-long-time-24":$n(Pt(Pt({},Q),F),{hour12:!1}),"long-month-day-year":B,"long-month-day-year-short-time":Pt(Pt({},B),k),"long-month-day-year-short-time-24":$n(Pt(Pt({},B),k),{hour12:!1}),"long-month-day-year-long-time":Pt(Pt({},B),F),"long-month-day-year-long-time-24":$n(Pt(Pt({},B),F),{hour12:!1}),"day-short-month-year":N,"day-short-month-year-short-time":Pt(Pt({},N),k),"day-short-month-year-short-time-24":$n(Pt(Pt({},N),k),{hour12:!1}),"day-short-month-year-long-time":Pt(Pt({},N),F),"day-short-month-year-long-time-24":$n(Pt(Pt({},N),F),{hour12:!1}),"long-date":ne,"long-date-short-time":Pt(Pt({},ne),k),"long-date-short-time-24":$n(Pt(Pt({},ne),k),{hour12:!1}),"long-date-long-time":Pt(Pt({},ne),F),"long-date-long-time-24":$n(Pt(Pt({},ne),F),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":k,"long-time":F},x=(0,M.w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),re=(x.toJSON.bind(x),x.fromJSON.bind(x),{ar:"ar-u-nu-latn-ca-gregory"});let X=new WeakMap,L=I["short-date-short-time"];function P(K){return I[K]||null}function j(K,W){return function T(K){const W=K||L;if(!X.has(W)){const te=(0,D.Kd)(),J=re[(0,D.Kd)()]||te;X.set(W,new Intl.DateTimeFormat(J,W))}return X.get(W)}(W).format(K)}(0,D.Ze)(()=>{X=new WeakMap,L=I["short-date-short-time"]})},56683:(qe,Me,E)=>{"use strict";var M,D,Q;let N;E.d(Me,{Ze:()=>L,Kd:()=>F,qe:()=>re});const ne=null!=(M=null==(D=globalThis.esriConfig)?void 0:D.locale)?M:null==(Q=globalThis.dojoConfig)?void 0:Q.locale;function k(){var P,j;return null!=(P=null!=ne?ne:null==(j=globalThis.navigator)?void 0:j.language)?P:"en"}function F(){return void 0===N&&(N=k()),N}const Z=[];function re(P){return Z.push(P),{remove(){Z.splice(Z.indexOf(P),1)}}}const X=[];function L(P){return X.push(P),{remove(){Z.splice(X.indexOf(P),1)}}}null==globalThis.addEventListener||globalThis.addEventListener("languagechange",function T(){const j=null!=undefined?undefined:k();N!==j&&(N=j,[...X].forEach(K=>{K.call(null,j)}),[...Z].forEach(K=>{K.call(null,j)}))})},41840:(qe,Me,E)=>{"use strict";E.d(Me,{ME:()=>Y,Su:()=>re,tz:()=>$});var M=E(15861),D=E(26584),Q=E(10699),B=E(56683);const N=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ne={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function k(K){var W;return null!=(W=ne[K])&&W}const F=[],I=new Map;function x(K){for(const W of I.keys())T(K.pattern,W)&&I.delete(W)}function $(K){return F.includes(K)||(x(K),F.unshift(K)),{remove(){const W=F.indexOf(K);W>-1&&(F.splice(W,1),x(K))}}}function Y(K){return Z.apply(this,arguments)}function Z(){return(Z=(0,M.Z)(function*(K){const W=(0,B.Kd)();I.has(K)||I.set(K,X(K,W));const te=I.get(K);return yield P.add(te),te})).apply(this,arguments)}function re(K){if(!N.test(K))return null;const[,W,te]=N.exec(K),J=W+(te?"-"+te.toUpperCase():"");return k(J)?J:k(W)?W:null}function X(K,W){return L.apply(this,arguments)}function L(){return(L=(0,M.Z)(function*(K,W){const te=[];for(const J of F)if(T(J.pattern,K))try{return yield J.fetchMessageBundle(K,W)}catch(he){te.push(he)}throw te.length?new D.Z("intl:message-bundle-error",`Errors occurred while loading "${K}"`,{errors:te}):new D.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${K}"`)})).apply(this,arguments)}function T(K,W){return"string"==typeof K?W.startsWith(K):K.test(W)}(0,B.Ze)(()=>{I.clear()});const P=new class{constructor(){this._numLoading=0}waitForAll(){var K=this;return(0,M.Z)(function*(){K._dfd&&(yield K._dfd.promise)})()}add(K){return this._increase(),K.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,Q.dD)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},15348:(qe,Me,E)=>{"use strict";E.d(Me,{sh:()=>k,uf:()=>F});var M=E(62208),D=E(56683);const Q={ar:"ar-u-nu-latn"};let B=new WeakMap,N={};function k(I={}){const x={};return null!=I.digitSeparator&&(x.useGrouping=I.digitSeparator),null!=I.places&&(x.minimumFractionDigits=x.maximumFractionDigits=I.places),x}function F(I,x){return function ne(I){const x=I||N;if(!B.has(x)){const $=(0,D.Kd)(),Y=Q[(0,D.Kd)()]||$;B.set(x,new Intl.NumberFormat(Y,I))}return(0,M.j0)(B.get(x))}(x).format(I)}(0,D.Ze)(()=>{B=new WeakMap,N={}})},97059:(qe,Me,E)=>{"use strict";E.d(Me,{n:()=>k});var M=E(63290),D=E(94113),Q=E(77275),B=E(88411),N=E(15348);const ne=M.Z.getLogger("esri.intl");function k(Y,Z,re={}){const{format:X={}}=re;return(0,Q.gx)(Y,L=>function F(Y,Z,re){let X,L;const T=Y.indexOf(":");if(-1===T?X=Y.trim():(X=Y.slice(0,T).trim(),L=Y.slice(T+1).trim()),!X)return"";const P=(0,D.hS)(X,Z);if(null==P)return"";const j=re[L]||re[X];return j?function I(Y,Z){switch(Z.type){case"date":return(0,B.p6)(Y,Z.intlOptions);case"number":return(0,N.uf)(Y,Z.intlOptions);default:return ne.warn("missing format descriptor for key {key}"),$(Y)}}(P,j):L?function x(Y,Z){switch(Z.toLowerCase()){case"dateformat":return(0,B.p6)(Y);case"numberformat":return(0,N.uf)(Y);default:return ne.warn(`inline format is unsupported since 4.12: ${Z}`),/^(dateformat|datestring)/i.test(Z)?(0,B.p6)(Y):/^numberformat/i.test(Z)?(0,N.uf)(Y):$(Y)}}(P,L):$(P)}(L,Z,X))}function $(Y){switch(typeof Y){case"string":return Y;case"number":return(0,N.uf)(Y);case"boolean":return""+Y;default:return Y instanceof Date?(0,B.p6)(Y):""}}},24263:(qe,Me,E)=>{"use strict";E.d(Me,{Dp:()=>F,id:()=>ne,qh:()=>k,i8:()=>B,Nv:()=>N});var M=E(15861),D=E(8314),Q=E(21726);const B="4.23",N={request:(I,x)=>(0,M.Z)(function*(){var $;const{default:Y}=yield Promise.resolve().then(E.bind(E,84792)),Z=I.options,re=Z.responseType;Z.signal=null==x?void 0:x.signal,Z.responseType="native"===re||"native-request-init"===re?"native-request-init":["blob","json","text"].includes(re)&&null!=($=(0,Q.oh)(I.url))&&$.after?re:"array-buffer";const X=yield Y(I.url,Z),L={data:X.data,ssl:X.ssl};switch(X.requestOptions.responseType){case"native-request-init":return delete L.data.signal,L;case"blob":L.data=yield L.data.arrayBuffer();break;case"json":L.data=(new TextEncoder).encode(JSON.stringify(L.data)).buffer;break;case"text":L.data=(new TextEncoder).encode(L.data).buffer}return{result:L,transferList:[L.data]}})()};let ne;function k(I){ne=I}function F(I){const x=ne&&ne.findCredential(I);return x&&x.token?(0,Q.ZN)(I,"token",x.token):I}(0,D.Z)("host-webworker")||((0,D.Z)("edge")||(0,D.Z)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},15382:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>Ut});var M=E(15861),D=E(17626),Q=E(73281),I=(E(4832),E(49067),E(26284),E(54928),E(69357),E(40342)),x=E(14726),$=E(33474),Y=E(32088),Z=E(84792),re=E(65787),X=E(79608),L=E(48701),T=E(26584),P=E(72392),j=E(8314),K=E(2076),W=E(63290),te=E(62208),J=E(99959),he=E(94113),oe=E(10699);function de(){return(de=(0,M.Z)(function*(Ue,Be){const{WhereClause:dt}=yield E.e(410).then(E.bind(E,10410));return dt.create(Ue,Be)})).apply(this,arguments)}var Pe,ie=E(21726),V=E(77712),ae=(E(85931),E(66656)),pe=E(68653),ue=E(76898),ye=E(99433),le=E(383),se=E(86810),Ce=E(58817),ge=E(90912);let Ee=Pe=class extends se.wq{constructor(Ue){super(Ue),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new Pe({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Ee.prototype,"expression",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Ee.prototype,"name",void 0),(0,D._)([(0,V.Cb)({type:["boolean","date","number","string"],json:{write:!0}})],Ee.prototype,"returnType",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Ee.prototype,"title",void 0),Ee=Pe=(0,D._)([(0,ue.j)("esri.form.ExpressionInfo")],Ee);const Ge=Ee;let Se=class extends se.wq{constructor(Ue){super(Ue),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Se.prototype,"description",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Se.prototype,"label",void 0),(0,D._)([(0,V.Cb)()],Se.prototype,"type",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Se.prototype,"visibilityExpression",void 0),Se=(0,D._)([(0,ue.j)("esri.form.elements.Element")],Se);const ve=Se;var Te;let Ze=Te=class extends se.wq{constructor(Ue){super(Ue),this.type=null}clone(){return new Te({type:this.type})}};(0,D._)([(0,V.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],Ze.prototype,"type",void 0),Ze=Te=(0,D._)([(0,ue.j)("esri.form.elements.inputs.AttachmentInput")],Ze);const tt=Ze;var xe;let Ve=xe=class extends ve{constructor(Ue){super(Ue),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new xe({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Ve.prototype,"attachmentKeyword",void 0),(0,D._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],Ve.prototype,"editable",void 0),(0,D._)([(0,V.Cb)({type:tt,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Ve.prototype,"input",void 0),(0,D._)([(0,V.Cb)({type:["attachment"],json:{read:!1,write:!0}})],Ve.prototype,"type",void 0),Ve=xe=(0,D._)([(0,ue.j)("esri.form.elements.AttachmentElement")],Ve);const He=Ve;let ee=class extends se.wq{constructor(Ue){super(Ue),this.type=null}};(0,D._)([(0,V.Cb)()],ee.prototype,"type",void 0),ee=(0,D._)([(0,ue.j)("esri.form.elements.inputs.Input")],ee);const _e=ee;let je=class extends _e{constructor(Ue){super(Ue),this.maxLength=null,this.minLength=0}};(0,D._)([(0,V.Cb)({type:Number,json:{write:!0}})],je.prototype,"maxLength",void 0),(0,D._)([(0,V.Cb)({type:Number,json:{write:!0}})],je.prototype,"minLength",void 0),je=(0,D._)([(0,ue.j)("esri.form.elements.inputs.TextInput")],je);const Ye=je;var pt;let it=pt=class extends Ye{constructor(Ue){super(Ue),this.type="barcode-scanner"}clone(){return new pt({maxLength:this.maxLength,minLength:this.minLength})}};(0,D._)([(0,V.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],it.prototype,"type",void 0),it=pt=(0,D._)([(0,ue.j)("esri.form.elements.inputs.BarcodeScannerInput")],it);const at=it;var ot;let et=ot=class extends _e{constructor(Ue){super(Ue),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new ot({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],et.prototype,"noValueOptionLabel",void 0),(0,D._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],et.prototype,"showNoValueOption",void 0),(0,D._)([(0,V.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],et.prototype,"type",void 0),et=ot=(0,D._)([(0,ue.j)("esri.form.elements.inputs.ComboBoxInput")],et);const _t=et;var Ke;function ct(Ue){return null!=Ue?new Date(Ue):null}function Et(Ue){return Ue?Ue.getTime():null}let Mt=Ke=class extends _e{constructor(Ue){super(Ue),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(Ue,Be){return ct(Be.max)}writeMax(Ue,Be){Be.max=Et(Ue)}readMin(Ue,Be){return ct(Be.min)}writeMin(Ue,Be){Be.min=Et(Ue)}clone(){return new Ke({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};(0,D._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],Mt.prototype,"includeTime",void 0),(0,D._)([(0,V.Cb)({type:Date,json:{type:Number,write:!0}})],Mt.prototype,"max",void 0),(0,D._)([(0,pe.r)("max")],Mt.prototype,"readMax",null),(0,D._)([(0,ye.c)("max")],Mt.prototype,"writeMax",null),(0,D._)([(0,V.Cb)({type:Date,json:{type:Number,write:!0}})],Mt.prototype,"min",void 0),(0,D._)([(0,pe.r)("min")],Mt.prototype,"readMin",null),(0,D._)([(0,ye.c)("min")],Mt.prototype,"writeMin",null),(0,D._)([(0,V.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],Mt.prototype,"type",void 0),Mt=Ke=(0,D._)([(0,ue.j)("esri.form.elements.inputs.DateTimePickerInput")],Mt);const Gt=Mt;var $t;let Jt=$t=class extends _e{constructor(Ue){super(Ue),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new $t({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Jt.prototype,"noValueOptionLabel",void 0),(0,D._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],Jt.prototype,"showNoValueOption",void 0),(0,D._)([(0,V.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],Jt.prototype,"type",void 0),Jt=$t=(0,D._)([(0,ue.j)("esri.form.elements.inputs.RadioButtonsInput")],Jt);const cn=Jt;var xn;let pn=xn=class extends _e{constructor(Ue){super(Ue),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new xn({offValue:this.offValue,onValue:this.onValue})}};(0,D._)([(0,V.Cb)({type:[String,Number],json:{write:!0}})],pn.prototype,"offValue",void 0),(0,D._)([(0,V.Cb)({type:[String,Number],json:{write:!0}})],pn.prototype,"onValue",void 0),(0,D._)([(0,V.Cb)({type:["switch"],json:{read:!1,write:!0}})],pn.prototype,"type",void 0),pn=xn=(0,D._)([(0,ue.j)("esri.form.elements.inputs.SwitchInput")],pn);const An=pn;var Pn;let Sn=Pn=class extends Ye{constructor(Ue){super(Ue),this.type="text-area"}clone(){return new Pn({maxLength:this.maxLength,minLength:this.minLength})}};(0,D._)([(0,V.Cb)({type:["text-area"],json:{read:!1,write:!0}})],Sn.prototype,"type",void 0),Sn=Pn=(0,D._)([(0,ue.j)("esri.form.elements.inputs.TextAreaInput")],Sn);const ut=Sn;var bt;let xt=bt=class extends Ye{constructor(Ue){super(Ue),this.type="text-box"}clone(){return new bt({maxLength:this.maxLength,minLength:this.minLength})}};(0,D._)([(0,V.Cb)({type:["text-box"],json:{read:!1,write:!0}})],xt.prototype,"type",void 0),xt=bt=(0,D._)([(0,ue.j)("esri.form.elements.inputs.TextBoxInput")],xt);const Kt={base:_e,key:"type",typeMap:{"barcode-scanner":at,"combo-box":_t,"datetime-picker":Gt,"radio-buttons":cn,switch:An,"text-area":ut,"text-box":xt}};var Ht,At=E(26141);let Yt=Ht=class extends ve{constructor(Ue){super(Ue),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new Ht({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,V.Cb)({types:At.V5,json:{read:{reader:At.im},write:!0}})],Yt.prototype,"domain",void 0),(0,D._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],Yt.prototype,"editable",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Yt.prototype,"editableExpression",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Yt.prototype,"fieldName",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Yt.prototype,"hint",void 0),(0,D._)([(0,V.Cb)({types:Kt,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Yt.prototype,"input",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Yt.prototype,"requiredExpression",void 0),(0,D._)([(0,V.Cb)({type:String,json:{read:!1,write:!0}})],Yt.prototype,"type",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Yt.prototype,"valueExpression",void 0),Yt=Ht=(0,D._)([(0,ue.j)("esri.form.elements.FieldElement")],Yt);const sn=Yt;var mt,Ct=E(51686);let ze=mt=class extends ve{constructor(Ue){super(Ue),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new mt({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:(0,Ce.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,V.Cb)({type:Number,json:{write:!0}})],ze.prototype,"displayCount",void 0),(0,D._)([(0,V.Cb)({type:["list"],json:{write:!0}})],ze.prototype,"displayType",void 0),(0,D._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],ze.prototype,"editable",void 0),(0,D._)([(0,V.Cb)({type:[Ct.Z],json:{write:!0}})],ze.prototype,"orderByFields",void 0),(0,D._)([(0,V.Cb)({type:Number,json:{write:!0}})],ze.prototype,"relationshipId",void 0),(0,D._)([(0,V.Cb)({type:["relationship"],json:{read:!1,write:!0}})],ze.prototype,"type",void 0),ze=mt=(0,D._)([(0,ue.j)("esri.form.elements.RelationshipElement")],ze);const ht=ze;function we(Ue){return{typesWithGroup:{base:ve,key:"type",typeMap:{attachment:He,field:sn,group:Ue,relationship:ht}},typesWithoutGroup:{base:ve,key:"type",typeMap:{attachment:He,field:sn,relationship:ht}}}}function Xe(Ue,Be,dt=!0){if(!Ue)return null;const It=dt?Be.typesWithGroup.typeMap:Be.typesWithoutGroup.typeMap;return Ue.filter(Qt=>It[Qt.type]).map(Qt=>It[Qt.type].fromJSON(Qt))}function Dt(Ue,Be,dt=!0){if(!Ue)return null;const It=dt?Be.typesWithGroup.typeMap:Be.typesWithoutGroup.typeMap;return Ue.filter(Qt=>It[Qt.type]).map(Qt=>Qt.toJSON())}function kt(Ue,Be,dt=!0){return Ue?Ue.map(It=>(0,ge.N7)(dt?Be.typesWithGroup:Be.typesWithoutGroup,It)):null}var on;let rt=on=class extends ve{constructor(Ue){super(Ue),this.elements=null,this.initialState="expanded",this.type="group"}castElements(Ue){return kt(Ue,Vt,!1)}readElements(Ue,Be){return Xe(Be.formElements,Vt,!1)}writeElements(Ue,Be){Be.formElements=Dt(Ue,Vt,!1)}clone(){return new on({description:this.description,elements:(0,Ce.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,V.Cb)({json:{write:!0}})],rt.prototype,"elements",void 0),(0,D._)([(0,ae.p)("elements")],rt.prototype,"castElements",null),(0,D._)([(0,pe.r)("elements",["formElements"])],rt.prototype,"readElements",null),(0,D._)([(0,ye.c)("elements")],rt.prototype,"writeElements",null),(0,D._)([(0,V.Cb)({type:["collapsed","expanded"],json:{write:!0}})],rt.prototype,"initialState",void 0),(0,D._)([(0,V.Cb)({type:String,json:{read:!1,write:!0}})],rt.prototype,"type",void 0),rt=on=(0,D._)([(0,ue.j)("esri.form.elements.GroupElement")],rt);const Vt=we(rt);var nn;const fn=we(rt);let Nn=nn=class extends se.wq{constructor(Ue){super(Ue),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(Ue){return kt(Ue,fn)}readElements(Ue,Be){return Xe(Be.formElements,fn)}writeElements(Ue,Be){Be.formElements=Dt(Ue,fn)}clone(){return new nn({description:this.description,expressionInfos:(0,Ce.d9)(this.expressionInfos),elements:(0,Ce.d9)(this.elements),title:this.title})}};(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Nn.prototype,"description",void 0),(0,D._)([(0,V.Cb)({json:{write:!0}})],Nn.prototype,"elements",void 0),(0,D._)([(0,ae.p)("elements")],Nn.prototype,"castElements",null),(0,D._)([(0,pe.r)("elements",["formElements"])],Nn.prototype,"readElements",null),(0,D._)([(0,ye.c)("elements")],Nn.prototype,"writeElements",null),(0,D._)([(0,V.Cb)({type:[Ge],json:{write:!0}})],Nn.prototype,"expressionInfos",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],Nn.prototype,"title",void 0),Nn=nn=(0,D._)([(0,ue.j)("esri.form.FormTemplate")],Nn);const pr=Nn;var Or=E(2004),ar=E(79334),wr=E(65234),ys=E(63602),Jr=(E(29132),E(88879)),Fs=E(80542),mi=E(47996),Xs=E(60330),us=E(59289),cs=E(61039),Os=E(20514),Ms=E(61515),Pr=E(17253),rs=E(37118),ds=E(71774);let Le=0;const Ft=W.Z.getLogger("esri.layers.graphics.sources.MemorySource");let Lt=class extends(mi.Z.LoadableMixin((0,Xs.v)((0,Fs.p)(L.Z)))){constructor(Ue){super(Ue),this._idToClientGraphic=null,this.type="memory"}load(Ue){const Be=(0,te.pC)(Ue)?Ue.signal:null;return this.addResolvingPromise(this._startWorker(Be)),Promise.resolve(this)}destroy(){var Ue;null==(Ue=this._connection)||Ue.close(),this._connection=null}get workerGeometryType(){var Ue;const Be=null==(Ue=this.layer)?void 0:Ue.geometryType;return Be?this._geometryTypeRequiresClientGraphicMapping(Be)?"polygon":Be:null}applyEdits(Ue){return this.load().then(()=>this._applyEdits(Ue))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(Ue,Be={}){var dt=this;return(0,M.Z)(function*(){yield dt.load(Be);const It=yield dt._connection.invoke("queryFeatures",Ue?Ue.toJSON():null,Be);(0,Ms.p)(Ue,dt.layer.spatialReference,It);const Qt=Pr.default.fromJSON(It);if(!dt._requiresClientGraphicMapping())return Qt;const yn=dt.layer.objectIdField;for(const gn of Qt.features){const Vr=dt._idToClientGraphic.get(gn.attributes[yn]);Vr&&(gn.geometry=Vr.geometry)}return Qt.geometryType=dt.layer.geometryType,Qt})()}queryFeaturesJSON(Ue,Be={}){var dt=this;return(0,M.Z)(function*(){if(dt._requiresClientGraphicMapping())throw new T.Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield dt.load(Be);const It=yield dt._connection.invoke("queryFeatures",Ue?Ue.toJSON():null,Be);return(0,Ms.p)(Ue,dt.layer.spatialReference,It),It})()}queryFeatureCount(Ue,Be={}){return this.load(Be).then(()=>this._connection.invoke("queryFeatureCount",Ue?Ue.toJSON():null,Be))}queryObjectIds(Ue,Be={}){return this.load(Be).then(()=>this._connection.invoke("queryObjectIds",Ue?Ue.toJSON():null,Be))}queryExtent(Ue,Be={}){return this.load(Be).then(()=>this._connection.invoke("queryExtent",Ue?Ue.toJSON():null,Be)).then(dt=>({count:dt.count,extent:Or.Z.fromJSON(dt.extent)}))}querySnapping(Ue,Be={}){return this.load(Be).then(()=>this._connection.invoke("querySnapping",Ue,Be))}_applyEdits(Ue){var Be=this;return(0,M.Z)(function*(){if(!Be._connection)throw new T.Z("feature-layer-source:edit-failure","Memory source not loaded");const dt=Be.layer.objectIdField;let It=null;const Qt=[],yn=[];yield Promise.all([Be._prepareClientMapping(Ue.addFeatures,null),Be._prepareClientMapping(Ue.updateFeatures,null)]);const gn=Gn=>"objectId"in Gn&&null!=Gn.objectId?Gn.objectId:"attributes"in Gn&&null!=Gn.attributes[dt]?Gn.attributes[dt]:null;if(Ue.addFeatures&&(It=Be._prepareAddFeatures(Ue.addFeatures)),Ue.deleteFeatures)for(const Gn of Ue.deleteFeatures){const Gr=gn(Gn);null!=Gr&&Qt.push(Gr)}const fr=Ue.updateFeatures&&Be._idToClientGraphic?new Map:null;if(Ue.updateFeatures)for(const Gn of Ue.updateFeatures)if(yn.push(Be._serializeFeature(Gn)),fr){const Gr=gn(Gn);null!=Gr&&fr.set(Gr,Gn)}(0,Os.P)(It?It.features:null,yn,Be.layer.spatialReference);const{fullExtent:Vr,featureEditResults:Er}=yield Be._connection.invoke("applyEdits",{adds:It?It.features:[],updates:yn,deletes:Qt});return Be.fullExtent=Vr,It&&It.finish(Er.uidToObjectId),Be._updateClientGraphicIds(fr,Er),Be._createEditsResult(Er)})()}_prepareClientMapping(Ue,Be){var dt=this;return(0,M.Z)(function*(){if("mesh"!==dt.layerOrSourceGeometryType||(0,te.Wi)(Ue))return;const It=[];for(const{geometry:Qt}of Ue)!(0,te.pC)(Qt)||"mesh"!==Qt.type||Qt.hasExtent||Qt.loaded||It.push(Qt.load({signal:Be}));It.length&&(yield Promise.all(It))})()}_updateClientGraphicIds(Ue,Be){if(this._idToClientGraphic){if(Ue)for(const dt of Be.updateResults){if(!dt.success)continue;const It=Ue.get(dt.objectId);null!=It&&this._addIdToClientGraphic(It)}for(const dt of Be.deleteResults)dt.success&&this._idToClientGraphic.delete(dt.objectId)}}_createEditsResult(Ue){return{addFeatureResults:Ue.addResults?Ue.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:Ue.updateResults?Ue.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:Ue.deleteResults?Ue.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(Ue){const Be=!0===Ue.success?null:Ue.error||{code:void 0,description:void 0};return{objectId:Ue.objectId,globalId:Ue.globalId,error:Be?new T.Z("feature-layer-source:edit-failure",Be.description,{code:Be.code}):null}}_prepareAddFeatures(Ue){const Be=new Map,dt=new Array(Ue.length);let It=null;for(let yn=0;yn<Ue.length;yn++){const gn=Ue[yn],fr=this._serializeFeature(gn);!It&&(0,te.pC)(gn.geometry)&&(It=gn.geometry.type),dt[yn]=fr,Be.set(`${fr.uid}`,gn)}const Qt=this;return{features:dt,inferredGeometryType:It,finish(yn){const gn=Qt.sourceJSON.objectIdField;for(const fr in yn){const Vr=yn[fr],Er=Be.get(fr);Er&&(Er.attributes||(Er.attributes={}),-1===Vr?delete Er.attributes[gn]:Er.attributes[gn]=Vr,Qt._addIdToClientGraphic(Er))}}}}_addIdToClientGraphic(Ue){if(!this._idToClientGraphic)return;const dt=Ue.attributes&&Ue.attributes[this.sourceJSON.objectIdField];null!=dt&&this._idToClientGraphic.set(dt,Ue)}get layerOrSourceGeometryType(){var Ue,Be,dt;return null!=(Ue=null==(Be=this.layer)?void 0:Be.geometryType)?Ue:null==(dt=this.sourceJSON)?void 0:dt.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(Ue){return this._geometryTypeRequiresClientGraphicMapping(Ue.type)}_geometryTypeRequiresClientGraphicMapping(Ue){return"mesh"===Ue||"multipatch"===Ue||"extent"===Ue}_serializeFeature(Ue){const{attributes:Be}=Ue,dt=this._geometryForSerialization(Ue),It=(Le++).toString();return dt?{uid:It,geometry:dt.toJSON(),attributes:Be}:{uid:It,attributes:Be}}_geometryForSerialization(Ue){const{geometry:Be}=Ue;return(0,te.Wi)(Be)?null:this._geometryRequiresClientGraphicMapping(Be)?Be.extent?rs.Z.fromExtent(Be.extent):null:Be}_startWorker(Ue){var Be=this;return(0,M.Z)(function*(){Be._connection=yield(0,us.bA)("MemorySourceWorker",{strategy:(0,j.Z)("feature-layers-workers")?"dedicated":"local",signal:Ue});const{fields:dt,spatialReference:It,objectIdField:Qt,hasM:yn,hasZ:gn,timeInfo:fr}=Be.layer,Vr="defaults"===Be.layer.originOf("spatialReference");yield Be._prepareClientMapping(Be.items,Ue);const Er=Be._prepareAddFeatures(Be.items);Be.handles.add(Be.on("before-changes",is=>{Ft.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),is.preventDefault()}));const Gn={features:Er.features,fields:dt&&dt.map(is=>is.toJSON()),geometryType:ds.P$.toJSON(Be.workerGeometryType),hasM:"mesh"!==Be.layerOrSourceGeometryType&&yn,hasZ:"mesh"===Be.layerOrSourceGeometryType||gn,objectIdField:Qt,spatialReference:Vr?null:It&&It.toJSON(),timeInfo:fr?fr.toJSON():null},Gr=yield Be._connection.invoke("load",Gn,{signal:Ue});for(const is of Gr.warnings)Ft.warn(is.message,{layer:Be.layer,warning:is});Gr.featureErrors.length&&Ft.warn(`Encountered ${Gr.featureErrors.length} validation errors while loading features`,Gr.featureErrors);const Gs=Gr.layerDefinition;Be._geometryTypeRequiresClientGraphicMapping(Er.inferredGeometryType)&&(Gs.geometryType=ds.P$.toJSON(Er.inferredGeometryType)),Be.sourceJSON=Gs,Be._requiresClientGraphicMapping()&&(Be._idToClientGraphic=new Map),Er.finish(Gr.assignedObjectIds)})()}};(0,D._)([(0,cs.c)({Type:Jr.Z,ensureType:(0,ge.se)(Jr.Z)})],Lt.prototype,"itemType",void 0),(0,D._)([(0,V.Cb)()],Lt.prototype,"type",void 0),(0,D._)([(0,V.Cb)({constructOnly:!0})],Lt.prototype,"layer",void 0),(0,D._)([(0,V.Cb)({readOnly:!0})],Lt.prototype,"workerGeometryType",null),(0,D._)([(0,V.Cb)()],Lt.prototype,"sourceJSON",void 0),Lt=(0,D._)([(0,ue.j)("esri.layers.graphics.sources.MemorySource")],Lt);const rn=Lt;var Cn,Dn=E(50085),jn=E(65088),Rn=E(552),ln=E(50107),Jn=E(35126),or=E(49286),_n=E(32629),Nt=E(6647),nt=E(30346),Ot=E(99555),ft=E(97941),Rt=E(38305),zt=E(13812);let vn=Cn=class extends se.wq{constructor(Ue){super(Ue)}clone(){const{name:Ue,fields:Be,isAscending:dt,isUnique:It,description:Qt}=this;return new Cn({name:Ue,fields:Be,isAscending:dt,isUnique:It,description:Qt})}};(0,D._)([(0,V.Cb)({constructOnly:!0})],vn.prototype,"name",void 0),(0,D._)([(0,V.Cb)({constructOnly:!0})],vn.prototype,"fields",void 0),(0,D._)([(0,V.Cb)({constructOnly:!0})],vn.prototype,"isAscending",void 0),(0,D._)([(0,V.Cb)({constructOnly:!0})],vn.prototype,"isUnique",void 0),(0,D._)([(0,V.Cb)({constructOnly:!0})],vn.prototype,"description",void 0),vn=Cn=(0,D._)([(0,ue.j)("esri.layers.support.FeatureIndex")],vn);var kn=E(2777),sr=E(32777),Xn=E(41638),Nr=E(55911),Wn=E(36630),Qr=E(16730);let vr=class extends((0,X.J)(se.wq)){constructor(Ue){super(Ue),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,D._)([(0,V.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],vr.prototype,"shapeAreaField",void 0),(0,D._)([(0,V.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],vr.prototype,"shapeLengthField",void 0),(0,D._)([(0,V.Cb)({type:String,json:{read:Ue=>Qr.gV.read(Ue)||Qr.Jo.read(Ue)}})],vr.prototype,"units",void 0),vr=(0,D._)([(0,ue.j)("esri.layers.support.GeometryFieldsInfo")],vr);const hs=vr;var Rr=E(170),ss=E(62667),es=E(2430);const jr=new K.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),qn=new K.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Wr=class extends((0,X.J)(se.wq)){constructor(Ue){super(Ue),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,D._)([(0,V.Cb)({json:{read:jr.read,write:jr.write}})],Wr.prototype,"cardinality",void 0),(0,D._)([(0,V.Cb)({json:{read:!0,write:!0}})],Wr.prototype,"composite",void 0),(0,D._)([(0,V.Cb)({json:{read:!0,write:!0}})],Wr.prototype,"id",void 0),(0,D._)([(0,V.Cb)({json:{read:!0,write:!0}})],Wr.prototype,"keyField",void 0),(0,D._)([(0,V.Cb)({json:{read:!0,write:!0}})],Wr.prototype,"keyFieldInRelationshipTable",void 0),(0,D._)([(0,V.Cb)({json:{read:!0,write:!0}})],Wr.prototype,"name",void 0),(0,D._)([(0,V.Cb)({json:{read:!0,write:!0}})],Wr.prototype,"relatedTableId",void 0),(0,D._)([(0,V.Cb)({json:{read:!0,write:!0}})],Wr.prototype,"relationshipTableId",void 0),(0,D._)([(0,V.Cb)({json:{read:qn.read,write:qn.write}})],Wr.prototype,"role",void 0),Wr=(0,D._)([(0,ue.j)("esri.layers.support.Relationship")],Wr);const Vs=Wr;var Ui=E(62708),Mr=E(5676),Fi=E(15283),ts=E(39683),qs=E(67736),Zr=E(84952),zs=E(67010),yi=E(6871),St=E(49430);const an=new K.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),mn={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Bn="FeatureLayer",xr=W.Z.getLogger("esri.layers.FeatureLayer");function Un(Ue){return Ue&&Ue instanceof L.Z}function Kn(Ue,Be,dt){return!!(Ue&&Ue.hasOwnProperty(Be)?Ue[Be]:dt)}function ei(Ue,Be,dt){return Ue&&Ue.hasOwnProperty(Be)?Ue[Be]:dt}function $e(Ue){var Be;const dt=null==Ue||null==(Be=Ue.supportedSpatialAggregationStatistics)?void 0:Be.map(It=>It.toLowerCase());return{envelope:!(null==dt||!dt.includes("envelopeaggregate")),centroid:!(null==dt||!dt.includes("centroidaggregate")),convexHull:!(null==dt||!dt.includes("convexhullaggregate"))}}const Qe=(0,Nr.v)();function gt(Ue,Be,dt){const It=!(null==dt||!dt.writeLayerSchema);return{enabled:It,ignoreOrigin:It}}let lt=class extends((0,Jn.b)((0,Rn.h)((0,_n.c)((0,ft.n)((0,Ot.M)((0,nt.Q)((0,jn.Y)((0,or.q)((0,Nt.I)((0,J.R)((0,ln.N)((0,Dn.V)((0,X.J)(ys.Z)))))))))))))){constructor(...Ue){super(...Ue),this._handles=new P.Z,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=wr.Z.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(L.Z.ofType(vn)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var Ue;null==(Ue=this.source)||Ue.destroy(),this._handles=(0,te.SC)(this._handles)}normalizeCtorArgs(Ue,Be){return"string"==typeof Ue?Pt({url:Ue},Be):Ue}load(Ue){var Be=this;const dt=(0,te.pC)(Ue)?Ue.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(dt).then(Qt=>this._initLayerProperties(Qt)));const It=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},Ue).catch(oe.r9).then((0,M.Z)(function*(){if(Be.url&&null==Be.layerId&&/FeatureServer|MapServer\/*$/i.test(Be.url)){const Qt=yield Be._fetchFirstLayerId(dt);null!=Qt&&(Be.layerId=Qt)}if(!Be.url&&!Be._hasMemorySource())throw new T.Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return Be._initLayerProperties(yield Be.createGraphicsSource(dt))})).then(()=>this.finishLoadEditablePortalLayer(Ue));return this.addResolvingPromise(It),Promise.resolve(this)}readCapabilities(Ue,Be){return{attachment:this._readAttachmentCapabilities((Be=Be.layerDefinition||Be).attachmentProperties),data:this._readDataCapabilities(Be),metadata:this._readMetadataCapabilities(Be),operations:this._readOperationsCapabilities(Be.capabilities||Ue,Be),query:this._readQueryCapabilities(Be),queryRelated:this._readQueryRelatedCapabilities(Be),editing:this._readEditingCapabilities(Be)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(Ue){null!=Ue?this._override("editingEnabled",Ue):this._clearOverride("editingEnabled")}readEditingEnabled(Ue,Be){return this._readEditingEnabled(Be,!1)}readEditingEnabledFromWebMap(Ue,Be,dt){return this._readEditingEnabled(Be,!0,dt)}writeEditingEnabled(Ue,Be){this._writeEditingEnabled(Ue,Be,!1)}writeEditingEnabledToWebMap(Ue,Be,dt,It){this._writeEditingEnabled(Ue,Be,!0,It)}readEditingInfo(Ue,Be){const{editingInfo:dt}=Be;return dt?{lastEditDate:null!=dt.lastEditDate?new Date(dt.lastEditDate):null}:null}readIsTable(Ue,Be){return"Table"===(Be=Be&&Be.layerDefinition||Be).type||!Be.geometryType}writeIsTable(Ue,Be,dt,It){null!=It&&It.writeLayerSchema&&(0,he.RB)(dt,Ue?"Table":"Feature Layer",Be)}readMinScale(Ue,Be){return Be.effectiveMinScale||Ue||0}readMaxScale(Ue,Be){return Be.effectiveMaxScale||Ue||0}readGlobalIdFieldFromService(Ue,Be){if((Be=Be.layerDefinition||Be).globalIdField)return Be.globalIdField;if(Be.fields)for(const dt of Be.fields)if("esriFieldTypeGlobalID"===dt.type)return dt.name}readObjectIdFieldFromService(Ue,Be){if((Be=Be.layerDefinition||Be).objectIdField)return Be.objectIdField;if(Be.fields)for(const dt of Be.fields)if("esriFieldTypeOID"===dt.type)return dt.name}get parsedUrl(){const Ue=this.url?(0,ie.mN)(this.url):null;return null!=Ue&&(null!=this.dynamicDataSource?Ue.path=(0,ie.v_)(Ue.path,"dynamicLayer"):null!=this.layerId&&(Ue.path=(0,ie.v_)(Ue.path,this.layerId.toString()))),Ue}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(Ue){(0,Wn.YN)(Ue,this.fieldsIndex),this._set("renderer",Ue)}readRenderer(Ue,Be,dt){const It=(Be=Be.layerDefinition||Be).drawingInfo&&Be.drawingInfo.renderer||void 0;if(It){const Qt=(0,$.a)(It,Be,dt)||void 0;return Qt||xr.error("Failed to create renderer",{rendererDefinition:Be.drawingInfo.renderer,layer:this,context:dt}),Qt}if(Be.defaultSymbol)return Be.types&&Be.types.length?new x.Z({defaultSymbol:wt(Be.defaultSymbol,Be,dt),field:Be.typeIdField,uniqueValueInfos:Be.types.map(Qt=>({id:Qt.id,symbol:wt(Qt.symbol,Qt,dt)}))}):new I.Z({symbol:wt(Be.defaultSymbol,Be,dt)})}set source(Ue){const Be=this._get("source");Be!==Ue&&(Un(Be)&&this._resetMemorySource(Be),Un(Ue)&&this._initMemorySource(Ue),this._set("source",Ue))}castSource(Ue){return Ue?Array.isArray(Ue)||Ue instanceof L.Z?new rn({layer:this,items:Ue}):Ue:null}readSource(Ue,Be){const dt=Pr.default.fromJSON(Be.featureSet);return new rn({layer:this,items:dt&&dt.features||[]})}readServiceDefinitionExpression(Ue,Be){return Be.definitionQuery||Be.definitionExpression}readTemplates(Ue,Be){const dt=Be.editFieldsInfo,It=dt&&dt.creatorField,Qt=dt&&dt.editorField;return Ue=Ue&&Ue.map(yn=>sr.Z.fromJSON(yn)),this._fixTemplates(Ue,It),this._fixTemplates(Ue,Qt),Ue}readTitle(Ue,Be){const dt=Be.layerDefinition&&Be.layerDefinition.name||Be.name,It=Be.title||Be.layerDefinition&&Be.layerDefinition.title;if(dt){const Qt=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,Rt.a7)(this.url,dt):dt;let yn=dt;if(!yn&&this.url){const gn=(0,Rt.Qc)(this.url);(0,te.pC)(gn)&&(yn=gn.title)}return yn?("item-title-and-service-name"===this.sublayerTitleMode&&Qt&&Qt!==yn&&(yn=Qt+" - "+yn),(0,Rt.ld)(yn)):void 0}if("item-title"===this.sublayerTitleMode&&It)return It}readTitleFromWebMap(Ue,Be){return Be.title||Be.layerDefinition&&Be.layerDefinition.name}readTypeIdField(Ue,Be){let dt=(Be=Be.layerDefinition||Be).typeIdField;if(dt&&Be.fields){dt=dt.toLowerCase();const It=Be.fields.find(Qt=>Qt.name.toLowerCase()===dt);It&&(dt=It.name)}return dt}readTypes(Ue,Be){Ue=(Be=Be.layerDefinition||Be).types;const dt=Be.editFieldsInfo,It=dt&&dt.creatorField,Qt=dt&&dt.editorField;return Ue&&Ue.map(yn=>(yn=Xn.Z.fromJSON(yn),this._fixTemplates(yn.templates,It),this._fixTemplates(yn.templates,Qt),yn))}set url(Ue){const Be=(0,Rt.XG)({layer:this,url:Ue,nonStandardUrlAllowed:!0,logger:xr});this._set("url",Be.url),null!=Be.layerId&&this._set("layerId",Be.layerId)}writeUrl(Ue,Be,dt,It){(0,Rt.wH)(this,Ue,null,Be,It)}readVersion(Ue,Be){return Be.currentVersion?Be.currentVersion:Be.hasOwnProperty("capabilities")||Be.hasOwnProperty("drawingInfo")||Be.hasOwnProperty("hasAttachments")||Be.hasOwnProperty("htmlPopupType")||Be.hasOwnProperty("relationships")||Be.hasOwnProperty("timeInfo")||Be.hasOwnProperty("typeIdField")||Be.hasOwnProperty("types")?10:9.3}readVisible(Ue,Be){return Be.layerDefinition&&null!=Be.layerDefinition.defaultVisibility?!!Be.layerDefinition.defaultVisibility:null!=Be.visibility?!!Be.visibility:void 0}addAttachment(Ue,Be){return this.load().then(()=>this._checkAttachmentSupport(Ue)).then(()=>{if(!("addAttachment"in this.source))throw new T.Z(Bn,"Layer source does not support addAttachment capability");return this.source.addAttachment(Ue,Be)})}updateAttachment(Ue,Be,dt){return this.load().then(()=>this._checkAttachmentSupport(Ue)).then(()=>{if(!("updateAttachment"in this.source))throw new T.Z(Bn,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(Ue,Be,dt)})}applyEdits(Ue,Be){var dt=this;return(0,M.Z)(function*(){const It=yield E.e(1913).then(E.bind(E,81913));return yield dt.load(),It.applyEdits(dt,dt.source,Ue,Be)})()}on(Ue,Be){return super.on(Ue,Be)}createPopupTemplate(Ue){return(0,St.eZ)(this,Ue)}createGraphicsSource(Ue){var Be=this;return(0,M.Z)(function*(){if(Be._hasMemorySource())return Be.source.load({signal:Ue});const{default:dt}=yield(0,oe.Hl)(E.e(5547).then(E.bind(E,45547)),Ue);return new dt({layer:Be}).load({signal:Ue})})()}createQuery(){const Ue=new Zr.Z,Be=this.get("capabilities.data"),dt=this.get("capabilities.query");Ue.dynamicDataSource=this.dynamicDataSource,Ue.historicMoment=this.historicMoment,Ue.gdbVersion=this.gdbVersion,Ue.returnGeometry=!0,dt&&(Ue.compactGeometryEnabled=dt.supportsCompactGeometry,Ue.defaultSpatialReferenceEnabled=dt.supportsDefaultSpatialReference),Be&&(Be.supportsZ&&null!=this.returnZ&&(Ue.returnZ=this.returnZ),Be.supportsM&&null!=this.returnM&&(Ue.returnM=this.returnM)),Ue.outFields=["*"],Ue.where=this.definitionExpression||"1=1";const{timeOffset:It,timeExtent:Qt}=this;return Ue.timeExtent=null!=It&&null!=Qt?Qt.offset(-It.value,It.unit):Qt||null,Ue.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,Ue}deleteAttachments(Ue,Be){return this.load().then(()=>this._checkAttachmentSupport(Ue)).then(()=>{if(!("deleteAttachments"in this.source))throw new T.Z(Bn,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(Ue,Be)})}fetchRecomputedExtents(Ue){return this.load({signal:null==Ue?void 0:Ue.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(Ue);throw new T.Z(Bn,"Layer source does not support fetchUpdates capability")})}getFeatureType(Ue){const{typeIdField:Be,types:dt}=this;if(!Be||!Ue)return null;const It=Ue.attributes?Ue.attributes[Be]:void 0;if(null==It)return null;let Qt=null;return dt.some(yn=>{const{id:gn}=yn;return null!=gn&&(gn.toString()===It.toString()&&(Qt=yn),!!Qt)}),Qt}getFieldDomain(Ue,Be){const It=this.getFeatureType(Be&&Be.feature);if(It){const Qt=It.domains&&It.domains[Ue];if(Qt&&"inherited"!==Qt.type)return Qt}return this._getLayerDomain(Ue)}getField(Ue){return this.fieldsIndex.get(Ue)}queryAttachments(Ue,Be){return Ue=qs.Z.from(Ue),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new T.Z(Bn,"this layer doesn't support attachments");const{attachmentTypes:dt,objectIds:It,globalIds:Qt,num:yn,size:gn,start:fr,where:Vr}=Ue;if(!this.get("capabilities.operations.supportsQueryAttachments")){const Gn=dt&&dt.length,Gr=Qt&&Qt.length,Gs=gn&&gn.length;if(It&&It.length>1||Gn||Gr||Gs||yn||fr||Vr)throw new T.Z(Bn,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",Ue)}if(!(It&&It.length||Vr))throw new T.Z(Bn,"'objectIds' or 'where' are required to perform attachment query",Ue);if(!("queryAttachments"in this.source))throw new T.Z(Bn,"Layer source does not support queryAttachments capability",Ue);return this.source.queryAttachments(Ue)})}queryFeatures(Ue,Be){return this.load().then(()=>this.source.queryFeatures(Zr.Z.from(Ue)||this.createQuery(),Be)).then(dt=>{if(null!=dt&&dt.features)for(const It of dt.features)It.layer=It.sourceLayer=this;return dt})}queryObjectIds(Ue,Be){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Zr.Z.from(Ue)||this.createQuery(),Be);throw new T.Z(Bn,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(Ue,Be){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Zr.Z.from(Ue)||this.createQuery(),Be);throw new T.Z(Bn,"Layer source does not support queryFeatureCount capability")})}queryExtent(Ue,Be){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(Zr.Z.from(Ue)||this.createQuery(),Be);throw new T.Z(Bn,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(Ue,Be){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(zs.Z.from(Ue),Be);throw new T.Z(Bn,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(Ue,Be){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(zs.Z.from(Ue),Be);throw new T.Z(Bn,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(Ue,Be){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(yi.Z.from(Ue),Be).then(dt=>{if(null!=dt&&dt.features)for(const It of dt.features)It.layer=It.sourceLayer=this;return dt});throw new T.Z(Bn,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(Ue,Be){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(yi.Z.from(Ue),Be);throw new T.Z(Bn,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(Ue,Be){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(yi.Z.from(Ue),Be);throw new T.Z(Bn,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(Ue,Be){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(yi.Z.from(Ue),Be);throw new T.Z(Bn,"Layer source does not support queryFeatureCount capability")})}read(Ue,Be){const dt=Ue.featureCollection;if(dt){const It=dt.layers;It&&1===It.length&&(super.read(It[0],Be),null!=dt.showLegend&&super.read({showLegend:dt.showLegend},Be))}super.read(Ue,Be),Be&&"service"===Be.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(Ue,Be){var dt,It;const Qt=(Be=$n(Pt({},Be),{writeLayerSchema:null!=(dt=null==(It=Be)?void 0:It.writeLayerSchema)?dt:this._hasMemorySource()})).origin,yn=Be.layerContainerType,gn=Be.messages;if(this.isTable){if("web-scene"===Qt||"web-map"===Qt&&"tables"!==yn)return gn&&gn.push(new T.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return gn&&gn.push(new T.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&"web-map"===Qt&&"tables"===yn)return gn&&gn.push(new T.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(Ue,Be)}clone(){if(this._hasMemorySource())throw new T.Z(Bn,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(Ue){return!!this.loaded&&("memory"===this.source.type||(0,Mr.D)(this,Ue))}_readEditingEnabled(Ue,Be,dt){var It;let Qt=null==(It=Ue.layerDefinition)?void 0:It.capabilities;return Qt?this._hasEditingCapability(Qt):(Qt=Ue.capabilities,Be&&"web-map"===(null==dt?void 0:dt.origin)&&!this._hasMemorySource()&&Qt?this._hasEditingCapability(Qt):void 0)}_hasEditingCapability(Ue){return Ue.toLowerCase().split(",").map(Be=>Be.trim()).includes("editing")}_writeEditingEnabled(Ue,Be,dt,It){if(!Ue){var Qt,yn;const gn=null!=(Qt=this.capabilities)&&null!=(yn=Qt.operations)&&yn.supportsSync?"Query,Sync":"Query";(0,he.RB)("layerDefinition.capabilities",gn,Be),!dt||null!=It&&It.writeLayerSchema||(Be.capabilities=gn)}}_checkAttachmentSupport(Ue){const{attributes:Be}=Ue,{objectIdField:dt}=this;return this.get("capabilities.data.supportsAttachment")?Ue?Be?Be[dt]?void 0:Promise.reject(new T.Z(Bn,`feature is missing the identifying attribute ${dt}`)):Promise.reject(new T.Z(Bn,"'attributes' are required on a feature to query attachments")):Promise.reject(new T.Z(Bn,"A feature is required to add/delete/update attachments")):Promise.reject(new T.Z(Bn,"this layer doesn't support attachments"))}_getLayerDomain(Ue){const Be=this.fieldsIndex.get(Ue);return Be?Be.domain:null}_fetchFirstLayerId(Ue){return(0,Z.default)(this.url,{query:$n(Pt({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:Ue}).then(Be=>{const dt=Be.data;if(dt)return Array.isArray(dt.layers)&&dt.layers.length>0?dt.layers[0].id:Array.isArray(dt.tables)&&dt.tables.length>0?dt.tables[0].id:void 0})}_initLayerProperties(Ue){var Be=this;return(0,M.Z)(function*(){return Be._set("source",Ue),Ue.sourceJSON&&(Be.sourceJSON=Ue.sourceJSON,Be.read(Ue.sourceJSON,{origin:"service",url:Be.parsedUrl})),Be._verifySource(),Be._verifyFields(),(0,Wn.YN)(Be.renderer,Be.fieldsIndex),(0,Wn.UF)(Be.timeInfo,Be.fieldsIndex),(0,ts.y)(Be,{origin:"service"})})()}hasDataChanged(){var Ue=this;return(0,M.Z)(function*(){var Be;if(null!=(Be=Ue.source)&&Be.refresh)try{var dt;const{dataChanged:It,updates:Qt}=yield null==(dt=Ue.source)?void 0:dt.refresh();if((0,te.pC)(Qt)&&(Ue.sourceJSON=Pt(Pt({},Ue.sourceJSON),Qt),Ue.read(Qt,{origin:"service",url:Ue.parsedUrl})),It)return!0}catch(It){}if(Ue.definitionExpression)try{return(yield function me(Ue,Be){return de.apply(this,arguments)}(Ue.definitionExpression,Ue.fieldsIndex)).hasDateFunctions}catch(It){}return!1})()}_verifyFields(){const Ue=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+Ue+")"),this.isTable||this._hasMemorySource()||-1!==Ue.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function(Be){return"geometry"===Be.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+Ue+")")}_fixTemplates(Ue,Be){Ue&&Ue.forEach(dt=>{const It=dt.prototype&&dt.prototype.attributes;It&&Be&&delete It[Be]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new T.Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new T.Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(Ue){Ue.forEach(Be=>{Be.layer=this,Be.sourceLayer=this}),this._handles.add([Ue.on("after-add",Be=>{Be.item.layer=this,Be.item.sourceLayer=this}),Ue.on("after-remove",Be=>{Be.item.layer=null,Be.item.sourceLayer=null})],"fl-source")}_resetMemorySource(Ue){Ue.forEach(Be=>{Be.layer=null,Be.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(Ue){const Be={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return Ue&&Array.isArray(Ue)&&Ue.forEach(dt=>{const It=mn[dt.name];It&&(Be[It]=!!dt.isEnabled)}),Be}_readDataCapabilities(Ue){return{isVersioned:Kn(Ue,"isDataVersioned",!1),supportsAttachment:Kn(Ue,"hasAttachments",!1),supportsM:Kn(Ue,"hasM",!1),supportsZ:Kn(Ue,"hasZ",!1)}}_readMetadataCapabilities(Ue){return{supportsAdvancedFieldProperties:Kn(Ue,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(Ue,Be){const dt=Ue?Ue.toLowerCase().split(",").map(Vr=>Vr.trim()):[],It=dt.includes("editing")&&!Be.datesInUnknownTimezone;let Qt=It&&dt.includes("create"),yn=It&&dt.includes("delete"),gn=It&&dt.includes("update");const fr=dt.includes("changetracking");return It&&!(Qt||yn||gn)&&(Qt=yn=gn=!0),{supportsCalculate:Kn(Be,"supportsCalculate",!1),supportsTruncate:Kn(Be,"supportsTruncate",!1),supportsValidateSql:Kn(Be,"supportsValidateSql",!1),supportsAdd:Qt,supportsDelete:yn,supportsEditing:It,supportsChangeTracking:fr,supportsQuery:dt.includes("query"),supportsQueryAttachments:Kn(Be.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Kn(Be,"supportsAttachmentsResizing",!1),supportsSync:dt.includes("sync"),supportsUpdate:gn,supportsExceedsLimitStatistics:Kn(Be,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(Ue){var Be;const dt=Ue.advancedQueryCapabilities,It=Ue.ownershipBasedAccessControlForFeatures,Qt=Ue.archivingInfo,yn=null==(Be=this.url)?void 0:Be.includes("MapServer"),gn=!(0,j.Z)("mapserver-pbf-enabled")&&yn&&this.version<10.81,fr=(0,Rt.M8)(this.url),Vr=(Ue.supportedQueryFormats||"").split(",").reduce((Er,Gn)=>{const Gr=Gn.toLowerCase().trim();return Gr&&Er.add(Gr),Er},new Set);return{supportsStatistics:Kn(dt,"supportsStatistics",Ue.supportsStatistics),supportsPercentileStatistics:Kn(dt,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Kn(dt,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:$e(dt),supportsCentroid:Kn(dt,"supportsReturningGeometryCentroid",!1),supportsDistance:Kn(dt,"supportsQueryWithDistance",!1),supportsDistinct:Kn(dt,"supportsDistinct",Ue.supportsAdvancedQueries),supportsExtent:Kn(dt,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Kn(dt,"supportsReturningGeometryProperties",!1),supportsHavingClause:Kn(dt,"supportsHavingClause",!1),supportsOrderBy:Kn(dt,"supportsOrderBy",Ue.supportsAdvancedQueries),supportsPagination:Kn(dt,"supportsPagination",!1),supportsQuantization:Kn(Ue,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Kn(Ue,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Kn(Ue,"supportsReturningQueryGeometry",!1),supportsResultType:Kn(dt,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Kn(dt,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Kn(dt,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Kn(Ue,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Kn(dt,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Kn(It,"allowOthersToQuery",!0),supportsHistoricMoment:Kn(Qt,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!gn&&Vr.has("pbf"),supportsDisjointSpatialRelationship:Kn(dt,"supportsDisjointSpatialRel",!1),supportsCacheHint:Kn(dt,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:Kn(dt,"supportsDefaultSR",!1),supportsCompactGeometry:fr,maxRecordCountFactor:ei(Ue,"maxRecordCountFactor",void 0),maxRecordCount:ei(Ue,"maxRecordCount",void 0),standardMaxRecordCount:ei(Ue,"standardMaxRecordCount",void 0),tileMaxRecordCount:ei(Ue,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(Ue){const Be=Ue.advancedQueryCapabilities,dt=Kn(Be,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Kn(Be,"supportsQueryRelatedPagination",!1),supportsCount:dt,supportsOrderBy:dt}}_readEditingCapabilities(Ue){const Be=Ue.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Kn(Ue,"allowGeometryUpdates",!0),supportsGlobalId:Kn(Ue,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Kn(Ue,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Kn(Ue,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Kn(Ue,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Kn(Ue,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Kn(Be,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Kn(Be,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Kn(Be,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Kn(Be,"allowOthersToUpdate",!0)}}};(0,D._)([(0,V.Cb)({readOnly:!0,json:{read:!1}})],lt.prototype,"capabilities",void 0),(0,D._)([(0,pe.r)("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],lt.prototype,"readCapabilities",null),(0,D._)([(0,V.Cb)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],lt.prototype,"charts",void 0),(0,D._)([(0,V.Cb)({readOnly:!0})],lt.prototype,"createQueryVersion",null),(0,D._)([(0,V.Cb)({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],lt.prototype,"copyright",void 0),(0,D._)([(0,V.Cb)({type:Boolean})],lt.prototype,"datesInUnknownTimezone",void 0),(0,D._)([(0,V.Cb)({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],lt.prototype,"displayField",void 0),(0,D._)([(0,V.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],lt.prototype,"definitionExpression",void 0),(0,D._)([(0,V.Cb)({types:re.LB,readOnly:!0})],lt.prototype,"defaultSymbol",void 0),(0,D._)([(0,V.Cb)({type:Fi.n})],lt.prototype,"dynamicDataSource",void 0),(0,D._)([(0,V.Cb)({readOnly:!0})],lt.prototype,"editFieldsInfo",void 0),(0,D._)([(0,V.Cb)({type:Boolean})],lt.prototype,"editingEnabled",null),(0,D._)([(0,pe.r)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],lt.prototype,"readEditingEnabled",null),(0,D._)([(0,pe.r)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],lt.prototype,"readEditingEnabledFromWebMap",null),(0,D._)([(0,ye.c)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],lt.prototype,"writeEditingEnabled",null),(0,D._)([(0,ye.c)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],lt.prototype,"writeEditingEnabledToWebMap",null),(0,D._)([(0,V.Cb)({readOnly:!0})],lt.prototype,"editingInfo",void 0),(0,D._)([(0,pe.r)("editingInfo")],lt.prototype,"readEditingInfo",null),(0,D._)([(0,V.Cb)(zt.PV)],lt.prototype,"elevationInfo",void 0),(0,D._)([(0,V.Cb)(kn.d)],lt.prototype,"featureReduction",void 0),(0,D._)([(0,V.Cb)($n(Pt({},Qe.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:gt}}}}}))],lt.prototype,"fields",void 0),(0,D._)([(0,V.Cb)(Qe.fieldsIndex)],lt.prototype,"fieldsIndex",void 0),(0,D._)([(0,V.Cb)({type:es.Z,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],lt.prototype,"floorInfo",void 0),(0,D._)([(0,V.Cb)({type:pr,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],lt.prototype,"formTemplate",void 0),(0,D._)([(0,V.Cb)({type:Or.Z,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],lt.prototype,"fullExtent",void 0),(0,D._)([(0,V.Cb)()],lt.prototype,"gdbVersion",void 0),(0,D._)([(0,V.Cb)({readOnly:!0,type:hs,json:{read:{source:"geometryProperties"}}})],lt.prototype,"geometryFieldsInfo",void 0),(0,D._)([(0,V.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:an.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:gt,writer(Ue,Be,dt){const It=Ue?an.toJSON(Ue):null;It&&(0,he.RB)(dt,It,Be)}}}},read:{source:"layerDefinition.geometryType",reader:an.read}}})],lt.prototype,"geometryType",void 0),(0,D._)([(0,V.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],lt.prototype,"hasM",void 0),(0,D._)([(0,V.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],lt.prototype,"hasZ",void 0),(0,D._)([(0,V.Cb)({readOnly:!0,type:ar.Z})],lt.prototype,"heightModelInfo",void 0),(0,D._)([(0,V.Cb)({type:Date})],lt.prototype,"historicMoment",void 0),(0,D._)([(0,V.Cb)(zt.id)],lt.prototype,"id",void 0),(0,D._)([(0,V.Cb)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],lt.prototype,"infoFor3D",void 0),(0,D._)([(0,V.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],lt.prototype,"isTable",void 0),(0,D._)([(0,pe.r)("service","isTable",["type","geometryType"]),(0,pe.r)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],lt.prototype,"readIsTable",null),(0,D._)([(0,ye.c)("web-map","isTable")],lt.prototype,"writeIsTable",null),(0,D._)([(0,V.Cb)(zt.iR)],lt.prototype,"labelsVisible",void 0),(0,D._)([(0,V.Cb)({type:[Rr.Z],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:ss.r},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:ss.r},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],lt.prototype,"labelingInfo",void 0),(0,D._)([(0,V.Cb)(zt.bT)],lt.prototype,"opacity",void 0),(0,D._)([(0,V.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],lt.prototype,"layerId",void 0),(0,D._)([(0,V.Cb)(zt.rn)],lt.prototype,"legendEnabled",void 0),(0,D._)([(0,V.Cb)({type:["show","hide"]})],lt.prototype,"listMode",void 0),(0,D._)([(0,V.Cb)(zt.rO)],lt.prototype,"minScale",void 0),(0,D._)([(0,pe.r)("service","minScale",["minScale","effectiveMinScale"])],lt.prototype,"readMinScale",null),(0,D._)([(0,V.Cb)(zt.u1)],lt.prototype,"maxScale",void 0),(0,D._)([(0,pe.r)("service","maxScale",["maxScale","effectiveMaxScale"])],lt.prototype,"readMaxScale",null),(0,D._)([(0,V.Cb)({type:String})],lt.prototype,"globalIdField",void 0),(0,D._)([(0,pe.r)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),(0,pe.r)("service","globalIdField",["globalIdField","fields"])],lt.prototype,"readGlobalIdFieldFromService",null),(0,D._)([(0,V.Cb)({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:gt}}}}})],lt.prototype,"objectIdField",void 0),(0,D._)([(0,pe.r)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),(0,pe.r)("service","objectIdField",["objectIdField","fields"])],lt.prototype,"readObjectIdFieldFromService",null),(0,D._)([(0,V.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],lt.prototype,"operationalLayerType",void 0),(0,D._)([(0,V.Cb)(Qe.outFields)],lt.prototype,"outFields",void 0),(0,D._)([(0,V.Cb)({readOnly:!0})],lt.prototype,"parsedUrl",null),(0,D._)([(0,V.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],lt.prototype,"path",void 0),(0,D._)([(0,V.Cb)(zt.C_)],lt.prototype,"popupEnabled",void 0),(0,D._)([(0,V.Cb)({type:Q.Z,json:{name:"popupInfo",write:!0}})],lt.prototype,"popupTemplate",void 0),(0,D._)([(0,V.Cb)({readOnly:!0})],lt.prototype,"defaultPopupTemplate",null),(0,D._)([(0,V.Cb)({type:[Vs],readOnly:!0})],lt.prototype,"relationships",void 0),(0,D._)([(0,V.Cb)({types:Y.A,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:Y.o,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(Ue,Be,dt)=>({ignoreOrigin:null==dt?void 0:dt.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(Ue,Be,dt)=>({ignoreOrigin:null==dt?void 0:dt.writeLayerSchema})}}})],lt.prototype,"renderer",null),(0,D._)([(0,pe.r)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,pe.r)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],lt.prototype,"readRenderer",null),(0,D._)([(0,V.Cb)()],lt.prototype,"sourceJSON",void 0),(0,D._)([(0,V.Cb)({type:Boolean})],lt.prototype,"returnM",void 0),(0,D._)([(0,V.Cb)({type:Boolean})],lt.prototype,"returnZ",void 0),(0,D._)([(0,V.Cb)(zt.YI)],lt.prototype,"screenSizePerspectiveEnabled",void 0),(0,D._)([(0,V.Cb)({clonable:!1})],lt.prototype,"source",null),(0,D._)([(0,ae.p)("source")],lt.prototype,"castSource",null),(0,D._)([(0,pe.r)("portal-item","source",["featureSet"]),(0,pe.r)("web-map","source",["featureSet"])],lt.prototype,"readSource",null),(0,D._)([(0,V.Cb)({readOnly:!0})],lt.prototype,"serviceDefinitionExpression",void 0),(0,D._)([(0,pe.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],lt.prototype,"readServiceDefinitionExpression",null),(0,D._)([(0,V.Cb)({type:wr.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],lt.prototype,"spatialReference",void 0),(0,D._)([(0,V.Cb)({type:Number})],lt.prototype,"subtypeCode",void 0),(0,D._)([(0,V.Cb)({type:[sr.Z]})],lt.prototype,"templates",void 0),(0,D._)([(0,pe.r)("templates",["editFieldsInfo","creatorField","editorField","templates"])],lt.prototype,"readTemplates",null),(0,D._)([(0,V.Cb)({type:Ui.Z})],lt.prototype,"timeInfo",void 0),(0,D._)([(0,V.Cb)()],lt.prototype,"title",void 0),(0,D._)([(0,pe.r)("service","title",["name"]),(0,pe.r)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],lt.prototype,"readTitle",null),(0,D._)([(0,pe.r)("web-map","title",["layerDefinition.name","title"])],lt.prototype,"readTitleFromWebMap",null),(0,D._)([(0,V.Cb)({type:String})],lt.prototype,"sublayerTitleMode",void 0),(0,D._)([(0,V.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],lt.prototype,"trackIdField",void 0),(0,D._)([(0,V.Cb)({json:{read:!1}})],lt.prototype,"type",void 0),(0,D._)([(0,V.Cb)({type:String})],lt.prototype,"typeIdField",void 0),(0,D._)([(0,pe.r)("service","typeIdField"),(0,pe.r)("typeIdField",["layerDefinition.typeIdField"])],lt.prototype,"readTypeIdField",null),(0,D._)([(0,V.Cb)({type:[Xn.Z]})],lt.prototype,"types",void 0),(0,D._)([(0,pe.r)("service","types",["types"]),(0,pe.r)("types",["layerDefinition.types"])],lt.prototype,"readTypes",null),(0,D._)([(0,V.Cb)({readOnly:!0,json:{write:!1}})],lt.prototype,"serverGens",void 0),(0,D._)([(0,V.Cb)({type:L.Z.ofType(vn),readOnly:!0})],lt.prototype,"indexes",void 0),(0,D._)([(0,V.Cb)(zt.HQ)],lt.prototype,"url",null),(0,D._)([(0,ye.c)("url")],lt.prototype,"writeUrl",null),(0,D._)([(0,V.Cb)({readOnly:!0})],lt.prototype,"userIsAdmin",void 0),(0,D._)([(0,V.Cb)({json:{origins:{service:{read:!0}},read:!1}})],lt.prototype,"version",void 0),(0,D._)([(0,pe.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],lt.prototype,"readVersion",null),(0,D._)([(0,V.Cb)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],lt.prototype,"visible",void 0),(0,D._)([(0,pe.r)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],lt.prototype,"readVisible",null),lt=(0,D._)([(0,ue.j)("esri.layers.FeatureLayer")],lt);const wt=(0,le.d)({types:re.QT}),Ut=lt},63602:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>J});var M=E(15861),D=E(17626),Q=E(59318),N=(E(29132),E(84792)),ne=E(26584),k=E(61885),F=E(61996),I=E(47996),x=E(63290),$=E(10699),Y=E(21726),Z=E(77712),T=(E(85931),E(8314),E(90912),E(76898)),P=E(2004),j=E(65234);let K=0;const W=x.Z.getLogger("esri.layers.Layer");let te=class extends(k.Z.EventedMixin((0,F.I)(I.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new P.Z(-180,-90,180,90,j.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+K++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=j.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(he){return(0,M.Z)(function*(){const oe="string"==typeof he?{url:he}:he,me=yield E.e(4578).then(E.bind(E,24578));try{return yield me.fromUrl(oe)}catch(de){throw W.error("#fromArcGISServerUrl({ url: '"+oe.url+"'})","Failed to create layer from arcgis server url",de),de}})()}static fromPortalItem(he){return(0,M.Z)(function*(){const oe="portalItem"in he?he:{portalItem:he},me=yield E.e(8277).then(E.bind(E,18277));try{return yield me.fromItem(oe)}catch(de){const ie=oe&&oe.portalItem;throw W.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+(ie&&ie.portal&&ie.portal.url||Q.Z.portalUrl)+"', id: '"+(ie&&ie.id||"unset")+"')",de),de}})()}initialize(){this.when().catch(he=>{var oe,me;(0,$.D_)(he)||x.Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(oe=this.title)?oe:"no title"}', id: '${null!=(me=this.id)?me:"no id"}')`,{error:he})})}destroy(){if(this.parent){const he=this,oe=this.parent;"layers"in oe&&oe.layers.includes(he)?oe.layers.remove(he):"tables"in oe&&oe.tables.includes(he)?oe.tables.remove(he):"baseLayers"in oe&&oe.baseLayers.includes(he)?oe.baseLayers.remove(he):"baseLayers"in oe&&oe.referenceLayers.includes(he)&&oe.referenceLayers.remove(he)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const he=this.url;return he?(0,Y.mN)(he):null}fetchAttributionData(){var he=this;return(0,M.Z)(function*(){const oe=he.attributionDataUrl;if(he.hasAttributionData&&oe)return(yield(0,N.default)(oe,{query:{f:"json"},responseType:"json"})).data;throw new ne.Z("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,D._)([(0,Z.Cb)({type:String})],te.prototype,"attributionDataUrl",void 0),(0,D._)([(0,Z.Cb)({type:P.Z})],te.prototype,"fullExtent",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],te.prototype,"hasAttributionData",null),(0,D._)([(0,Z.Cb)({type:String,clonable:!1})],te.prototype,"id",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,nonNullable:!0})],te.prototype,"legendEnabled",void 0),(0,D._)([(0,Z.Cb)({type:["show","hide","hide-children"]})],te.prototype,"listMode",void 0),(0,D._)([(0,Z.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],te.prototype,"opacity",void 0),(0,D._)([(0,Z.Cb)({clonable:!1})],te.prototype,"parent",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],te.prototype,"parsedUrl",null),(0,D._)([(0,Z.Cb)({type:Boolean})],te.prototype,"popupEnabled",void 0),(0,D._)([(0,Z.Cb)({type:Boolean})],te.prototype,"attributionVisible",void 0),(0,D._)([(0,Z.Cb)({type:j.Z})],te.prototype,"spatialReference",void 0),(0,D._)([(0,Z.Cb)({type:String})],te.prototype,"title",void 0),(0,D._)([(0,Z.Cb)({type:String,readOnly:!0,json:{read:!1}})],te.prototype,"type",void 0),(0,D._)([(0,Z.Cb)()],te.prototype,"url",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,nonNullable:!0})],te.prototype,"visible",void 0),te=(0,D._)([(0,T.j)("esri.layers.Layer")],te);const J=te},58141:(qe,Me,E)=>{"use strict";E.d(Me,{rk:()=>Z,Tj:()=>re,GI:()=>X,CE:()=>L,Tq:()=>T,Zx:()=>P,Ee:()=>W});var M=E(20414),D=E(23841),Q=E(55494),B=E(28347);class Z{constructor(J,he,oe){this.strength=J,this.radius=he,this.threshold=oe,this.type="bloom"}interpolate(J,he,oe){this.strength=j(J.strength,he.strength,oe),this.radius=j(J.radius,he.radius,oe),this.threshold=j(J.threshold,he.threshold,oe)}clone(){return new Z(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:K(this.radius),strength:this.strength,threshold:this.threshold}}}class re{constructor(J){this.radius=J,this.type="blur"}interpolate(J,he,oe){this.radius=Math.round(j(J.radius,he.radius,oe))}clone(){return new re(this.radius)}toJSON(){return{type:"blur",radius:K(this.radius)}}}class X{constructor(J,he){this.type=J,this.amount=he,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(J,he,oe){this.amount=j(J.amount,he.amount,oe),this._updateMatrix()}clone(){return new X(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const J=this._colorMatrix||(0,Q.c)();switch(this.type){case"brightness":this._colorMatrix=((te,J)=>{const he=(0,B.s)(te,J,0,0,0,0,J,0,0,0,0,J,0,0,0,0,1);return(0,B.t)(he,he)})(J,this.amount);break;case"contrast":this._colorMatrix=((te,J)=>{const he=(0,B.s)(te,J,0,0,.5-.5*J,0,J,0,.5-.5*J,0,0,J,.5-.5*J,0,0,0,1);return(0,B.t)(he,he)})(J,this.amount);break;case"grayscale":this._colorMatrix=((te,J)=>{const he=1-this.amount,oe=(0,B.s)(te,.2126+.7874*he,.7152-.7152*he,.0722-.0722*he,0,.2126-.2126*he,.7152+.2848*he,.0722-.0722*he,0,.2126-.2126*he,.7152-.7152*he,.0722+.9278*he,0,0,0,0,1);return(0,B.t)(oe,oe)})(J);break;case"invert":this._colorMatrix=((te,J)=>{const he=1-2*J,oe=(0,B.s)(te,he,0,0,J,0,he,0,J,0,0,he,J,0,0,0,1);return(0,B.t)(oe,oe)})(J,this.amount);break;case"saturate":this._colorMatrix=((te,J)=>{const he=(0,B.s)(te,.213+.787*J,.715-.715*J,.072-.072*J,0,.213-.213*J,.715+.285*J,.072-.072*J,0,.213-.213*J,.715-.715*J,.072+.928*J,0,0,0,0,1);return(0,B.t)(he,he)})(J,this.amount);break;case"sepia":this._colorMatrix=((te,J)=>{const he=1-this.amount,oe=(0,B.s)(te,.393+.607*he,.769-.769*he,.189-.189*he,0,.349-.349*he,.686+.314*he,.168-.168*he,0,.272-.272*he,.534-.534*he,.131+.869*he,0,0,0,0,1);return(0,B.t)(oe,oe)})(J)}}}class L{constructor(J,he,oe,me){this.offsetX=J,this.offsetY=he,this.blurRadius=oe,this.color=me,this.type="drop-shadow"}interpolate(J,he,oe){this.offsetX=j(J.offsetX,he.offsetX,oe),this.offsetY=j(J.offsetY,he.offsetY,oe),this.blurRadius=j(J.blurRadius,he.blurRadius,oe),this.color[0]=Math.round(j(J.color[0],he.color[0],oe)),this.color[1]=Math.round(j(J.color[1],he.color[1],oe)),this.color[2]=Math.round(j(J.color[2],he.color[2],oe)),this.color[3]=j(J.color[3],he.color[3],oe)}clone(){return new L(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const J=[...this.color];return J[3]*=255,{type:"drop-shadow",xoffset:K(this.offsetX),yoffset:K(this.offsetY),blurRadius:K(this.blurRadius),color:J}}}class T{constructor(J){this.angle=J,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(J,he,oe){this.angle=j(J.angle,he.angle,oe),this._updateMatrix()}clone(){return new T(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const J=this._colorMatrix||(0,Q.c)();this._colorMatrix=((te,J)=>{const he=Math.sin(J*Math.PI/180),oe=Math.cos(J*Math.PI/180),me=(0,B.s)(te,.213+.787*oe-.213*he,.715-.715*oe-.715*he,.072-.072*oe+.928*he,0,.213-.213*oe+.143*he,.715+.285*oe+.14*he,.072-.072*oe-.283*he,0,.213-.213*oe-.787*he,.715-.715*oe+.715*he,.072+.928*oe+.072*he,0,0,0,0,1);return(0,B.t)(me,me)})(J,this.angle)}}class P{constructor(J){this.amount=J,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(J,he,oe){this.amount=j(J.amount,he.amount,oe)}clone(){return new P(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function j(te,J,he){return te+(J-te)*he}function K(te){return Math.round(1e3*(0,D.Wz)(te))/1e3}function W(te){switch(te.type){case"grayscale":case"sepia":case"invert":return new X(te.type,0);case"saturate":case"brightness":case"contrast":return new X(te.type,1);case"opacity":return new P(1);case"hue-rotate":return new T(0);case"blur":return new re(0);case"drop-shadow":return new L(0,0,0,[...(0,M.h$)("transparent")]);case"bloom":return new Z(0,0,1)}}},71149:(qe,Me,E)=>{"use strict";E.d(Me,{rM:()=>x,ij:()=>N,cW:()=>ne});var M=E(26584),D=E(94113),Q=E(29538),B=E(53390);function N(Z,re,X){try{return function F(Z){if(!Z||0===Z.length)return null;if(function I(Z){const re=Z[0];return!!re&&"scale"in re}(Z)){const re=[];for(const X of Z)re.push({scale:X.scale,value:x(X.value)});return re}return x(Z)}(Z)}catch(T){var L;null==X||null==(L=X.messages)||L.push(T)}return null}function ne(Z,re,X,L){try{const T=function k(Z){const re=(0,Q.Q)(Z);return re?(0,B.Cb)(re)?re.map(X=>X.toJSON()):re.map(({scale:X,effects:L})=>({scale:X,value:L.map(T=>T.toJSON())})):null}(Z);(0,D.RB)(X,T,re)}catch(T){L.messages&&L.messages.push(T)}}function x(Z){if(!Z||!Z.length)return"";const re=[];for(const X of Z){let L=[];switch(X.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":L=[$(X,"amount")];break;case"blur":L=[$(X,"radius","pt")];break;case"hue-rotate":L=[$(X,"angle","deg")];break;case"drop-shadow":L=[$(X,"xoffset","pt"),$(X,"yoffset","pt"),$(X,"blurRadius","pt"),Y(X,"color")];break;case"bloom":L=[$(X,"strength"),$(X,"radius","pt"),$(X,"threshold")]}const T=`${X.type}(${L.filter(Boolean).join(" ")})`;(0,Q.Q)(T),re.push(T)}return re.join(" ")}function $(Z,re,X){if(null==Z[re])throw new M.Z("effect:missing-parameter",`Missing parameter '${re}' in ${Z.type} effect`,{effect:Z});return X?Z[re]+X:""+Z[re]}function Y(Z,re){if(null==Z[re])throw new M.Z("effect:missing-parameter",`Missing parameter '${re}' in ${Z.type} effect`,{effect:Z});const X=Z[re];return`rgba(${X[0]||0}, ${X[1]||0}, ${X[2]||0}, ${X[3]/255||0})`}},29538:(qe,Me,E)=>{"use strict";E.d(Me,{Q:()=>I});var ne,M=E(20414),D=E(26584),Q=E(58141),N=(E(1719),E(53390)),F={exports:{}};function I(se){if(!se||0===se.length)return null;if("string"==typeof se){const ge=x(se);return ge&&0!==ge.length?ge:null}const Ce=se.map(ge=>{if(!Number.isFinite(ge.scale)||ge.scale<=0)throw new D.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:ge});return{scale:ge.scale,effects:x(ge.value)}});Ce.sort((ge,Pe)=>Pe.effects.length-ge.effects.length);for(let ge=0;ge<Ce.length-1;ge++){if(!(0,N.AS)(Ce[ge].effects,Ce[ge+1].effects))throw new D.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:Ce[ge].effects,b:Ce[ge+1].effects});(0,N.uF)(Ce[ge].effects,Ce[ge+1].effects)}return Ce.sort((ge,Pe)=>Pe.scale-ge.scale),Ce}function x(se){let Ce;if(!se)return[];try{Ce=F.exports.parse(se)}catch(ge){throw new D.Z("effect:invalid-syntax","Invalid effect syntax",{value:se,error:ge})}return Ce.map(ge=>function $(se){try{switch(se.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function Y(se){let Ce=1;return P(se.parameters,1),1===se.parameters.length&&(Ce=de(se.parameters[0])),new Q.GI(se.name,Ce)}(se);case"opacity":return function Z(se){let Ce=1;return P(se.parameters,1),1===se.parameters.length&&(Ce=de(se.parameters[0])),new Q.Zx(Ce)}(se);case"hue-rotate":return function re(se){let Ce=0;return P(se.parameters,1),1===se.parameters.length&&(Ce=function V(se){return function he(se){if("quantity"!==se.type||!(0===se.value&&null===se.unit||se.unit&&null!=J[se.unit]))throw new D.Z("effect:type-error",`Expected <angle>, Actual: ${j(se)}`,{term:se})}(se),se.value*J[se.unit]||0}(se.parameters[0])),new Q.Tq(Ce)}(se);case"blur":return function X(se){let Ce=0;return P(se.parameters,1),1===se.parameters.length&&(Ce=ce(se.parameters[0]),K(Ce,se.parameters[0])),new Q.Tj(Ce)}(se);case"drop-shadow":return function L(se){const Ce=[];let ge=null;for(const Pe of se.parameters)if("color"===Pe.type){if(Ce.length&&Object.freeze(Ce),ge)throw new D.Z("effect:type-error","Accepts only one color",{});ge=ae(Pe)}else{const Ee=ce(Pe);if(Object.isFrozen(Ce))throw new D.Z("effect:type-error","<length> parameters not consecutive",{lengths:Ce});Ce.push(Ee),3===Ce.length&&K(Ee,Pe)}if(Ce.length<2||Ce.length>3)throw new D.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${Ce.length}}`,{lengths:Ce});return new Q.CE(Ce[0],Ce[1],Ce[2]||0,ge||pe("black"))}(se);case"bloom":return function T(se){let Ce=1,ge=0,Pe=0;return P(se.parameters,3),se.parameters[0]&&(Ce=de(se.parameters[0])),se.parameters[1]&&(ge=ce(se.parameters[1]),K(ge,se.parameters[1])),se.parameters[2]&&(Pe=de(se.parameters[2])),new Q.rk(Ce,ge,Pe)}(se)}}catch(Ce){throw Ce.details.filter=se,Ce}throw new D.Z("effect:unknown-effect",`Effect '${se.name}' is not supported`,{effect:se})}(ge))}function P(se,Ce){if(se.length>Ce)throw new D.Z("effect:type-error",`Function supports up to ${Ce} parameters, Actual: ${se.length}`,{parameters:se})}function j(se){if("color"===se.type)return"<color>";if(se.unit){if(oe[se.unit])return"<length>";if(J[se.unit])return"<angle>";if("%"===se.unit)return"<percentage>"}return"<double>"}function K(se,Ce){if(se<0)throw new D.Z("effect:type-error",`Negative values are not allowed, Actual: ${se}`,{term:Ce})}(ne=F).exports&&(ne.exports=function(){function Ce(Ee,Ge,Se,ve){var Te=Error.call(this,Ee);return Object.setPrototypeOf&&Object.setPrototypeOf(Te,Ce.prototype),Te.expected=Ge,Te.found=Se,Te.location=ve,Te.name="SyntaxError",Te}function ge(Ee,Ge,Se){return Se=Se||" ",Ee.length>Ge?Ee:Ee+(Se+=Se.repeat(Ge-=Ee.length)).slice(0,Ge)}return function se(Ee,Ge){function Se(){this.constructor=Ee}Se.prototype=Ge.prototype,Ee.prototype=new Se}(Ce,Error),Ce.prototype.format=function(Ee){var Ge="Error: "+this.message;if(this.location){var Se,ve=null;for(Se=0;Se<Ee.length;Se++)if(Ee[Se].source===this.location.source){ve=Ee[Se].text.split(/\r\n|\n|\r/g);break}var Te=this.location.start,Ze=this.location.source+":"+Te.line+":"+Te.column;if(ve){var tt=this.location.end,xe=ge("",Te.line.toString().length),Ve=ve[Te.line-1],He=Te.line===tt.line?tt.column:Ve.length+1;Ge+="\n --\x3e "+Ze+"\n"+xe+" |\n"+Te.line+" | "+Ve+"\n"+xe+" | "+ge("",Te.column-1)+ge("",He-Te.column,"^")}else Ge+="\n at "+Ze}return Ge},Ce.buildMessage=function(Ee,Ge){var Se={literal:function(He){return'"'+Te(He.text)+'"'},class:function(He){var ee=He.parts.map(function(_e){return Array.isArray(_e)?Ze(_e[0])+"-"+Ze(_e[1]):Ze(_e)});return"["+(He.inverted?"^":"")+ee+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(He){return He.description}};function ve(He){return He.charCodeAt(0).toString(16).toUpperCase()}function Te(He){return He.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ee){return"\\x0"+ve(ee)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ee){return"\\x"+ve(ee)})}function Ze(He){return He.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ee){return"\\x0"+ve(ee)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ee){return"\\x"+ve(ee)})}function tt(He){return Se[He.type](He)}return"Expected "+function xe(He){var ee,_e,je=He.map(tt);if(je.sort(),je.length>0){for(ee=1,_e=1;ee<je.length;ee++)je[ee-1]!==je[ee]&&(je[_e]=je[ee],_e++);je.length=_e}switch(je.length){case 1:return je[0];case 2:return je[0]+" or "+je[1];default:return je.slice(0,-1).join(", ")+", or "+je[je.length-1]}}(Ee)+" but "+function Ve(He){return He?'"'+Te(He)+'"':"end of input"}(Ge)+" found."},{SyntaxError:Ce,parse:function Pe(Ee,Ge){var Se,ve={},Te=(Ge=void 0!==Ge?Ge:{}).grammarSource,Ze={start:vr},tt=vr,$t=/^[ \t\n\r]/,Jt=/^[a-z\-]/,cn=/^[0-9a-fA-F]/,xn=/^[+\-]/,pn=/^[0-9]/,An=sr("none"),Pn=vn("none",!1),Sn=vn(")",!1),ut=vn(",",!1),bt=sr("whitespace"),xt=On([" ","\t","\n","\r"],!1,!1),Wt=sr("function"),Kt=vn("(",!1),At=sr("identifier"),Ht=On([["a","z"],"-"],!1,!1),Yt=sr("percentage"),sn=vn("%",!1),Ct=sr("length"),mt=vn("px",!1),ze=vn("cm",!1),ht=vn("mm",!1),we=vn("in",!1),Xe=vn("pt",!1),Dt=vn("pc",!1),kt=sr("angle"),on=vn("deg",!1),rt=vn("rad",!1),Vt=vn("grad",!1),Zt=vn("turn",!1),nn=sr("number"),fn=sr("color"),Nn=vn("#",!1),pr=On([["0","9"],["a","f"],["A","F"]],!1,!1),Or=On(["+","-"],!1,!1),ar=On([["0","9"]],!1,!1),wr=vn(".",!1),ys=vn("e",!1),Nt=0,nt=0,Ot=[{line:1,column:1}],ft=0,Rt=[],zt=0;if("startRule"in Ge){if(!(Ge.startRule in Ze))throw new Error("Can't start parsing from rule \""+Ge.startRule+'".');tt=Ze[Ge.startRule]}function Cn(){return Ee.substring(nt,Nt)}function vn(St,an){return{type:"literal",text:St,ignoreCase:an}}function On(St,an,mn){return{type:"class",parts:St,inverted:an,ignoreCase:mn}}function sr(St){return{type:"other",description:St}}function Xn(St){var an,mn=Ot[St];if(mn)return mn;for(an=St-1;!Ot[an];)an--;for(mn={line:(mn=Ot[an]).line,column:mn.column};an<St;)10===Ee.charCodeAt(an)?(mn.line++,mn.column=1):mn.column++,an++;return Ot[St]=mn,mn}function Wn(St){Nt<ft||(Nt>ft&&(ft=Nt,Rt=[]),Rt.push(St))}function vr(){var St;return(St=function hs(){var St,an;return zt++,St=Nt,qn(),"none"===Ee.substr(Nt,4)?(an="none",Nt+=4):(an=ve,0===zt&&Wn(Pn)),an!==ve?(qn(),nt=St,St=[]):(Nt=St,St=ve),zt--,St===ve&&0===zt&&Wn(An),St}())===ve&&(St=function Rr(){var St,an;if(St=[],(an=ss())!==ve)for(;an!==ve;)St.push(an),an=ss();else St=ve;return St}()),St}function ss(){var St,an,mn,Bn;return St=Nt,qn(),(an=function Wr(){var St,an,mn;return zt++,St=Nt,(an=Vs())!==ve?(40===Ee.charCodeAt(Nt)?(mn="(",Nt++):(mn=ve,0===zt&&Wn(Kt)),mn!==ve?(nt=St,St=an):(Nt=St,St=ve)):(Nt=St,St=ve),zt--,St===ve&&(an=ve,0===zt&&Wn(Wt)),St}())!==ve?(qn(),(mn=function es(){var St,an,mn,Bn,xr,Un,Kn,ei;if(St=Nt,(an=jr())!==ve){for(mn=[],Bn=Nt,xr=qn(),44===Ee.charCodeAt(Nt)?(Un=",",Nt++):(Un=ve,0===zt&&Wn(ut)),Un===ve&&(Un=null),Kn=qn(),(ei=jr())!==ve?Bn=xr=[xr,Un,Kn,ei]:(Nt=Bn,Bn=ve);Bn!==ve;)mn.push(Bn),Bn=Nt,xr=qn(),44===Ee.charCodeAt(Nt)?(Un=",",Nt++):(Un=ve,0===zt&&Wn(ut)),Un===ve&&(Un=null),Kn=qn(),(ei=jr())!==ve?Bn=xr=[xr,Un,Kn,ei]:(Nt=Bn,Bn=ve);nt=St,St=function(St,an){return an.length>0?function yi(St,an,mn){return[St].concat(function zs(St,an){return St.map(function(mn){return mn[an]})}(an,mn))}(St,an,3):[St]}(an,mn)}else Nt=St,St=ve;return St}())===ve&&(mn=null),qn(),41===Ee.charCodeAt(Nt)?(Bn=")",Nt++):(Bn=ve,0===zt&&Wn(Sn)),Bn!==ve?(qn(),nt=St,St=function(St,an){return{type:"function",name:St,parameters:an||[]}}(an,mn)):(Nt=St,St=ve)):(Nt=St,St=ve),St}function jr(){var St,an;return St=Nt,(an=function Ui(){var St,an,mn;return zt++,St=Nt,qn(),(an=Zr())!==ve?(37===Ee.charCodeAt(Nt)?(mn="%",Nt++):(mn=ve,0===zt&&Wn(sn)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"%"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve),zt--,St===ve&&0===zt&&Wn(Yt),St}())===ve&&(an=function Mr(){var St,an,mn;return zt++,St=Nt,qn(),(an=Zr())!==ve?("px"===Ee.substr(Nt,2)?(mn="px",Nt+=2):(mn=ve,0===zt&&Wn(mt)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"px"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve),St===ve&&(St=Nt,qn(),(an=Zr())!==ve?("cm"===Ee.substr(Nt,2)?(mn="cm",Nt+=2):(mn=ve,0===zt&&Wn(ze)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"cm"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve),St===ve&&(St=Nt,qn(),(an=Zr())!==ve?("mm"===Ee.substr(Nt,2)?(mn="mm",Nt+=2):(mn=ve,0===zt&&Wn(ht)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"mm"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve),St===ve&&(St=Nt,qn(),(an=Zr())!==ve?("in"===Ee.substr(Nt,2)?(mn="in",Nt+=2):(mn=ve,0===zt&&Wn(we)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"in"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve),St===ve&&(St=Nt,qn(),(an=Zr())!==ve?("pt"===Ee.substr(Nt,2)?(mn="pt",Nt+=2):(mn=ve,0===zt&&Wn(Xe)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"pt"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve),St===ve&&(St=Nt,qn(),(an=Zr())!==ve?("pc"===Ee.substr(Nt,2)?(mn="pc",Nt+=2):(mn=ve,0===zt&&Wn(Dt)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"pc"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve)))))),zt--,St===ve&&0===zt&&Wn(Ct),St}())===ve&&(an=function Fi(){var St,an,mn;return zt++,St=Nt,(an=Zr())!==ve?("deg"===Ee.substr(Nt,3)?(mn="deg",Nt+=3):(mn=ve,0===zt&&Wn(on)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"deg"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve),St===ve&&(St=Nt,(an=Zr())!==ve?("rad"===Ee.substr(Nt,3)?(mn="rad",Nt+=3):(mn=ve,0===zt&&Wn(rt)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"rad"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve),St===ve&&(St=Nt,(an=Zr())!==ve?("grad"===Ee.substr(Nt,4)?(mn="grad",Nt+=4):(mn=ve,0===zt&&Wn(Vt)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"grad"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve),St===ve&&(St=Nt,(an=Zr())!==ve?("turn"===Ee.substr(Nt,4)?(mn="turn",Nt+=4):(mn=ve,0===zt&&Wn(Zt)),mn!==ve?(nt=St,St=function(St){return{value:St,unit:"turn"}}(an)):(Nt=St,St=ve)):(Nt=St,St=ve)))),zt--,St===ve&&(an=ve,0===zt&&Wn(kt)),St}())===ve&&(an=function ts(){var St,an;return zt++,St=Nt,qn(),(an=Zr())!==ve?(nt=St,St=function(St){return{value:St,unit:null}}(an)):(Nt=St,St=ve),zt--,St===ve&&0===zt&&Wn(nn),St}()),an!==ve&&(nt=St,an=function(St){return{type:"quantity",value:St.value,unit:St.unit}}(an)),(St=an)===ve&&(St=Nt,(an=function qs(){var St,an,mn,Bn;if(zt++,St=Nt,35===Ee.charCodeAt(Nt)?(an="#",Nt++):(an=ve,0===zt&&Wn(Nn)),an!==ve){if(mn=[],cn.test(Ee.charAt(Nt))?(Bn=Ee.charAt(Nt),Nt++):(Bn=ve,0===zt&&Wn(pr)),Bn!==ve)for(;Bn!==ve;)mn.push(Bn),cn.test(Ee.charAt(Nt))?(Bn=Ee.charAt(Nt),Nt++):(Bn=ve,0===zt&&Wn(pr));else mn=ve;mn!==ve?(nt=St,St={type:"hex",value:Cn()}):(Nt=St,St=ve)}else Nt=St,St=ve;return St===ve&&(St=Nt,(an=ss())!==ve&&(nt=St,an=function(St){return{type:"function",value:St}}(an)),(St=an)===ve&&(St=Nt,(an=Vs())!==ve&&(nt=St,an={type:"named",value:Cn()}),St=an)),zt--,St===ve&&(an=ve,0===zt&&Wn(fn)),St}())!==ve&&(nt=St,an=function(St){return{type:"color",colorType:St.type,value:St.value}}(an)),St=an),St}function qn(){var St,an;for(zt++,St=[],$t.test(Ee.charAt(Nt))?(an=Ee.charAt(Nt),Nt++):(an=ve,0===zt&&Wn(xt));an!==ve;)St.push(an),$t.test(Ee.charAt(Nt))?(an=Ee.charAt(Nt),Nt++):(an=ve,0===zt&&Wn(xt));return zt--,an=ve,0===zt&&Wn(bt),St}function Vs(){var St,an,mn;if(zt++,St=Nt,an=[],Jt.test(Ee.charAt(Nt))?(mn=Ee.charAt(Nt),Nt++):(mn=ve,0===zt&&Wn(Ht)),mn!==ve)for(;mn!==ve;)an.push(mn),Jt.test(Ee.charAt(Nt))?(mn=Ee.charAt(Nt),Nt++):(mn=ve,0===zt&&Wn(Ht));else an=ve;return an!==ve&&(nt=St,an=Cn()),zt--,(St=an)===ve&&(an=ve,0===zt&&Wn(At)),St}function Zr(){var St,an,mn,Bn,xr,Un,Kn;for(St=Nt,xn.test(Ee.charAt(Nt))?(Ee.charAt(Nt),Nt++):0===zt&&Wn(Or),an=Nt,mn=[],pn.test(Ee.charAt(Nt))?(Bn=Ee.charAt(Nt),Nt++):(Bn=ve,0===zt&&Wn(ar));Bn!==ve;)mn.push(Bn),pn.test(Ee.charAt(Nt))?(Bn=Ee.charAt(Nt),Nt++):(Bn=ve,0===zt&&Wn(ar));if(46===Ee.charCodeAt(Nt)?(Bn=".",Nt++):(Bn=ve,0===zt&&Wn(wr)),Bn!==ve){if(xr=[],pn.test(Ee.charAt(Nt))?(Un=Ee.charAt(Nt),Nt++):(Un=ve,0===zt&&Wn(ar)),Un!==ve)for(;Un!==ve;)xr.push(Un),pn.test(Ee.charAt(Nt))?(Un=Ee.charAt(Nt),Nt++):(Un=ve,0===zt&&Wn(ar));else xr=ve;xr!==ve?an=mn=[mn,Bn,xr]:(Nt=an,an=ve)}else Nt=an,an=ve;if(an===ve)if(an=[],pn.test(Ee.charAt(Nt))?(mn=Ee.charAt(Nt),Nt++):(mn=ve,0===zt&&Wn(ar)),mn!==ve)for(;mn!==ve;)an.push(mn),pn.test(Ee.charAt(Nt))?(mn=Ee.charAt(Nt),Nt++):(mn=ve,0===zt&&Wn(ar));else an=ve;if(an!==ve){if(mn=Nt,101===Ee.charCodeAt(Nt)?(Bn="e",Nt++):(Bn=ve,0===zt&&Wn(ys)),Bn!==ve){if(xn.test(Ee.charAt(Nt))?(xr=Ee.charAt(Nt),Nt++):(xr=ve,0===zt&&Wn(Or)),xr===ve&&(xr=null),Un=[],pn.test(Ee.charAt(Nt))?(Kn=Ee.charAt(Nt),Nt++):(Kn=ve,0===zt&&Wn(ar)),Kn!==ve)for(;Kn!==ve;)Un.push(Kn),pn.test(Ee.charAt(Nt))?(Kn=Ee.charAt(Nt),Nt++):(Kn=ve,0===zt&&Wn(ar));else Un=ve;Un!==ve?mn=Bn=[Bn,xr,Un]:(Nt=mn,mn=ve)}else Nt=mn,mn=ve;mn===ve&&(mn=null),nt=St,St=parseFloat(Cn())}else Nt=St,St=ve;return St}if((Se=tt())!==ve&&Nt===Ee.length)return Se;throw Se!==ve&&Nt<Ee.length&&Wn({type:"end"}),function Qr(St,an,mn){return new Ce(Ce.buildMessage(St,an),St,an,mn)}(Rt,ft<Ee.length?Ee.charAt(ft):null,function Nr(St,an){var mn=Xn(St),Bn=Xn(an);return{source:Te,start:{offset:St,line:mn.line,column:mn.column},end:{offset:an,line:Bn.line,column:Bn.column}}}(ft,ft<Ee.length?ft+1:ft))}}}());const J={deg:1,grad:.9,rad:180/Math.PI,turn:360},oe={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function de(se){!function te(se){if("quantity"!==se.type||null!==se.unit&&"%"!==se.unit)throw new D.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${j(se)}`,{term:se})}(se);const Ce=se.value;return K(Ce,se),"%"===se.unit?.01*Ce:Ce}function ce(se){return function me(se){if("quantity"!==se.type||!(0===se.value&&null===se.unit||se.unit&&null!=oe[se.unit]))throw new D.Z("effect:type-error",`Expected <length>, Actual: ${j(se)}`,{term:se})}(se),se.value*oe[se.unit]||0}function ae(se){switch(se.colorType){case"hex":return(0,M.rW)(se.value);case"named":return pe(se.value);case"function":return function le(se){if(P(se.parameters,4),ue.test(se.name))return[de(se.parameters[0]),de(se.parameters[1]),de(se.parameters[2]),se.parameters[3]?de(se.parameters[3]):1];if(ye.test(se.name))return(0,M.B7)(function ie(se){return function W(se){if("quantity"!==se.type||null!==se.unit)throw new D.Z("effect:type-error",`Expected <double>, Actual: ${j(se)}`,{term:se})}(se),K(se.value,se),se.value}(se.parameters[0]),de(se.parameters[1]),de(se.parameters[2]),se.parameters[3]?de(se.parameters[3]):1);throw new D.Z("effect:syntax-error",`Invalid color function '${se.name}'`,{colorFunction:se})}(se.value)}}function pe(se){if(!(0,M.St)(se))throw new D.Z("effect:unknown-color",`color '${se}' isn't valid`,{namedColor:se});return(0,M.VL)(se)}const ue=/^rgba?/i,ye=/^hsla?/i},53390:(qe,Me,E)=>{"use strict";E.d(Me,{AS:()=>D,Cb:()=>B,uF:()=>Q});var M=E(58141);function D(N,ne){const k=N.length>ne.length?N:ne;return(N.length>ne.length?ne:N).every((F,I)=>F.type===k[I].type)}function Q(N,ne){const k=N.length>ne.length?N:ne,F=N.length>ne.length?ne:N;for(let I=F.length;I<k.length;I++)F.push((0,M.Ee)(k[I]))}function B(N){const ne=N[0];return!!ne&&"type"in ne}},66385:(qe,Me,E)=>{"use strict";E.d(Me,{u_:()=>D,nd:()=>B,S6:()=>Q});var M=E(62208);class D{constructor(ne=null,k={},F,I){this.geometry=ne,this.attributes=k,this.centroid=F,this.objectId=I,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const ne=new D(this.geometry,this.attributes,this.centroid,this.objectId);return ne.displayId=this.displayId,ne.geohashX=this.geohashX,ne.geohashY=this.geohashY,ne}}function Q(N){return!((0,M.Wi)(N.geometry)||!N.geometry.coords||!N.geometry.coords.length)}class B extends D{}},95786:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const Q=new M;return Q.objectIdFieldName=this.objectIdFieldName,Q.globalIdFieldName=this.globalIdFieldName,Q.geohashFieldName=this.geohashFieldName,Q.geometryProperties=this.geometryProperties,Q.geometryType=this.geometryType,Q.spatialReference=this.spatialReference,Q.hasZ=this.hasZ,Q.hasM=this.hasM,Q.features=this.features,Q.fields=this.fields,Q.transform=this.transform,Q.exceededTransferLimit=this.exceededTransferLimit,Q.uniqueIdField=this.uniqueIdField,Q.queryGeometry=this.queryGeometry,Q.queryGeometryType=this.queryGeometryType,Q}}},88071:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(Q=[],B=[],N=!1){this.lengths=null!=Q?Q:[],this.coords=null!=B?B:[],this.hasIndeterminateRingOrder=N}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((Q,B)=>Q+B)}forEachVertex(Q){let B=0;this.lengths.length||Q(this.coords[0],this.coords[1]);for(let N=0;N<this.lengths.length;N++){const ne=this.lengths[N];for(let k=0;k<ne;k++)Q(this.coords[2*(k+B)],this.coords[2*(k+B)+1]);B+=ne}}clone(Q){return Q?(Q.set(this.coords),new M(this.lengths.slice(),Q,this.hasIndeterminateRingOrder)):new M(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},82054:(qe,Me,E)=>{"use strict";E.d(Me,{XA:()=>Ve,h_:()=>ot,Yn:()=>He,GH:()=>je,E7:()=>ee,ks:()=>Ze,Uy:()=>Te,u0:()=>Ee,EI:()=>_e,cn:()=>at,di:()=>Ye,Iv:()=>ye,fQ:()=>K,eG:()=>Se,J6:()=>ge,oB:()=>Sn,zj:()=>ct,$:()=>Gt,lz:()=>An,RZ:()=>_t,Nh:()=>Ke,Jd:()=>L,IN:()=>T,hY:()=>cn,lM:()=>et,$g:()=>Jt});var M=E(26584),D=E(63290),Q=E(62208),B=E(91179),N=E(66385),ne=E(95786),k=E(88071);function F(ut,bt){return ut?bt?4:3:bt?3:2}const I=D.Z.getLogger("esri.layers.graphics.featureConversionUtils"),x={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},$=(ut,bt,xt,Wt,Kt,At)=>{ut[xt]=Kt,ut[xt+1]=At},Y=(ut,bt,xt,Wt,Kt,At)=>{ut[xt]=Kt,ut[xt+1]=At,ut[xt+2]=bt[Wt+2]},Z=(ut,bt,xt,Wt,Kt,At)=>{ut[xt]=Kt,ut[xt+1]=At,ut[xt+2]=bt[Wt+3]},re=(ut,bt,xt,Wt,Kt,At)=>{ut[xt]=Kt,ut[xt+1]=At,ut[xt+2]=bt[Wt+2],ut[xt+3]=bt[Wt+3]};function X(ut,bt,xt,Wt){if(ut){if(xt)return bt&&Wt?re:Y;if(bt&&Wt)return Z}else if(bt&&Wt)return Y;return $}function L({scale:ut,translate:bt},xt){return Math.round((xt-bt[0])/ut[0])}function T({scale:ut,translate:bt},xt){return Math.round((bt[1]-xt)/ut[1])}function P({scale:ut,translate:bt},xt){return xt*ut[0]+bt[0]}function j({scale:ut,translate:bt},xt){return bt[1]-xt*ut[1]}function K(ut,bt,xt){return ut?bt?xt?de(ut):J(ut):xt?oe(ut):W(ut):null}function W(ut){const bt=ut.coords;return{x:bt[0],y:bt[1]}}function te(ut,bt){return ut.coords[0]=bt.x,ut.coords[1]=bt.y,ut}function J(ut){const bt=ut.coords;return{x:bt[0],y:bt[1],z:bt[2]}}function he(ut,bt){return ut.coords[0]=bt.x,ut.coords[1]=bt.y,ut.coords[2]=bt.z,ut}function oe(ut){const bt=ut.coords;return{x:bt[0],y:bt[1],m:bt[2]}}function me(ut,bt){return ut.coords[0]=bt.x,ut.coords[1]=bt.y,ut.coords[2]=bt.m,ut}function de(ut){const bt=ut.coords;return{x:bt[0],y:bt[1],z:bt[2],m:bt[3]}}function ie(ut,bt){return ut.coords[0]=bt.x,ut.coords[1]=bt.y,ut.coords[2]=bt.z,ut.coords[3]=bt.m,ut}function ce(ut,bt){return ut&&bt?ie:ut?he:bt?me:te}function ae(ut,bt,xt,Wt,Kt){const At=ce(xt,Wt);for(const Ht of bt){const{geometry:Yt,attributes:sn}=Ht;let Ct;Yt&&(Ct=At(new k.Z,Yt)),ut.push(new N.u_(Ct,sn,null,sn[Kt]))}return ut}function ye(ut,bt,xt){if((0,Q.Wi)(ut))return null;const Wt=F(bt,xt),Kt=[];for(let At=0;At<ut.coords.length;At+=Wt){const Ht=[];for(let Yt=0;Yt<Wt;Yt++)Ht.push(ut.coords[At+Yt]);Kt.push(Ht)}return bt?xt?{points:Kt,hasZ:bt,hasM:xt}:{points:Kt,hasZ:bt}:xt?{points:Kt,hasM:xt}:{points:Kt}}function le(ut,bt,xt,Wt,Kt){const At=F(xt,Wt);for(const Ht of bt){const Yt=Ht.geometry,sn=Ht.attributes;let Ct;Yt&&(Ct=se(new k.Z,Yt,At)),ut.push(new N.u_(Ct,sn,null,sn[Kt]))}return ut}function se(ut,bt,xt=F(bt.hasZ,bt.hasM)){ut.lengths[0]=bt.points.length;const Wt=ut.coords;let Kt=0;for(const At of bt.points)for(let Ht=0;Ht<xt;Ht++)Wt[Kt++]=At[Ht];return ut}function ge(ut,bt,xt){if(!ut)return null;const Wt=F(bt,xt),{coords:Kt,lengths:At}=ut,Ht=[];let Yt=0;for(const sn of At){const Ct=[];for(let mt=0;mt<sn;mt++){const ze=[];for(let ht=0;ht<Wt;ht++)ze.push(Kt[Yt++]);Ct.push(ze)}Ht.push(Ct)}return bt?xt?{paths:Ht,hasZ:bt,hasM:xt}:{paths:Ht,hasZ:bt}:xt?{paths:Ht,hasM:xt}:{paths:Ht}}function Pe(ut,bt,xt,Wt,Kt){const At=F(xt,Wt);for(const Ht of bt){const Yt=Ht.geometry,sn=Ht.attributes;let Ct;Yt&&(Ct=Ee(new k.Z,Yt,At)),ut.push(new N.u_(Ct,sn,null,sn[Kt]))}return ut}function Ee(ut,bt,xt=F(bt.hasZ,bt.hasM)){const{lengths:Wt,coords:Kt}=ut;let At=0;for(const Ht of bt.paths){for(const Yt of Ht)for(let sn=0;sn<xt;sn++)Kt[At++]=Yt[sn];Wt.push(Ht.length)}return ut}function Se(ut,bt,xt){if(!ut)return null;const Wt=F(bt,xt),{coords:Kt,lengths:At}=ut,Ht=[];let Yt=0;for(const sn of At){const Ct=[];for(let mt=0;mt<sn;mt++){const ze=[];for(let ht=0;ht<Wt;ht++)ze.push(Kt[Yt++]);Ct.push(ze)}Ht.push(Ct)}return bt?xt?{rings:Ht,hasZ:bt,hasM:xt}:{rings:Ht,hasZ:bt}:xt?{rings:Ht,hasM:xt}:{rings:Ht}}function ve(ut,bt,xt,Wt,Kt){for(const At of bt){const Ht=At.geometry,Yt=At.centroid,sn=At.attributes;let Ct;Ht&&(Ct=Te(new k.Z,Ht,xt,Wt)),(0,Q.pC)(Yt)?ut.push(new N.u_(Ct,sn,te(new k.Z,Yt),sn[Kt])):ut.push(new N.u_(Ct,sn,null,sn[Kt]))}return ut}function Te(ut,bt,xt=bt.hasZ,Wt=bt.hasM){return Ze(ut,bt.rings,xt,Wt),ut}function Ze(ut,bt,xt,Wt){const Kt=F(xt,Wt),{lengths:At,coords:Ht}=ut;let Yt=0;At.length=Ht.length=0;for(const sn of bt){for(const Ct of sn)for(let mt=0;mt<Kt;mt++)Ht[Yt++]=Ct[mt];At.push(sn.length)}return ut}const tt=[],xe=[];function Ve(ut,bt,xt,Wt,Kt){tt[0]=ut;const[At]=He(xe,tt,bt,xt,Wt,Kt);return tt.length=xe.length=0,At}function He(ut,bt,xt,Wt,Kt,At){if(ut.length=0,!xt){for(const Ht of bt)ut.push(new N.u_(null,Ht.attributes,null,Ht.attributes[At]));return ut}switch(xt){case"esriGeometryPoint":return ae(ut,bt,Wt,Kt,At);case"esriGeometryMultipoint":return le(ut,bt,Wt,Kt,At);case"esriGeometryPolyline":return Pe(ut,bt,Wt,Kt,At);case"esriGeometryPolygon":return ve(ut,bt,Wt,Kt,At);default:I.error("convertToFeatureSet:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${xt}'`)),ut.length=0}return ut}function ee(ut,bt,xt,Wt,Kt,At){const Ht=ut.length;switch(xt){case"esriGeometryPoint":ae(ut,bt,Wt,Kt,At);break;case"esriGeometryMultipoint":le(ut,bt,Wt,Kt,At);break;case"esriGeometryPolyline":Pe(ut,bt,Wt,Kt,At);break;case"esriGeometryPolygon":ve(ut,bt,Wt,Kt,At);break;default:I.error("convertToFeatureSet:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${xt}'`))}for(let Yt=0;Yt<bt.length;Yt++)ut[Yt+Ht].geometryType=xt,ut[Yt+Ht].insertAfter=bt[Yt].insertAfter,ut[Yt+Ht].groupId=bt[Yt].groupId;return ut}function _e(ut,bt,xt,Wt){xe[0]=ut,it(tt,xe,bt,xt,Wt);const Kt=tt[0];return tt.length=xe.length=0,Kt}function je(ut,bt,xt){if((0,Q.Wi)(ut))return null;const Wt=new k.Z;return"hasZ"in ut&&null==bt&&(bt=ut.hasZ),"hasM"in ut&&null==xt&&(xt=ut.hasM),(0,B.wp)(ut)?ce(null!=bt?bt:null!=ut.z,null!=xt?xt:null!=ut.m)(Wt,ut):(0,B.oU)(ut)?Te(Wt,ut,bt,xt):(0,B.l9)(ut)?Ee(Wt,ut,F(bt,xt)):(0,B.aW)(ut)?se(Wt,ut,F(bt,xt)):void I.error("convertFromGeometry:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${ut}'`))}function Ye(ut,bt,xt,Wt){const Kt=ut&&("coords"in ut?ut:ut.geometry);if((0,Q.Wi)(Kt))return null;switch(bt){case"esriGeometryPoint":{let At=W;return xt&&Wt?At=de:xt?At=J:Wt&&(At=oe),At(Kt)}case"esriGeometryMultipoint":return ye(Kt,xt,Wt);case"esriGeometryPolyline":return ge(Kt,xt,Wt);case"esriGeometryPolygon":return Se(Kt,xt,Wt);default:return void I.error("convertToGeometry:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${bt}'`))}}function it(ut,bt,xt,Wt,Kt){if(ut.length=0,(0,Q.Wi)(xt))return function pt(ut,bt){for(const xt of bt)ut.push({attributes:xt.attributes});return ut}(ut,bt);switch(xt){case"esriGeometryPoint":return function V(ut,bt,xt,Wt){let Kt=W;xt&&Wt?Kt=de:xt?Kt=J:Wt&&(Kt=oe);for(const At of bt){const{geometry:Ht,attributes:Yt}=At,sn=(0,Q.pC)(Ht)?Kt(Ht):null;ut.push({attributes:Yt,geometry:sn})}return ut}(ut,bt,Wt,Kt);case"esriGeometryMultipoint":return function ue(ut,bt,xt,Wt){for(const Kt of bt){const{geometry:At,attributes:Ht}=Kt;let Yt;At&&(Yt=ye(At,xt,Wt)),ut.push({attributes:Ht,geometry:Yt})}return ut}(ut,bt,Wt,Kt);case"esriGeometryPolyline":return function Ce(ut,bt,xt,Wt){for(const Kt of bt){const{geometry:At,attributes:Ht}=Kt;let Yt;(0,Q.pC)(At)&&(Yt=ge(At,xt,Wt)),ut.push({attributes:Ht,geometry:Yt})}return ut}(ut,bt,Wt,Kt);case"esriGeometryPolygon":return function Ge(ut,bt,xt,Wt){for(const Kt of bt){const{geometry:At,attributes:Ht,centroid:Yt}=Kt;let sn;if((0,Q.pC)(At)&&(sn=Se(At,xt,Wt)),(0,Q.pC)(Yt)){const Ct=W(Yt);ut.push({attributes:Ht,centroid:Ct,geometry:sn})}else ut.push({attributes:Ht,geometry:sn})}return ut}(ut,bt,Wt,Kt);default:I.error("convertToFeatureSet:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${xt}'`))}return ut}function at(ut){const{objectIdFieldName:bt,spatialReference:xt,transform:Wt,fields:Kt,hasM:At,hasZ:Ht,features:Yt,geometryType:sn,exceededTransferLimit:Ct,uniqueIdField:mt,queryGeometry:ze,queryGeometryType:ht}=ut,we={features:it([],Yt,sn,Ht,At),fields:Kt,geometryType:sn,objectIdFieldName:bt,spatialReference:xt,uniqueIdField:mt,queryGeometry:Ye(ze,ht,!1,!1)};return Wt&&(we.transform=Wt),Ct&&(we.exceededTransferLimit=Ct),At&&(we.hasM=At),Ht&&(we.hasZ=Ht),we}function ot(ut,bt){const xt=new ne.Z,{hasM:Wt,hasZ:Kt,features:At,objectIdFieldName:Ht,spatialReference:Yt,geometryType:sn,exceededTransferLimit:Ct,transform:mt,fields:ze}=ut;return ze&&(xt.fields=ze),xt.geometryType=sn,xt.objectIdFieldName=Ht||bt,xt.spatialReference=Yt,xt.objectIdFieldName?(At&&He(xt.features,At,sn,Kt,Wt,xt.objectIdFieldName),Ct&&(xt.exceededTransferLimit=Ct),Wt&&(xt.hasM=Wt),Kt&&(xt.hasZ=Kt),mt&&(xt.transform=mt),xt):(I.error(new M.Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),xt)}function et(ut){const{transform:bt,features:xt,hasM:Wt,hasZ:Kt}=ut;if(!bt)return ut;for(const At of xt)(0,Q.pC)(At.geometry)&&Jt(At.geometry,At.geometry,Wt,Kt,bt),(0,Q.pC)(At.centroid)&&Jt(At.centroid,At.centroid,Wt,Kt,bt);return ut.transform=null,ut}function _t(ut,bt){const{geometryType:xt,features:Wt,hasM:Kt,hasZ:At}=bt;if(!ut)return bt;for(let Ht=0;Ht<Wt.length;Ht++){const Yt=Wt[Ht],sn=Yt.weakClone();sn.geometry=new k.Z,Ke(sn.geometry,Yt.geometry,Kt,At,xt,ut),Yt.centroid&&(sn.centroid=new k.Z,Ke(sn.centroid,Yt.centroid,Kt,At,"esriGeometryPoint",ut)),Wt[Ht]=sn}return bt.transform=ut,bt}function Ke(ut,bt,xt,Wt,Kt,At,Ht=xt,Yt=Wt){if(ut.lengths.length&&(ut.lengths.length=0),ut.coords.length&&(ut.coords.length=0),(0,Q.Wi)(bt)||!bt.coords.length)return null;const sn=x[Kt],{coords:Ct,lengths:mt}=bt,ze=F(xt,Wt),ht=F(xt&&Ht,Wt&&Yt),we=X(xt,Wt,Ht,Yt);if(!mt.length)return we(ut.coords,Ct,0,0,L(At,Ct[0]),T(At,Ct[1])),ut.lengths.length&&(ut.lengths.length=0),ut.coords.length=ze,ut;let Xe,Dt,kt,on,rt=0,Vt=0,Zt=Vt;for(const nn of mt){if(nn<sn)continue;let fn=0;Vt=Zt,kt=Xe=L(At,Ct[rt]),on=Dt=T(At,Ct[rt+1]),we(ut.coords,Ct,Vt,rt,kt,on),fn++,rt+=ze,Vt+=ht;for(let Nn=1;Nn<nn;Nn++,rt+=ze)kt=L(At,Ct[rt]),on=T(At,Ct[rt+1]),kt===Xe&&on===Dt||(we(ut.coords,Ct,Vt,rt,kt-Xe,on-Dt),Vt+=ht,fn++,Xe=kt,Dt=on);fn>=sn&&(ut.lengths.push(fn),Zt=Vt)}return ut.coords.length=Zt,ut.coords.length?ut:null}function ct(ut,bt,xt,Wt,Kt,At,Ht=xt,Yt=Wt){if(ut.lengths.length&&(ut.lengths.length=0),ut.coords.length&&(ut.coords.length=0),!bt||!bt.coords.length)return null;const sn=x[Kt],{coords:Ct,lengths:mt}=bt,ze=F(xt,Wt),ht=F(xt&&Ht,Wt&&Yt),we=X(xt,Wt,Ht,Yt);if(!mt.length)return we(ut.coords,Ct,0,0,Ct[0],Ct[1]),ut.lengths.length&&(ut.lengths.length=0),ut.coords.length=ze,ut;let Xe=0;const Dt=At*At;for(const kt of mt){if(kt<sn){Xe+=kt*ze;continue}const on=ut.coords.length/ht,rt=Xe,Vt=Xe+(kt-1)*ze;we(ut.coords,Ct,ut.coords.length,rt,Ct[rt],Ct[rt+1]),Mt(ut.coords,Ct,ze,Dt,we,rt,Vt),we(ut.coords,Ct,ut.coords.length,Vt,Ct[Vt],Ct[Vt+1]);const Zt=ut.coords.length/ht-on;Zt>=sn?ut.lengths.push(Zt):ut.coords.length=on*ht,Xe+=kt*ze}return ut.coords.length?ut:null}function Et(ut,bt,xt,Wt){const Kt=ut[bt],At=ut[bt+1],sn=ut[Wt],Ct=ut[Wt+1];let mt=ut[xt],ze=ut[xt+1],ht=sn-mt,we=Ct-ze;if(0!==ht||0!==we){const Xe=((Kt-mt)*ht+(At-ze)*we)/(ht*ht+we*we);Xe>1?(mt=sn,ze=Ct):Xe>0&&(mt+=ht*Xe,ze+=we*Xe)}return ht=Kt-mt,we=At-ze,ht*ht+we*we}function Mt(ut,bt,xt,Wt,Kt,At,Ht){let Yt,sn=Wt,Ct=0;for(let mt=At+xt;mt<Ht;mt+=xt)Yt=Et(bt,mt,At,Ht),Yt>sn&&(Ct=mt,sn=Yt);sn>Wt&&(Ct-At>xt&&Mt(ut,bt,xt,Wt,Kt,At,Ct),Kt(ut,bt,ut.length,Ct,bt[Ct],bt[Ct+1]),Ht-Ct>xt&&Mt(ut,bt,xt,Wt,Kt,Ct,Ht))}function Gt(ut,bt,xt,Wt){if((0,Q.Wi)(bt)||!bt.coords||!bt.coords.length)return null;const Kt=F(xt,Wt);let At=Number.POSITIVE_INFINITY,Ht=Number.POSITIVE_INFINITY,Yt=Number.NEGATIVE_INFINITY,sn=Number.NEGATIVE_INFINITY;if(bt&&bt.coords){const Ct=bt.coords;for(let mt=0;mt<Ct.length;mt+=Kt){const ze=Ct[mt],ht=Ct[mt+1];At=Math.min(At,ze),Yt=Math.max(Yt,ze),Ht=Math.min(Ht,ht),sn=Math.max(sn,ht)}}return ut[0]=At,ut[1]=Ht,ut[2]=Yt,ut[3]=sn,ut}function Jt(ut,bt,xt,Wt,Kt){const{coords:At,lengths:Ht}=bt,Yt=xt?Wt?re:Y:Wt?Y:$,sn=F(xt,Wt);if(!At.length)return ut!==bt&&(ut.lengths.length=0,ut.coords.length=0),ut;if(!Ht.length)return Yt(ut.coords,At,0,0,P(Kt,At[0]),j(Kt,At[1])),ut!==bt&&(ut.lengths.length=0,ut.coords.length=sn),ut;const[Ct,mt]=Kt.scale;let ze=0;for(let ht=0;ht<Ht.length;ht++){const we=Ht[ht];ut.lengths[ht]=we;let Xe=P(Kt,At[ze]),Dt=j(Kt,At[ze+1]);Yt(ut.coords,At,ze,ze,Xe,Dt),ze+=sn;for(let kt=1;kt<we;kt++,ze+=sn)Xe+=At[ze]*Ct,Dt-=At[ze+1]*mt,Yt(ut.coords,At,ze,ze,Xe,Dt)}return ut!==bt&&(ut.lengths.length=Ht.length,ut.coords.length=At.length),ut}function cn(ut,bt,xt,Wt,Kt,At){const Ht=F(xt,Wt),Yt=X(xt,Wt,Kt,At),sn=bt.coords;ut.coords.length=0,ut.lengths.length=0,ut.lengths.push(...bt.lengths);for(let Ct=0;Ct<sn.length;Ct+=Ht)Yt(ut.coords,sn,ut.coords.length,Ct,sn[Ct],sn[Ct+1]);return ut}function pn(ut,bt,xt,Wt){let Kt=0,At=ut[Wt*bt],Ht=ut[Wt*(bt+1)];for(let Yt=1;Yt<xt;Yt++){const sn=At+ut[Wt*(bt+Yt)],Ct=Ht+ut[Wt*(bt+Yt)+1],mt=(sn-At)*(Ct+Ht);At=sn,Ht=Ct,Kt+=mt}return.5*Kt}function An(ut,bt){const{coords:xt,lengths:Wt}=ut;let Kt=0,At=0;for(let Ht=0;Ht<Wt.length;Ht++)At+=pn(xt,Kt,Wt[Ht],bt),Kt+=Ht;return Math.abs(At)}function Sn(ut,bt){if((0,Q.Wi)(ut))return null;const xt=ut.clone(),Wt=ut.coords,Kt=ut.lengths;let At=0;for(let Ht=0;Ht<Kt.length;Ht++){const Yt=Kt[Ht];let sn=Wt[bt*At],Ct=Wt[bt*At+1];for(let mt=1;mt<Yt;mt++){const ze=sn+Wt[bt*(At+mt)],ht=Ct+Wt[bt*(At+mt)+1];xt.coords[bt*(At+mt)]=ze,xt.coords[bt*(At+mt)+1]=ht,sn=ze,Ct=ht}At+=Yt}return xt}},50085:(qe,Me,E)=>{"use strict";E.d(Me,{V:()=>F});var M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898));const F=I=>{let x=class extends I{get apiKey(){var $;return this._isOverridden("apiKey")?this._get("apiKey"):function k(I){return"portalItem"in I}(this)?null==($=this.portalItem)?void 0:$.apiKey:null}set apiKey($){null!=$?this._override("apiKey",$):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,M._)([(0,D.Cb)({type:String})],x.prototype,"apiKey",null),x=(0,M._)([(0,ne.j)("esri.layers.mixins.APIKeyMixin")],x),x}},65088:(qe,Me,E)=>{"use strict";E.d(Me,{Y:()=>x});var M=E(17626),D=E(63290),Q=E(62208),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898)),I=E(38305);const x=$=>{let Y=class extends ${get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const Z=(0,I.Qc)(this.url);if((0,Q.pC)(Z)&&Z.title)return Z.title}return this._get("title")||""}set title(Z){this._set("title",Z)}set url(Z){this._set("url",(0,I.Nm)(Z,D.Z.getLogger(this.declaredClass)))}};return(0,M._)([(0,B.Cb)()],Y.prototype,"title",null),(0,M._)([(0,B.Cb)({type:String})],Y.prototype,"url",null),Y=(0,M._)([(0,F.j)("esri.layers.mixins.ArcGISService")],Y),Y}},552:(qe,Me,E)=>{"use strict";E.d(Me,{h:()=>F});var M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(71149);const F=I=>{let x=class extends I{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,M._)([(0,D.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],x.prototype,"blendMode",void 0),(0,M._)([(0,D.Cb)({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:k.ij},write:{allowNull:!0,writer:k.cW}}}}})],x.prototype,"effect",void 0),x=(0,M._)([(0,ne.j)("esri.layers.mixins.BlendLayer")],x),x}},50107:(qe,Me,E)=>{"use strict";E.d(Me,{N:()=>k});var M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898));const k=F=>{let I=class extends F{constructor(){super(...arguments),this.customParameters=null}};return(0,M._)([(0,D.Cb)({type:Object,json:{write:{overridePolicy:x=>({enabled:!!(x&&Object.keys(x).length>0)})}}})],I.prototype,"customParameters",void 0),I=(0,M._)([(0,ne.j)("esri.layers.mixins.CustomParametersMixin")],I),I}},35126:(qe,Me,E)=>{"use strict";E.d(Me,{b:()=>F});var M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(2319);const F=I=>{let x=class extends I{constructor(){super(...arguments),this.featureEffect=null}};return(0,M._)([(0,D.Cb)({type:k.Z,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],x.prototype,"featureEffect",void 0),x=(0,M._)([(0,ne.j)("esri.layers.mixins.FeatureEffectLayer")],x),x}},49286:(qe,Me,E)=>{"use strict";E.d(Me,{q:()=>re});var M=E(17626),D=E(26584),Q=E(21726),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898)),I=E(99433),x=E(29338),$=E(36054);const Y={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};var Z=E(13812);const re=L=>{let T=class extends L{constructor(){super(...arguments),this.title=null}writeListMode(P,j,K,W){(W&&"ground"===W.layerContainerType||P&&(0,$.d)(this,K,{},W))&&(j[K]=P)}writeOperationalLayerType(P,j,K,W){!P||W&&"tables"===W.layerContainerType||(j.layerType=P)}writeTitle(P,j){j.title=P||"Layer"}read(P,j){j&&(j.layer=this),(0,x.$)(this,P,K=>super.read(P,K),j)}write(P,j){if(null!=j&&j.origin){const he=`${j.origin}/${j.layerContainerType||"operational-layers"}`,oe=Y[he];let me=oe&&oe[this.operationalLayerType];var K;if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===he&&(me=!1),!me)return null==(K=j.messages)||K.push(new D.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${he}'`,{layer:this})),null}const W=super.write(P,$n(Pt({},j),{layer:this})),te=!!j&&!!j.messages&&!!j.messages.filter(he=>he instanceof D.Z&&"web-document-write:property-required"===he.name).length;var J;return(0,Q.jc)(null==W?void 0:W.url)?(null==j||null==(J=j.messages)||J.push(new D.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&te?null:W}beforeSave(){}};return(0,M._)([(0,B.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],T.prototype,"id",void 0),(0,M._)([(0,B.Cb)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],T.prototype,"listMode",void 0),(0,M._)([(0,I.c)("listMode")],T.prototype,"writeListMode",null),(0,M._)([(0,B.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],T.prototype,"operationalLayerType",void 0),(0,M._)([(0,I.c)("operationalLayerType")],T.prototype,"writeOperationalLayerType",null),(0,M._)([(0,B.Cb)(Z.Oh)],T.prototype,"opacity",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],T.prototype,"title",void 0),(0,M._)([(0,I.c)("title")],T.prototype,"writeTitle",null),(0,M._)([(0,B.Cb)({type:Boolean,json:{name:"visibility"}})],T.prototype,"visible",void 0),T=(0,M._)([(0,F.j)("esri.layers.mixins.OperationalLayer")],T),T}},32629:(qe,Me,E)=>{"use strict";E.d(Me,{c:()=>T});var x,M=E(17626),D=E(94113),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(2076),I=E(86810);const $=new F.X({asc:"ascending",desc:"descending"});let Y=x=class extends I.wq{constructor(P){super(P),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new x({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],Y.prototype,"field",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],Y.prototype,"valueExpression",void 0),(0,M._)([(0,Q.Cb)({type:$.apiValues,json:{read:$.read,write:$.write}})],Y.prototype,"order",void 0),Y=x=(0,M._)([(0,k.j)("esri.layers.support.OrderByInfo")],Y);const Z=Y;function X(P,j,K){if(!P)return null;const W=P.find(J=>!!J.field);if(!W)return null;const te=new Z;return te.read(W,K),[te]}function L(P,j,K,W){const te=P.find(J=>!!J.field);te&&(0,D.RB)(K,[te.toJSON()],j)}const T=P=>{let j=class extends P{constructor(){super(...arguments),this.orderBy=null}};return(0,M._)([(0,Q.Cb)({type:[Z],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:X},write:{target:"layerDefinition.orderBy",writer:L}}})],j.prototype,"orderBy",void 0),j=(0,M._)([(0,k.j)("esri.layers.mixins.OrderedLayer")],j),j}},6647:(qe,Me,E)=>{"use strict";E.d(Me,{I:()=>te});var M=E(15861),D=E(17626),Q=E(24263),B=E(84792),N=E(59213),ne=E(26584),k=E(63290),F=E(62208),I=E(10699),x=E(21726),$=E(77712),X=(E(85931),E(8314),E(90912),E(68653)),L=E(76898),T=E(99433),P=E(84687),j=E(55463),K=E(94508);const W=k.Z.getLogger("esri.layers.mixins.PortalLayer"),te=he=>{let oe=class extends he{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var me;null==(me=this.portalItem)||me.destroy(),this.portalItem=null}set portalItem(me){me!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",me))}readPortalItem(me,de,ie){if(de.itemId)return new j.default({id:de.itemId,portal:ie&&ie.portal})}writePortalItem(me,de){me&&me.id&&(de.itemId=me.id)}loadFromPortal(me,de){var ie=this;return(0,M.Z)(function*(){if(ie.portalItem&&ie.portalItem.id)try{const V=yield E.e(3705).then(E.bind(E,83705));return(0,I.k_)(de),yield V.load({instance:ie,supportedTypes:me.supportedTypes,validateItem:me.validateItem,supportsData:me.supportsData},de)}catch(V){throw(0,I.D_)(V)||W.warn(`Failed to load layer (${ie.title}, ${ie.id}) portal item (${ie.portalItem.id})\n  ${V}`),V}})()}finishLoadEditablePortalLayer(me){var de=this;return(0,M.Z)(function*(){de._set("userHasEditingPrivileges",yield de._fetchUserHasEditingPrivileges(me).catch(ie=>((0,I.r9)(ie),!0)))})()}_fetchUserHasEditingPrivileges(me){var de=this;return(0,M.Z)(function*(){const ie=de.url?null==Q.id?void 0:Q.id.findCredential(de.url):null;if(!ie)return!0;const V=J.credential===ie?J.user:yield de._fetchEditingUser(me);return J.credential=ie,J.user=V,(0,F.Wi)(V)||null==V.privileges||V.privileges.includes("features:user:edit")})()}_fetchEditingUser(me){var de=this;return(0,M.Z)(function*(){var ie,V;const ce=null==(ie=de.portalItem)||null==(V=ie.portal)?void 0:V.user;if(ce)return ce;const ae=Q.id.findServerInfo(de.url);if(null==ae||!ae.owningSystemUrl)return null;const pe=`${ae.owningSystemUrl}/sharing/rest`,ue=P.Z.getDefault();if(ue&&ue.loaded&&(0,x.Fv)(ue.restUrl)===(0,x.Fv)(pe))return ue.user;const ye=`${pe}/community/self`,le=(0,F.pC)(me)?me.signal:null,se=yield(0,N.q6)((0,B.default)(ye,{authMode:"no-prompt",query:{f:"json"},signal:le}));return se.ok?K.default.fromJSON(se.value.data):null})()}read(me,de){de&&(de.layer=this),super.read(me,de)}write(me,de){const ie=de&&de.portal,V=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||P.Z.getDefault());return ie&&V&&!(0,x.tm)(V.restUrl,ie.restUrl)?(de.messages&&de.messages.push(new ne.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(me,$n(Pt({},de),{layer:this}))}};return(0,D._)([(0,$.Cb)({type:j.default})],oe.prototype,"portalItem",null),(0,D._)([(0,X.r)("web-document","portalItem",["itemId"])],oe.prototype,"readPortalItem",null),(0,D._)([(0,T.c)("web-document","portalItem",{itemId:{type:String}})],oe.prototype,"writePortalItem",null),(0,D._)([(0,$.Cb)({clonable:!1})],oe.prototype,"resourceReferences",void 0),(0,D._)([(0,$.Cb)({readOnly:!0})],oe.prototype,"userHasEditingPrivileges",void 0),oe=(0,D._)([(0,L.j)("esri.layers.mixins.PortalLayer")],oe),oe},J={credential:null,user:null}},30346:(qe,Me,E)=>{"use strict";E.d(Me,{Q:()=>oe});var M=E(15861),D=E(17626),Q=E(63290),B=E(10699),N=E(77712),I=(E(85931),E(8314),E(90912),E(76898)),x=E(48701),Z=(E(26584),E(45262),E(21352));const re=new x.Z,X=new WeakMap;function P(me){return me&&"object"==typeof me&&"refreshInterval"in me&&"refresh"in me}function j(me,de){return Number.isFinite(me)&&Number.isFinite(de)?de<=0?me:j(de,me%de):0}let K=0,W=0;function te(){const me=Date.now();for(const ie of re)if(ie.refreshInterval){var de;me-(null!=(de=X.get(ie))?de:0)+5>=6e4*ie.refreshInterval&&(X.set(ie,me),ie.refresh(me))}}(0,Z.EH)(()=>{const me=Date.now();let de=0;for(const ie of re)de=j(Math.round(6e4*ie.refreshInterval),de),ie.refreshInterval?X.get(ie)||X.set(ie,me):X.delete(ie);if(de!==W){if(W=de,clearInterval(K),0===W)return void(K=0);K=setInterval(te,W)}});const oe=me=>{let de=class extends me{constructor(...ie){super(...ie),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,B.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{!function L(me){P(me)&&re.push(me)}(this)},()=>{})}destroy(){!function T(me){P(me)&&re.includes(me)&&re.remove(me)}(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(ie=Date.now()){(0,B.R8)(this._debounceHasDataChanged()).then(V=>{V&&this._set("refreshTimestamp",ie),this.emit("refresh",{dataChanged:V})},V=>{Q.Z.getLogger(this.declaredClass).error(V),this.emit("refresh",{dataChanged:!1,error:V})})}hasDataChanged(){return(0,M.Z)(function*(){return!0})()}};return(0,D._)([(0,N.Cb)({type:Number,cast:ie=>ie>=.1?ie:ie<=0?0:.1,json:{write:!0}})],de.prototype,"refreshInterval",void 0),(0,D._)([(0,N.Cb)({readOnly:!0})],de.prototype,"refreshTimestamp",void 0),(0,D._)([(0,N.Cb)()],de.prototype,"refreshParameters",null),de=(0,D._)([(0,I.j)("esri.layers.mixins.RefreshableLayer")],de),de}},99555:(qe,Me,E)=>{"use strict";E.d(Me,{M:()=>k});var M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898));const k=I=>{let x=class extends I{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const $={minScale:this.minScale,maxScale:this.maxScale},Y=this.parent;Y&&"effectiveScaleRange"in Y&&function F(I,x){I.minScale=I.minScale>0?x.minScale>0?Math.min(I.minScale,x.minScale):I.minScale:x.minScale,I.maxScale=I.maxScale>0?x.maxScale>0?Math.max(I.maxScale,x.maxScale):I.maxScale:x.maxScale}($,Y.effectiveScaleRange);const Z=this._get("effectiveScaleRange");return Z&&Z.minScale===$.minScale&&Z.maxScale===$.maxScale?Z:$}};return(0,M._)([(0,D.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],x.prototype,"minScale",void 0),(0,M._)([(0,D.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],x.prototype,"maxScale",void 0),(0,M._)([(0,D.Cb)({readOnly:!0})],x.prototype,"effectiveScaleRange",null),x=(0,M._)([(0,ne.j)("esri.layers.mixins.ScaleRangeLayer")],x),x}},97941:(qe,Me,E)=>{"use strict";E.d(Me,{n:()=>re});var M=E(17626),D=E(97478),Q=E(20849),B=E(77712),F=(E(85931),E(8314),E(90912),E(68653)),I=E(76898),x=E(62708),$=E(36630),Y=E(58926);const re=X=>{let L=class extends X{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(T,P){const j=P.timeInfo.exportOptions;if(!j)return null;const K=j.timeOffset,W=Y.v.fromJSON(j.timeOffsetUnits);return K&&W?new Q.Z({value:K,unit:W}):null}set timeInfo(T){(0,$.UF)(T,this.fieldsIndex),this._set("timeInfo",T)}};return(0,M._)([(0,B.Cb)({type:D.Z,json:{write:!1}})],L.prototype,"timeExtent",void 0),(0,M._)([(0,B.Cb)({type:Q.Z})],L.prototype,"timeOffset",void 0),(0,M._)([(0,F.r)("service","timeOffset",["timeInfo.exportOptions"])],L.prototype,"readOffset",null),(0,M._)([(0,B.Cb)({value:null,type:x.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],L.prototype,"timeInfo",null),(0,M._)([(0,B.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],L.prototype,"useViewTime",void 0),L=(0,M._)([(0,I.j)("esri.layers.mixins.TemporalLayer")],L),L}},2319:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var Z,M=E(17626),D=E(26584),Q=E(86810),B=E(62208),N=E(94113),ne=E(77712),x=(E(85931),E(8314),E(90912),E(76898)),$=E(71149),Y=E(98624);let re=Z=class extends Q.wq{constructor(L){super(L),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(L,T){const P=super.write(L,T);if(null!=T&&T.origin){if(P.filter){const W=Object.keys(P.filter);var j;if(W.length>1||"where"!==W[0])return null==(j=T.messages)||j.push(new D.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:T.layer,effect:this})),null}var K;if("showExcludedLabels"in P)return null==(K=T.messages)||K.push(new D.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:T.layer,effect:this})),null}return P}clone(){return new Z({filter:(0,B.pC)(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,M._)([(0,ne.Cb)({type:Y.Z,json:{write:{allowNull:!0,writer(L,T,P,j){const K=null==L?void 0:L.write({},j);K&&0!==Object.keys(K).length?(0,N.RB)(P,K,T):(0,N.RB)(P,null,T)}}}})],re.prototype,"filter",void 0),(0,M._)([(0,ne.Cb)({json:{write:!0,origins:{"web-map":{read:{reader:$.ij},write:{writer:$.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}}}}})],re.prototype,"includedEffect",void 0),(0,M._)([(0,ne.Cb)({json:{write:!0,origins:{"web-map":{read:{reader:$.ij},write:{writer:$.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}}}}})],re.prototype,"excludedEffect",void 0),(0,M._)([(0,ne.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],re.prototype,"excludedLabelsVisible",void 0),re=Z=(0,M._)([(0,x.j)("esri.layers.support.FeatureEffect")],re);const X=re},98624:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>L});var Y,M=E(17626),D=E(29132),Q=E(97478),B=E(2076),N=E(86810),ne=E(58817),k=E(62208),F=E(77712),x=(E(90912),E(76898)),$=E(84952);const Z=new B.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),re=new B.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let X=Y=class extends N.wq{constructor(T){super(T),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(T={}){const{where:P,geometry:j,spatialRelationship:K,timeExtent:W,objectIds:te,units:J,distance:he}=this;return new $.Z(Pt({geometry:(0,ne.d9)(j),objectIds:(0,ne.d9)(te),spatialRelationship:K,timeExtent:(0,ne.d9)(W),where:P,units:J,distance:he},T))}clone(){const{where:T,geometry:P,spatialRelationship:j,timeExtent:K,objectIds:W,units:te,distance:J}=this;return new Y({geometry:(0,ne.d9)(P),objectIds:(0,ne.d9)(W),spatialRelationship:j,timeExtent:(0,ne.d9)(K),where:T,units:te,distance:J})}};(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],X.prototype,"where",void 0),(0,M._)([(0,F.Cb)({types:D.qM,json:{write:!0}})],X.prototype,"geometry",void 0),(0,M._)([(0,F.Cb)({type:Z.apiValues,json:{name:"spatialRel",read:{reader:Z.read},write:{allowNull:!1,writer:Z.write,overridePolicy(){return{enabled:(0,k.pC)(this.geometry)}}}}})],X.prototype,"spatialRelationship",void 0),(0,M._)([(0,F.Cb)({type:Number,json:{write:{overridePolicy(T){return{enabled:null!=T&&null!=this.geometry}}}}})],X.prototype,"distance",void 0),(0,M._)([(0,F.Cb)({type:[Number],json:{write:!0}})],X.prototype,"objectIds",void 0),(0,M._)([(0,F.Cb)({type:re.apiValues,json:{read:re.read,write:{writer:re.write,overridePolicy(T){return{enabled:null!=T&&null!=this.geometry}}}}})],X.prototype,"units",void 0),(0,M._)([(0,F.Cb)({type:Q.Z,json:{write:!0}})],X.prototype,"timeExtent",void 0),X=Y=(0,M._)([(0,x.j)("esri.layers.support.FeatureFilter")],X);const L=X},83989:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let F=class extends D.wq{constructor(){super(...arguments),this.type=null}};(0,M._)([(0,Q.Cb)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=(0,M._)([(0,k.j)("esri.layers.support.FeatureReduction")],F);const I=F},47058:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(83989);let I=F=class extends k.Z{constructor($){super($),this.type="selection"}clone(){return new F}};(0,M._)([(0,D.Cb)({type:["selection"]})],I.prototype,"type",void 0),I=F=(0,M._)([(0,ne.j)("esri.layers.support.FeatureReductionSelection")],I);const x=I},32777:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var M=E(17626),D=E(79608),Q=E(2076),B=E(86810),N=E(77712),I=(E(85931),E(8314),E(90912),E(76898));const x=new Q.X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let $=class extends((0,D.J)(B.wq)){constructor(Z){super(Z),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,M._)([(0,N.Cb)({json:{write:!0}})],$.prototype,"name",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],$.prototype,"description",void 0),(0,M._)([(0,N.Cb)({json:{read:x.read,write:x.write}})],$.prototype,"drawingTool",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],$.prototype,"prototype",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],$.prototype,"thumbnail",void 0),$=(0,M._)([(0,I.j)("esri.layers.support.FeatureTemplate")],$);const Y=$},41638:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>re});var M=E(17626),D=E(79608),Q=E(86810),B=E(77712),F=(E(85931),E(8314),E(90912),E(68653)),I=E(76898),x=E(99433),$=E(26141),Y=E(32777);let Z=class extends((0,D.J)(Q.wq)){constructor(X){super(X),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(X){const L={};for(const T of Object.keys(X))L[T]=(0,$.im)(X[T]);return L}writeDomains(X,L){const T={};for(const j of Object.keys(X)){var P;X[j]&&(T[j]=null==(P=X[j])?void 0:P.toJSON())}L.domains=T}};(0,M._)([(0,B.Cb)({json:{write:!0}})],Z.prototype,"id",void 0),(0,M._)([(0,B.Cb)({json:{write:!0}})],Z.prototype,"name",void 0),(0,M._)([(0,B.Cb)({json:{write:!0}})],Z.prototype,"domains",void 0),(0,M._)([(0,F.r)("domains")],Z.prototype,"readDomains",null),(0,M._)([(0,x.c)("domains")],Z.prototype,"writeDomains",null),(0,M._)([(0,B.Cb)({type:[Y.Z],json:{write:!0}})],Z.prototype,"templates",void 0),Z=(0,M._)([(0,I.j)("esri.layers.support.FeatureType")],Z);const re=Z},36255:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>L});var Z,M=E(17626),D=E(2076),Q=E(86810),B=E(77712),k=(E(85931),E(8314),E(90912)),F=E(55342),I=E(68653),x=E(76898),$=E(26141),Y=E(85);const re=new D.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let X=Z=class extends Q.wq{constructor(T){super(T),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(T,{description:P}){let j;try{j=JSON.parse(P)}catch(K){}return j?j.value:null}readValueType(T,{description:P}){let j;try{j=JSON.parse(P)}catch(K){}return j?re.fromJSON(j.fieldValueType):null}clone(){return new Z({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],X.prototype,"alias",void 0),(0,M._)([(0,B.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],X.prototype,"defaultValue",void 0),(0,M._)([(0,B.Cb)()],X.prototype,"description",void 0),(0,M._)([(0,I.r)("description")],X.prototype,"readDescription",null),(0,M._)([(0,B.Cb)({types:$.V5,json:{read:{reader:$.im},write:!0}})],X.prototype,"domain",void 0),(0,M._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],X.prototype,"editable",void 0),(0,M._)([(0,B.Cb)({type:k.z8,json:{write:!0}})],X.prototype,"length",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],X.prototype,"name",void 0),(0,M._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],X.prototype,"nullable",void 0),(0,M._)([(0,F.J)(Y.v)],X.prototype,"type",void 0),(0,M._)([(0,B.Cb)()],X.prototype,"valueType",void 0),(0,M._)([(0,I.r)("valueType",["description"])],X.prototype,"readValueType",null),X=Z=(0,M._)([(0,x.j)("esri.layers.support.Field")],X);const L=X},60466:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>N});var M=E(36630);function Q(k){return"oid"===k.type||"esriFieldTypeOID"===k.type}function B(k){return"global-id"===k.type||"esriFieldTypeGlobalID"===k.type}class N{constructor(F){if(this.fields=F,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!F)return;const I=[];for(const x of F){const $=x&&x.name;if($){const Y=ne($);this._fieldsMap.set($,x),this._fieldsMap.set(Y,x),I.push(Y),"date"===(k=x).type||"esriFieldTypeDate"===k.type?(this.dateFields.push(x),this._dateFieldsSet.add(x)):(0,M.H7)(x)&&(this._numericFieldsSet.add(x),this.numericFields.push(x)),Q(x)||B(x)||(x.editable=null==x.editable||!!x.editable,x.nullable=null==x.nullable||!!x.nullable)}}var k;I.sort(),this.uid=I.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const F of this.fields)Q(F)||B(F)||F.nullable||void 0!==(0,M.os)(F)||this._requiredFields.push(F)}return this._requiredFields}has(F){return null!=this.get(F)}get(F){return null!=F?this._fieldsMap.get(F)||this._fieldsMap.get(ne(F)):void 0}isDateField(F){return this._dateFieldsSet.has(this.get(F))}isNumericField(F){return this._numericFieldsSet.has(this.get(F))}normalizeFieldName(F){const I=this.get(F);if(I)return I.name}}function ne(k){return k.toLowerCase().trim()}},72258:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(86810),Q=E(77712),ne=(E(85931),E(8314),E(90912)),k=E(76898);let I=F=class extends D.wq{constructor($){super($),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new F({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,M._)([(0,Q.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],I.prototype,"cols",void 0),(0,M._)([(0,Q.Cb)({type:ne.z8,json:{write:!0}})],I.prototype,"level",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],I.prototype,"levelValue",void 0),(0,M._)([(0,Q.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],I.prototype,"origin",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],I.prototype,"resolution",void 0),(0,M._)([(0,Q.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],I.prototype,"rows",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],I.prototype,"scale",void 0),I=F=(0,M._)([(0,k.j)("esri.layers.support.LOD")],I);const x=I},170:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>de});var X,M=E(17626),D=E(65787),Q=E(2076),B=E(86810),N=E(58817),ne=E(23841),k=E(77712),I=(E(90912),E(68653)),x=E(76898),$=E(99433),re=(E(85931),E(8314),E(86793));let L=X=class extends B.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(ie,V){return V.value?(0,re.dI)(V.value):ie}writeExpression(ie,V,ce){null!=this.value&&(ie=(0,re.dI)(this.value)),null!=ie&&(V[ce]=ie)}clone(){return new X({expression:this.expression,title:this.title,value:this.value})}};(0,M._)([(0,k.Cb)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],L.prototype,"expression",void 0),(0,M._)([(0,I.r)("expression",["expression","value"])],L.prototype,"readExpression",null),(0,M._)([(0,$.c)("expression")],L.prototype,"writeExpression",null),(0,M._)([(0,k.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],L.prototype,"title",void 0),(0,M._)([(0,k.Cb)({json:{read:!1,write:!1}})],L.prototype,"value",void 0),L=X=(0,M._)([(0,x.j)("esri.layers.support.LabelExpressionInfo")],L);const T=L;var K,P=E(8080),j=E(65270);const W=new Q.X({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function te(ie){return!ie||"service"!==ie.origin&&!J(ie.layer)}function J(ie){return"map-image"===(null==ie?void 0:ie.type)}function he(ie){var V,ce;return!!J(ie)&&!(null==(V=ie.capabilities)||null==(ce=V.exportMap)||!ce.supportsArcadeExpressionForLabeling)}let me=K=class extends B.wq{constructor(ie){super(ie),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=P.Rz,this.useCodedValues=void 0,this.where=null}static evaluateWhere(ie,V){const ce=function(ae,pe,ue){switch(pe){case"=":return ae==ue;case"<>":return ae!=ue;case">":return ae>ue;case">=":return ae>=ue;case"<":return ae<ue;case"<=":return ae<=ue}return!1};try{if(null==ie)return!0;const ae=ie.split(" ");if(3===ae.length)return ce(V[ae[0]],ae[1],ae[2]);if(7===ae.length){const pe=ce(V[ae[0]],ae[1],ae[2]),ue=ae[3],ye=ce(V[ae[4]],ae[5],ae[6]);switch(ue){case"AND":return pe&&ye;case"OR":return pe||ye}}return!1}catch(ae){console.log("Error.: can't parse = "+ie)}}readLabelExpression(ie,V){const ce=V.labelExpressionInfo;if(!ce||!ce.value&&!ce.expression)return ie}writeLabelExpression(ie,V,ce){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)ie=(0,re.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const ae=(0,re.el)(this.labelExpressionInfo.expression);ae&&(ie="["+ae+"]")}null!=ie&&(V[ce]=ie)}writeLabelExpressionInfo(ie,V,ce,ae){if(null==ie&&null!=this.labelExpression&&te(ae))ie=new T({expression:this.getLabelExpressionArcade()});else if(!ie)return;const pe=ie.toJSON(ae);pe.expression&&(V[ce]=pe)}writeMaxScale(ie,V){(ie||this.minScale)&&(V.maxScale=ie)}writeMinScale(ie,V){(ie||this.maxScale)&&(V.minScale=ie)}getLabelExpression(){return(0,re.hV)(this)}getLabelExpressionArcade(){return(0,re.YI)(this)}getLabelExpressionSingleField(){return(0,re.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new K({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,N.d9)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,N.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,M._)([(0,k.Cb)({type:String,json:{write:!0}})],me.prototype,"name",void 0),(0,M._)([(0,k.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],me.prototype,"allowOverrun",void 0),(0,M._)([(0,k.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],me.prototype,"deconflictionStrategy",void 0),(0,M._)([(0,k.Cb)({type:String,json:{write:{overridePolicy(ie,V,ce){return this.labelExpressionInfo&&"service"===(null==ce?void 0:ce.origin)&&he(ce.layer)?{enabled:!1}:{allowNull:!0}}}}})],me.prototype,"labelExpression",void 0),(0,M._)([(0,I.r)("labelExpression")],me.prototype,"readLabelExpression",null),(0,M._)([(0,$.c)("labelExpression")],me.prototype,"writeLabelExpression",null),(0,M._)([(0,k.Cb)({type:T,json:{write:{overridePolicy:(ie,V,ce)=>function oe(ie){return te(ie)||he(ie.layer)}(ce)?{allowNull:!0}:{enabled:!1}}}})],me.prototype,"labelExpressionInfo",void 0),(0,M._)([(0,$.c)("labelExpressionInfo")],me.prototype,"writeLabelExpressionInfo",null),(0,M._)([(0,k.Cb)({type:W.apiValues,json:{type:W.jsonValues,read:W.read,write:W.write}})],me.prototype,"labelPlacement",void 0),(0,M._)([(0,k.Cb)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],me.prototype,"labelPosition",void 0),(0,M._)([(0,k.Cb)({type:Number})],me.prototype,"maxScale",void 0),(0,M._)([(0,$.c)("maxScale")],me.prototype,"writeMaxScale",null),(0,M._)([(0,k.Cb)({type:Number})],me.prototype,"minScale",void 0),(0,M._)([(0,$.c)("minScale")],me.prototype,"writeMinScale",null),(0,M._)([(0,k.Cb)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],me.prototype,"repeatLabel",void 0),(0,M._)([(0,k.Cb)({type:Number,cast:ne.t_,json:{write:!0,origins:{"web-scene":{write:!1}}}})],me.prototype,"repeatLabelDistance",void 0),(0,M._)([(0,k.Cb)({types:D.yK,json:{origins:{"web-scene":{types:D.S6,write:j.vX,default:null}},write:j.vX,default:null}})],me.prototype,"symbol",void 0),(0,M._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"useCodedValues",void 0),(0,M._)([(0,k.Cb)({type:String,json:{write:!0}})],me.prototype,"where",void 0),me=K=(0,M._)([(0,x.j)("esri.layers.support.LabelClass")],me);const de=me},2430:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(48701),Q=E(86810),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898));let x=I=class extends Q.wq{constructor(Y){super(Y),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new D.Z}clone(){return new I({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],x.prototype,"floorField",void 0),(0,M._)([(0,B.Cb)({json:{read:!1,write:!1}})],x.prototype,"viewAllMode",void 0),(0,M._)([(0,B.Cb)({json:{read:!1,write:!1}})],x.prototype,"viewAllLevelIds",void 0),x=I=(0,M._)([(0,F.j)("esri.layers.support.LayerFloorInfo")],x);const $=x},2584:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>te});var j,M=E(17626),D=E(2076),Q=E(86810),B=E(62208),N=E(16730),ne=E(77712),I=(E(85931),E(8314),E(90912)),x=E(68653),$=E(76898),Y=E(99433),Z=E(49672),re=E(65234),X=E(65401),L=E(37053),T=E(46367),P=E(72258);const K=new D.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let W=j=class extends Q.wq{constructor(J){super(J),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(J={}){const{resolutionFactor:he=1,scales:oe,size:me=256,spatialReference:de=re.Z.WebMercator,numLODs:ie=24}=J;if(!(0,L.JY)(de)){const ye=[];if(oe)for(let le=0;le<oe.length;le++){const se=oe[le];ye.push({level:le,scale:se,resolution:se})}else{let le=5e-4;for(let se=ie-1;se>=0;se--)ye.unshift({level:se,scale:le,resolution:le}),le*=2}return new j({dpi:96,lods:ye,origin:new Z.Z(0,0,de),size:[me,me],spatialReference:de})}const V=(0,L.C5)(de),ce=new Z.Z(J.origin?{x:J.origin.x,y:J.origin.y,spatialReference:de}:V?{x:V.origin[0],y:V.origin[1],spatialReference:de}:{x:0,y:0,spatialReference:de}),pe=1/(39.37*(0,N.c9)(de)*96),ue=[];if(oe)for(let ye=0;ye<oe.length;ye++){const le=oe[ye];ue.push({level:ye,scale:le,resolution:le*pe})}else{let ye=(0,L.sT)(de)?512/me*591657527.5917094:256/me*591657527.591555;const le=Math.ceil(ie/he);ue.push({level:0,scale:ye,resolution:ye*pe});for(let se=1;se<le;se++){const Ce=ye/2**he;ue.push({level:se,scale:Ce,resolution:Ce*pe}),ye=Ce}}return new j({dpi:96,lods:ue,origin:ce,size:[me,me],spatialReference:de})}get isWrappable(){const{spatialReference:J,origin:he}=this;if(J&&he){const oe=(0,L.C5)(J);return J.isWrappable&&Math.abs(oe.origin[0]-he.x)<=oe.dx}return!1}readOrigin(J,he){return Z.Z.fromJSON(Pt({spatialReference:he.spatialReference},J))}set lods(J){let he=0,oe=0;const me=[];this._levelToLOD={},J&&(he=-1/0,oe=1/0,J.forEach(de=>{me.push(de.scale),he=de.scale>he?de.scale:he,oe=de.scale<oe?de.scale:oe,this._levelToLOD[de.level]=de})),this._set("scales",me),this._set("minScale",he),this._set("maxScale",oe),this._set("lods",J),this._initializeUpsampleLevels()}readSize(J,he){return[he.cols,he.rows]}writeSize(J,he){he.cols=J[0],he.rows=J[1]}zoomToScale(J){const he=this.scales;if(J<=0)return he[0];if(J>=he.length-1)return he[he.length-1];{const oe=Math.floor(J);return he[oe]/(he[oe]/he[oe+1])**(J-oe)}}scaleToZoom(J){const he=this.scales,oe=he.length-1;let me=0;for(;me<oe;me++){const de=he[me],ie=he[me+1];if(de<=J)return me;if(ie===J)return me+1;if(de>J&&ie<J)return me+Math.log(de/J)/Math.log(de/ie)}return me}snapScale(J,he=.95){const oe=this.scaleToZoom(J);return oe%Math.floor(oe)>=he?this.zoomToScale(Math.ceil(oe)):this.zoomToScale(Math.floor(oe))}tileAt(J,he,oe,me){const de=this.lodAt(J);if(!de)return null;let ie,V;if("number"==typeof he)ie=he,V=oe;else if((0,L.fS)(he.spatialReference,this.spatialReference))ie=he.x,V=he.y,me=oe;else{const pe=(0,T.iV)(he,this.spatialReference);if((0,B.Wi)(pe))return null;ie=pe.x,V=pe.y,me=oe}const ce=de.resolution*this.size[0],ae=de.resolution*this.size[1];return me||(me={id:null,level:0,row:0,col:0,extent:(0,X.Ue)()}),me.level=J,me.row=Math.floor((this.origin.y-V)/ae+.001),me.col=Math.floor((ie-this.origin.x)/ce+.001),this.updateTileInfo(me),me}updateTileInfo(J,he=j.ExtrapolateOptions.NONE){let oe=this.lodAt(J.level);if(!oe&&he===j.ExtrapolateOptions.POWER_OF_TWO){const V=this.lods[this.lods.length-1];V.level<J.level&&(oe=V)}if(!oe)return;const me=J.level-oe.level,de=oe.resolution*this.size[0]/2**me,ie=oe.resolution*this.size[1]/2**me;J.id=`${J.level}/${J.row}/${J.col}`,J.extent||(J.extent=(0,X.Ue)()),J.extent[0]=this.origin.x+J.col*de,J.extent[1]=this.origin.y-(J.row+1)*ie,J.extent[2]=J.extent[0]+de,J.extent[3]=J.extent[1]+ie}upsampleTile(J){const he=this._upsampleLevels[J.level];return!(!he||-1===he.parentLevel||(J.level=he.parentLevel,J.row=Math.floor(J.row/he.factor+.001),J.col=Math.floor(J.col/he.factor+.001),this.updateTileInfo(J),0))}getTileBounds(J,he){const{resolution:oe}=this.lodAt(he.level),me=oe*this.size[0],de=oe*this.size[1];return J[0]=this.origin.x+he.col*me,J[1]=this.origin.y-(he.row+1)*de,J[2]=J[0]+me,J[3]=J[1]+de,J}lodAt(J){return this._levelToLOD&&this._levelToLOD[J]||null}clone(){return j.fromJSON(this.write({}))}getOrCreateCompatible(J,he){if(256===this.size[0]&&256===this.size[1])return 256===J?this:null;const oe=[],me=this.lods.length;for(let de=0;de<me;de++){const ie=this.lods[de];oe.push(new P.Z({level:ie.level,scale:ie.scale,resolution:ie.resolution*he}))}return new j({size:[J,J],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:oe})}_initializeUpsampleLevels(){const J=this.lods;this._upsampleLevels=[];let he=null;for(let oe=0;oe<J.length;oe++){const me=J[oe];this._upsampleLevels[me.level]={parentLevel:he?he.level:-1,factor:he?he.resolution/me.resolution:0},he=me}}};var J,he;(0,M._)([(0,ne.Cb)({type:Number,json:{write:!0}})],W.prototype,"compressionQuality",void 0),(0,M._)([(0,ne.Cb)({type:Number,json:{write:!0}})],W.prototype,"dpi",void 0),(0,M._)([(0,ne.Cb)({type:String,json:{read:K.read,write:K.write,origins:{"web-scene":{read:!1,write:!1}}}})],W.prototype,"format",void 0),(0,M._)([(0,ne.Cb)({readOnly:!0})],W.prototype,"isWrappable",null),(0,M._)([(0,ne.Cb)({type:Z.Z,json:{write:!0}})],W.prototype,"origin",void 0),(0,M._)([(0,x.r)("origin")],W.prototype,"readOrigin",null),(0,M._)([(0,ne.Cb)({type:[P.Z],value:null,json:{write:!0}})],W.prototype,"lods",null),(0,M._)([(0,ne.Cb)({readOnly:!0})],W.prototype,"minScale",void 0),(0,M._)([(0,ne.Cb)({readOnly:!0})],W.prototype,"maxScale",void 0),(0,M._)([(0,ne.Cb)({readOnly:!0})],W.prototype,"scales",void 0),(0,M._)([(0,ne.Cb)({cast:J=>Array.isArray(J)?J:"number"==typeof J?[J,J]:[256,256]})],W.prototype,"size",void 0),(0,M._)([(0,x.r)("size",["rows","cols"])],W.prototype,"readSize",null),(0,M._)([(0,Y.c)("size",{cols:{type:I.z8},rows:{type:I.z8}})],W.prototype,"writeSize",null),(0,M._)([(0,ne.Cb)({type:re.Z,json:{write:!0}})],W.prototype,"spatialReference",void 0),W=j=(0,M._)([(0,$.j)("esri.layers.support.TileInfo")],W),(he=(J=W||(W={})).ExtrapolateOptions||(J.ExtrapolateOptions={}))[he.NONE=0]="NONE",he[he.POWER_OF_TWO=1]="POWER_OF_TWO";const te=W},62708:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>K});var re,M=E(17626),D=E(97478),Q=E(20849),B=E(86810),N=E(58817),ne=E(62208),k=E(77712),I=(E(90912),E(68653)),x=E(76898),$=E(99433);E(85931),E(8314);let X=re=class extends B.wq{constructor(W){super(W),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(W,te){return void 0!==te.respectsDaylightSaving?te.respectsDaylightSaving:void 0!==te.respectDaylightSaving&&te.respectDaylightSaving}clone(){const{respectsDaylightSaving:W,timezone:te}=this;return new re({respectsDaylightSaving:W,timezone:te})}};(0,M._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],X.prototype,"respectsDaylightSaving",void 0),(0,M._)([(0,I.r)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],X.prototype,"readRespectsDaylightSaving",null),(0,M._)([(0,k.Cb)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],X.prototype,"timezone",void 0),X=re=(0,M._)([(0,x.j)("esri.layers.support.TimeReference")],X);const L=X;var P,T=E(58926);let j=P=class extends B.wq{constructor(W){super(W),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(W,te){if(!te.timeExtent||!Array.isArray(te.timeExtent)||2!==te.timeExtent.length)return null;const J=new Date(te.timeExtent[0]),he=new Date(te.timeExtent[1]);return new D.Z({start:J,end:he})}writeFullTimeExtent(W,te){te.timeExtent=W&&(0,ne.pC)(W.start)&&(0,ne.pC)(W.end)?[W.start.getTime(),W.end.getTime()]:null}readInterval(W,te){return te.timeInterval&&te.timeIntervalUnits?new Q.Z({value:te.timeInterval,unit:T.v.fromJSON(te.timeIntervalUnits)}):te.defaultTimeInterval&&te.defaultTimeIntervalUnits?new Q.Z({value:te.defaultTimeInterval,unit:T.v.fromJSON(te.defaultTimeIntervalUnits)}):null}writeInterval(W,te){if(W){const J=W.toJSON();te.timeInterval=J.value,te.timeIntervalUnits=J.unit}else te.timeInterval=null,te.timeIntervalUnits=null}clone(){const{cumulative:W,endField:te,hasLiveData:J,interval:he,startField:oe,timeReference:me,fullTimeExtent:de,trackIdField:ie,useTime:V}=this;return new P({cumulative:W,endField:te,hasLiveData:J,interval:he,startField:oe,timeReference:(0,N.d9)(me),fullTimeExtent:(0,N.d9)(de),trackIdField:ie,useTime:V})}};(0,M._)([(0,k.Cb)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],j.prototype,"cumulative",void 0),(0,M._)([(0,k.Cb)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],j.prototype,"endField",void 0),(0,M._)([(0,k.Cb)({type:D.Z,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"fullTimeExtent",void 0),(0,M._)([(0,I.r)("fullTimeExtent",["timeExtent"])],j.prototype,"readFullTimeExtent",null),(0,M._)([(0,$.c)("fullTimeExtent")],j.prototype,"writeFullTimeExtent",null),(0,M._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],j.prototype,"hasLiveData",void 0),(0,M._)([(0,k.Cb)({type:Q.Z,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"interval",void 0),(0,M._)([(0,I.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],j.prototype,"readInterval",null),(0,M._)([(0,$.c)("interval")],j.prototype,"writeInterval",null),(0,M._)([(0,k.Cb)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],j.prototype,"startField",void 0),(0,M._)([(0,k.Cb)({type:L,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"timeReference",void 0),(0,M._)([(0,k.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"trackIdField",void 0),(0,M._)([(0,k.Cb)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],j.prototype,"useTime",void 0),j=P=(0,M._)([(0,x.j)("esri.layers.support.TimeInfo")],j);const K=j},38305:(qe,Me,E)=>{"use strict";E.d(Me,{ld:()=>Y,B5:()=>I,M8:()=>re,G:()=>j,Qc:()=>x,DR:()=>$,Nm:()=>L,XG:()=>T,a7:()=>Z,wH:()=>P});var M=E(62208),D=E(21726),Q=E(29840);const B={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},N=Object.values(B),ne=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${N.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),k=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${N.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),F=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function I(te){return!!ne.test(te)}function x(te){const J=(0,D.mN)(te),he=J.path.match(ne)||J.path.match(k);if(!he)return null;const[,oe,me,de,ie]=he,V=me.indexOf("/");return{title:Y(-1!==V?me.slice(V+1):me),serverType:B[de.toLowerCase()],sublayer:null!=ie&&""!==ie?parseInt(ie,10):null,url:{path:oe}}}function $(te){const J=(0,D.mN)(te).path.match(F);return J?{serviceUrl:J[1],sublayerId:Number(J[2])}:null}function Y(te){return(te=te.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+te.slice(1)}function Z(te,J){const he=[];if(te){const oe=x(te);(0,M.pC)(oe)&&oe.title&&he.push(oe.title)}if(J){const oe=Y(J);he.push(oe)}if(2===he.length){if(-1!==he[0].toLowerCase().indexOf(he[1].toLowerCase()))return he[0];if(-1!==he[1].toLowerCase().indexOf(he[0].toLowerCase()))return he[1]}return he.join(" - ")}function re(te){if(!te)return!1;const de=-1!==(te=te.toLowerCase()).indexOf(".arcgis.com/"),ie=-1!==te.indexOf("//services")||-1!==te.indexOf("//tiles")||-1!==te.indexOf("//features");return de&&ie}function L(te,J){return te&&(0,D.Qj)((0,D.Hu)(te,J))}function T(te){let{url:J}=te;if(!J)return{url:J};J=(0,D.Hu)(J,te.logger);const he=(0,D.mN)(J),oe=x(he.path);let me;if((0,M.pC)(oe))null!=oe.sublayer&&null==te.layer.layerId&&(me=oe.sublayer),J=oe.url.path;else if(te.nonStandardUrlAllowed){const de=$(he.path);(0,M.pC)(de)&&(J=de.serviceUrl,me=de.sublayerId)}return{url:(0,D.Qj)(J),layerId:me}}function P(te,J,he,oe,me){(0,Q.w)(J,oe,"url",me),oe.url&&null!=te.layerId&&(oe.url=(0,D.v_)(oe.url,he,te.layerId.toString()))}function j(te){if(!te)return!1;const J=te.toLowerCase(),he=-1!==J.indexOf("/services/"),oe=-1!==J.indexOf("/mapserver/wmsserver"),me=-1!==J.indexOf("/imageserver/wmsserver"),de=-1!==J.indexOf("/wmsserver");return he&&(oe||me||de)}},13812:(qe,Me,E)=>{"use strict";E.d(Me,{qG:()=>me,PV:()=>te,id:()=>ie,iR:()=>j,rn:()=>W,u1:()=>ce,rO:()=>V,Oh:()=>he,bT:()=>oe,C_:()=>P,Lx:()=>J,vg:()=>de,YI:()=>T,HQ:()=>K});var M=E(97478),D=E(2004),Q=E(65234),B=E(29840),N=E(62208),k=(E(10699),E(28170)),X=E(26540),L=E(92236);const T={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},P={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(ae,pe)=>!pe.disablePopup},write:{enabled:!0,writer(ae,pe,ue){pe[ue]=!ae}}}},j={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},K={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:B.w}}},W={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},te={value:null,type:X.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function J(ae){return{type:ae,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const he={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},oe=$n(Pt({},he),{json:$n(Pt({},he.json),{origins:{"web-document":$n(Pt({},he.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(ae,pe,ue)=>ue&&"service"!==ue.origin||!pe.drawingInfo||void 0===pe.drawingInfo.transparency?pe.layerDefinition&&pe.layerDefinition.drawingInfo&&void 0!==pe.layerDefinition.drawingInfo.transparency?(0,L.b)(pe.layerDefinition.drawingInfo.transparency):void 0:(0,L.b)(pe.drawingInfo.transparency)}})}),me={type:M.Z,readOnly:!0,get(){var ae,pe;if(null==(ae=this.layer)||!ae.timeInfo)return null;const{datesInUnknownTimezone:ue,timeOffset:ye,useViewTime:le}=this.layer,se=null==(pe=this.view)?void 0:pe.timeExtent;let Ce=this.layer.timeExtent;ue&&(Ce=function re(ae){if(!ae)return ae;const{start:pe,end:ue}=ae;return new M.Z({start:(0,N.pC)(pe)?(0,k.Nm)(pe,pe.getTimezoneOffset(),"minutes"):pe,end:(0,N.pC)(ue)?(0,k.Nm)(ue,ue.getTimezoneOffset(),"minutes"):ue})}(Ce));let ge=le?se&&Ce?se.intersection(Ce):se||Ce:Ce;if(!ge||ge.isEmpty||ge.isAllTime)return ge;ye&&(ge=ge.offset(-ye.value,ye.unit)),ue&&(ge=function Z(ae){if(!ae)return ae;const{start:pe,end:ue}=ae;return new M.Z({start:(0,N.pC)(pe)?(0,k.Nm)(pe,-pe.getTimezoneOffset(),"minutes"):pe,end:(0,N.pC)(ue)?(0,k.Nm)(ue,-ue.getTimezoneOffset(),"minutes"):ue})}(ge));const Pe=this._get("timeExtent");return ge.equals(Pe)?Pe:ge}},de={type:D.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(ae,pe)=>{const ue=D.Z.fromJSON(ae);return null!=pe.spatialReference&&"object"==typeof pe.spatialReference&&(ue.spatialReference=Q.Z.fromJSON(pe.spatialReference)),ue}}}},read:!1}},ie={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},V={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},ce={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}}},26141:(qe,Me,E)=>{"use strict";E.d(Me,{im:()=>V,V5:()=>ie}),E(8314);var x,D=E(17626),Q=E(58817),B=E(77712),ne=(E(90912),E(55342)),k=E(76898),F=E(86810);E(85931);let $=x=class extends F.wq{constructor(ce){super(ce),this.name=null,this.code=null}clone(){return new x({name:this.name,code:this.code})}};(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],$.prototype,"name",void 0),(0,D._)([(0,B.Cb)({type:[String,Number],json:{write:!0}})],$.prototype,"code",void 0),$=x=(0,D._)([(0,k.j)("esri.layers.support.CodedValue")],$);const Y=$,re=new(E(2076).X)({inherited:"inherited",codedValue:"coded-value",range:"range"});let X=class extends F.wq{constructor(ce){super(ce),this.name=null,this.type=null}};(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],X.prototype,"name",void 0),(0,D._)([(0,ne.J)(re)],X.prototype,"type",void 0),X=(0,D._)([(0,k.j)("esri.layers.support.Domain")],X);const L=X;var T;let P=T=class extends L{constructor(ce){super(ce),this.codedValues=null,this.type="coded-value"}getName(ce){let ae=null;if(this.codedValues){const pe=String(ce);this.codedValues.some(ue=>(String(ue.code)===pe&&(ae=ue.name),!!ae))}return ae}clone(){return new T({codedValues:(0,Q.d9)(this.codedValues),name:this.name})}};(0,D._)([(0,B.Cb)({type:[Y],json:{write:!0}})],P.prototype,"codedValues",void 0),(0,D._)([(0,ne.J)({codedValue:"coded-value"})],P.prototype,"type",void 0),P=T=(0,D._)([(0,k.j)("esri.layers.support.CodedValueDomain")],P);const j=P;var te;E(63290),E(82255);let J=te=class extends L{constructor(ce){super(ce),this.type="inherited"}clone(){return new te}};(0,D._)([(0,ne.J)({inherited:"inherited"})],J.prototype,"type",void 0),J=te=(0,D._)([(0,k.j)("esri.layers.support.InheritedDomain")],J);const he=J;var oe;let me=oe=class extends L{constructor(ce){super(ce),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new oe({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,D._)([(0,B.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(ce,ae)=>ae.range&&ae.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(ce,ae,pe){ae[pe]=[this.minValue||0,ce]}}}})],me.prototype,"maxValue",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(ce,ae)=>ae.range&&ae.range[0]},write:{target:"range",writer(ce,ae,pe){ae[pe]=[ce,this.maxValue||0]}}}})],me.prototype,"minValue",void 0),(0,D._)([(0,ne.J)({range:"range"})],me.prototype,"type",void 0),me=oe=(0,D._)([(0,k.j)("esri.layers.support.RangeDomain")],me);const de=me,ie={key:"type",base:L,typeMap:{range:me,"coded-value":j,inherited:he}};function V(ce){if(!ce||!ce.type)return null;switch(ce.type){case"range":return de.fromJSON(ce);case"codedValue":return j.fromJSON(ce);case"inherited":return he.fromJSON(ce)}return null}},2777:(qe,Me,E)=>{"use strict";E.d(Me,{d:()=>oe});var Z,M=E(83989),D=E(17626),Q=E(73281),B=E(65787),N=E(86810),ne=E(58817),k=E(23841),F=E(77712),x=(E(90912),E(76898));E(85931),E(8314);let re=Z=class extends N.wq{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new Z({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],re.prototype,"statisticType",void 0),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],re.prototype,"onStatisticField",void 0),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],re.prototype,"onStatisticValueExpression",void 0),re=Z=(0,D._)([(0,x.j)("esri.layers.support.OutStatistic")],re);const X=re;var L;let T=L=class extends N.wq{constructor(){super(...arguments),this.name=null}clone(){return new L({name:this.name,outStatistic:this.outStatistic.clone()})}};(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],T.prototype,"name",void 0),(0,D._)([(0,F.Cb)({type:X,json:{write:!0}})],T.prototype,"outStatistic",void 0),T=L=(0,D._)([(0,x.j)("esri.layers.support.AggregateField")],T);const P=T;var W,j=E(13812),K=E(170);let te=W=class extends N.wq{constructor(me){super(me),this.type="cluster",this.clusterRadius=(0,k.t_)("80px"),this.clusterMinSize=(0,k.t_)("12px"),this.clusterMaxSize=(0,k.t_)("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new W({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,ne.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,ne.d9)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:(0,ne.d9)(this.popupTemplate)})}};(0,D._)([(0,F.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],te.prototype,"type",void 0),(0,D._)([(0,F.Cb)({type:Number,cast:me=>"auto"===me?me:(0,k.t_)(me),json:{write:!0}})],te.prototype,"clusterRadius",void 0),(0,D._)([(0,F.Cb)({type:Number,cast:k.t_,json:{write:!0}})],te.prototype,"clusterMinSize",void 0),(0,D._)([(0,F.Cb)({type:Number,cast:k.t_,json:{write:!0}})],te.prototype,"clusterMaxSize",void 0),(0,D._)([(0,F.Cb)(j.C_)],te.prototype,"popupEnabled",void 0),(0,D._)([(0,F.Cb)({type:Q.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],te.prototype,"popupTemplate",void 0),(0,D._)([(0,F.Cb)({types:B.AH})],te.prototype,"symbol",void 0),(0,D._)([(0,F.Cb)({type:[K.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],te.prototype,"labelingInfo",void 0),(0,D._)([(0,F.Cb)(j.iR)],te.prototype,"labelsVisible",void 0),(0,D._)([(0,F.Cb)({type:[P],json:{write:!0}})],te.prototype,"fields",void 0),te=W=(0,D._)([(0,x.j)("esri.layers.support.FeatureReductionCluster")],te);const J=te;var he=E(47058);const oe={types:{key:"type",base:M.Z,typeMap:{selection:he.Z,cluster:J}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:M.Z,typeMap:{selection:J}}},"web-scene":{types:{key:"type",base:M.Z,typeMap:{selection:he.Z}}}}}}},55911:(qe,Me,E)=>{"use strict";E.d(Me,{v:()=>ne});var M=E(63290),D=E(36255),Q=E(60466),B=E(36630);const N=M.Z.getLogger("esri.layers.support.fieldProperties");function ne(){return{fields:{type:[D.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new Q.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(k){this._userOutFields=k,this.notifyChange("outFields")},get:function(){const k=this._userOutFields;if(!k||!k.length)return null;if(k.includes("*"))return["*"];if(!this.fields)return k;for(const F of k)this.fieldsIndex.has(F)||N.error("field-attributes-layer:invalid-field",`Invalid field ${F} found in outFields`,{layer:this,outFields:k});return(0,B.Q0)(this.fieldsIndex,k)}}}}},85:(qe,Me,E)=>{"use strict";E.d(Me,{v:()=>D});const D=new(E(2076).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},36630:(qe,Me,E)=>{"use strict";E.d(Me,{io:()=>W,vl:()=>ce,ZV:()=>ye,AB:()=>P,gd:()=>T,Ll:()=>se,Mu:()=>Ve,Qj:()=>ge,R9:()=>Yt,Q0:()=>L,YN:()=>Y,UF:()=>re,O5:()=>oe,CH:()=>Te,os:()=>je,H7:()=>Mt,qN:()=>Gt,Pz:()=>pn,Lk:()=>j,Qc:()=>An,vP:()=>Ht});var N,ze,M=E(15861),D=E(26584),Q=E(62208),B=E(94113);(ze=N||(N={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",ze.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var I=E(46679);const x=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],$=["field","normalizationField"];function Y(ze,ht){if(null!=ze&&null!=ht)for(const we of Array.isArray(ze)?ze:[ze])if(Z(x,we,ht),"visualVariables"in we&&we.visualVariables)for(const Xe of we.visualVariables)Z($,Xe,ht)}function Z(ze,ht,we){if(ze)for(const Xe of ze){const Dt=(0,B.hS)(Xe,ht),kt=Dt&&"function"!=typeof Dt&&we.get(Dt);kt&&(0,B.RB)(Xe,kt.name,ht)}}function re(ze,ht){if(null!=ze&&null!=ht&&ht.fields.length)if("startField"in ze){const we=ht.get(ze.startField),Xe=ht.get(ze.endField);ze.startField=we&&we.name||null,ze.endField=Xe&&Xe.name||null}else{const we=ht.get(ze.startTimeField),Xe=ht.get(ze.endTimeField);ze.startTimeField=we&&we.name||null,ze.endTimeField=Xe&&Xe.name||null}}const X=new Set;function L(ze,ht){return ze&&ht?(X.clear(),T(X,ze,ht),Array.from(X).sort()):[]}function T(ze,ht,we){var Xe;if(we)if(null!=ht&&null!=(Xe=ht.fields)&&Xe.length)if(we.includes("*"))for(const{name:Dt}of ht.fields)ze.add(Dt);else for(const Dt of we)P(ze,ht,Dt);else{if(we.includes("*"))return ze.clear(),void ze.add("*");for(const Dt of we)ze.add(Dt)}}function P(ze,ht,we){if("string"==typeof we)if(ht){const Xe=ht.get(we);Xe&&ze.add(Xe.name)}else ze.add(we)}function j(ze,ht){return(0,Q.Wi)(ht)||(0,Q.Wi)(ze)?[]:ht.includes("*")?ze.fields.map(we=>we.name):ht}function W(ze,ht,we){return te.apply(this,arguments)}function te(){return te=(0,M.Z)(function*(ze,ht,we){var Xe;if(!we)return;const{arcadeUtils:Dt}=yield(0,I.LC)(),kt=Dt.extractFieldNames(we,null==ht||null==(Xe=ht.fields)?void 0:Xe.map(on=>on.name));for(const on of kt)P(ze,ht,on)}),te.apply(this,arguments)}function J(ze,ht,we){return he.apply(this,arguments)}function he(){return he=(0,M.Z)(function*(ze,ht,we){if(we&&"1=1"!==we){const Xe=(yield E.e(410).then(E.bind(E,10410))).WhereClause.create(we,ht);if(!Xe.isStandardized)throw new D.Z("fieldUtils:collectFilterFields","Where clause is not standardized");T(ze,ht,Xe.fieldNames)}}),he.apply(this,arguments)}function oe({displayField:ze,fields:ht}){return ze||(ht&&ht.length?de(ht,"name-or-title")||de(ht,"unique-identifier")||de(ht,"type-or-category")||function me(ze){for(const ht of ze){if(!ht||!ht.name)continue;const we=ht.name.toLowerCase();if(we.indexOf("name")>-1||we.indexOf("title")>-1)return ht.name}return null}(ht):null)}function de(ze,ht){for(const we of ze)if(we&&we.valueType&&we.valueType===ht)return we.name;return null}function ce(ze,ht){return ae.apply(this,arguments)}function ae(){return ae=(0,M.Z)(function*(ze,ht){if(!ht)return;const we=(0,B.hS)("elevationInfo.featureExpressionInfo",ht);return we?we.collectRequiredFields(ze,ht.fieldsIndex):void 0}),ae.apply(this,arguments)}function pe(ze,ht,we){return ue.apply(this,arguments)}function ue(){return ue=(0,M.Z)(function*(ze,ht,we){we.outStatistic.onStatisticValueExpression?W(ze,ht,we.outStatistic.onStatisticValueExpression):ze.add(we.outStatistic.onStatisticField)}),ue.apply(this,arguments)}function ye(ze,ht,we){return le.apply(this,arguments)}function le(){return le=(0,M.Z)(function*(ze,ht,we){var Xe,Dt;if(!ht||!we||"cluster"!==we.type)return;const kt=[];if(null!=(Xe=we.popupTemplate)&&Xe.expressionInfos&&kt.push(...we.popupTemplate.expressionInfos.map(on=>W(ze,ht.fieldsIndex,on.expression))),Array.isArray(null==(Dt=we.popupTemplate)?void 0:Dt.content)){const on=we.popupTemplate.content;for(const rt of on)"expression"===rt.type&&rt.expressionInfo&&kt.push(W(ze,ht.fieldsIndex,rt.expressionInfo.expression))}we.fields&&kt.push(...we.fields.map(on=>pe(ze,ht.fieldsIndex,on))),yield Promise.all(kt)}),le.apply(this,arguments)}function se(ze,ht,we){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,M.Z)(function*(ze,ht,we){ht&&(ht.timeInfo&&(0,Q.pC)(we)&&we.timeExtent&&T(ze,ht.fieldsIndex,[ht.timeInfo.startField,ht.timeInfo.endField]),ht.floorInfo&&T(ze,ht.fieldsIndex,[ht.floorInfo.floorField]),(0,Q.pC)(we)&&(0,Q.pC)(we.where)&&(yield J(ze,ht.fieldsIndex,we.where)))}),Ce.apply(this,arguments)}function ge(ze,ht,we){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,M.Z)(function*(ze,ht,we){ht&&we&&(yield Promise.all(we.map(Xe=>Ee(ze,ht,Xe))))}),Pe.apply(this,arguments)}function Ee(ze,ht,we){return Ge.apply(this,arguments)}function Ge(){return Ge=(0,M.Z)(function*(ze,ht,we){ht&&we&&(we.valueExpression?yield W(ze,ht.fieldsIndex,we.valueExpression):we.field&&P(ze,ht.fieldsIndex,we.field))}),Ge.apply(this,arguments)}function Te(ze){if(!ze)return[];const ht="editFieldsInfo"in ze&&ze.editFieldsInfo;return ht?L(ze.fieldsIndex,[ht&&ht.creatorField,ht&&ht.creationDateField,ht&&ht.editorField,ht&&ht.editDateField]):[]}function Ve(ze,ht){return He.apply(this,arguments)}function He(){return He=(0,M.Z)(function*(ze,ht){const{labelingInfo:we,fieldsIndex:Xe}=ht;we&&we.length&&(yield Promise.all(we.map(Dt=>ee(ze,Xe,Dt))))}),He.apply(this,arguments)}function ee(ze,ht,we){return _e.apply(this,arguments)}function _e(){return _e=(0,M.Z)(function*(ze,ht,we){if(!we)return;const Xe=we.getLabelExpression(),Dt=we.where;if("arcade"===Xe.type)yield W(ze,ht,Xe.expression);else{const kt=Xe.expression.match(/{[^}]*}/g);kt&&kt.forEach(on=>{P(ze,ht,on.slice(1,-1))})}yield J(ze,ht,Dt)}),_e.apply(this,arguments)}function je(ze){const ht=ze.defaultValue;return void 0!==ht&&Ke(ze,ht)?ht:ze.nullable?null:void 0}function Ye(ze){return"number"==typeof ze&&!isNaN(ze)&&isFinite(ze)}function pt(ze){return null===ze||Ye(ze)}const it="isInteger"in Number?Number.isInteger:ze=>"number"==typeof ze&&isFinite(ze)&&Math.floor(ze)===ze;function at(ze){return null===ze||it(ze)}function ot(ze){return null!=ze&&"string"==typeof ze}function et(ze){return null===ze||ot(ze)}function _t(){return!0}function Ke(ze,ht){let we;switch(ze.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":we=ze.nullable?at:it;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":we=ze.nullable?pt:Ye;break;case"string":case"esriFieldTypeString":we=ze.nullable?et:ot;break;default:we=_t}return 1===arguments.length?we:we(ht)}const Et=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function Mt(ze){return null!=ze&&Et.has(ze.type)}function Gt(ze){return null!=ze&&("string"===ze.type||"esriFieldTypeString"===ze.type)}var cn,xn;function pn(ze){return null==ze||"number"==typeof ze&&isNaN(ze)?null:ze}function An(ze,ht){return ze.nullable&&null===ht?null:Mt(ze)&&!function Pn(ze,ht){const we="string"==typeof ze?ut(ze):ze;return!!we&&(we.isInteger?it(ht)&&ht>=we.min&&ht<=we.max:ht>=we.min&&ht<=we.max)}(ze.type,Number(ht))?cn.OUT_OF_RANGE:Ke(ze,ht)?ze.domain?function k(ze,ht){switch(ze.type){case"range":{const Xe="range"in ze?ze.range[1]:ze.maxValue;if(+ht<("range"in ze?ze.range[0]:ze.minValue)||+ht>Xe)return N.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==ze.codedValues||ze.codedValues.every(we=>null==we||we.code!==ht))return N.INVALID_CODED_VALUE}return null}(ze.domain,ht):null:xn.INVALID_TYPE}function ut(ze){switch(ze){case"esriFieldTypeSmallInteger":case"small-integer":return xt;case"esriFieldTypeInteger":case"integer":return Wt;case"esriFieldTypeSingle":case"single":return Kt;case"esriFieldTypeDouble":case"double":return At}}(function(ze){ze.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(cn||(cn={})),function(ze){ze.INVALID_TYPE="type-validation-error::invalid-type"}(xn||(xn={}));const xt={min:-32768,max:32767,isInteger:!0},Wt={min:-2147483648,max:2147483647,isInteger:!0},Kt={min:-34e37,max:12e37,isInteger:!1},At={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function Ht(ze,ht,we){switch(ze){case N.INVALID_CODED_VALUE:return`Value ${we} is not in the coded domain - field: ${ht.name}, domain: ${JSON.stringify(ht.domain)}`;case N.VALUE_OUT_OF_RANGE:return`Value ${we} is out of the range of valid values - field: ${ht.name}, domain: ${JSON.stringify(ht.domain)}`;case xn.INVALID_TYPE:return`Value ${we} is not a valid value for the field type - field: ${ht.name}, type: ${ht.type}, nullable: ${ht.nullable}`;case cn.OUT_OF_RANGE:{const{min:Xe,max:Dt}=ut(ht.type);return`Value ${we} is out of range for the number type - field: ${ht.name}, type: ${ht.type}, value range is ${Xe} to ${Dt}`}}}function Yt(ze,ht){return!function sn(ze,ht,we){if(!ht||!ht.attributes||!ze){if((0,Q.pC)(we))for(const kt of ze)we.add(kt);return!0}const Xe=ht.attributes;let Dt=!1;for(const kt of ze)if(!(kt in Xe)){if(Dt=!0,!(0,Q.pC)(we))break;we.add(kt)}return Dt}(ze,ht,null)}},86793:(qe,Me,E)=>{"use strict";E.d(Me,{dI:()=>L,hV:()=>Z,YI:()=>re,UO:()=>X,el:()=>te,z7:()=>Y});var M=E(77275);const D="__begin__",Q="__end__",B=new RegExp(D,"ig"),N=new RegExp(Q,"ig"),ne=new RegExp("^"+D,"i"),k=new RegExp(Q+"$","i");function Y(J){return J.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function Z(J){const he={expression:"",type:"none"};return J.labelExpressionInfo?J.labelExpressionInfo.value?(he.expression=J.labelExpressionInfo.value,he.type="conventional"):J.labelExpressionInfo.expression&&(he.expression=J.labelExpressionInfo.expression,he.type="arcade"):null!=J.labelExpression&&(he.expression=function $(J){return J.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(J.labelExpression),he.type="conventional"),he}function re(J){const he=Z(J);if(!he)return null;switch(he.type){case"conventional":return L(he.expression);case"arcade":return he.expression}return null}function X(J){const he=Z(J);if(!he)return null;switch(he.type){case"conventional":return function P(J){const he=J.match(T);return he&&he[1].trim()||null}(he.expression);case"arcade":return te(he.expression)}return null}function L(J){let he;return J?(he=(0,M.gx)(J,oe=>D+'$feature["'+oe+'"]'+Q),he=ne.test(he)?he.replace(ne,""):'"'+he,he=k.test(he)?he.replace(k,""):he+'"',he=he.replace(B,'" + ').replace(N,' + "')):he='""',he}const T=/^\s*\{([^}]+)\}\s*$/i,j=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,K=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,W=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function te(J){if(!J)return null;let he=j.exec(J)||K.exec(J);return he?he[1]||he[3]:(he=W.exec(J),he?he[2]:null)}},62667:(qe,Me,E)=>{"use strict";E.d(Me,{r:()=>Q});var M=E(170);const D=/\[([^\[\]]+)\]/gi;function Q(N,ne,k){return N?N.map(F=>{const I=new M.Z;if(I.read(F,k),I.labelExpression){const x=ne.fields||ne.layerDefinition&&ne.layerDefinition.fields||this.fields;I.labelExpression=I.labelExpression.replace(D,($,Y)=>`[${function B(N,ne){if(!ne)return N;const k=N.toLowerCase();for(let F=0;F<ne.length;F++){const I=ne[F].name;if(I.toLowerCase()===k)return I}return N}(Y,x)}]`)}return I}):null}},15283:(qe,Me,E)=>{"use strict";E.d(Me,{n:()=>ue});var P,M=E(17626),D=E(2076),Q=E(86810),B=E(77712),k=(E(85931),E(8314),E(66656)),F=E(55342),I=E(68653),x=E(76898),$=E(90912),Y=E(383),Z=E(36255),re=E(48370),L=(E(29132),E(65234)),T=E(71774);let j=P=class extends Q.wq{constructor(ye){super(ye),this.type="query-table"}clone(){var ye;const{workspaceId:le,query:se,oidFields:Ce,spatialReference:ge,geometryType:Pe}=this,Ee={workspaceId:le,query:se,oidFields:Ce,spatialReference:null!=(ye=null==ge?void 0:ge.clone())?ye:void 0,geometryType:Pe};return new P(Ee)}};var K;(0,M._)([(0,F.J)({queryTable:"query-table"})],j.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],j.prototype,"workspaceId",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],j.prototype,"query",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],j.prototype,"oidFields",void 0),(0,M._)([(0,B.Cb)({type:L.Z,json:{write:!0}})],j.prototype,"spatialReference",void 0),(0,M._)([(0,F.J)(T.Mk)],j.prototype,"geometryType",void 0),j=P=(0,M._)([(0,x.j)("esri.layers.support.source.QueryTableDataSource")],j);let W=K=class extends Q.wq{constructor(ye){super(ye),this.type="raster"}clone(){const{workspaceId:ye,dataSourceName:le}=this;return new K({workspaceId:ye,dataSourceName:le})}};var te;(0,M._)([(0,F.J)({raster:"raster"})],W.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],W.prototype,"dataSourceName",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],W.prototype,"workspaceId",void 0),W=K=(0,M._)([(0,x.j)("esri.layers.support.source.RasterDataSource")],W);let J=te=class extends Q.wq{constructor(ye){super(ye),this.type="table"}clone(){const{workspaceId:ye,gdbVersion:le,dataSourceName:se}=this;return new te({workspaceId:ye,gdbVersion:le,dataSourceName:se})}};var he,oe;(0,M._)([(0,F.J)({table:"table"})],J.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],J.prototype,"workspaceId",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],J.prototype,"gdbVersion",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],J.prototype,"dataSourceName",void 0),J=te=(0,M._)([(0,x.j)("esri.layers.support.source.TableDataSource")],J);const me=(0,D.w)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let de=he=class extends Q.wq{constructor(ye){super(ye),this.type="join-table"}readLeftTableSource(ye,le,se){return V()(ye,le,se)}castLeftTableSource(ye){return(0,$.N7)(ae(),ye)}readRightTableSource(ye,le,se){return V()(ye,le,se)}castRightTableSource(ye){return(0,$.N7)(ae(),ye)}clone(){var ye,le;const{leftTableKey:se,rightTableKey:Ce,leftTableSource:ge,rightTableSource:Pe,joinType:Ee}=this,Ge={leftTableKey:se,rightTableKey:Ce,leftTableSource:null!=(ye=null==ge?void 0:ge.clone())?ye:void 0,rightTableSource:null!=(le=null==Pe?void 0:Pe.clone())?le:void 0,joinType:Ee};return new he(Ge)}};(0,M._)([(0,F.J)({joinTable:"join-table"})],de.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],de.prototype,"leftTableKey",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],de.prototype,"rightTableKey",void 0),(0,M._)([(0,B.Cb)({json:{write:!0}})],de.prototype,"leftTableSource",void 0),(0,M._)([(0,I.r)("leftTableSource")],de.prototype,"readLeftTableSource",null),(0,M._)([(0,k.p)("leftTableSource")],de.prototype,"castLeftTableSource",null),(0,M._)([(0,B.Cb)({json:{write:!0}})],de.prototype,"rightTableSource",void 0),(0,M._)([(0,I.r)("rightTableSource")],de.prototype,"readRightTableSource",null),(0,M._)([(0,k.p)("rightTableSource")],de.prototype,"castRightTableSource",null),(0,M._)([(0,F.J)(me)],de.prototype,"joinType",void 0),de=he=(0,M._)([(0,x.j)("esri.layers.support.source.JoinTableDataSource")],de);let ie=null;function V(){return ie||(ie=(0,Y.d)({types:ae()})),ie}let ce=null;function ae(){return ce||(ce={key:"type",base:null,typeMap:{"data-layer":ue,"map-layer":re.R}}),ce}const pe={key:"type",base:null,typeMap:{"join-table":de,"query-table":j,raster:W,table:J}};let ue=oe=class extends Q.wq{constructor(ye){super(ye),this.type="data-layer"}clone(){const{fields:ye,dataSource:le}=this;return new oe({fields:ye,dataSource:le})}};(0,M._)([(0,F.J)({dataLayer:"data-layer"})],ue.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:[Z.Z],json:{write:!0}})],ue.prototype,"fields",void 0),(0,M._)([(0,B.Cb)({types:pe,json:{write:!0}})],ue.prototype,"dataSource",void 0),ue=oe=(0,M._)([(0,x.j)("esri.layers.support.source.DataLayerSource")],ue),ue.from=(0,$.se)(ue)},48370:(qe,Me,E)=>{"use strict";E.d(Me,{R:()=>x});var I,M=E(17626),D=E(86810),Q=E(77712),ne=(E(85931),E(8314),E(90912)),k=E(55342),F=E(76898);let x=I=class extends D.wq{constructor($){super($),this.type="map-layer"}clone(){const{mapLayerId:$,gdbVersion:Y}=this;return new I({mapLayerId:$,gdbVersion:Y})}};(0,M._)([(0,k.J)({mapLayer:"map-layer"})],x.prototype,"type",void 0),(0,M._)([(0,Q.Cb)({type:ne.z8,json:{write:!0}})],x.prototype,"mapLayerId",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],x.prototype,"gdbVersion",void 0),x=I=(0,M._)([(0,F.j)("esri.layers.support.source.MapLayerSource")],x)},5676:(qe,Me,E)=>{"use strict";E.d(Me,{D:()=>Q});var M=E(38305);const D=[];function Q(B,N){if((0,M.M8)(B.url))return!0;const{wkid:ne}=N;for(const k of D){if(B.version>=k[0])return!0;if("function"==typeof k[1]&&(k[1]=k[1]()),k[1].has(ne))return!1}return!0}D.push([10.91,()=>{const B=new Set([9709,9716,9741,9761,9766]);for(let N=9712;N<=9713;N++)B.add(N);for(let N=9748;N<=9749;N++)B.add(N);for(let N=20904;N<=20932;N++)B.add(N);for(let N=21004;N<=21032;N++)B.add(N);for(let N=21207;N<=21264;N++)B.add(N);for(let N=21307;N<=21364;N++)B.add(N);for(let N=102759;N<=102760;N++)B.add(N);for(let N=102901;N<=102960;N++)B.add(N);return B}]),D.push([10.9,()=>{const B=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let N=9356;N<=9360;N++)B.add(N);for(let N=9404;N<=9407;N++)B.add(N);for(let N=9476;N<=9482;N++)B.add(N);for(let N=9487;N<=9494;N++)B.add(N);for(let N=9697;N<=9699;N++)B.add(N);return B}]),D.push([10.81,()=>{const B=new Set([9265,9333,103598,103699]);for(let N=9248;N<=9254;N++)B.add(N);for(let N=9271;N<=9273;N++)B.add(N);for(let N=9284;N<=9285;N++)B.add(N);for(let N=21453;N<=21463;N++)B.add(N);return B}]),D.push([10.8,()=>{const B=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let N=8035;N<=8036;N++)B.add(N);for(let N=8455;N<=8456;N++)B.add(N);for(let N=8518;N<=8529;N++)B.add(N);for(let N=8533;N<=8536;N++)B.add(N);for(let N=8538;N<=8540;N++)B.add(N);for(let N=8677;N<=8679;N++)B.add(N);for(let N=8902;N<=8903;N++)B.add(N);for(let N=8907;N<=8910;N++)B.add(N);for(let N=8949;N<=8951;N++)B.add(N);for(let N=8972;N<=8987;N++)B.add(N);for(let N=9039;N<=9040;N++)B.add(N);for(let N=9068;N<=9069;N++)B.add(N);for(let N=9140;N<=9141;N++)B.add(N);for(let N=9148;N<=9150;N++)B.add(N);for(let N=9153;N<=9159;N++)B.add(N);for(let N=9205;N<=9218;N++)B.add(N);for(let N=9221;N<=9222;N++)B.add(N);for(let N=54098;N<=54101;N++)B.add(N);return B}]),D.push([10.71,()=>{const B=new Set([6316]);for(let N=8351;N<=8353;N++)B.add(N);for(let N=9294;N<=9297;N++)B.add(N);for(let N=103586;N<=103594;N++)B.add(N);for(let N=103696;N<=103698;N++)B.add(N);return B}]),D.push([10.7,()=>{const B=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let N=8065;N<=8068;N++)B.add(N);for(let N=8082;N<=8083;N++)B.add(N);for(let N=8379;N<=8385;N++)B.add(N);for(let N=8836;N<=8840;N++)B.add(N);for(let N=8857;N<=8860;N++)B.add(N);for(let N=53035;N<=53037;N++)B.add(N);for(let N=54090;N<=54091;N++)B.add(N);for(let N=102498;N<=102499;N++)B.add(N);return B}]),D.push([10.61,()=>new Set([102497])]),D.push([10.6,()=>{const B=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let N=7755;N<=7787;N++)B.add(N);for(let N=7791;N<=7795;N++)B.add(N);for(let N=7799;N<=7801;N++)B.add(N);for(let N=7825;N<=7831;N++)B.add(N);for(let N=7877;N<=7878;N++)B.add(N);for(let N=7882;N<=7883;N++)B.add(N);for(let N=7991;N<=7992;N++)B.add(N);for(let N=8042;N<=8043;N++)B.add(N);for(let N=8058;N<=8059;N++)B.add(N);for(let N=8311;N<=8348;N++)B.add(N);for(let N=9060;N<=9067;N++)B.add(N);for(let N=102562;N<=102568;N++)B.add(N);for(let N=102799;N<=102900;N++)B.add(N);return B}]),D.push([10.51,()=>{const B=new Set([7683,7881,7886,7899,8888,9e3]);for(let N=8013;N<=8032;N++)B.add(N);for(let N=9053;N<=9057;N++)B.add(N);for(let N=104017;N<=104018;N++)B.add(N);for(let N=104971;N<=104974;N++)B.add(N);return B}]),D.push([10.5,()=>{const B=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let N=4087;N<=4088;N++)B.add(N);for(let N=5896;N<=5899;N++)B.add(N);for(let N=7005;N<=7007;N++)B.add(N);for(let N=7057;N<=7070;N++)B.add(N);for(let N=7073;N<=7082;N++)B.add(N);for(let N=7109;N<=7128;N++)B.add(N);for(let N=7844;N<=7859;N++)B.add(N);return B}])},39605:(qe,Me,E)=>{"use strict";E.d(Me,{W:()=>Q,v:()=>B});var M=E(50645);const D={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(N,ne,k)=>{"-"===ne.charAt(0)?N.style.setProperty(ne,k):N.style[ne]=k}};let Q=N=>(0,M.l7)(D,N),B={create:(N,ne)=>(ne=Q(ne),(0,M.WV)(N,document.createElement("div"),void 0,ne),(0,M.UQ)(N,ne)),append:(N,ne,k)=>(k=Q(k),(0,M.WV)(ne,N,void 0,k),(0,M.UQ)(ne,k)),insertBefore:(N,ne,k)=>(k=Q(k),(0,M.WV)(ne,N.parentNode,N,k),(0,M.UQ)(ne,k)),merge:(N,ne,k)=>(k=Q(k),ne.domNode=N,(0,M.Yj)(N,ne,k),(0,M.UQ)(ne,k)),replace:(N,ne,k)=>(k=Q(k),(0,M.WV)(ne,N.parentNode,N,k),N.parentNode.removeChild(N),(0,M.UQ)(ne,k))}},50645:(qe,Me,E)=>{"use strict";E.d(Me,{WV:()=>te,UQ:()=>me,l7:()=>k,Yj:()=>W});var M=E(38570);const D="http://www.w3.org/",Q=`${D}2000/svg`,B=`${D}1999/xlink`;let N,ne=[],k=(de,ie)=>{let V={};return Object.keys(de).forEach(ce=>{V[ce]=de[ce]}),ie&&Object.keys(ie).forEach(ce=>{V[ce]=ie[ce]}),V},F=(de,ie)=>de.vnodeSelector===ie.vnodeSelector&&(de.properties&&ie.properties?de.properties.key===ie.properties.key&&de.properties.bind===ie.properties.bind:!de.properties&&!ie.properties),I=de=>{if("string"!=typeof de)throw new Error("Style values must be strings")},x=(de,ie,V)=>{if(""!==ie.vnodeSelector)for(let ce=V;ce<de.length;ce++)if(F(de[ce],ie))return ce;return-1},$=(de,ie,V,ce)=>{let ae=de[ie];if(""===ae.vnodeSelector)return;let pe=ae.properties;if(!(pe?void 0===pe.key?pe.bind:pe.key:void 0))for(let ue=0;ue<de.length;ue++)if(ue!==ie&&F(de[ue],ae))throw new Error(`${V.vnodeSelector} had a ${ae.vnodeSelector} child ${"added"===ce?ce:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},Y=de=>{if(de.properties){let ie=de.properties.enterAnimation;ie&&ie(de.domNode,de.properties)}},Z=[],re=!1,X=de=>{(de.children||[]).forEach(X),de.properties&&de.properties.afterRemoved&&de.properties.afterRemoved.apply(de.properties.bind||de.properties,[de.domNode])},L=()=>{re=!1,Z.forEach(X),Z.length=0},T=de=>{Z.push(de),re||(re=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(L,{timeout:16}):setTimeout(L,16))},P=de=>{let ie=de.domNode;if(de.properties){let V=de.properties.exitAnimation;if(V)return ie.style.pointerEvents="none",void V(ie,()=>{ie.parentNode&&(ie.parentNode.removeChild(ie),T(de))},de.properties)}ie.parentNode&&(ie.parentNode.removeChild(ie),T(de))},j=(de,ie,V)=>{if(!ie)return;let ce=V.eventHandlerInterceptor,ae=Object.keys(ie),pe=ae.length;for(let ue=0;ue<pe;ue++){let ye=ae[ue],le=ie[ye];if("className"===ye)throw new Error('Property "className" is not supported, use "class".');if("class"===ye)J(de,le,!0);else if("classes"===ye){let se=Object.keys(le),Ce=se.length;for(let ge=0;ge<Ce;ge++){let Pe=se[ge];le[Pe]&&de.classList.add(Pe)}}else if("styles"===ye){let se=Object.keys(le),Ce=se.length;for(let ge=0;ge<Ce;ge++){let Pe=se[ge],Ee=le[Pe];Ee&&(I(Ee),V.styleApplyer(de,Pe,Ee))}}else if("key"!==ye&&null!=le){let se=typeof le;"function"===se?(0===ye.lastIndexOf("on",0)&&(ce&&(le=ce(ye,le,de,ie)),"oninput"===ye&&function(){let Ce=le;le=function(ge){Ce.apply(this,[ge]),ge.target["oninput-value"]=ge.target.value}}()),de[ye]=le):V.namespace===Q?"href"===ye?de.setAttributeNS(B,ye,le):de.setAttribute(ye,le):"string"===se&&"value"!==ye?"innerHTML"===ye?de[ye]=M.w3.sanitize(le):de.setAttribute(ye,le):de[ye]=le}}},W=(de,ie,V)=>{((de,ie,V)=>{if(ie)for(let ce of ie)te(ce,de,void 0,V)})(de,ie.children,V),ie.text&&(de.textContent=ie.text),j(de,ie.properties,V),ie.properties&&ie.properties.afterCreate&&ie.properties.afterCreate.apply(ie.properties.bind||ie.properties,[de,V,ie.vnodeSelector,ie.properties,ie.children])},te=(de,ie,V,ce)=>{let ae,pe=0,ue=de.vnodeSelector,ye=ie.ownerDocument;if(""===ue)ae=de.domNode=ye.createTextNode(de.text),void 0!==V?ie.insertBefore(ae,V):ie.appendChild(ae);else{for(let le=0;le<=ue.length;++le){let se=ue.charAt(le);if(le===ue.length||"."===se||"#"===se){let Ce=ue.charAt(pe-1),ge=ue.slice(pe,le);"."===Ce?ae.classList.add(ge):"#"===Ce?ae.id=ge:("svg"===ge&&(ce=k(ce,{namespace:Q})),void 0!==ce.namespace?ae=de.domNode=ye.createElementNS(ce.namespace,ge):(ae=de.domNode=de.domNode||ye.createElement(ge),"input"===ge&&de.properties&&void 0!==de.properties.type&&ae.setAttribute("type",de.properties.type)),void 0!==V?ie.insertBefore(ae,V):ae.parentNode!==ie&&ie.appendChild(ae)),pe=le+1}}W(ae,de,ce)}},J=(de,ie,V)=>{ie&&ie.split(" ").forEach(ce=>{ce&&de.classList.toggle(ce,V)})};N=(de,ie,V)=>{let ce=de.domNode,ae=!1;if(de===ie)return!1;let pe=!1;if(""===ie.vnodeSelector){if(ie.text!==de.text){let ue=ce.ownerDocument.createTextNode(ie.text);return ce.parentNode.replaceChild(ue,ce),ie.domNode=ue,ae=!0,ae}ie.domNode=ce}else 0===ie.vnodeSelector.lastIndexOf("svg",0)&&(V=k(V,{namespace:Q})),de.text!==ie.text&&(pe=!0,void 0===ie.text?ce.removeChild(ce.firstChild):ce.textContent=ie.text),ie.domNode=ce,pe=((de,ie,V,ce,ae)=>{if(V===ce)return!1;let pe,ue=(V=V||ne).length,ye=(ce=ce||ne).length,le=0,se=0,Ce=!1;for(;se<ye;){let ge=le<ue?V[le]:void 0,Pe=ce[se];if(void 0!==ge&&F(ge,Pe))Ce=N(ge,Pe,ae)||Ce,le++;else{let Ee=x(V,Pe,le+1);if(Ee>=0){for(pe=le;pe<Ee;pe++)P(V[pe]),$(V,pe,de,"removed");Ce=N(V[Ee],Pe,ae)||Ce,le=Ee+1}else te(Pe,ie,le<ue?V[le].domNode:void 0,ae),Y(Pe),$(ce,se,de,"added")}se++}if(ue>le)for(pe=le;pe<ue;pe++)P(V[pe]),$(V,pe,de,"removed");return Ce})(ie,ce,de.children,ie.children,V)||pe,pe=((de,ie,V,ce)=>{if(!V)return;let ae=!1,pe=Object.keys(V),ue=pe.length;for(let ye=0;ye<ue;ye++){let le=pe[ye],se=V[le],Ce=ie[le];if("class"===le)Ce!==se&&(J(de,Ce,!1),J(de,se,!0));else if("classes"===le){let ge=de.classList,Pe=Object.keys(se),Ee=Pe.length;for(let Ge=0;Ge<Ee;Ge++){let Se=Pe[Ge],ve=!!se[Se];ve!==!!Ce[Se]&&(ae=!0,ve?ge.add(Se):ge.remove(Se))}}else if("styles"===le){let ge=Object.keys(se),Pe=ge.length;for(let Ee=0;Ee<Pe;Ee++){let Ge=ge[Ee],Se=se[Ge];Se!==Ce[Ge]&&(ae=!0,Se?(I(Se),ce.styleApplyer(de,Ge,Se)):ce.styleApplyer(de,Ge,""))}}else if(se||"string"!=typeof Ce||(se=""),"value"===le){let ge=de[le];ge!==se&&(de["oninput-value"]?ge===de["oninput-value"]:se!==Ce)&&(de[le]=se,de["oninput-value"]=void 0),se!==Ce&&(ae=!0)}else if(se!==Ce){let ge=typeof se;"function"===ge&&ce.eventHandlerInterceptor||(ce.namespace===Q?"href"===le?de.setAttributeNS(B,le,se):de.setAttribute(le,se):"string"===ge?"innerHTML"===le?de[le]=M.w3.sanitize(se):"role"===le&&""===se?de.removeAttribute(le):de.setAttribute(le,se):de[le]!==se&&(de[le]=se),ae=!0)}}return ae})(ce,de.properties,ie.properties,V)||pe,ie.properties&&ie.properties.afterUpdate&&ie.properties.afterUpdate.apply(ie.properties.bind||ie.properties,[ce,V,ie.vnodeSelector,ie.properties,ie.children]);return pe&&ie.properties&&ie.properties.updateAnimation&&ie.properties.updateAnimation(ce,ie.properties,de.properties),ae};let me=(de,ie)=>({getLastRender:()=>de,update:V=>{if(de.vnodeSelector!==V.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let ce=de;de=V,N(ce,V,ie)},domNode:de.domNode})},62996:(qe,Me,E)=>{"use strict";E.d(Me,{E:()=>ne});var M=E(39605);let D,Q=(k,F)=>{let I=[];for(;k&&k!==F;)I.push(k),k=k.parentNode;return I};D=Array.prototype.find?(k,F)=>k.find(F):(k,F)=>k.filter(F)[0];let B=(k,F)=>{let I=k;return F.forEach(x=>{I=I&&I.children?D(I.children,$=>$.domNode===x):void 0}),I},N=(k,F,I)=>{let x=function($){I("domEvent",$);let Y=F(),Z=Q($.currentTarget,Y.domNode);Z.reverse();let re,X=B(Y.getLastRender(),Z);return k.scheduleRender(),X&&(re=X.properties[`on${$.type}`].apply(X.properties.bind||this,arguments)),I("domEventProcessed",$),re};return($,Y,Z,re)=>x},ne=k=>{let F,I,x=(0,M.W)(k),$=x.performanceLogger,Y=!0,Z=!1,re=[],X=[],L=(P,j,K)=>{let W;x.eventHandlerInterceptor=N(F,()=>W,$),W=P(j,K(),x),re.push(W),X.push(K)},T=()=>{if(I=void 0,Y){Y=!1,$("renderStart",void 0);for(let P=0;P<re.length;P++){let j=X[P]();$("rendered",void 0),re[P].update(j),$("patched",void 0)}$("renderDone",void 0),Y=!0}};return F={renderNow:T,scheduleRender:()=>{I||Z||(I=requestAnimationFrame(T))},stop:()=>{I&&(cancelAnimationFrame(I),I=void 0),Z=!0},resume:()=>{Z=!1,Y=!0,F.scheduleRender()},append:(P,j)=>{L(M.v.append,P,j)},insertBefore:(P,j)=>{L(M.v.insertBefore,P,j)},merge:(P,j)=>{L(M.v.merge,P,j)},replace:(P,j)=>{L(M.v.replace,P,j)},detach:P=>{for(let j=0;j<X.length;j++)if(X[j]===P)return X.splice(j,1),re.splice(j,1)[0];throw new Error("renderFunction was not found")}},F}},38159:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let I=F=class extends D.wq{constructor($){super($),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new F({title:this.title,expression:this.expression})}};(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],I.prototype,"title",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],I.prototype,"expression",void 0),(0,M._)([(0,Q.Cb)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],I.prototype,"returnType",void 0),I=F=(0,M._)([(0,k.j)("esri.popup.ElementExpressionInfo")],I);const x=I},38439:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let I=F=class extends D.wq{constructor($){super($),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new F({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],I.prototype,"name",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],I.prototype,"title",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],I.prototype,"expression",void 0),(0,M._)([(0,Q.Cb)({type:["string","number"],json:{write:!0}})],I.prototype,"returnType",void 0),I=F=(0,M._)([(0,k.j)("esri.popup.ExpressionInfo")],I);const x=I},25621:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),D=E(2076),Q=E(86810),B=E(58817),N=E(77712),k=(E(90912),E(55342)),F=E(76898),I=E(66845);let $=x=class extends Q.wq{constructor(Z){super(Z),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new x({fieldName:this.fieldName,format:this.format?(0,B.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],$.prototype,"fieldName",void 0),(0,M._)([(0,N.Cb)({type:I.Z,json:{write:!0}})],$.prototype,"format",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0,default:!1}})],$.prototype,"isEditable",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],$.prototype,"label",void 0),(0,M._)([(0,k.J)(new D.X({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],$.prototype,"stringFieldOption",void 0),(0,M._)([(0,N.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],$.prototype,"statisticType",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],$.prototype,"tooltip",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"visible",void 0),$=x=(0,M._)([(0,F.j)("esri.popup.FieldInfo")],$);const Y=$},55664:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(55013);let I=F=class extends k.Z{constructor($){super($),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new F({description:this.description,displayType:this.displayType,title:this.title})}};(0,M._)([(0,D.Cb)({type:String,json:{write:!0}})],I.prototype,"description",void 0),(0,M._)([(0,D.Cb)({type:["auto","preview","list"],json:{write:!0}})],I.prototype,"displayType",void 0),(0,M._)([(0,D.Cb)({type:String,json:{write:!0}})],I.prototype,"title",void 0),(0,M._)([(0,D.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],I.prototype,"type",void 0),I=F=(0,M._)([(0,ne.j)("esri.popup.content.AttachmentsContent")],I);const x=I},89594:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(85812),F=E(82657);let x=I=class extends k.Z{constructor(Y){super(Y),this.type="bar-chart"}clone(){return new I({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,M._)([(0,D.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:F.l.write}})],x.prototype,"type",void 0),x=I=(0,M._)([(0,ne.j)("esri.popup.content.BarChartMediaInfo")],x);const $=x},81590:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(85812),F=E(82657);let x=I=class extends k.Z{constructor(Y){super(Y),this.type="column-chart"}clone(){return new I({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,M._)([(0,D.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:F.l.write}})],x.prototype,"type",void 0),x=I=(0,M._)([(0,ne.j)("esri.popup.content.ColumnChartMediaInfo")],x);const $=x},55013:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let F=class extends D.wq{constructor(x){super(x),this.type=null}};(0,M._)([(0,Q.Cb)({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=(0,M._)([(0,k.j)("esri.popup.content.Content")],F);const I=F},16615:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var k,M=E(17626),D=E(58817),Q=E(77712),N=(E(90912),E(76898)),ne=E(55013);let F=k=class extends ne.Z{constructor(x){super(x),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new k({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,D.d9)(this.outFields):null})}};(0,M._)([(0,Q.Cb)()],F.prototype,"creator",void 0),(0,M._)([(0,Q.Cb)()],F.prototype,"destroyer",void 0),(0,M._)([(0,Q.Cb)()],F.prototype,"outFields",void 0),(0,M._)([(0,Q.Cb)({type:["custom"],readOnly:!0})],F.prototype,"type",void 0),F=k=(0,M._)([(0,N.j)("esri.popup.content.CustomContent")],F);const I=F},82561:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(38159),F=E(55013);let x=I=class extends F.Z{constructor(Y){super(Y),this.expressionInfo=null,this.type="expression"}clone(){var Y;return new I({expressionInfo:null==(Y=this.expressionInfo)?void 0:Y.clone()})}};(0,M._)([(0,D.Cb)({type:k.Z,json:{write:!0}})],x.prototype,"expressionInfo",void 0),(0,M._)([(0,D.Cb)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=I=(0,M._)([(0,ne.j)("esri.popup.content.ExpressionContent")],x);const $=x},75484:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(58817),Q=E(77712),N=(E(90912),E(76898)),ne=E(99433),k=E(25621),F=E(55013);let x=I=class extends F.Z{constructor(Y){super(Y),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(Y,Z){Z.fieldInfos=Y&&Y.map(re=>re.toJSON())}clone(){return new I((0,D.d9)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,M._)([(0,Q.Cb)({type:Object,json:{write:!0}})],x.prototype,"attributes",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,M._)([(0,Q.Cb)({type:[k.Z]})],x.prototype,"fieldInfos",void 0),(0,M._)([(0,ne.c)("fieldInfos")],x.prototype,"writeFieldInfos",null),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],x.prototype,"title",void 0),(0,M._)([(0,Q.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=I=(0,M._)([(0,N.j)("esri.popup.content.FieldsContent")],x);const $=x},49455:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>re});var I,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(78297),F=E(86810);let x=I=class extends F.wq{constructor(X){super(X),this.linkURL=null,this.sourceURL=null}clone(){return new I({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,M._)([(0,D.Cb)({type:String,json:{write:!0}})],x.prototype,"linkURL",void 0),(0,M._)([(0,D.Cb)({type:String,json:{write:!0}})],x.prototype,"sourceURL",void 0),x=I=(0,M._)([(0,ne.j)("esri.popup.content.support.ImageMediaInfoValue")],x);const $=x;var Y;let Z=Y=class extends k.Z{constructor(X){super(X),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new Y({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,M._)([(0,D.Cb)({type:Number,json:{write:!0}})],Z.prototype,"refreshInterval",void 0),(0,M._)([(0,D.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Z.prototype,"type",void 0),(0,M._)([(0,D.Cb)({type:$,json:{write:!0}})],Z.prototype,"value",void 0),Z=Y=(0,M._)([(0,ne.j)("esri.popup.content.ImageMediaInfo")],Z);const re=Z},71981:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(85812),F=E(82657);let x=I=class extends k.Z{constructor(Y){super(Y),this.type="line-chart"}clone(){return new I({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,M._)([(0,D.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:F.l.write}})],x.prototype,"type",void 0),x=I=(0,M._)([(0,ne.j)("esri.popup.content.LineChartMediaInfo")],x);const $=x},64531:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var X,M=E(17626),D=E(58817),Q=E(77712),N=(E(90912),E(68653)),ne=E(76898),k=E(99433),F=E(89594),I=E(81590),x=E(55013),$=E(49455),Y=E(71981),Z=E(52023),re=E(65560);let L=X=class extends x.Z{constructor(P){super(P),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(P){return P&&P.map(j=>"image"===j.type?$.Z.fromJSON(j):"barchart"===j.type?F.Z.fromJSON(j):"columnchart"===j.type?I.Z.fromJSON(j):"linechart"===j.type?Y.Z.fromJSON(j):"piechart"===j.type?Z.Z.fromJSON(j):void 0).filter(Boolean)}writeMediaInfos(P,j){j.mediaInfos=P&&P.map(K=>K.toJSON())}clone(){return new X((0,D.d9)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,M._)([(0,Q.Cb)()],L.prototype,"activeMediaInfoIndex",void 0),(0,M._)([(0,Q.Cb)({type:Object,json:{write:!0}})],L.prototype,"attributes",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],L.prototype,"description",void 0),(0,M._)([(0,Q.Cb)({types:[re.V]})],L.prototype,"mediaInfos",void 0),(0,M._)([(0,N.r)("mediaInfos")],L.prototype,"readMediaInfos",null),(0,M._)([(0,k.c)("mediaInfos")],L.prototype,"writeMediaInfos",null),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],L.prototype,"title",void 0),(0,M._)([(0,Q.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=X=(0,M._)([(0,ne.j)("esri.popup.content.MediaContent")],L);const T=L},52023:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(85812),F=E(82657);let x=I=class extends k.Z{constructor(Y){super(Y),this.type="pie-chart"}clone(){return new I({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,M._)([(0,D.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:F.l.write}})],x.prototype,"type",void 0),x=I=(0,M._)([(0,ne.j)("esri.popup.content.PieChartMediaInfo")],x);const $=x},501:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(55013);let I=F=class extends k.Z{constructor($){super($),this.text=null,this.type="text"}clone(){return new F({text:this.text})}};(0,M._)([(0,D.Cb)({type:String,json:{write:!0}})],I.prototype,"text",void 0),(0,M._)([(0,D.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],I.prototype,"type",void 0),I=F=(0,M._)([(0,ne.j)("esri.popup.content.TextContent")],I);const x=I},85812:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var $,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(78297),F=E(86810),I=E(58817),x=E(77891);let Y=$=class extends F.wq{constructor(L){super(L),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new $({fields:(0,I.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,M._)([(0,D.Cb)({type:[String],json:{write:!0}})],Y.prototype,"fields",void 0),(0,M._)([(0,D.Cb)({type:String,json:{write:!0}})],Y.prototype,"normalizeField",void 0),(0,M._)([(0,D.Cb)({type:[x.Z],json:{read:!1}})],Y.prototype,"series",void 0),(0,M._)([(0,D.Cb)({type:String,json:{write:!0}})],Y.prototype,"tooltipField",void 0),Y=$=(0,M._)([(0,ne.j)("esri.popup.content.support.ChartMediaInfoValue")],Y);const Z=Y;let re=class extends k.Z{constructor(L){super(L),this.type=null,this.value=null}};(0,M._)([(0,D.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],re.prototype,"type",void 0),(0,M._)([(0,D.Cb)({type:Z,json:{write:!0}})],re.prototype,"value",void 0),re=(0,M._)([(0,ne.j)("esri.popup.content.mixins.ChartMediaInfo")],re);const X=re},78297:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let F=class extends D.wq{constructor(x){super(x),this.altText=null,this.caption="",this.title="",this.type=null}};(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],F.prototype,"altText",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],F.prototype,"caption",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],F.prototype,"title",void 0),(0,M._)([(0,Q.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=(0,M._)([(0,k.j)("esri.popup.content.mixins.MediaInfo")],F);const I=F},77891:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(14517),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let I=F=class extends D.Z{constructor($){super($),this.tooltip=null,this.value=null}clone(){return new F({tooltip:this.tooltip,value:this.value})}};(0,M._)([(0,Q.Cb)()],I.prototype,"tooltip",void 0),(0,M._)([(0,Q.Cb)()],I.prototype,"value",void 0),I=F=(0,M._)([(0,k.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],I);const x=I},82657:(qe,Me,E)=>{"use strict";E.d(Me,{l:()=>D});const D=(0,E(2076).w)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},65560:(qe,Me,E)=>{"use strict";E.d(Me,{V:()=>k});var M=E(89594),D=E(81590),Q=E(49455),B=E(71981),N=E(52023);const k={base:E(78297).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":M.Z,"column-chart":D.Z,"line-chart":B.Z,"pie-chart":N.Z,image:Q.Z}}},66845:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var M=E(17626);const B=(0,E(2076).w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});B.toJSON.bind(B),B.fromJSON.bind(B);var T,F=E(86810),I=E(77712),Y=(E(85931),E(8314),E(90912)),Z=E(55342),re=E(76898),X=E(88411),L=E(15348);let P=T=class extends F.wq{constructor(K){super(K),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new T({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(K){return this.dateFormat?(0,X.p6)(K,Pt(Pt({},(0,X.Ze)(this.dateFormat)),this.dateTimeFormatOptions)):(0,L.uf)(K,(0,L.sh)(this))}};(0,M._)([(0,Z.J)(B)],P.prototype,"dateFormat",void 0),(0,M._)([(0,I.Cb)({type:Object,json:{read:!1}})],P.prototype,"dateTimeFormatOptions",void 0),(0,M._)([(0,I.Cb)({type:Boolean,json:{write:!0}})],P.prototype,"digitSeparator",void 0),(0,M._)([(0,I.Cb)({type:Y.z8,json:{write:!0}})],P.prototype,"places",void 0),P=T=(0,M._)([(0,re.j)("esri.popup.support.FieldInfoFormat")],P);const j=P},51686:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let I=F=class extends D.wq{constructor($){super($),this.field=null,this.order=null}clone(){return new F({field:this.field,order:this.order})}};(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],I.prototype,"field",void 0),(0,M._)([(0,Q.Cb)({type:["asc","desc"],json:{write:!0}})],I.prototype,"order",void 0),I=F=(0,M._)([(0,k.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],I);const x=I},84687:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ae});var M=E(15861),D=E(17626),Q=E(59318),B=E(24263),N=E(84792),ne=E(55538),k=E(26584),F=E(86810),I=E(47996),x=E(63290),$=E(62208),Y=E(10699),Z=E(77712),L=(E(85931),E(8314),E(90912)),T=E(68653),P=E(76898),j=E(2004),K=E(56683),W=E(6278),te=E(14517);let J=class extends te.Z{constructor(pe){super(pe),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,D._)([(0,Z.Cb)()],J.prototype,"nextQueryParams",void 0),(0,D._)([(0,Z.Cb)()],J.prototype,"queryParams",void 0),(0,D._)([(0,Z.Cb)()],J.prototype,"results",void 0),(0,D._)([(0,Z.Cb)()],J.prototype,"total",void 0),J=(0,D._)([(0,P.j)("esri.portal.PortalQueryResult")],J);const he=J;var de,oe=E(94508),me=E(12680);let ie;const V={PortalGroup:()=>Promise.resolve().then(E.bind(E,96245)),PortalItem:()=>Promise.resolve().then(E.bind(E,55463)),PortalUser:()=>Promise.resolve().then(E.bind(E,94508))};let ce=de=class extends((0,F.eC)(I.Z)){constructor(pe){super(pe),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Q.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(pe){return"string"==typeof pe?{url:pe}:pe}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(pe){if(pe)for(const ue of pe)-1===Q.Z.request.trustedServers.indexOf(ue)&&Q.Z.request.trustedServers.push(ue);return pe}readDefaultBasemap(pe){return this._readBasemap(pe)}readDefaultDevBasemap(pe){return this._readBasemap(pe)}readDefaultVectorBasemap(pe){return this._readBasemap(pe)}get extraQuery(){return this.id&&this.user&&this.user.orgId&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let pe=this.url;if(pe){const ue=pe.indexOf("/sharing");pe=ue>0?pe.substring(0,ue):this.url.replace(/\/+$/,""),pe+="/sharing/rest"}return pe}get stylesGroupQuery(){return(0,ne.Mr)(x.Z.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const pe=this.restUrl,ue=this.thumbnail;return pe&&ue?this._normalizeSSL(pe+"/portals/self/resources/"+ue):null}readUrlKey(pe){return pe&&pe.toLowerCase()}readUser(pe){let ue=null;return pe&&(ue=oe.default.fromJSON(pe),ue.portal=this),ue}load(pe){const ue=Promise.resolve().then(E.bind(E,73386)).then(({default:ye})=>{(0,Y.k_)(pe),ie=ye}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,pe)).then(ye=>{if(B.id){const le=B.id;this.credential=le.findCredential(this.restUrl),this.credential||this.authMode!==de.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=le.on("credential-create",()=>{le.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=ye,this.read(ye)});return this.addResolvingPromise(ue),Promise.resolve(this)}createClosestFacilityTask(){var pe=this;return(0,M.Z)(function*(){(0,ne.XV)(x.Z.getLogger(pe.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),yield pe.load();const ue=pe._getHelperServiceUrl("closestFacility");return new((yield Promise.all([E.e(308),E.e(6359)]).then(E.bind(E,36359))).default)(ue)})()}createElevationLayers(){var pe=this;return(0,M.Z)(function*(){yield pe.load();const ue=pe._getHelperService("defaultElevationLayers"),ye=(yield Promise.all([E.e(8592),E.e(5227)]).then(E.bind(E,25227))).default;return ue?ue.map(le=>new ye({id:le.id,url:le.url})):[]})()}createGeometryService(){var pe=this;return(0,M.Z)(function*(){(0,ne.XV)(x.Z.getLogger(pe.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),yield pe.load();const ue=pe._getHelperServiceUrl("geometry");return new((yield Promise.all([E.e(8592),E.e(649)]).then(E.bind(E,40649))).default)({url:ue})})()}createPrintTask(){var pe=this;return(0,M.Z)(function*(){(0,ne.XV)(x.Z.getLogger(pe.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),yield pe.load();const ue=pe._getHelperServiceUrl("printTask");return new((yield E.e(3436).then(E.bind(E,33436))).default)(ue)})()}createRouteTask(){var pe=this;return(0,M.Z)(function*(){(0,ne.XV)(x.Z.getLogger(pe.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),yield pe.load();const ue=pe._getHelperServiceUrl("route");return new((yield Promise.all([E.e(308),E.e(8592),E.e(9387)]).then(E.bind(E,19387))).default)(ue)})()}createServiceAreaTask(){var pe=this;return(0,M.Z)(function*(){(0,ne.XV)(x.Z.getLogger(pe.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),yield pe.load();const ue=pe._getHelperServiceUrl("serviceArea");return new((yield E.e(5349).then(E.bind(E,65349))).default)(ue)})()}fetchBasemaps(pe,ue){const ye=new W.Z;return ye.query=pe||(Q.Z.apiKey&&(0,me.r)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),ye.disableExtraQuery=!0,this.queryGroups(ye,ue).then(le=>{if(ye.num=100,ye.query='type:"Web Map" -type:"Web Application"',le.total){const se=le.results[0];return ye.sortField=se.sortField||"name",ye.sortOrder=se.sortOrder||"desc",se.queryItems(ye,ue)}return null}).then(le=>{let se;return se=le&&le.total?le.results.filter(Ce=>"Web Map"===Ce.type).map(Ce=>new ie({portalItem:Ce})):[],se})}fetchCategorySchema(pe){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",pe).then(ue=>ue.categorySchema):(0,Y.Hc)(pe)?Promise.reject((0,Y.zE)()):Promise.resolve([])}fetchFeaturedGroups(pe){const ue=this.featuredGroups,ye=new W.Z;if(ye.num=100,ye.sortField="title",ue&&ue.length){const le=[];for(const se of ue)le.push(`(title:"${se.title}" AND owner:${se.owner})`);return ye.query=le.join(" OR "),this.queryGroups(ye,pe).then(se=>se.results)}return(0,Y.Hc)(pe)?Promise.reject((0,Y.zE)()):Promise.resolve([])}fetchRegions(pe){var ue;const ye=(null==(ue=this.user)?void 0:ue.culture)||this.culture||(0,K.Kd)();return this._request(this.restUrl+"/portals/regions",$n(Pt({},pe),{query:{culture:ye}}))}fetchSettings(pe){var ue;const ye=(null==(ue=this.user)?void 0:ue.culture)||this.culture||(0,K.Kd)();return this._request(this.restUrl+"/portals/self/settings",$n(Pt({},pe),{query:{culture:ye}}))}static getDefault(){return de._default&&!de._default.destroyed||(de._default=new de),de._default}queryGroups(pe,ue){return this._queryPortal("/community/groups",pe,"PortalGroup",ue)}queryItems(pe,ue){return this._queryPortal("/search",pe,"PortalItem",ue)}queryUsers(pe,ue){return pe.sortField||(pe.sortField="username"),this._queryPortal("/community/users",pe,"PortalUser",ue)}toJSON(){throw new k.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(pe){if(!pe)return null;if(pe.declaredClass)throw new Error("JSON object is already hydrated");return new de({sourceJSON:pe})}_getHelperService(pe){const ue=this.helperServices&&this.helperServices[pe];if(!ue)throw new k.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${pe}"`);return ue}_getHelperServiceUrl(pe){const ue=this._getHelperService(pe);if(!ue.url)throw new k.Z("portal:service-url-not-found",`The \`helperServices\` entry "${pe}" does not include a \`url\` value`);return ue.url}_fetchSelf(pe=this.authMode,ue=!1,ye){const le=this.restUrl+"/portals/self",se=Pt({authMode:pe,query:{culture:(0,K.Kd)().toLowerCase()}},ye);return"auto"===se.authMode&&(se.authMode="no-prompt"),ue&&(se.query.default=!0),this._request(le,se)}_queryPortal(pe,ue,ye,le){const se=(0,L.se)(W.Z,ue),Ce=ge=>this._request(this.restUrl+pe,Pt(Pt({},se.toRequestOptions(this)),le)).then(Pe=>{const Ee=se.clone();return Ee.start=Pe.nextStart,new he({nextQueryParams:Ee,queryParams:se,total:Pe.total,results:de._resultsToTypedArray(ge,{portal:this},Pe,le)})}).then(Pe=>Promise.all(Pe.results.map(Ee=>"function"==typeof Ee.when?Ee.when():Pe)).then(()=>Pe,Ee=>((0,Y.r9)(Ee),Pe)));return ye&&V[ye]?V[ye]().then(({default:ge})=>((0,Y.k_)(le),Ce(ge))):Ce()}_signIn(){if(this.authMode===de.AUTH_MODE_ANONYMOUS)return Promise.reject(new k.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const pe=ue=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(ue||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=ue,this._fetchSelf("immediate"))):this.user&&this.credential===ue?null:(this.credential=ue,this._fetchSelf("immediate"))).then(ye=>{ye&&(this.sourceJSON=ye,this.read(ye))});return B.id?B.id.getCredential(this.restUrl).then(ue=>pe(ue)):pe(this.credential)}_normalizeSSL(pe){return pe.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(pe){const ue=this.credential&&this.credential.token;return this._normalizeSSL(ue?pe+(pe.indexOf("?")>-1?"&":"?")+"token="+ue:pe)}_requestToTypedArray(pe,ue,ye){return this._request(pe,ue).then(le=>{const se=de._resultsToTypedArray(ye,{portal:this},le);return Promise.all(se.map(Ce=>"function"==typeof Ce.when?Ce.when():le)).then(()=>se,()=>se)})}_readBasemap(pe){if(pe){const ue=ie.fromJSON(pe);return ue.portalItem={portal:this},ue}return null}_request(pe,ue={}){const ye=Pt({f:"json"},ue.query),{authMode:le=(this.authMode===de.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:se=null,cacheBust:Ce=!1,method:ge="auto",responseType:Pe="json",signal:Ee}=ue,Ge={authMode:le,body:se,cacheBust:Ce,method:ge,query:ye,responseType:Pe,timeout:0,signal:Ee};return(0,N.default)(this._normalizeSSL(pe),Ge).then(Se=>Se.data)}static _resultsToTypedArray(pe,ue,ye,le){let se;if(ye){const Ce=(0,$.pC)(le)?le.signal:null;se=ye.listings||ye.notifications||ye.userInvitations||ye.tags||ye.items||ye.groups||ye.comments||ye.provisions||ye.results||ye.relatedItems||ye,(pe||ue)&&(se=se.map(ge=>{const Pe=Object.assign(pe?pe.fromJSON(ge):ge,ue);return"function"==typeof Pe.load&&Pe.load(Ce),Pe}))}else se=[];return se}};ce.AUTH_MODE_ANONYMOUS="anonymous",ce.AUTH_MODE_AUTO="auto",ce.AUTH_MODE_IMMEDIATE="immediate",(0,D._)([(0,Z.Cb)()],ce.prototype,"access",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"allSSL",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"authMode",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"authorizedCrossOriginDomains",void 0),(0,D._)([(0,T.r)("authorizedCrossOriginDomains")],ce.prototype,"readAuthorizedCrossOriginDomains",null),(0,D._)([(0,Z.Cb)()],ce.prototype,"basemapGalleryGroupQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"bingKey",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"canListApps",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"canListData",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"canListPreProvisionedItems",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"canProvisionDirectPurchase",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"canSearchPublic",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"canShareBingPublic",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"canSharePublic",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"canSignInArcGIS",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"canSignInIDP",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"colorSetsGroupQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"commentsEnabled",void 0),(0,D._)([(0,Z.Cb)({type:Date})],ce.prototype,"created",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"credential",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"culture",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"currentVersion",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"customBaseUrl",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"defaultBasemap",void 0),(0,D._)([(0,T.r)("defaultBasemap")],ce.prototype,"readDefaultBasemap",null),(0,D._)([(0,Z.Cb)()],ce.prototype,"defaultDevBasemap",void 0),(0,D._)([(0,T.r)("defaultDevBasemap")],ce.prototype,"readDefaultDevBasemap",null),(0,D._)([(0,Z.Cb)({type:j.Z})],ce.prototype,"defaultExtent",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"defaultVectorBasemap",void 0),(0,D._)([(0,T.r)("defaultVectorBasemap")],ce.prototype,"readDefaultVectorBasemap",null),(0,D._)([(0,Z.Cb)()],ce.prototype,"description",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"devBasemapGalleryGroupQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"eueiEnabled",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],ce.prototype,"extraQuery",null),(0,D._)([(0,Z.Cb)()],ce.prototype,"featuredGroups",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"featuredItemsGroupQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"galleryTemplatesGroupQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"livingAtlasGroupQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"hasCategorySchema",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"helpBase",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"helperServices",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"helpMap",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"homePageFeaturedContent",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"homePageFeaturedContentCount",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"httpPort",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"httpsPort",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"id",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"ipCntryCode",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],ce.prototype,"isOrganization",null),(0,D._)([(0,Z.Cb)()],ce.prototype,"isPortal",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"isReadOnly",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"layerTemplatesGroupQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"maxTokenExpirationMinutes",void 0),(0,D._)([(0,Z.Cb)({type:Date})],ce.prototype,"modified",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"name",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"portalHostname",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"portalMode",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"portalProperties",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"region",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],ce.prototype,"restUrl",null),(0,D._)([(0,Z.Cb)()],ce.prototype,"rotatorPanels",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"showHomePageDescription",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"sourceJSON",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"staticImagesUrl",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0,json:{read:!1}})],ce.prototype,"stylesGroupQuery",null),(0,D._)([(0,Z.Cb)({json:{name:"2DStylesGroupQuery"}})],ce.prototype,"stylesGroupQuery2d",void 0),(0,D._)([(0,Z.Cb)({json:{name:"stylesGroupQuery"}})],ce.prototype,"stylesGroupQuery3d",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"supportsHostedServices",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"symbolSetsGroupQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"templatesGroupQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"thumbnail",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],ce.prototype,"thumbnailUrl",null),(0,D._)([(0,Z.Cb)()],ce.prototype,"units",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"url",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"urlKey",void 0),(0,D._)([(0,T.r)("urlKey")],ce.prototype,"readUrlKey",null),(0,D._)([(0,Z.Cb)()],ce.prototype,"user",void 0),(0,D._)([(0,T.r)("user")],ce.prototype,"readUser",null),(0,D._)([(0,Z.Cb)()],ce.prototype,"useStandardizedQuery",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"useVectorBasemaps",void 0),(0,D._)([(0,Z.Cb)()],ce.prototype,"vectorBasemapGalleryGroupQuery",void 0),ce=de=(0,D._)([(0,P.j)("esri.portal.Portal")],ce);const ae=ce},96245:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>$});var M=E(17626),D=E(26584),Q=E(86810),B=E(77712),k=(E(85931),E(8314),E(90912)),F=E(76898),I=E(6278);let x=class extends Q.wq{constructor(Y){super(Y),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const Y=this.url,Z=this.thumbnail;return Y&&Z?this.portal._normalizeUrl(`${Y}/info/${Z}?f=json`):null}get url(){const Y=this.get("portal.restUrl");return Y?Y+"/community/groups/"+this.id:null}fetchCategorySchema(Y){return this.portal._request(this.url+"/categorySchema",Y).then(Z=>{const re=Z.categorySchema||[];return re.some(X=>"contentCategorySetsGroupQuery.LivingAtlas"===X.source)?this._fetchCategorySchemaSet("LivingAtlas",Y):re})}fetchMembers(Y){return this.portal._request(this.url+"/users",Y)}getThumbnailUrl(Y){let Z=this.thumbnailUrl;return Z&&Y&&(Z+=`&w=${Y}`),Z}toJSON(){throw new D.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(Y,Z){let re=(0,k.se)(I.Z,Y);return parseFloat(this.portal.currentVersion)>5?(re=re||new I.Z,this.portal._queryPortal(`/content/groups/${this.id}/search`,re,"PortalItem",Z)):(re=re?re.clone():new I.Z,re.query="group:"+this.id+(re.query?" "+re.query:""),this.portal.queryItems(re,Z))}_fetchCategorySchemaSet(Y,Z){return this.portal._fetchSelf(this.portal.authMode,!0,Z).then(re=>{const X=re.contentCategorySetsGroupQuery;if(X){const L=new I.Z;return L.disableExtraQuery=!0,L.num=1,L.query=X,this.portal.queryGroups(L,Z)}throw new D.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(re=>{if(re.total){const X=re.results[0],L=new I.Z;return L.num=1,L.query=`typekeywords:"${Y}"`,X.queryItems(L,Z)}throw new D.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(re=>re.total?re.results[0].fetchData("json",Z).then(X=>{const L=X&&X.categorySchema;return L&&L.length?L:[]}):[])}};(0,M._)([(0,B.Cb)()],x.prototype,"access",void 0),(0,M._)([(0,B.Cb)({type:Date})],x.prototype,"created",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"description",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"id",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"isInvitationOnly",void 0),(0,M._)([(0,B.Cb)({type:Date})],x.prototype,"modified",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"owner",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"portal",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"snippet",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"sortField",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"sortOrder",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"tags",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"thumbnail",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],x.prototype,"thumbnailUrl",null),(0,M._)([(0,B.Cb)()],x.prototype,"title",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],x.prototype,"url",null),x=(0,M._)([(0,F.j)("esri.portal.PortalGroup")],x);const $=x},55463:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>ie});var M=E(15861),D=E(17626),Q=E(54346),B=E(26584),N=E(86810),ne=E(58817),k=E(47996),F=E(62208),I=E(21726),x=E(77712),$=E(90912),Y=E(68653),Z=E(76898),re=E(2004),X=E(84687),L=E(14517),T=E(63290),K=(E(85931),E(8314),E(66656));const W=T.Z.getLogger("esri.portal.PortalItemResource");let te=class extends L.Z{constructor(V){super(V),this.portalItem=null}normalizeCtorArgs(V){return V&&V.portalItem&&V.path?$n(Pt({},V),{path:this._normalizePath(V.path,V.portalItem)}):V}set path(V){(0,F.pC)(V)&&(0,I.YP)(V)?W.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",V)}_castPath(V){return this._normalizePath(V,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(V="json",ce){const ae=this.url;if((0,F.Wi)(ae))throw new B.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(ae,{responseType:V,query:{token:this.portalItem.apiKey},signal:(0,F.U2)(ce,"signal")})}update(V,ce){var ae=this;return(0,M.Z)(function*(){return(yield E.e(587).then(E.bind(E,10587))).addOrUpdateResource(ae,"update",V,ce)})()}hasPath(){return(0,F.pC)(this.path)}_normalizePath(V,ce){return(0,F.Wi)(V)?V:(V=V.replace(/^\/+/,""),(0,F.pC)(ce)&&(0,I.YP)(V)&&(V=(0,I.PF)(V,ce.itemUrl)),V.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,D._)([(0,x.Cb)()],te.prototype,"portalItem",void 0),(0,D._)([(0,x.Cb)({type:String,value:null})],te.prototype,"path",null),(0,D._)([(0,K.p)("path")],te.prototype,"_castPath",null),(0,D._)([(0,x.Cb)({type:String,readOnly:!0})],te.prototype,"url",null),(0,D._)([(0,x.Cb)({type:String,readOnly:!0})],te.prototype,"itemRelativeUrl",null),te=(0,D._)([(0,Z.j)("esri.portal.PortalItemResource")],te);const J=te;let he=class extends L.Z{constructor(V){super(V),this.created=null,this.rating=null}};(0,D._)([(0,x.Cb)()],he.prototype,"created",void 0),(0,D._)([(0,x.Cb)()],he.prototype,"rating",void 0),he=(0,D._)([(0,Z.j)("esri.portal.PortalRating")],he);const oe=he;var me;let de=me=class extends((0,N.eC)(k.Z)){constructor(V){super(V),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(V){return(0,$.TJ)(me,V)}destroy(){this.portal=null}get displayName(){const V=this.type,ce=this.typeKeywords||[];let ae=V;return"Feature Service"===V||"Feature Collection"===V?ae=ce.indexOf("Table")>-1?"Table":ce.indexOf("Route Layer")>-1?"Route Layer":ce.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===V?ae=ce.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":ce.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===V?ae="Scene Layer":"Media Service"===V?ae="Media Layer":"Scene Package"===V?ae="Scene Layer Package":"Stream Service"===V?ae="Feature Layer":"Geoprocessing Service"===V&&this.portal&&this.portal.isPortal?ae=ce.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===V?ae="Locator":"Geoenrichment Service"===V?ae="GeoEnrichment Service":"Microsoft Powerpoint"===V?ae="Microsoft PowerPoint":"GeoJson"===V?ae="GeoJSON":"Globe Service"===V?ae="Globe Layer":"Vector Tile Service"===V?ae="Tile Layer":"netCDF"===V?ae="NetCDF":"Map Service"===V?ae=-1===ce.indexOf("Spatiotemporal")&&(ce.indexOf("Hosted Service")>-1||ce.indexOf("Tiled")>-1)&&-1===ce.indexOf("Relational")?"Tile Layer":"Map Image Layer":V&&V.toLowerCase().indexOf("add in")>-1?ae=V.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===V?ae="Big Data File Share":"Compact Tile Package"===V?ae="Tile Package (tpkx)":"OGCFeatureServer"===V?ae="OGC Feature Layer":"web mapping application"===V&&ce.indexOf("configurableApp")>-1&&(ae="Instant App"),ae}readExtent(V){return V&&V.length?new re.Z(V[0][0],V[0][1],V[1][0],V[1][1]):null}get iconUrl(){const V=this.type&&this.type.toLowerCase()||"",ce=this.typeKeywords||[];let ue,ye=!1,le=!1,se=!1,Ce=!1,ge=!1,Pe=!1;return V.indexOf("service")>0||"feature collection"===V||"kml"===V||"wms"===V||"wmts"===V||"wfs"===V?(ye=ce.indexOf("Hosted Service")>-1,"feature service"===V||"feature collection"===V||"kml"===V||"wfs"===V?(le=ce.indexOf("Table")>-1,se=ce.indexOf("Route Layer")>-1,Ce=ce.indexOf("Markup")>-1,ge=-1!==ce.indexOf("Spatiotemporal"),Pe=-1!==ce.indexOf("UtilityNetwork"),ue=ge&&le?"spatiotemporaltable":le?"table":se?"routelayer":Ce?"markup":ge?"spatiotemporal":ye?"featureshosted":Pe?"utilitynetwork":"features"):ue="map service"===V||"wms"===V||"wmts"===V?ye||ce.indexOf("Tiled")>-1||"wmts"===V?"maptiles":"mapimages":"scene service"===V?ce.indexOf("Line")>-1?"sceneweblayerline":ce.indexOf("3DObject")>-1?"sceneweblayermultipatch":ce.indexOf("Point")>-1?"sceneweblayerpoint":ce.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":ce.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":ce.indexOf("Polygon")>-1?"sceneweblayerpolygon":ce.indexOf("Building")>-1?"sceneweblayerbuilding":ce.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===V?ce.indexOf("Elevation 3D Layer")>-1?"elevationlayer":ce.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===V?"streamlayer":"media service"===V?"mediaservice":"vector tile service"===V?"vectortile":"datastore catalog service"===V?"datastorecollection":"geocoding service"===V?"geocodeservice":"geoprocessing service"===V&&ce.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):ue="web map"===V||"cityengine web scene"===V?"maps":"web scene"===V?ce.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===V&&ce.indexOf("configurableApp")>-1?"instantapps":"web mapping application"===V||"mobile application"===V||"application"===V||"operation view"===V||"desktop application"===V?"apps":"map document"===V||"map package"===V||"published map"===V||"scene document"===V||"globe document"===V||"basemap package"===V||"mobile basemap package"===V||"mobile map package"===V||"project package"===V||"project template"===V||"pro map"===V||"layout"===V||"layer"===V&&ce.indexOf("ArcGIS Pro")>-1||"explorer map"===V&&ce.indexOf("Explorer Document")?"mapsgray":"service definition"===V||"csv"===V||"shapefile"===V||"cad drawing"===V||"geojson"===V||"360 vr experience"===V||"netcdf"===V||"administrative report"===V?"datafiles":"explorer add in"===V||"desktop add in"===V||"windows viewer add in"===V||"windows viewer configuration"===V?"appsgray":"arcgis pro add in"===V||"arcgis pro configuration"===V?"addindesktop":"rule package"===V||"file geodatabase"===V||"sqlite geodatabase"===V||"csv collection"===V||"kml collection"===V||"windows mobile package"===V||"map template"===V||"desktop application template"===V||"gml"===V||"arcpad package"===V||"code sample"===V||"form"===V||"document link"===V||"earth configuration"===V||"operations dashboard add in"===V||"rules package"===V||"image"===V||"workflow manager package"===V||"explorer map"===V&&ce.indexOf("Explorer Mapping Application")>-1||ce.indexOf("Document")>-1?"datafilesgray":"network analysis service"===V||"geoprocessing service"===V||"geodata service"===V||"geometry service"===V||"geoprocessing package"===V||"locator package"===V||"geoprocessing sample"===V||"workflow manager service"===V?"toolsgray":"layer"===V||"layer package"===V||"explorer layer"===V?"layersgray":"scene package"===V?"scenepackage":"mobile scene package"===V?"mobilescenepackage":"tile package"===V||"compact tile package"===V?"tilepackage":"task file"===V?"taskfile":"report template"===V?"report-template":"statistical data collection"===V?"statisticaldatacollection":"insights workbook"===V?"workbook":"insights model"===V?"insightsmodel":"insights page"===V?"insightspage":"insights theme"===V?"insightstheme":"hub initiative"===V?"hubinitiative":"hubpage"===V?"hubpage":"hub event"===V?"hubevent":"hub site application"===V?"hubsite":"hub project"===V?"hubproject":"relational database connection"===V?"relationaldatabaseconnection":"big data file share"===V?"datastorecollection":"image collection"===V?"imagecollection":"style"===V?"style":"desktop style"===V?"desktopstyle":"dashboard"===V?"dashboard":"raster function template"===V?"rasterprocessingtemplate":"vector tile package"===V?"vectortilepackage":"ortho mapping project"===V?"orthomappingproject":"ortho mapping template"===V?"orthomappingtemplate":"solution"===V?"solutions":"geopackage"===V?"geopackage":"deep learning package"===V?"deeplearningpackage":"real time analytic"===V?"realtimeanalytics":"big data analytic"===V?"bigdataanalytics":"feed"===V?"feed":"excalibur imagery project"===V?"excaliburimageryproject":"notebook"===V?"notebook":"storymap"===V?"storymap":"survey123 add in"===V?"survey123addin":"mission"===V?"mission":"mission report"===V?"missionreport":"quickcapture project"===V?"quickcaptureproject":"pro report"===V?"proreport":"urban model"===V?"urbanmodel":"web experience"===V?"experiencebuilder":"web experience template"===V?"webexperiencetemplate":"experience builder widget"===V?"experiencebuilderwidget":"experience builder widget package"===V?"experiencebuilderwidgetpackage":"workflow"===V?"workflow":"insights script"===V?"insightsscript":"kernel gateway connection"===V?"kernelgatewayconnection":"hub initiative template"===V?"hubinitiativetemplate":"storymap theme"===V?"storymaptheme":"knowledge graph"===V?"knowledgegraph":"native application"===V?"nativeapp":"native application installer"===V?"nativeappinstaller":"link chart"===V?"linkchart":"investigation"===V?"investigation":"ogcfeatureserver"===V?"features":"pro project"===V?"proproject":"insights workbook package"===V?"insightsworkbookpackage":"apache parquet"===V?"apacheparquet":"maps",ue?(0,Q.V)("esri/images/portal/"+ue+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const V=this.get("portal.restUrl");return V?V+"/content/items/"+this.id:null}get thumbnailUrl(){const V=this.itemUrl,ce=this.thumbnail;return V&&ce?this.portal._normalizeUrl(`${V}/info/${ce}?f=json`):null}get userItemUrl(){const V=this.get("portal.restUrl");if(!V)return null;const ce=this.owner||this.get("portal.user.username");return ce?`${V}/content/users/${this.ownerFolder?`${ce}/${this.ownerFolder}`:ce}/items/${this.id}`:null}load(V){this.portal||(this.portal=X.Z.getDefault());const ce=this.portal.load(V).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:(0,F.pC)(V)?V.signal:null,query:{token:this.apiKey}}):{}).then(ae=>{this.sourceJSON=ae,this.read(ae)});return this.addResolvingPromise(ce),Promise.resolve(this)}addRating(V){const ce={method:"post",query:{}};return V instanceof oe&&(V=V.rating),isNaN(V)||"number"!=typeof V||(ce.query.rating=V),this.portal._request(this.itemUrl+"/addRating",ce).then(()=>new oe({rating:V,created:new Date}))}clone(){const V={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,ne.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,ne.d9)(this.categories),created:(0,ne.d9)(this.created),culture:this.culture,description:this.description,extent:(0,ne.d9)(this.extent),groupCategories:(0,ne.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,ne.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,ne.d9)(this.screenshots),size:this.size,snippet:this.snippet,tags:(0,ne.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,ne.d9)(this.typeKeywords),url:this.url};return this.loaded&&(V.loadStatus="loaded"),new me({sourceJSON:this.sourceJSON}).set(V)}createPostQuery(){const V=this.toJSON();for(const ce in V)"tags"===ce&&null!==V[ce]&&(V[ce]=V[ce].join(", ")),"typeKeywords"===ce&&null!==V[ce]&&(V[ce]=V[ce].join(", ")),"extent"===ce&&V[ce]&&(V[ce]=JSON.stringify(V[ce]));return V}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(V="json",ce){return this.portal._request(this.itemUrl+"/data",$n(Pt({responseType:V},ce),{query:{token:this.apiKey}}))}fetchRating(V){return this.portal._request(this.itemUrl+"/rating",Pt({query:{token:this.apiKey}},V)).then(ce=>null!=ce.rating?(ce.created=new Date(ce.created),new oe(ce)):null)}fetchRelatedItems(V,ce){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",Pt({query:$n(Pt({},V),{token:this.apiKey})},ce),me)}getThumbnailUrl(V){let ce=this.thumbnailUrl;return ce&&V&&(ce+=`&w=${V}`),ce}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(V=>(this.sourceJSON=V,this.read(V),this))}update(V){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const ce=V&&V.data,ae={method:"post"};ae.query=this.createPostQuery();for(const pe in ae.query)null===ae.query[pe]&&(ae.query[pe]="");return ae.query.clearEmptyFields=!0,null!=ce&&("string"==typeof ce?ae.query.text=ce:"object"==typeof ce&&(ae.query.text=JSON.stringify(ce))),this.portal._request(`${this.userItemUrl}/update`,ae).then(()=>this.reload())}):Promise.reject(new B.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(V){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const ce=V.thumbnail,ae=V.filename,pe={method:"post"};if("string"==typeof ce)pe.query=(0,I.HK)(ce)?{data:ce}:{url:(0,I.hF)(ce)},(0,F.pC)(ae)&&(pe.query.filename=ae);else{const ue=new FormData;(0,F.pC)(ae)?ue.append("file",ce,ae):ue.append("file",ce),pe.body=ue}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,pe).then(()=>this.reload())}):Promise.reject(new B.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(V={},ce){var ae=this;return(0,M.Z)(function*(){return(yield E.e(587).then(E.bind(E,10587))).fetchResources(ae,V,ce)})()}addResource(V,ce,ae){var pe=this;return(0,M.Z)(function*(){const ue=yield E.e(587).then(E.bind(E,10587));return V.portalItem=pe,ue.addOrUpdateResource(V,"add",ce,ae)})()}removeResource(V,ce){var ae=this;return(0,M.Z)(function*(){const pe=yield E.e(587).then(E.bind(E,10587));if(V.portalItem&&V.portalItem.itemUrl!==ae.itemUrl)throw new B.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return pe.removeResource(ae,V,ce)})()}removeAllResources(V){var ce=this;return(0,M.Z)(function*(){return(yield E.e(587).then(E.bind(E,10587))).removeAllResources(ce,V)})()}resourceFromPath(V){return new J({portalItem:this,path:V})}toJSON(){const V=this.extent,ce={created:this.created&&this.created.getTime(),description:this.description,extent:V&&[[V.xmin,V.ymin],[V.xmax,V.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return(0,ne.yd)(ce)}static fromJSON(V){if(!V)return null;if(V.declaredClass)throw new Error("JSON object is already hydrated");return new me({sourceJSON:V})}_getPostQuery(){const V=this.toJSON();for(const ce in V)"tags"===ce&&null!==V[ce]&&(V[ce]=V[ce].join(", ")),"typeKeywords"===ce&&null!==V[ce]&&(V[ce]=V[ce].join(", ")),"extent"===ce&&V[ce]&&(V[ce]=JSON.stringify(V[ce]));return V}};(0,D._)([(0,x.Cb)({type:["private","shared","org","public"]})],de.prototype,"access",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"accessInformation",void 0),(0,D._)([(0,x.Cb)({type:String})],de.prototype,"apiKey",void 0),(0,D._)([(0,x.Cb)({json:{read:{source:"appProxies"}}})],de.prototype,"applicationProxies",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"avgRating",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"categories",void 0),(0,D._)([(0,x.Cb)({type:Date})],de.prototype,"created",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"culture",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"description",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],de.prototype,"displayName",null),(0,D._)([(0,x.Cb)({type:re.Z})],de.prototype,"extent",void 0),(0,D._)([(0,Y.r)("extent")],de.prototype,"readExtent",null),(0,D._)([(0,x.Cb)()],de.prototype,"groupCategories",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],de.prototype,"iconUrl",null),(0,D._)([(0,x.Cb)()],de.prototype,"id",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],de.prototype,"isLayer",null),(0,D._)([(0,x.Cb)()],de.prototype,"itemControl",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],de.prototype,"itemUrl",null),(0,D._)([(0,x.Cb)()],de.prototype,"licenseInfo",void 0),(0,D._)([(0,x.Cb)({type:Date})],de.prototype,"modified",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"name",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"numComments",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"numRatings",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"numViews",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"owner",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"ownerFolder",void 0),(0,D._)([(0,x.Cb)({type:X.Z})],de.prototype,"portal",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"screenshots",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"size",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"snippet",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"sourceJSON",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"tags",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"thumbnail",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],de.prototype,"thumbnailUrl",null),(0,D._)([(0,x.Cb)()],de.prototype,"title",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"type",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"typeKeywords",void 0),(0,D._)([(0,x.Cb)()],de.prototype,"url",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],de.prototype,"userItemUrl",null),de=me=(0,D._)([(0,Z.j)("esri.portal.PortalItem")],de);const ie=de},6278:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var Y,M=E(17626),D=E(14517),Q=E(2076),B=E(58817),N=E(62208),ne=E(77712),F=(E(90912),E(76898)),I=E(2004),x=E(65234),$=E(46367);const Z=new Q.X({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let re=Y=class extends D.Z{constructor(L){super(L),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(L){"asc"!==L&&"desc"!==L||this._set("sortOrder",L)}clone(){return new Y({categories:this.categories?(0,B.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(L,T){let P,j;if(this.categories&&(P=this.categories.map(te=>Array.isArray(te)?JSON.stringify(te):te)),this.extent){const te=(0,$.iV)(this.extent,x.Z.WGS84);(0,N.pC)(te)&&(j=`${te.xmin},${te.ymin},${te.xmax},${te.ymax}`)}let K=this.query;!this.disableExtraQuery&&L.extraQuery&&(K="("+K+")"+L.extraQuery);const W={categories:P,bbox:j,q:K,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(W.sortField=this.sortField.split(",").map(te=>Z.toJSON(te.trim())).join(","),W.sortOrder=this.sortOrder),{query:Pt(Pt({},T),W)}}};(0,M._)([(0,ne.Cb)()],re.prototype,"categories",void 0),(0,M._)([(0,ne.Cb)()],re.prototype,"disableExtraQuery",void 0),(0,M._)([(0,ne.Cb)({type:I.Z})],re.prototype,"extent",void 0),(0,M._)([(0,ne.Cb)()],re.prototype,"filter",void 0),(0,M._)([(0,ne.Cb)()],re.prototype,"num",void 0),(0,M._)([(0,ne.Cb)()],re.prototype,"query",void 0),(0,M._)([(0,ne.Cb)()],re.prototype,"sortField",void 0),(0,M._)([(0,ne.Cb)()],re.prototype,"sortOrder",null),(0,M._)([(0,ne.Cb)()],re.prototype,"start",void 0),re=Y=(0,M._)([(0,F.j)("esri.portal.PortalQueryParams")],re);const X=re},94508:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>re});var M=E(17626),D=E(26584),Q=E(86810),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898));let I=class extends Q.wq{constructor(X){super(X),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const X=this.get("portal.restUrl");return X?`${X}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new D.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,M._)([(0,B.Cb)({type:Date})],I.prototype,"created",void 0),(0,M._)([(0,B.Cb)()],I.prototype,"id",void 0),(0,M._)([(0,B.Cb)()],I.prototype,"portal",void 0),(0,M._)([(0,B.Cb)()],I.prototype,"title",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],I.prototype,"url",null),(0,M._)([(0,B.Cb)()],I.prototype,"username",void 0),I=(0,M._)([(0,F.j)("esri.portal.PortalFolder")],I);const x=I;var Y,$=E(96245);let Z=Y=class extends Q.wq{constructor(...X){super(...X),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const X=this.url,L=this.thumbnail;return X&&L?this.portal._normalizeUrl(`${X}/info/${L}?f=json`):null}get userContentUrl(){const X=this.get("portal.restUrl");return X?`${X}/content/users/${this.username}`:null}get url(){const X=this.get("portal.restUrl");return X?`${X}/community/users/${this.username}`:null}addItem(X){const L=X&&X.item,T=X&&X.data,P=X&&X.folder,j={method:"post"};L&&(j.query=L.createPostQuery(),null!=T&&("string"==typeof T?j.query.text=T:"object"==typeof T&&(j.query.text=JSON.stringify(T))));let K=this.userContentUrl;return P&&(K+="/"+("string"==typeof P?P:P.id)),this.portal._request(K+"/addItem",j).then(W=>(L.id=W.id,L.portal=this.portal,L.loaded?L.reload():L.load()))}deleteItem(X){let L=this.userContentUrl;return X.ownerFolder&&(L+="/"+X.ownerFolder),this.portal._request(L+`/items/${X.id}/delete`,{method:"post"}).then(()=>{X.id=null,X.portal=null})}deleteItems(X){const L=this.userContentUrl+"/deleteItems",T=X.map(P=>P.id);if(T.length){const P={method:"post",query:{items:T.join(",")}};return this.portal._request(L,P).then(()=>{X.forEach(j=>{j.id=null,j.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(L=>{let T;return T=L&&L.folders?L.folders.map(P=>{const j=x.fromJSON(P);return j.portal=this.portal,j}):[],T})}fetchGroups(){return this.portal._request(this.url).then(X=>{let L;return L=X&&X.groups?X.groups.map(T=>{const P=$.default.fromJSON(T);return P.portal=this.portal,P}):[],L})}fetchItems(X){X||(X={});let L,T=this.userContentUrl;return X.folder&&(T+="/"+X.folder.id),Promise.resolve().then(E.bind(E,55463)).then(({default:P})=>(L=P,this.portal._request(T,{query:{folders:!1,num:X.num||10,start:X.start||1,sortField:X.sortField||"created",sortOrder:X.sortOrder||"asc"}}))).then(P=>{let j;return P&&P.items?(j=P.items.map(K=>{const W=L.fromJSON(K);return W.portal=this.portal,W}),Promise.all(j.map(K=>K.load())).catch(K=>K).then(()=>({items:j,nextStart:P.nextStart,total:P.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(X=>X.tags)}getThumbnailUrl(X){let L=this.thumbnailUrl;return L&&X&&(L+=`&w=${X}`),L}queryFavorites(X){return this.favGroupId?(this._favGroup||(this._favGroup=new $.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(X)):Promise.reject(new D.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new D.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(X){if(!X)return null;if(X.declaredClass)throw new Error("JSON object is already hydrated");const L=new Y;return L.sourceJSON=X,L.read(X),L}};(0,M._)([(0,B.Cb)()],Z.prototype,"access",void 0),(0,M._)([(0,B.Cb)({type:Date})],Z.prototype,"created",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"culture",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"description",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"email",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"favGroupId",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"fullName",void 0),(0,M._)([(0,B.Cb)({type:Date})],Z.prototype,"modified",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"orgId",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"portal",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"preferredView",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"privileges",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"region",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"role",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"roleId",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"sourceJSON",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"thumbnail",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],Z.prototype,"thumbnailUrl",null),(0,M._)([(0,B.Cb)()],Z.prototype,"units",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],Z.prototype,"userContentUrl",null),(0,M._)([(0,B.Cb)({readOnly:!0})],Z.prototype,"url",null),(0,M._)([(0,B.Cb)()],Z.prototype,"username",void 0),(0,M._)([(0,B.Cb)()],Z.prototype,"userType",void 0),Z=Y=(0,M._)([(0,F.j)("esri.portal.PortalUser")],Z);const re=Z},58926:(qe,Me,E)=>{"use strict";E.d(Me,{v:()=>D});const D=(0,E(2076).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},4832:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ce});var te,M=E(15861),D=E(17626),Q=E(65787),B=E(2076),N=E(58817),ne=E(63290),k=E(62208),F=E(77712),I=E(66656),x=E(55342),$=E(68653),Y=E(76898),Z=E(99433),re=E(90912),X=E(36630),L=E(69357),T=E(2432),P=E(74400),j=E(76457),K=E(10914),W=E(46679);const J=ne.Z.getLogger("esri.renderers.ClassBreaksRenderer"),oe="percent-of-total",me="field",de=new B.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:oe,esriNormalizeByField:me}),ie=(0,re.se)(P.Z);let V=te=class extends((0,T.W)(L.Z)){constructor(ae){super(ae),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(ae,pe,ue){if(!Array.isArray(ae))return;let ye=pe.minValue;return ae.map(le=>{const se=new P.Z;return se.read(le,ue),null==se.minValue&&(se.minValue=ye),null==se.maxValue&&(se.maxValue=se.minValue),ye=se.maxValue,se})}writeClassBreakInfos(ae,pe,ue,ye){const le=ae.map(se=>se.write({},ye));this._areClassBreaksConsecutive()&&le.forEach(se=>delete se.classMinValue),pe[ue]=le}castField(ae){return null==ae?ae:"function"==typeof ae?(J.error(".field: field must be a string value"),null):(0,re.Zs)(ae)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let ae=this._get("normalizationType");const pe=!!this.normalizationField,ue=null!=this.normalizationTotal;return pe||ue?(ae=(pe?me:ue&&oe)||null,pe&&ue&&J.warn("warning: both normalizationField and normalizationTotal are set!")):ae!==me&&ae!==oe||(ae=null),ae}set normalizationType(ae){this._set("normalizationType",ae)}addClassBreakInfo(ae,pe,ue){let ye=null;ye="number"==typeof ae?new P.Z({minValue:ae,maxValue:pe,symbol:(0,Q.se)(ue)}):ie((0,N.d9)(ae)),this.classBreakInfos.push(ye),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(ae,pe){const ue=this.classBreakInfos.length;for(let ye=0;ye<ue;ye++){const le=[this.classBreakInfos[ye].minValue,this.classBreakInfos[ye].maxValue];if(le[0]===ae&&le[1]===pe){this.classBreakInfos.splice(ye,1);break}}}getBreakIndex(ae,pe){return this.valueExpression&&((0,k.Wi)(pe)||(0,k.Wi)(pe.arcade))&&J.warn(""),this.valueExpression?this._getBreakIndexForExpression(ae,pe):this._getBreakIndexForField(ae)}getClassBreakInfo(ae,pe){var ue=this;return(0,M.Z)(function*(){let ye=pe;ue.valueExpression&&((0,k.Wi)(pe)||(0,k.Wi)(pe.arcade))&&(ye=$n(Pt({},ye),{arcade:yield(0,W.LC)()}));const le=ue.getBreakIndex(ae,ye);return-1!==le?ue.classBreakInfos[le]:null})()}getSymbol(ae,pe){if(this.valueExpression&&((0,k.Wi)(pe)||(0,k.Wi)(pe.arcade)))return void J.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const ue=this.getBreakIndex(ae,pe);return ue>-1?this.classBreakInfos[ue].symbol:this.defaultSymbol}getSymbolAsync(ae,pe){var ue=this;return(0,M.Z)(function*(){let ye=pe;if(ue.valueExpression&&((0,k.Wi)(pe)||(0,k.Wi)(pe.arcade))){const se=yield(0,W.LC)(),{arcadeUtils:Ce}=se;Ce.hasGeometryOperations(ue.valueExpression)&&(yield Ce.enableGeometryOperations()),ye=$n(Pt({},ye),{arcade:se})}const le=ue.getBreakIndex(ae,ye);return le>-1?ue.classBreakInfos[le].symbol:ue.defaultSymbol})()}getSymbols(){const ae=[];return this.classBreakInfos.forEach(pe=>{pe.symbol&&ae.push(pe.symbol)}),this.defaultSymbol&&ae.push(this.defaultSymbol),ae}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ae,pe)=>ae+pe.getAttributeHash(),"")}getMeshHash(){const ae=JSON.stringify(this.backgroundFillSymbol),pe=JSON.stringify(this.defaultSymbol),ue=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${ae}.${pe}.${this.classBreakInfos.reduce((ye,le)=>ye+le.getMeshHash(),"")}.${ue}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new te({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,N.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,N.d9)(this.visualVariables),legendOptions:(0,N.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(ae,pe){var ue=this;return(0,M.Z)(function*(){const ye=[ue.collectVVRequiredFields(ae,pe),ue.collectSymbolFields(ae,pe)];yield Promise.all(ye)})()}collectSymbolFields(ae,pe){var ue=this;return(0,M.Z)(function*(){const ye=[...ue.getSymbols().map(le=>le.collectRequiredFields(ae,pe)),(0,X.io)(ae,pe,ue.valueExpression)];(0,X.AB)(ae,pe,ue.field),(0,X.AB)(ae,pe,ue.normalizationField),yield Promise.all(ye)})()}_getBreakIndexForExpression(ae,pe){const{viewingMode:ue,scale:ye,spatialReference:le,arcade:se}=(0,k.Pt)(pe,{});let Ce=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const ge=(0,k.Wg)(se).arcadeUtils;if(!Ce){const Ee=ge.createSyntaxTree(this.valueExpression);Ce=ge.createFunction(Ee),this._compiledValueExpression.compiledFunction=Ce}this._compiledValueExpression.valueExpression=this.valueExpression;const Pe=ge.executeFunction(Ce,ge.createExecContext(ae,ge.getViewInfo({viewingMode:ue,scale:ye,spatialReference:le})));return this._getBreakIndexfromInfos(Pe)}_getBreakIndexForField(ae){const ue=ae.attributes,ye=this.normalizationType;let le=parseFloat(ue[this.field]);if(ye){const se=this.normalizationTotal,Ce=parseFloat(ue[this.normalizationField]);if("log"===ye)le=Math.log(le)*Math.LOG10E;else if(ye!==oe||isNaN(se)){if(ye===me&&!isNaN(Ce)){if(isNaN(le)||isNaN(Ce))return-1;le/=Ce}}else le=le/se*100}return this._getBreakIndexfromInfos(le)}_getBreakIndexfromInfos(ae){const pe=this.isMaxInclusive;if(null!=ae&&"number"==typeof ae&&!isNaN(ae))for(let ue=0;ue<this.classBreakInfos.length;ue++){const ye=[this.classBreakInfos[ue].minValue,this.classBreakInfos[ue].maxValue];if(ye[0]<=ae&&(pe?ae<=ye[1]:ae<ye[1]))return ue}return-1}_areClassBreaksConsecutive(){const ae=this.classBreakInfos,pe=ae.length;for(let ue=1;ue<pe;ue++)if(ae[ue-1].maxValue!==ae[ue].minValue)return!1;return!0}};(0,D._)([(0,F.Cb)(j.K)],V.prototype,"backgroundFillSymbol",void 0),(0,D._)([(0,F.Cb)({type:[P.Z]})],V.prototype,"classBreakInfos",void 0),(0,D._)([(0,$.r)("classBreakInfos")],V.prototype,"readClassBreakInfos",null),(0,D._)([(0,Z.c)("classBreakInfos")],V.prototype,"writeClassBreakInfos",null),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],V.prototype,"defaultLabel",void 0),(0,D._)([(0,F.Cb)(j.G)],V.prototype,"defaultSymbol",void 0),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],V.prototype,"field",void 0),(0,D._)([(0,I.p)("field")],V.prototype,"castField",null),(0,D._)([(0,F.Cb)({type:Boolean})],V.prototype,"isMaxInclusive",void 0),(0,D._)([(0,F.Cb)({type:K.Z,json:{write:!0}})],V.prototype,"legendOptions",void 0),(0,D._)([(0,F.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],V.prototype,"minValue",null),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],V.prototype,"normalizationField",void 0),(0,D._)([(0,F.Cb)({type:Number,cast:ae=>(0,re.q9)(ae),json:{write:!0}})],V.prototype,"normalizationTotal",void 0),(0,D._)([(0,F.Cb)({type:de.apiValues,value:null,json:{type:de.jsonValues,read:de.read,write:de.write}})],V.prototype,"normalizationType",null),(0,D._)([(0,x.J)({classBreaks:"class-breaks"})],V.prototype,"type",void 0),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],V.prototype,"valueExpression",void 0),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],V.prototype,"valueExpressionTitle",void 0),V=te=(0,D._)([(0,Y.j)("esri.renderers.ClassBreaksRenderer")],V);const ce=V},49067:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>re});var Y,M=E(15861),D=E(17626),Q=E(58817),B=E(77712),ne=(E(90912),E(76898)),k=E(99433),F=E(36630),I=E(69357),x=E(2432),$=E(29996);let Z=Y=class extends((0,x.W)(I.Z)){constructor(X){super(X),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new $.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(X,L){X&&(L.scalingExpressionInfo={expression:X,returnType:"number"})}writeVisualVariables(X,L,T,P){null!=P&&P.origin||super.writeVisualVariables(X,L,T,P)}clone(){return new Y({config:(0,Q.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,Q.d9)(this.fieldMap),url:(0,Q.d9)(this.url),visualVariables:(0,Q.d9)(this.visualVariables)})}getSymbolAsync(X,L){var T=this;return(0,M.Z)(function*(){return T._loader.getSymbolAsync(X,L)})()}collectRequiredFields(X,L){var T=this;return(0,M.Z)(function*(){yield T.collectVVRequiredFields(X,L),T.scaleExpression&&(yield(0,F.io)(X,L,T.scaleExpression));for(const P in T.fieldMap){const j=T.fieldMap[P];L.has(j)&&X.add(j)}})()}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((X,L)=>X+L.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,D._)([(0,B.Cb)({type:$.DictionaryLoader})],Z.prototype,"_loader",null),(0,D._)([(0,B.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Z.prototype,"config",void 0),(0,D._)([(0,B.Cb)({type:Object,json:{write:!0}})],Z.prototype,"fieldMap",void 0),(0,D._)([(0,B.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Z.prototype,"scaleExpression",void 0),(0,D._)([(0,k.c)("scaleExpression")],Z.prototype,"writeData",null),(0,D._)([(0,B.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(X){return{enabled:!!X&&!!this.scaleExpression}}}}})],Z.prototype,"scaleExpressionTitle",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],Z.prototype,"url",void 0),(0,D._)([(0,k.c)("visualVariables")],Z.prototype,"writeVisualVariables",null),Z=Y=(0,D._)([(0,ne.j)("esri.renderers.DictionaryRenderer")],Z);const re=Z},26284:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>V});var P,M=E(15861),D=E(17626),Q=E(91558),B=E(58817),N=E(83960),ne=E(90912),k=E(55342),F=E(77712),I=E(76898),x=E(36630),$=E(69357),Y=E(2432),Z=E(86810),re=E(63290),T=(E(85931),E(8314),E(66656));const j=re.Z.getLogger("esri.renderers.support.AttributeColorInfo");let K=P=class extends Z.wq{constructor(ce){super(ce),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(ce){return null==ce?ce:"function"==typeof ce?(j.error(".field: field must be a string value"),null):(0,ne.Zs)(ce)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new P({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,D._)([(0,F.Cb)({type:Q.Z,json:{type:[Number],write:!0}})],K.prototype,"color",void 0),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],K.prototype,"field",void 0),(0,D._)([(0,T.p)("field")],K.prototype,"castField",null),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],K.prototype,"label",void 0),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],K.prototype,"valueExpression",void 0),(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],K.prototype,"valueExpressionTitle",void 0),K=P=(0,D._)([(0,I.j)("esri.renderers.support.AttributeColorInfo")],K);const W=K;var te;let J=te=class extends Z.wq{constructor(){super(...arguments),this.unit=null}clone(){return new te({unit:this.unit})}};(0,D._)([(0,F.Cb)({type:String,json:{write:!0}})],J.prototype,"unit",void 0),J=te=(0,D._)([(0,I.j)("esri.renderers.support.DotDensityLegendOptions")],J);const he=J;var de,oe=E(88493),me=E(52068);let ie=de=class extends((0,Y.W)($.Z)){constructor(ce){super(ce),this.attributes=null,this.backgroundColor=new Q.Z([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new me.Z,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(ce){if(null==this.referenceScale)return this.dotValue;const ae=ce/this.referenceScale*this.dotValue;return ae<1?1:ae}getSymbol(){return new oe.Z({outline:this.outline})}getSymbolAsync(){var ce=this;return(0,M.Z)(function*(){return ce.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((ce,ae)=>ce+ae.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new de({attributes:(0,B.d9)(this.attributes),backgroundColor:(0,B.d9)(this.backgroundColor),dotBlendingEnabled:(0,B.d9)(this.dotBlendingEnabled),dotShape:(0,B.d9)(this.dotShape),dotSize:(0,B.d9)(this.dotSize),dotValue:(0,B.d9)(this.dotValue),legendOptions:(0,B.d9)(this.legendOptions),outline:(0,B.d9)(this.outline),referenceScale:(0,B.d9)(this.referenceScale),visualVariables:(0,B.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(ce=>ce.field||ce.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(ce,ae){var pe=this;return(0,M.Z)(function*(){yield pe.collectVVRequiredFields(ce,ae);for(const ue of pe.attributes)ue.valueExpression&&(yield(0,x.io)(ce,ae,ue.valueExpression)),ue.field&&ce.add(ue.field)})()}};(0,D._)([(0,F.Cb)({type:[W],json:{write:!0}})],ie.prototype,"attributes",void 0),(0,D._)([(0,F.Cb)({type:Q.Z,json:{write:!0}})],ie.prototype,"backgroundColor",void 0),(0,D._)([(0,F.Cb)({type:Boolean}),(0,N.B)("dotBlendingEnabled")],ie.prototype,"blendDots",void 0),(0,D._)([(0,F.Cb)({type:Boolean,json:{write:!0}})],ie.prototype,"dotBlendingEnabled",void 0),(0,D._)([(0,F.Cb)({type:String,json:{write:!1}})],ie.prototype,"dotShape",void 0),(0,D._)([(0,F.Cb)({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],ie.prototype,"dotSize",void 0),(0,D._)([(0,F.Cb)({type:he,json:{write:!0}})],ie.prototype,"legendOptions",void 0),(0,D._)([(0,F.Cb)({type:me.Z,json:{default:null,write:!0}})],ie.prototype,"outline",void 0),(0,D._)([(0,F.Cb)({type:Number,json:{write:!0}})],ie.prototype,"dotValue",void 0),(0,D._)([(0,F.Cb)({type:Number}),(0,N.B)("dotValue")],ie.prototype,"referenceDotValue",void 0),(0,D._)([(0,F.Cb)({type:Number,json:{write:!0}})],ie.prototype,"referenceScale",void 0),(0,D._)([(0,F.Cb)({type:Number,json:{write:!0}})],ie.prototype,"seed",void 0),(0,D._)([(0,k.J)({dotDensity:"dot-density"})],ie.prototype,"type",void 0),ie=de=(0,D._)([(0,I.j)("esri.renderers.DotDensityRenderer")],ie);const V=ie},54928:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var re,M=E(15861),D=E(17626),Q=E(91558),B=E(58817),N=E(77712),k=(E(90912),E(55342)),F=E(76898),I=E(36630),x=E(69357),$=E(86810);E(85931),E(8314);let X=re=class extends $.wq{constructor(K){super(K),this.color=null,this.ratio=null}clone(){return new re({color:this.color,ratio:this.ratio})}};(0,D._)([(0,N.Cb)({type:Q.Z,json:{write:!0}})],X.prototype,"color",void 0),(0,D._)([(0,N.Cb)({type:Number,json:{write:!0}})],X.prototype,"ratio",void 0),X=re=(0,D._)([(0,F.j)("esri.renderers.support.HeatmapColorStop")],X);const L=X;var T;let P=T=class extends x.Z{constructor(K){super(K),this.blurRadius=10,this.scale=0,this.colorStops=[new L({ratio:0,color:new Q.Z("rgba(255, 140, 0, 0)")}),new L({ratio:.75,color:new Q.Z("rgba(255, 140, 0, 1)")}),new L({ratio:.9,color:new Q.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}collectRequiredFields(K,W){var te=this;return(0,M.Z)(function*(){const J=te.field;J&&"string"==typeof J&&(0,I.AB)(K,W,J)})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new T({blurRadius:this.blurRadius,scale:this.scale,colorStops:(0,B.d9)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};(0,D._)([(0,N.Cb)({type:Number,json:{write:!0}})],P.prototype,"blurRadius",void 0),(0,D._)([(0,N.Cb)({type:Number})],P.prototype,"scale",void 0),(0,D._)([(0,N.Cb)({type:[L],json:{write:!0}})],P.prototype,"colorStops",void 0),(0,D._)([(0,N.Cb)({type:String,json:{write:!0}})],P.prototype,"field",void 0),(0,D._)([(0,N.Cb)({type:Number,json:{write:{overridePolicy:(K,W,te)=>({enabled:null==te})}}})],P.prototype,"fieldOffset",void 0),(0,D._)([(0,N.Cb)({type:Number,json:{write:!0}})],P.prototype,"maxPixelIntensity",void 0),(0,D._)([(0,N.Cb)({type:Number,json:{write:!0}})],P.prototype,"minPixelIntensity",void 0),(0,D._)([(0,k.J)({heatmap:"heatmap"})],P.prototype,"type",void 0),P=T=(0,D._)([(0,F.j)("esri.renderers.HeatmapRenderer")],P);const j=P},69357:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var M=E(15861),D=E(17626),Q=E(2076),B=E(86810),N=E(77712),I=(E(85931),E(8314),E(90912),E(76898)),x=E(15312);const $=new Q.X({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let Y=class extends B.wq{constructor(re){super(re),this.authoringInfo=null,this.type=null}getRequiredFields(re){var X=this;return(0,M.Z)(function*(){if(!X.collectRequiredFields)return[];const L=new Set;return yield X.collectRequiredFields(L,re),Array.from(L).sort()})()}getSymbol(re,X){}getSymbolAsync(re,X){return(0,M.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,D._)([(0,N.Cb)({type:x.Z,json:{write:!0}})],Y.prototype,"authoringInfo",void 0),(0,D._)([(0,N.Cb)({type:$.apiValues,readOnly:!0,json:{type:$.jsonValues,read:!1,write:{writer:$.write,ignoreOrigin:!0}}})],Y.prototype,"type",void 0),Y=(0,D._)([(0,I.j)("esri.renderers.Renderer")],Y);const Z=Y},40342:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var $,M=E(15861),D=E(17626),Q=E(58817),B=E(77712),ne=(E(90912),E(55342)),k=E(76898),F=E(69357),I=E(2432),x=E(76457);let Y=$=class extends((0,I.W)(F.Z)){constructor(re){super(re),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(re,X){var L=this;return(0,M.Z)(function*(){yield Promise.all([L.collectSymbolFields(re,X),L.collectVVRequiredFields(re,X)])})()}collectSymbolFields(re,X){var L=this;return(0,M.Z)(function*(){yield Promise.all(L.getSymbols().map(T=>T.collectRequiredFields(re,X)))})()}getSymbol(re,X){return this.symbol}getSymbolAsync(re,X){var L=this;return(0,M.Z)(function*(){return L.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((re,X)=>re+X.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((re,X)=>re+JSON.stringify(X),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new $({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,Q.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],Y.prototype,"description",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],Y.prototype,"label",void 0),(0,D._)([(0,B.Cb)(x.G)],Y.prototype,"symbol",void 0),(0,D._)([(0,ne.J)({simple:"simple"})],Y.prototype,"type",void 0),Y=$=(0,D._)([(0,k.j)("esri.renderers.SimpleRenderer")],Y);const Z=Y},14726:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>pe});var ie,M=E(15861),D=E(17626),Q=E(65787),B=E(26584),N=E(58817),ne=E(63290),k=E(62208),F=E(94113),I=E(77712),x=E(66656),$=E(55342),Y=E(68653),Z=E(76898),re=E(99433),X=E(84682),L=E(90912),T=E(36630),P=E(84687),j=E(69357),K=E(2432),W=E(76457),te=E(10914),J=E(87266),he=E(46679),oe=E(29840),me=E(78241),de=E(12874);const V=ne.Z.getLogger("esri.renderers.UniqueValueRenderer"),ce=(0,L.se)(J.Z);let ae=ie=class extends((0,K.W)(j.Z)){constructor(ue){super(ue),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(ye,le){if(!ye&&!le)return;if(!ye||!le)return{type:"complete",oldValue:ye,newValue:le};let se=!1;const Ce={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let ge=0;ge<le.length;ge++){const Pe=ye.find(Ee=>Ee.value===le[ge].value);Pe?(0,X.Hg)(Pe,le[ge])?(Ce.changed.push({type:"complete",oldValue:Pe,newValue:le[ge]}),se=!0):Ce.unchanged.push({oldValue:Pe,newValue:le[ge]}):(Ce.added.push(le[ge]),se=!0)}for(let ge=0;ge<ye.length;ge++)le.find(Pe=>Pe.value===ye[ge].value)||(Ce.removed.push(ye[ge]),se=!0);return se?Ce:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(ue){return null==ue||"function"==typeof ue?ue:(0,L.Zs)(ue)}writeField(ue,ye,le,se){"string"==typeof ue?ye[le]=ue:se&&se.messages?se.messages.push(new B.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):V.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(ue){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",ue)}readPortal(ue,ye,le){return le.portal||P.Z.getDefault()}readStyleOrigin(ue,ye,le){if(ye.styleName)return Object.freeze({styleName:ye.styleName});if(ye.styleUrl){const se=(0,oe.f)(ye.styleUrl,le);return Object.freeze({styleUrl:se})}}writeStyleOrigin(ue,ye,le,se){ue.styleName?ye.styleName=ue.styleName:ue.styleUrl&&(ye.styleUrl=(0,oe.t)(ue.styleUrl,se))}set uniqueValueInfos(ue){this.styleOrigin?V.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",ue),this._updateValueInfoMap())}addUniqueValueInfo(ue,ye){if(this.styleOrigin)return void V.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let le;le="object"==typeof ue?ce(ue):new J.Z({value:ue,symbol:(0,Q.se)(ye)}),this.uniqueValueInfos.push(le),this._valueInfoMap[le.value]=le}removeUniqueValueInfo(ue){if(this.styleOrigin)V.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let ye=0;ye<this.uniqueValueInfos.length;ye++)if(this.uniqueValueInfos[ye].value===ue+""){delete this._valueInfoMap[ue],this.uniqueValueInfos.splice(ye,1);break}}getUniqueValueInfo(ue,ye){var le=this;return(0,M.Z)(function*(){let se=ye;return le.valueExpression&&((0,k.Wi)(ye)||(0,k.Wi)(ye.arcade))&&(se=$n(Pt({},se),{arcade:yield(0,he.LC)()})),le._getUniqueValueInfo(ue,se)})()}getSymbol(ue,ye){if(this.valueExpression&&((0,k.Wi)(ye)||(0,k.Wi)(ye.arcade)))return void V.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const le=this._getUniqueValueInfo(ue,ye);return le&&le.symbol||this.defaultSymbol}getSymbolAsync(ue,ye){var le=this;return(0,M.Z)(function*(){let se=ye;if(le.valueExpression&&((0,k.Wi)(se)||(0,k.Wi)(se.arcade))){const ge=yield(0,he.LC)(),{arcadeUtils:Pe}=ge;Pe.hasGeometryOperations(le.valueExpression)&&(yield Pe.enableGeometryOperations()),se=$n(Pt({},se),{arcade:ge})}const Ce=le._getUniqueValueInfo(ue,se);return Ce&&Ce.symbol||le.defaultSymbol})()}getSymbols(){const ue=[];for(const ye of this.uniqueValueInfos)ye.symbol&&ue.push(ye.symbol);return this.defaultSymbol&&ue.push(this.defaultSymbol),ue}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ue,ye)=>ue+ye.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((ue,ye)=>ue+ye.getMeshHash(),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const ue=new ie({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,N.d9)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,N.d9)(this.visualVariables),legendOptions:(0,N.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,N.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(ue._isDefaultSymbolDerived=!0),ue._set("portal",this.portal);const ye=(0,N.d9)(this.uniqueValueInfos);return this.styleOrigin&&(ue._set("styleOrigin",Object.freeze((0,N.d9)(this.styleOrigin))),Object.freeze(ye)),ue._set("uniqueValueInfos",ye),ue._updateValueInfoMap(),ue}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(ue,ye){var le=this;return(0,M.Z)(function*(){const se=[le.collectVVRequiredFields(ue,ye),le.collectSymbolFields(ue,ye)];yield Promise.all(se)})()}collectSymbolFields(ue,ye){var le=this;return(0,M.Z)(function*(){const se=[...le.getSymbols().map(Ce=>Ce.collectRequiredFields(ue,ye)),(0,T.io)(ue,ye,le.valueExpression)];(0,T.AB)(ue,ye,le.field),(0,T.AB)(ue,ye,le.field2),(0,T.AB)(ue,ye,le.field3),yield Promise.all(se)})()}populateFromStyle(){return(0,me.n2)(this.styleOrigin,{portal:this.portal}).then(ue=>{const ye=[];return this._valueInfoMap={},ue&&ue.data&&Array.isArray(ue.data.items)&&ue.data.items.forEach(le=>{const se=new de.Z({styleUrl:ue.styleUrl,styleName:ue.styleName,portal:this.portal,name:le.name});this.defaultSymbol||le.name!==ue.data.defaultItem||(this.defaultSymbol=se,this._isDefaultSymbolDerived=!0);const Ce=new J.Z({value:le.name,symbol:se});ye.push(Ce),this._valueInfoMap[le.name]=Ce}),this._set("uniqueValueInfos",Object.freeze(ye)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(ue=>this._valueInfoMap[ue.value+""]=ue)}_getUniqueValueInfo(ue,ye){return this.valueExpression?this._getUnqiueValueInfoForExpression(ue,ye):this._getUnqiueValueInfoForFields(ue)}_getUnqiueValueInfoForExpression(ue,ye){const{viewingMode:le,scale:se,spatialReference:Ce,arcade:ge}=(0,k.Pt)(ye,{});let Pe=this._cache.compiledFunc;const Ee=(0,k.Wg)(ge).arcadeUtils;if(!Pe){const Se=Ee.createSyntaxTree(this.valueExpression);Pe=Ee.createFunction(Se),this._cache.compiledFunc=Pe}const Ge=Ee.executeFunction(Pe,Ee.createExecContext(ue,Ee.getViewInfo({viewingMode:le,scale:se,spatialReference:Ce})));return this._valueInfoMap[Ge+""]}_getUnqiueValueInfoForFields(ue){const ye=this.field,le=ue.attributes;let se;if("function"!=typeof ye&&this.field2){const Ce=this.field2,ge=this.field3,Pe=[];ye&&Pe.push(le[ye]),Ce&&Pe.push(le[Ce]),ge&&Pe.push(le[ge]),se=Pe.join(this.fieldDelimiter||"")}else"function"==typeof ye?se=ye(ue):ye&&(se=le[ye]);return this._valueInfoMap[se+""]}static fromPortalStyle(ue,ye){const le=new ie(ye&&ye.properties);le._set("styleOrigin",Object.freeze({styleName:ue})),le._set("portal",ye&&ye.portal||P.Z.getDefault());const se=le.populateFromStyle();return se.catch(Ce=>{V.error(`#fromPortalStyle('${ue}'[, ...])`,"Failed to create unique value renderer from style name",Ce)}),se}static fromStyleUrl(ue,ye){const le=new ie(ye&&ye.properties);le._set("styleOrigin",Object.freeze({styleUrl:ue}));const se=le.populateFromStyle();return se.catch(Ce=>{V.error(`#fromStyleUrl('${ue}'[, ...])`,"Failed to create unique value renderer from style URL",Ce)}),se}};(0,D._)([(0,I.Cb)({readOnly:!0})],ae.prototype,"_cache",null),(0,D._)([(0,$.J)({uniqueValue:"unique-value"})],ae.prototype,"type",void 0),(0,D._)([(0,I.Cb)(W.K)],ae.prototype,"backgroundFillSymbol",void 0),(0,D._)([(0,I.Cb)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],ae.prototype,"field",void 0),(0,D._)([(0,x.p)("field")],ae.prototype,"castField",null),(0,D._)([(0,re.c)("field")],ae.prototype,"writeField",null),(0,D._)([(0,I.Cb)({type:String,json:{write:!0}})],ae.prototype,"field2",void 0),(0,D._)([(0,I.Cb)({type:String,json:{write:!0}})],ae.prototype,"field3",void 0),(0,D._)([(0,I.Cb)({type:String,json:{write:!0}})],ae.prototype,"valueExpression",void 0),(0,D._)([(0,I.Cb)({type:String,json:{write:!0}})],ae.prototype,"valueExpressionTitle",void 0),(0,D._)([(0,I.Cb)({type:te.Z,json:{write:!0}})],ae.prototype,"legendOptions",void 0),(0,D._)([(0,I.Cb)({type:String,json:{write:!0}})],ae.prototype,"defaultLabel",void 0),(0,D._)([(0,I.Cb)((0,F.RH)(Pt({},W.G),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],ae.prototype,"defaultSymbol",null),(0,D._)([(0,I.Cb)({type:String,json:{write:!0}})],ae.prototype,"fieldDelimiter",void 0),(0,D._)([(0,I.Cb)({type:P.Z,readOnly:!0})],ae.prototype,"portal",void 0),(0,D._)([(0,Y.r)("portal",["styleName"])],ae.prototype,"readPortal",null),(0,D._)([(0,I.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],ae.prototype,"styleOrigin",void 0),(0,D._)([(0,Y.r)("styleOrigin",["styleName","styleUrl"])],ae.prototype,"readStyleOrigin",null),(0,D._)([(0,re.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],ae.prototype,"writeStyleOrigin",null),(0,D._)([(0,I.Cb)({type:[J.Z],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],ae.prototype,"uniqueValueInfos",null),ae=ie=(0,D._)([(0,Z.j)("esri.renderers.UniqueValueRenderer")],ae);const pe=ae},2432:(qe,Me,E)=>{"use strict";E.d(Me,{W:()=>Ce});var Z,M=E(15861),D=E(17626),Q=E(77712),ne=(E(85931),E(8314),E(90912)),k=E(68653),F=E(76898),I=E(99433),x=E(36630),$=E(17977),Y=E(8029);let re=Z=class extends $.Z{constructor(ge){super(ge),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(ge){ge&&Array.isArray(ge)&&(ge=ge.filter(Pe=>!!Pe)).sort((Pe,Ee)=>Pe.value-Ee.value),this._set("stops",ge)}clone(){return new Z({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(ge=>ge.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ge=>ge.value||0)}};(0,D._)([(0,Q.Cb)({readOnly:!0})],re.prototype,"cache",null),(0,D._)([(0,Q.Cb)({type:["color"],json:{type:["colorInfo"]}})],re.prototype,"type",void 0),(0,D._)([(0,Q.Cb)({type:String,json:{write:!0}})],re.prototype,"normalizationField",void 0),(0,D._)([(0,Q.Cb)({type:[Y.Z],json:{write:!0}})],re.prototype,"stops",null),re=Z=(0,D._)([(0,F.j)("esri.renderers.visualVariables.ColorVariable")],re);const X=re;var P,L=E(86810),T=E(92236);let j=P=class extends L.wq{constructor(ge){super(ge),this.label=null,this.opacity=null,this.value=null}readOpacity(ge,Pe){return(0,T.b)(Pe.transparency)}writeOpacity(ge,Pe,Ee){Pe[Ee]=(0,T.a)(ge)}clone(){return new P({label:this.label,opacity:this.opacity,value:this.value})}};(0,D._)([(0,Q.Cb)({type:String,json:{write:!0}})],j.prototype,"label",void 0),(0,D._)([(0,Q.Cb)({type:Number,json:{type:ne.z8,write:{target:"transparency"}}})],j.prototype,"opacity",void 0),(0,D._)([(0,k.r)("opacity",["transparency"])],j.prototype,"readOpacity",null),(0,D._)([(0,I.c)("opacity")],j.prototype,"writeOpacity",null),(0,D._)([(0,Q.Cb)({type:Number,json:{write:!0}})],j.prototype,"value",void 0),j=P=(0,D._)([(0,F.j)("esri.renderers.visualVariables.support.OpacityStop")],j);const K=j;var W;let te=W=class extends $.Z{constructor(ge){super(ge),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(ge){ge&&Array.isArray(ge)&&(ge=ge.filter(Pe=>!!Pe)).sort((Pe,Ee)=>Pe.value-Ee.value),this._set("stops",ge)}clone(){return new W({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(ge=>ge.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ge=>ge.value||0)}};(0,D._)([(0,Q.Cb)({readOnly:!0})],te.prototype,"cache",null),(0,D._)([(0,Q.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],te.prototype,"type",void 0),(0,D._)([(0,Q.Cb)({type:String,json:{write:!0}})],te.prototype,"normalizationField",void 0),(0,D._)([(0,Q.Cb)({type:[K],json:{write:!0}})],te.prototype,"stops",null),te=W=(0,D._)([(0,F.j)("esri.renderers.visualVariables.OpacityVariable")],te);const J=te;var he=E(13398),oe=E(68598),me=E(14517),de=E(2076),ie=E(63290),V=E(14889);const ce=ie.Z.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),ae={color:X,size:oe.Z,opacity:J,rotation:he.Z},pe=new de.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),ue=/^\[([^\]]+)\]$/i;let ye=class extends me.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(ge){if(this._resetVariables(),(ge=ge&&ge.filter(Pe=>!!Pe))&&ge.length){for(const Pe of ge)switch(Pe.type){case"color":this.colorVariables.push(Pe);break;case"opacity":this.opacityVariables.push(Pe);break;case"rotation":this.rotationVariables.push(Pe);break;case"size":this.sizeVariables.push(Pe)}this.sizeVariables.length&&this.sizeVariables.some(Pe=>!!Pe.target)&&ge.sort((Pe,Ee)=>{let Ge=null;return Ge=Pe.target===Ee.target?0:Pe.target?1:-1,Ge});for(let Pe=0;Pe<ge.length;Pe++)ge[Pe].index=Pe;this._set("visualVariables",ge)}else this._set("visualVariables",ge)}readVariables(ge,Pe,Ee){const{rotationExpression:Ge,rotationType:Se}=Pe,ve=Ge&&Ge.match(ue),Te=ve&&ve[1];if(Te&&(ge||(ge=[]),ge.push({type:"rotationInfo",rotationType:Se,field:Te})),ge)return ge.map(Ze=>{const tt=pe.read(Ze.type),xe=ae[tt];xe||(ce.warn(`Unknown variable type: ${tt}`),Ee&&Ee.messages&&Ee.messages.push(new V.Z("visual-variable:unsupported",`visualVariable of type '${tt}' is not supported`,{definition:Ze,context:Ee})));const Ve=new xe;return Ve.read(Ze,Ee),Ve})}writeVariables(ge,Pe){const Ee=[];for(const Ge of ge){const Se=Ge.toJSON(Pe);Se&&Ee.push(Se)}return Ee}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,D._)([(0,Q.Cb)()],ye.prototype,"visualVariables",null),ye=(0,D._)([(0,F.j)("esri.renderers.visualVariables.VisualVariableFactory")],ye);const le=ye,se={base:$.Z,key:"type",typeMap:{opacity:J,color:X,rotation:he.Z,size:oe.Z}},Ce=ge=>{let Pe=class extends ge{constructor(){super(...arguments),this._vvFactory=new le}set visualVariables(Ee){this._vvFactory.visualVariables=Ee,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(Ee,Ge,Se){return this._vvFactory.readVariables(Ee,Ge,Se)}writeVisualVariables(Ee,Ge,Se,ve){Ge[Se]=this._vvFactory.writeVariables(Ee,ve)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const Ee of this.visualVariables)if(Ee.arcadeRequired)return!0;return!1}hasVisualVariables(Ee,Ge){return Ee?this.getVisualVariablesForType(Ee,Ge).length>0:this.getVisualVariablesForType("size",Ge).length>0||this.getVisualVariablesForType("color",Ge).length>0||this.getVisualVariablesForType("opacity",Ge).length>0||this.getVisualVariablesForType("rotation",Ge).length>0}getVisualVariablesForType(Ee,Ge){const Se=this.visualVariables;return Se?Se.filter(ve=>ve.type===Ee&&("string"==typeof Ge?ve.target===Ge:!1!==Ge||!ve.target)):[]}collectVVRequiredFields(Ee,Ge){var Se=this;return(0,M.Z)(function*(){let ve=[];Se.visualVariables&&(ve=ve.concat(Se.visualVariables));for(const Te of ve)Te&&(Te.field&&(0,x.AB)(Ee,Ge,Te.field),Te.normalizationField&&(0,x.AB)(Ee,Ge,Te.normalizationField),Te.valueExpression&&(yield(0,x.io)(Ee,Ge,Te.valueExpression)))})()}};return(0,D._)([(0,Q.Cb)({types:[se],value:null,json:{write:!0}})],Pe.prototype,"visualVariables",null),(0,D._)([(0,k.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],Pe.prototype,"readVisualVariables",null),(0,D._)([(0,I.c)("visualVariables")],Pe.prototype,"writeVisualVariables",null),Pe=(0,D._)([(0,F.j)("esri.renderers.mixins.VisualVariablesMixin")],Pe),Pe}},15312:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Ce});var $,M=E(17626),D=E(2076),Q=E(86810),B=E(58817),N=E(77712),ne=E(90912),k=E(68653),F=E(76898);E(85931),E(8314);let Y=$=class extends Q.wq{constructor(ge){super(ge),this.minValue=0,this.maxValue=0}clone(){return new $({minValue:this.minValue,maxValue:this.maxValue})}};(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Y.prototype,"minValue",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Y.prototype,"maxValue",void 0),Y=$=(0,M._)([(0,F.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],Y);const Z=Y;var re;let X=re=class extends Q.wq{constructor(ge){super(ge),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new re({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,B.d9)(this.classBreakInfos)})}};(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],X.prototype,"field",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],X.prototype,"normalizationField",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],X.prototype,"label",void 0),(0,M._)([(0,N.Cb)({type:[Z],json:{write:!0}})],X.prototype,"classBreakInfos",void 0),X=re=(0,M._)([(0,F.j)("esri.renderers.support.AuthoringInfoFieldInfo")],X);const L=X;var P,T=E(66656);const j=new D.X({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),K=new D.X({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),W={key:ge=>"number"==typeof ge?"number":"string",typeMap:{number:Number,string:String},base:null},te=["high-to-low","above-and-below","centered-on","extremes"],J=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],he=["seconds","minutes","hours","days","months","years"];let oe=P=class extends Q.wq{constructor(ge){super(ge),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(ge){return"string"==typeof ge||"number"==typeof ge?ge:null}castStartTime(ge){return"string"==typeof ge||"number"==typeof ge?ge:null}get style(){return"color"===this.type?this._get("style"):null}set style(ge){this._set("style",ge)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(ge){this._set("theme",ge)}clone(){return new P({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,M._)([(0,N.Cb)({types:W,json:{write:!0}})],oe.prototype,"endTime",void 0),(0,M._)([(0,T.p)("endTime")],oe.prototype,"castEndTime",null),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],oe.prototype,"field",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],oe.prototype,"maxSliderValue",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],oe.prototype,"minSliderValue",void 0),(0,M._)([(0,N.Cb)({types:W,json:{write:!0}})],oe.prototype,"startTime",void 0),(0,M._)([(0,T.p)("startTime")],oe.prototype,"castStartTime",null),(0,M._)([(0,N.Cb)({type:j.apiValues,value:null,json:{type:j.jsonValues,read:j.read,write:j.write}})],oe.prototype,"style",null),(0,M._)([(0,N.Cb)({type:J,value:null,json:{type:J,origins:{"web-scene":{type:te,write:{writer:(ge,Pe)=>{te.indexOf(ge)>-1&&(Pe.theme=ge)}}}},write:!0}})],oe.prototype,"theme",null),(0,M._)([(0,N.Cb)({type:K.apiValues,json:{type:K.jsonValues,read:K.read,write:K.write}})],oe.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:he,json:{type:he,write:!0}})],oe.prototype,"units",void 0),oe=P=(0,M._)([(0,F.j)("esri.renderers.support.AuthoringInfoVisualVariable")],oe);const me=oe;var ie,de=E(79023);const V=new D.X({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),ce=new D.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),ae=new D.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),pe=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let se=ie=class extends Q.wq{constructor(ge){super(ge),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const ge=this._get("classificationMethod"),Pe=this.type;return Pe&&"relationship"!==Pe?"class-breaks-size"===Pe||"class-breaks-color"===Pe?ge||"manual":null:ge}set classificationMethod(ge){this._set("classificationMethod",ge)}readColorRamp(ge){if(ge)return(0,de.i)(ge)}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(ge){this._set("fields",ge)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(ge){this._set("field1",ge)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(ge){this._set("field2",ge)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(ge){this._set("flowTheme",ge)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(ge){this._set("focus",ge)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(ge){this._set("numClasses",ge)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(ge){this._set("statistics",ge)}get standardDeviationInterval(){const ge=this.type;return ge&&"relationship"!==ge&&"class-breaks-size"!==ge&&"class-breaks-color"!==ge||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(ge){this._set("standardDeviationInterval",ge)}get type(){return this._get("type")}set type(ge){let Pe=ge;"classed-size"===ge?Pe="class-breaks-size":"classed-color"===ge&&(Pe="class-breaks-color"),this._set("type",Pe)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(ge){this._set("univariateSymbolStyle",ge)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(ge){this._set("univariateTheme",ge)}clone(){return new ie({classificationMethod:this.classificationMethod,colorRamp:(0,B.d9)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:(0,B.d9)(this.field1),field2:(0,B.d9)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(ge=>ge.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,M._)([(0,N.Cb)({type:V.apiValues,value:null,json:{type:V.jsonValues,read:V.read,write:V.write,origins:{"web-document":{default:"manual",type:V.jsonValues,read:V.read,write:V.write}}}})],se.prototype,"classificationMethod",null),(0,M._)([(0,N.Cb)({types:de.V,json:{write:!0}})],se.prototype,"colorRamp",void 0),(0,M._)([(0,k.r)("colorRamp")],se.prototype,"readColorRamp",null),(0,M._)([(0,N.Cb)({type:[String],value:null,json:{write:!0}})],se.prototype,"fields",null),(0,M._)([(0,N.Cb)({type:L,value:null,json:{write:!0}})],se.prototype,"field1",null),(0,M._)([(0,N.Cb)({type:L,value:null,json:{write:!0}})],se.prototype,"field2",null),(0,M._)([(0,N.Cb)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],se.prototype,"flowTheme",null),(0,M._)([(0,N.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],se.prototype,"focus",null),(0,M._)([(0,N.Cb)({type:Number,value:null,json:{type:ne.z8,write:!0}})],se.prototype,"numClasses",null),(0,M._)([(0,N.Cb)({type:pe,json:{type:pe,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],se.prototype,"lengthUnit",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],se.prototype,"maxSliderValue",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],se.prototype,"minSliderValue",void 0),(0,M._)([(0,N.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],se.prototype,"statistics",null),(0,M._)([(0,N.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],se.prototype,"standardDeviationInterval",null),(0,M._)([(0,N.Cb)({type:ce.apiValues,value:null,json:{type:ce.jsonValues,read:ce.read,write:ce.write,origins:{"web-scene":{type:ae.jsonValues,write:{writer:ae.write,overridePolicy:ge=>({enabled:"flow"!==ge})}}}}})],se.prototype,"type",null),(0,M._)([(0,N.Cb)({type:[me],json:{write:!0}})],se.prototype,"visualVariables",void 0),(0,M._)([(0,N.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],se.prototype,"univariateSymbolStyle",null),(0,M._)([(0,N.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],se.prototype,"univariateTheme",null),se=ie=(0,M._)([(0,F.j)("esri.renderers.support.AuthoringInfo")],se);const Ce=se},74400:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(76457);let x=I=class extends D.wq{constructor(Y){super(Y),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new I({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const Y=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${Y}`}};(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],x.prototype,"minValue",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],x.prototype,"maxValue",void 0),(0,M._)([(0,Q.Cb)(F.G)],x.prototype,"symbol",void 0),x=I=(0,M._)([(0,k.j)("esri.renderers.support.ClassBreakInfo")],x);const $=x},29996:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{DictionaryLoader:()=>re});var M=E(15861),D=E(91558),Q=E(84792),B=E(26584),N=E(63290),ne=E(93961),k=E(62208),F=E(10699),I=E(77275),x=E(46679),$=E(94398);const Y=N.Z.getLogger("esri.renderers.support.DictionaryLoader"),Z={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class re{constructor(P,j,K){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new ne.Z(100),this.url=P,this.config=j,this.fieldMap=K}getSymbolFields(){return this._symbolFields}getSymbolAsync(P,j){var K=this;return(0,M.Z)(function*(){let W;K._dictionaryPromise||(K._dictionaryPromise=K.fetchResources(j));try{W=yield K._dictionaryPromise}catch(ae){if((0,F.D_)(ae))return K._dictionaryPromise=null,null}const te={};if(K.fieldMap)for(const ae of K._symbolFields){const pe=K.fieldMap[ae];te[ae]=pe&&null!=P.attributes[pe]?""+P.attributes[pe]:""}const J=W(te,j);if(!J||"string"!=typeof J)return null;const he=(0,I.hP)(J).toString(),oe=K._symbolCache.get(he);if(oe)return oe.catch(()=>{K._symbolCache.pop(he)}),oe;const me=J.split(";"),de=[],ie=[];for(const ae of me)if(ae)if(ae.includes("po:")){const pe=ae.substr(3).split("|");if(3===pe.length){const ue=pe[0],ye=pe[1];let le=pe[2];if("DashTemplate"===ye)le=le.split(" ").map(se=>Number(se));else if("Color"===ye){const se=new D.Z(le).toRgba();le=[se[0],se[1],se[2],255*se[3]]}else le=Number(le);ie.push({primitiveName:ue,propertyName:ye,value:le})}}else if(ae.includes("|")){for(const pe of ae.split("|"))if(K._itemNames.has(pe)){de.push(pe);break}}else K._itemNames.has(ae)&&de.push(ae);const V=!(0,k.pC)(P.geometry)||!P.geometry.hasZ&&"point"===P.geometry.type,ce=K._cimPartsToCIMSymbol(de,ie,V,j);return K._symbolCache.put(he,ce,1),ce})()}fetchResources(P){var j=this;return(0,M.Z)(function*(){if(j._dictionaryPromise)return j._dictionaryPromise;if(!j.url)return void Y.error("no valid URL!");const K=(0,k.pC)(P)?P.abortOptions:null,W=(0,Q.default)(j.url+"/resources/styles/dictionary-info.json",Pt({responseType:"json",query:{f:"json"}},K)),[{data:te}]=yield Promise.all([W,(0,x.LC)()]);if(!te)throw j._dictionaryPromise=null,new B.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const J=te.expression,he=te.authoringInfo;j._refSymbolUrlTemplate=j.url+"/"+te.cimRefTemplateUrl,j._itemNames=new Set(te.itemsNames),j._symbolFields=he.symbol;const oe={};if(j.config){const de=j.config;for(const ie in de)oe[ie]=de[ie]}if(he.configuration)for(const de of he.configuration)oe.hasOwnProperty(de.name)||(oe[de.name]=de.value);const me=[];if((0,k.pC)(P)&&P.fields&&j.fieldMap)for(const de of j._symbolFields){const ie=j.fieldMap[de],V=P.fields.filter(ce=>ce.name===ie);V.length>0&&me.push($n(Pt({},V[0]),{name:de}))}return j._dictionaryPromise=(0,x.pp)(J,(0,k.pC)(P)?P.spatialReference:null,me,oe).then(de=>{const ie={scale:0};return(V,ce)=>{const ae=de.repurposeFeature({geometry:null,attributes:V});return ie.scale=(0,k.pC)(ce)?ce.scale:void 0,de.evaluate({$feature:ae,$view:ie})}}).catch(de=>(Y.error("Creating dictinoary expression failed:",de),null)),j._dictionaryPromise})()}_cimPartsToCIMSymbol(P,j,K,W){var te=this;return(0,M.Z)(function*(){const J=new Array(P.length);for(let me=0;me<P.length;me++)J[me]=te._getSymbolPart(P[me],W);const he=yield Promise.all(J),oe=te.fieldMap;for(const me of he)X(me,oe);return new $.Z({data:te._combineSymbolParts(he,j,K)})})()}_getSymbolPart(P,j){var K=this;return(0,M.Z)(function*(){if(K._ongoingRequests.has(P))return K._ongoingRequests.get(P).then(J=>J.data);const W=K._refSymbolUrlTemplate.replace(/\{itemName\}/gi,P),te=(0,Q.default)(W,Pt({responseType:"json",query:{f:"json"}},j));K._ongoingRequests.set(P,te);try{return(yield te).data}catch(J){return K._ongoingRequests.delete(P),Promise.reject(J)}})()}_combineSymbolParts(P,j,K){if(!P||0===P.length)return null;const W=Pt({},P[0]);if(P.length>1){W.symbolLayers=[];for(const te of P)W.symbolLayers.unshift(...te.symbolLayers)}return K&&(W.callout=Z),{type:"CIMSymbolReference",symbol:W,primitiveOverrides:j}}}function X(T,P){if(!T)return;const j=T.symbolLayers;if(!j)return;let K=j.length;for(;K--;){const W=j[K];W&&!1!==W.enable&&"CIMVectorMarker"===W.type&&L(W,P)}}function L(T,P){const j=T.markerGraphics;if(j)for(const K of j){if(!K)continue;const W=K.symbol;if(W)switch(W.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":X(W,P);break;case"CIMTextSymbol":W.fieldMap=P}}}},10914:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let I=F=class extends D.wq{constructor(){super(...arguments),this.title=null}clone(){return new F({title:this.title})}};(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],I.prototype,"title",void 0),I=F=(0,M._)([(0,k.j)("esri.renderers.support.LegendOptions")],I);const x=I},87266:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(76457);let x=I=class extends D.wq{constructor(Y){super(Y),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new I({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const Y=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${Y}`}};(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,M._)([(0,Q.Cb)(F.G)],x.prototype,"symbol",void 0),(0,M._)([(0,Q.Cb)({type:[String,Number],json:{type:String,write:{writer:(Y,Z)=>{Z.value=null==Y?void 0:Y.toString()}}}})],x.prototype,"value",void 0),x=I=(0,M._)([(0,k.j)("esri.renderers.support.UniqueValueInfo")],x);const $=x},76457:(qe,Me,E)=>{"use strict";E.d(Me,{K:()=>k,G:()=>ne});var M=E(65787),D=E(383),Q=E(65270),B=E(10012),N=E(89673);const ne={types:M.QT,json:{write:{writer:Q.cW},origins:{"web-scene":{types:M.f_,write:{writer:Q.cW},read:{reader:(0,D.d)({types:M.f_})}}}}},k={types:{base:B.Z,key:"type",typeMap:{"simple-fill":M.LB.typeMap["simple-fill"],"picture-fill":M.LB.typeMap["picture-fill"],"polygon-3d":M.LB.typeMap["polygon-3d"]}},json:{write:{writer:Q.cW},origins:{"web-scene":{type:N.Z,write:{writer:Q.cW}}}}}},33474:(qe,Me,E)=>{"use strict";E.d(Me,{i:()=>B,a:()=>ne});var M=E(14889),D=E(383),Q=E(32088);function B(k,F){return ne(k,null,F)}const N=(0,D.d)({types:Q.A});function ne(k,F,I){return k?k&&(k.styleName||k.styleUrl)&&"uniqueValue"!==k.type?(I&&I.messages&&I.messages.push(new M.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+k.type+"'",{definition:k,context:I})),null):N(k,F,I):null}},21254:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>Q});var M=E(16730),D=E(94425);const Q={inches:(0,M.En)(1,"meters","inches"),feet:(0,M.En)(1,"meters","feet"),"us-feet":(0,M.En)(1,"meters","us-feet"),yards:(0,M.En)(1,"meters","yards"),miles:(0,M.En)(1,"meters","miles"),"nautical-miles":(0,M.En)(1,"meters","nautical-miles"),millimeters:(0,M.En)(1,"meters","millimeters"),centimeters:(0,M.En)(1,"meters","centimeters"),decimeters:(0,M.En)(1,"meters","decimeters"),meters:(0,M.En)(1,"meters","meters"),kilometers:(0,M.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,M.ty)(1,"meters",D.sv.radius)}},39683:(qe,Me,E)=>{"use strict";E.d(Me,{y:()=>N});var M=E(15861),D=E(59213),Q=E(10699),B=E(14889);function N(k,F,I){return ne.apply(this,arguments)}function ne(){return(ne=(0,M.Z)(function*(k,F,I){const x=k&&k.getAtOrigin&&k.getAtOrigin("renderer",F.origin);if(x&&"unique-value"===x.type&&x.styleOrigin){const $=yield(0,D.q6)(x.populateFromStyle());if((0,Q.k_)(I),!1===$.ok){const Y=$.error;F&&F.messages&&F.messages.push(new B.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${Y.message}`,{error:Y,context:F})),k.clear("renderer",F.origin)}}})).apply(this,arguments)}},32088:(qe,Me,E)=>{"use strict";E.d(Me,{A:()=>F,o:()=>I});var M=E(4832),D=E(49067),Q=E(26284),B=E(54928),N=E(69357),ne=E(40342),k=E(14726);const F={key:"type",base:N.Z,typeMap:{heatmap:B.Z,simple:ne.Z,"unique-value":k.Z,"class-breaks":M.Z,"dot-density":Q.Z,dictionary:D.Z},errorContext:"renderer"},I={key:"type",base:N.Z,typeMap:{simple:ne.Z,"unique-value":k.Z,"class-breaks":M.Z},errorContext:"renderer"}},13398:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),D=E(26584),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(99433),I=E(17977);let $=x=class extends I.Z{constructor(Z){super(Z),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(Z,re,X,L){L&&L.messages&&L.messages.push(new D.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:L}))}clone(){return new x({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};(0,M._)([(0,Q.Cb)({readOnly:!0})],$.prototype,"cache",null),(0,M._)([(0,Q.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],$.prototype,"axis",void 0),(0,M._)([(0,Q.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],$.prototype,"type",void 0),(0,M._)([(0,Q.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],$.prototype,"rotationType",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],$.prototype,"valueExpressionTitle",void 0),(0,M._)([(0,F.c)("web-scene","valueExpressionTitle")],$.prototype,"writeValueExpressionTitleWebScene",null),$=x=(0,M._)([(0,k.j)("esri.renderers.visualVariables.RotationVariable")],$);const Y=$},68598:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>V});var T,M=E(17626),D=E(26584),Q=E(2076),B=E(63290),N=E(23841),ne=E(77712),I=(E(85931),E(8314),E(66656)),x=E(68653),$=E(76898),Y=E(99433),Z=E(17977),re=E(64902),L=(E(90912),E(11333));let P=T=class extends L.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new T({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};(0,M._)([(0,ne.Cb)({type:[Number],json:{write:!0}})],P.prototype,"customValues",void 0),P=T=(0,M._)([(0,$.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],P);const j=P;var te,K=E(86971),W=E(81808);const J=B.Z.getLogger("esri.renderers.visualVariables.SizeVariable"),he=new Q.X({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),oe=new Q.X({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function me(ce){if(null!=ce)return"string"==typeof ce||"number"==typeof ce?(0,N.t_)(ce):"size"===ce.type?(0,K.iY)(ce)?ce:(delete(ce=Pt({},ce)).type,new ie(ce)):void 0}function de(ce,ae,pe){if("object"!=typeof ce)return ce;const ue=new ie;return ue.read(ce,pe),ue}let ie=te=class extends Z.Z{constructor(ce){super(ce),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:W.viewScaleRE.test(this.valueExpression)}}set expression(ce){J.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===ce?(this.valueExpression="$view.scale",this._set("expression",ce)):this._set("expression",null)}set index(ce){(0,K.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${ce}].maxSize`),(0,K.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${ce}].minSize`),this._set("index",ce)}get inputValueType(){return(0,K.PS)(this)}set maxDataValue(ce){ce&&this.stops&&(J.warn("cannot set maxDataValue when stops is not null."),ce=null),this._set("maxDataValue",ce)}set maxSize(ce){ce&&this.stops&&(J.warn("cannot set maxSize when stops is not null."),ce=null),this._set("maxSize",ce)}castMaxSize(ce){return me(ce)}readMaxSize(ce,ae,pe){return de(ce,0,pe)}set minDataValue(ce){ce&&this.stops&&(J.warn("cannot set minDataValue when stops is not null."),ce=null),this._set("minDataValue",ce)}set minSize(ce){ce&&this.stops&&(J.warn("cannot set minSize when stops is not null."),ce=null),this._set("minSize",ce)}castMinSize(ce){return me(ce)}readMinSize(ce,ae,pe){return de(ce,0,pe)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(ce){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?ce&&Array.isArray(ce)&&(ce=ce.filter(ae=>!!ae)).sort((ae,pe)=>ae.value-pe.value):ce&&(J.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),ce=null),this._set("stops",ce)}get transformationType(){return(0,K.QW)(this,this.inputValueType)}readValueExpression(ce,ae){return ce||ae.expression&&"$view.scale"}writeValueExpressionWebScene(ce,ae,pe,ue){if("$view.scale"===ce){if(ue&&ue.messages){const ye=this.index;ue.messages.push(new D.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof ye?ye:`visualVariables[${ye}]`)+".valueExpression",context:ue}))}}else ae[pe]=ce}readValueUnit(ce){return ce?oe.read(ce):null}clone(){return new te({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,K.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,K.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(ce=>ce.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===K.hL.ClampedLinear){const{minSize:ce,maxSize:ae}=this;return this.minSize=ae,this.maxSize=ce,this}if(this.transformationType===K.hL.Stops){const ce=this.stops,ae=ce.map(ue=>ue.size).reverse(),pe=ce.length;for(let ue=0;ue<pe;ue++)ce[ue].size=ae[ue];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ce=>ce.value||0)}};(0,M._)([(0,ne.Cb)({readOnly:!0})],ie.prototype,"cache",null),(0,M._)([(0,ne.Cb)({type:he.apiValues,json:{type:he.jsonValues,origins:{"web-map":{read:!1}},read:he.read,write:he.write}})],ie.prototype,"axis",void 0),(0,M._)([(0,ne.Cb)({type:String,value:null,json:{read:!1}})],ie.prototype,"expression",null),(0,M._)([(0,ne.Cb)()],ie.prototype,"index",null),(0,M._)([(0,ne.Cb)({type:String,readOnly:!0})],ie.prototype,"inputValueType",null),(0,M._)([(0,ne.Cb)({type:j,json:{write:!0}})],ie.prototype,"legendOptions",void 0),(0,M._)([(0,ne.Cb)({type:Number,value:null,json:{write:!0}})],ie.prototype,"maxDataValue",null),(0,M._)([(0,ne.Cb)({type:Number,value:null,json:{write:!0}})],ie.prototype,"maxSize",null),(0,M._)([(0,I.p)("maxSize")],ie.prototype,"castMaxSize",null),(0,M._)([(0,x.r)("maxSize")],ie.prototype,"readMaxSize",null),(0,M._)([(0,ne.Cb)({type:Number,value:null,json:{write:!0}})],ie.prototype,"minDataValue",null),(0,M._)([(0,ne.Cb)({type:Number,value:null,json:{write:!0}})],ie.prototype,"minSize",null),(0,M._)([(0,I.p)("minSize")],ie.prototype,"castMinSize",null),(0,M._)([(0,x.r)("minSize")],ie.prototype,"readMinSize",null),(0,M._)([(0,ne.Cb)({type:String,json:{write:!0}})],ie.prototype,"normalizationField",void 0),(0,M._)([(0,ne.Cb)({readOnly:!0})],ie.prototype,"arcadeRequired",null),(0,M._)([(0,ne.Cb)({type:String})],ie.prototype,"scaleBy",void 0),(0,M._)([(0,ne.Cb)({type:[re.Z],value:null,json:{write:!0}})],ie.prototype,"stops",null),(0,M._)([(0,ne.Cb)({type:["outline"],json:{write:!0}})],ie.prototype,"target",void 0),(0,M._)([(0,ne.Cb)({type:String,readOnly:!0})],ie.prototype,"transformationType",null),(0,M._)([(0,ne.Cb)({type:["size"],json:{type:["sizeInfo"]}})],ie.prototype,"type",void 0),(0,M._)([(0,ne.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],ie.prototype,"useSymbolValue",void 0),(0,M._)([(0,ne.Cb)({type:String,json:{write:!0}})],ie.prototype,"valueExpression",void 0),(0,M._)([(0,x.r)("valueExpression",["valueExpression","expression"])],ie.prototype,"readValueExpression",null),(0,M._)([(0,Y.c)("web-scene","valueExpression")],ie.prototype,"writeValueExpressionWebScene",null),(0,M._)([(0,ne.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],ie.prototype,"valueRepresentation",void 0),(0,M._)([(0,ne.Cb)({type:oe.apiValues,json:{write:oe.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],ie.prototype,"valueUnit",void 0),(0,M._)([(0,x.r)("valueUnit")],ie.prototype,"readValueUnit",null),ie=te=(0,M._)([(0,$.j)("esri.renderers.visualVariables.SizeVariable")],ie);const V=ie},17977:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var M=E(17626),D=E(2076),Q=E(86810),B=E(63290),N=E(77712),F=(E(85931),E(8314),E(66656)),I=E(76898),x=E(90912),$=E(11333);const Y=B.Z.getLogger("esri.renderers.visualVariables.VisualVariable"),Z=new D.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let re=class extends Q.wq{constructor(L){super(L),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(L){return null==L?L:"function"==typeof L?(Y.error(".field: field must be a string value"),null):(0,x.Zs)(L)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,M._)([(0,N.Cb)()],re.prototype,"index",void 0),(0,M._)([(0,N.Cb)({type:Z.apiValues,readOnly:!0,json:{read:Z.read,write:Z.write}})],re.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],re.prototype,"field",void 0),(0,M._)([(0,F.p)("field")],re.prototype,"castField",null),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],re.prototype,"valueExpression",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],re.prototype,"valueExpressionTitle",void 0),(0,M._)([(0,N.Cb)({readOnly:!0})],re.prototype,"arcadeRequired",null),(0,M._)([(0,N.Cb)({type:$.Z,json:{write:!0}})],re.prototype,"legendOptions",void 0),re=(0,M._)([(0,I.j)("esri.renderers.visualVariables.VisualVariable")],re);const X=re},8029:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),D=E(91558),Q=E(86810),B=E(77712),k=(E(85931),E(8314),E(90912)),F=E(76898),I=E(99433);let $=x=class extends Q.wq{constructor(Z){super(Z),this.color=null,this.label=null,this.value=null}writeValue(Z,re,X){re[X]=null==Z?0:Z}clone(){return new x({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,M._)([(0,B.Cb)({type:D.Z,json:{type:[k.z8],write:!0}})],$.prototype,"color",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],$.prototype,"label",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],$.prototype,"value",void 0),(0,M._)([(0,I.c)("value")],$.prototype,"writeValue",null),$=x=(0,M._)([(0,F.j)("esri.renderers.visualVariables.support.ColorStop")],$);const Y=$},64902:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(86810),Q=E(23841),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898));let x=I=class extends D.wq{constructor(Y){super(Y),this.label=null,this.size=null,this.value=null}clone(){return new I({label:this.label,size:this.size,value:this.value})}};(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,M._)([(0,B.Cb)({type:Number,cast:Q.t_,json:{write:!0}})],x.prototype,"size",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],x.prototype,"value",void 0),x=I=(0,M._)([(0,F.j)("esri.renderers.visualVariables.support.SizeStop")],x);const $=x},11333:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(10914);let I=F=class extends k.Z{constructor(){super(...arguments),this.showLegend=null}clone(){return new F({title:this.title,showLegend:this.showLegend})}};(0,M._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],I.prototype,"showLegend",void 0),I=F=(0,M._)([(0,ne.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],I);const x=I},86971:(qe,Me,E)=>{"use strict";var M,D,k;function Q(k){return k&&"esri.renderers.visualVariables.SizeVariable"===k.declaredClass}function B(k){return null!=k&&!isNaN(k)&&isFinite(k)}function N(k){return k.valueExpression?M.Expression:k.field&&"string"==typeof k.field?M.Field:M.Unknown}function ne(k,F){return(F||N(k))===M.Unknown?D.Constant:k.stops?D.Stops:null!=k.minSize&&null!=k.maxSize&&null!=k.minDataValue&&null!=k.maxDataValue?D.ClampedLinear:"unknown"===(k.valueUnit||"unknown")?null!=k.minSize&&null!=k.minDataValue?k.minSize&&k.minDataValue?D.Proportional:D.Additive:D.Identity:D.RealWorldSize}E.d(Me,{RY:()=>M,hL:()=>D,PS:()=>N,QW:()=>ne,iY:()=>Q,qh:()=>B}),(k=M||(M={})).Unknown="unknown",k.Expression="expression",k.Field="field",function(k){k.Unknown="unknown",k.Stops="stops",k.ClampedLinear="clamped-linear",k.Proportional="proportional",k.Additive="additive",k.Constant="constant",k.Identity="identity",k.RealWorldSize="real-world-size"}(D||(D={}))},81808:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{getAllSizes:()=>ae,getColor:()=>Y,getOpacity:()=>Z,getRotationAngle:()=>re,getSize:()=>T,getSizeForValue:()=>de,getSizeFromNumberOrVariable:()=>P,getSizeRangeAtScale:()=>ie,getVisualVariableValues:()=>V,viewScaleRE:()=>$});var M=E(91558),D=E(88879),Q=E(94573),B=E(63290),N=E(62208),ne=E(21254),k=E(86971);const F=B.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),I=new D.Z,x=Math.PI,$=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Y(pe,ue,ye){const le="visualVariables"in pe&&pe.visualVariables?pe.visualVariables.find(tt=>"color"===tt.type):pe;if(!le)return;if("esri.renderers.visualVariables.ColorVariable"!==le.declaredClass)return void F.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const se="number"==typeof ue,Ce=se?null:ue,ge=Ce&&Ce.attributes;let Pe=se?ue:null;const Ee=le.field,{ipData:Ge,hasExpression:Se}=le.cache;let ve=le.cache.compiledFunc;if(!Ee&&!Se){const tt=le.stops;return tt&&tt[0]&&tt[0].color}if("number"!=typeof Pe)if(Se){if(!(0,N.pC)(ye)||!(0,N.pC)(ye.arcade))return void F.error("Use of arcade expressions requires an arcade context");const xe=ye.arcade.arcadeUtils,Ve=xe.getViewInfo({viewingMode:ye.viewingMode,scale:ye.scale,spatialReference:ye.spatialReference}),He=xe.createExecContext(Ce,Ve);if(!ve){const ee=xe.createSyntaxTree(le.valueExpression);ve=xe.createFunction(ee),le.cache.compiledFunc=ve}Pe=xe.executeFunction(ve,He)}else ge&&(Pe=ge[Ee]);const Te=le.normalizationField,Ze=ge?parseFloat(ge[Te]):void 0;if(null!=Pe&&(!Te||se||!isNaN(Ze)&&0!==Ze)){isNaN(Ze)||se||(Pe/=Ze);const tt=ce(Pe,Ge);if(tt){const xe=tt[0],Ve=tt[1],He=xe===Ve?le.stops[xe].color:M.Z.blendColors(le.stops[xe].color,le.stops[Ve].color,tt[2],(0,N.pC)(ye)?ye.color:void 0);return new M.Z(He)}}}function Z(pe,ue,ye){const le="visualVariables"in pe&&pe.visualVariables?pe.visualVariables.find(tt=>"opacity"===tt.type):pe;if(!le)return;if("esri.renderers.visualVariables.OpacityVariable"!==le.declaredClass)return void F.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const se="number"==typeof ue,Ce=se?null:ue,ge=Ce&&Ce.attributes;let Pe=se?ue:null;const Ee=le.field,{ipData:Ge,hasExpression:Se}=le.cache;let ve=le.cache.compiledFunc;if(!Ee&&!Se){const tt=le.stops;return tt&&tt[0]&&tt[0].opacity}if("number"!=typeof Pe)if(Se){if((0,N.Wi)(ye)||(0,N.Wi)(ye.arcade))return void F.error("Use of arcade expressions requires an arcade context");const xe=ye.arcade.arcadeUtils,Ve=xe.getViewInfo({viewingMode:ye.viewingMode,scale:ye.scale,spatialReference:ye.spatialReference}),He=xe.createExecContext(Ce,Ve);if(!ve){const ee=xe.createSyntaxTree(le.valueExpression);ve=xe.createFunction(ee),le.cache.compiledFunc=ve}Pe=xe.executeFunction(ve,He)}else ge&&(Pe=ge[Ee]);const Te=le.normalizationField,Ze=ge?parseFloat(ge[Te]):void 0;if(null!=Pe&&(!Te||se||!isNaN(Ze)&&0!==Ze)){isNaN(Ze)||se||(Pe/=Ze);const tt=ce(Pe,Ge);if(tt){const xe=tt[0],Ve=tt[1];if(xe===Ve)return le.stops[xe].opacity;{const He=le.stops[xe].opacity;return He+(le.stops[Ve].opacity-He)*tt[2]}}}}function re(pe,ue,ye){const le="visualVariables"in pe&&pe.visualVariables?pe.visualVariables.find(Ze=>"rotation"===Ze.type):pe;if(!le)return;if("esri.renderers.visualVariables.RotationVariable"!==le.declaredClass)return void F.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const se=le.axis||"heading",Ce="heading"===se&&"arithmetic"===le.rotationType?90:0,ge="heading"===se&&"arithmetic"===le.rotationType?-1:1,Pe="number"==typeof ue?null:ue,Ee=Pe&&Pe.attributes,Ge=le.field,{hasExpression:Se}=le.cache;let ve=le.cache.compiledFunc,Te=0;if(!Ge&&!Se)return Te;if(Se){if((0,N.Wi)(ye)||(0,N.Wi)(ye.arcade))return void F.error("Use of arcade expressions requires an arcade context");const tt=ye.arcade.arcadeUtils,xe=tt.getViewInfo({viewingMode:ye.viewingMode,scale:ye.scale,spatialReference:ye.spatialReference}),Ve=tt.createExecContext(Pe,xe);if(!ve){const He=tt.createSyntaxTree(le.valueExpression);ve=tt.createFunction(He),le.cache.compiledFunc=ve}Te=tt.executeFunction(ve,Ve)}else Ee&&(Te=Ee[Ge]||0);return Te="number"!=typeof Te||isNaN(Te)?null:Ce+ge*Te,Te}function T(pe,ue,ye){const le="visualVariables"in pe&&pe.visualVariables?pe.visualVariables.find(Ce=>"size"===Ce.type):pe;if(!le)return;if("esri.renderers.visualVariables.SizeVariable"!==le.declaredClass)return void F.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const se=de(function X(pe,ue,ye){const le="number"==typeof ue,se=le?null:ue,Ce=se&&se.attributes;let ge=le?ue:null;const{isScaleDriven:Pe}=pe.cache;let Ee=pe.cache.compiledFunc;if(Pe){const Se=(0,N.pC)(ye)?ye.scale:void 0,ve=(0,N.pC)(ye)?ye.view:void 0;ge=null==Se||"3d"===ve?function L(pe){let ue=null,ye=null;const le=pe.stops;return le?(ue=le[0].value,ye=le[le.length-1].value):(ue=pe.minDataValue||0,ye=pe.maxDataValue||0),(ue+ye)/2}(pe):Se}else if(!le)switch(pe.inputValueType){case k.RY.Expression:{if((0,N.Wi)(ye)||(0,N.Wi)(ye.arcade))return void F.error("Use of arcade expressions requires an arcade context");const ve=ye.arcade.arcadeUtils,Te=ve.getViewInfo({viewingMode:ye.viewingMode,scale:ye.scale,spatialReference:ye.spatialReference}),Ze=ve.createExecContext(se,Te);if(!Ee){const tt=ve.createSyntaxTree(pe.valueExpression);Ee=ve.createFunction(tt),pe.cache.compiledFunc=Ee}ge=ve.executeFunction(Ee,Ze);break}case k.RY.Field:Ce&&(ge=Ce[pe.field]);break;case k.RY.Unknown:ge=null}if(!(0,k.qh)(ge))return null;if(le||!pe.normalizationField)return ge;const Ge=Ce?parseFloat(Ce[pe.normalizationField]):null;return(0,k.qh)(Ge)&&0!==Ge?ge/Ge:null}(le,ue,ye),le,ue,ye,le.cache.ipData);return null==se||isNaN(se)?0:se}function P(pe,ue,ye){return null==pe?null:(0,k.iY)(pe)?T(pe,ue,ye):(0,k.qh)(pe)?pe:null}function j(pe,ue,ye){return(0,k.qh)(ye)&&pe>ye?ye:(0,k.qh)(ue)&&pe<ue?ue:pe}function de(pe,ue,ye,le,se){switch(ue.transformationType){case k.hL.Additive:return function K(pe,ue,ye,le){return pe+(P(ue.minSize,ye,le)||ue.minDataValue)}(pe,ue,ye,le);case k.hL.Constant:return function W(pe,ue,ye){const le=pe.stops;let se=le&&le.length&&le[0].size;return null==se&&(se=pe.minSize),P(se,ue,ye)}(ue,ye,le);case k.hL.ClampedLinear:return function te(pe,ue,ye,le){const se=(pe-ue.minDataValue)/(ue.maxDataValue-ue.minDataValue),Ce=P(ue.minSize,ye,le),ge=P(ue.maxSize,ye,le),Pe=(0,N.pC)(le)?le.shape:void 0;if(pe<=ue.minDataValue)return Ce;if(pe>=ue.maxDataValue)return ge;if("area"===ue.scaleBy&&Pe){const Ee="circle"===Pe,Ge=Ee?x*(Ce/2)**2:Ce*Ce,Se=Ge+se*((Ee?x*(ge/2)**2:ge*ge)-Ge);return Ee?2*Math.sqrt(Se/x):Math.sqrt(Se)}return Ce+se*(ge-Ce)}(pe,ue,ye,le);case k.hL.Proportional:return function J(pe,ue,ye,le){const se=(0,N.pC)(le)?le.shape:void 0,Ce=pe/ue.minDataValue,ge=P(ue.minSize,ye,le),Pe=P(ue.maxSize,ye,le);let Ee=null;return Ee="circle"===se?2*Math.sqrt(Ce*(ge/2)**2):"square"===se||"diamond"===se||"image"===se?Math.sqrt(Ce*ge**2):Ce*ge,j(Ee,ge,Pe)}(pe,ue,ye,le);case k.hL.Stops:return function he(pe,ue,ye,le,se){const[Ce,ge,Pe]=ce(pe,se);if(Ce===ge)return P(ue.stops[Ce].size,ye,le);{const Ee=P(ue.stops[Ce].size,ye,le);return Ee+(P(ue.stops[ge].size,ye,le)-Ee)*Pe}}(pe,ue,ye,le,se);case k.hL.RealWorldSize:return function oe(pe,ue,ye,le){const se=((0,N.pC)(le)&&le.resolution?le.resolution:1)*ne.a[ue.valueUnit],Ce=P(ue.minSize,ye,le),ge=P(ue.maxSize,ye,le),{valueRepresentation:Pe}=ue;let Ee=null;return Ee="area"===Pe?2*Math.sqrt(pe/x)/se:"radius"===Pe||"distance"===Pe?2*pe/se:pe/se,j(Ee,Ce,ge)}(pe,ue,ye,le);case k.hL.Identity:return pe;case k.hL.Unknown:return null}}function ie(pe,ue,ye){const{isScaleDriven:le}=pe.cache;if(!(le&&"3d"===ye||ue))return null;const se={scale:ue,view:ye};let Ce=P(pe.minSize,I,se),ge=P(pe.maxSize,I,se);if(null!=Ce||null!=ge){if(Ce>ge){const Pe=ge;ge=Ce,Ce=Pe}return{minSize:Ce,maxSize:ge}}}function V(pe,ue,ye){if(!pe.visualVariables)return;const le=[],se=[],Ce=[],ge=[],Pe=[];for(const Ee of pe.visualVariables)switch(Ee.type){case"color":se.push(Ee);break;case"opacity":Ce.push(Ee);break;case"rotation":Pe.push(Ee);break;case"size":ge.push(Ee)}return se.forEach(Ee=>{const Ge=Y(Ee,ue,ye);le.push({variable:Ee,value:Ge})}),Ce.forEach(Ee=>{const Ge=Z(Ee,ue,ye);le.push({variable:Ee,value:Ge})}),Pe.forEach(Ee=>{const Ge=re(Ee,ue,ye);le.push({variable:Ee,value:Ge})}),ge.forEach(Ee=>{const Ge=T(Ee,ue,ye);le.push({variable:Ee,value:Ge})}),le.filter(Ee=>null!=Ee.value)}function ce(pe,ue){if(!ue)return;let ye=0,le=ue.length-1;return ue.some((se,Ce)=>pe<se?(le=Ce,!0):(ye=Ce,!1)),[ye,le,(pe-ue[ye])/(ue[le]-ue[ye])]}function ae(pe,ue,ye){const le=["proportional","proportional","proportional"];for(const se of pe){const Ce=se.useSymbolValue?"symbol-value":T(se,ue,ye);switch(se.axis){case"width":le[0]=Ce;break;case"depth":le[1]=Ce;break;case"height":le[2]=Ce;break;case"width-and-depth":le[0]=Ce,le[1]=Ce;break;case"all":case void 0:case null:le[0]=Ce,le[1]=Ce,le[2]=Ce;break;default:(0,Q.Bg)(se.axis)}}return le}},84792:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>Y});var M=E(15861),D=E(59318),Q=E(24263),B=E(26584),N=E(8314),ne=E(58817),k=E(62208),F=E(10699),I=E(21726),x=E(12680),$=E(33899);function Y(ve,Te){return Z.apply(this,arguments)}function Z(){return(Z=(0,M.Z)(function*(ve,Te){var Ze;const tt=(0,I.HK)(ve),xe=(0,I.jc)(ve);xe||tt||(ve=(0,I.Fv)(ve));const Ve={url:ve,requestOptions:Pt({},(0,k.Wg)(Te))};let He=(0,I.oh)(ve);if(He){const Ye=yield ye(He,Ve);if(null!=Ye)return{data:Ye,getHeader:K,requestOptions:Ve.requestOptions,url:Ve.url};He.after||He.error||(He=null)}if(ve=Ve.url,"image"===(Te=Ve.requestOptions).responseType){if((0,N.Z)("host-webworker")||(0,N.Z)("host-node"))throw he("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),Ve)}else if(tt)throw he("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+Te.responseType),Ve);if("head"===Te.method){if(Te.body)throw he("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),Ve);if(tt||xe)throw he("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),Ve)}if(yield oe(),re)return re.execute(ve,Te);const ee=new AbortController;(0,F.fu)(Te,()=>ee.abort());const _e={controller:ee,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:He,params:Ve,redoRequest:!1,useIdentity:X.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},je=yield ge(_e);return null==(Ze=He)||null==Ze.after||Ze.after(je),je})).apply(this,arguments)}let re;const X=D.Z.request,L="FormData"in globalThis,T=[499,498,403,401],P=["COM_0056","COM_0057","SB_0008"],j=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],K=()=>null,W=Symbol();function te(ve){const Te=(0,I.P$)(ve);Te&&!Y._corsServers.includes(Te)&&Y._corsServers.push(Te)}function J(ve){const Te=(0,I.P$)(ve);return!Te||Te.endsWith(".arcgis.com")||Y._corsServers.includes(Te)||(0,I.kl)(Te)}function he(ve,Te,Ze,tt){let xe="Error";const Ve={url:Ze.url,requestOptions:Ze.requestOptions,getHeader:K,ssl:!1};if(Te instanceof B.Z)return Te.details?(Te.details=(0,ne.d9)(Te.details),Te.details.url=Ze.url,Te.details.requestOptions=Ze.requestOptions):Te.details=Ve,Te;if(Te){const He=tt&&(je=>tt.headers.get(je)),ee=tt&&tt.status,_e=Te.message;_e&&(xe=_e),He&&(Ve.getHeader=He),Ve.httpStatus=(null!=Te.httpCode?Te.httpCode:Te.code)||ee||0,Ve.subCode=Te.subcode,Ve.messageCode=Te.messageCode,Ve.messages="string"==typeof Te.details?[Te.details]:Te.details,Ve.raw=W in Te?Te[W]:Te}return(0,F.D_)(Te)?(0,F.zE)():new B.Z(ve,xe,Ve)}function oe(){return me.apply(this,arguments)}function me(){return(me=(0,M.Z)(function*(){(0,N.Z)("host-webworker")?re||(re=yield E.e(3358).then(E.bind(E,23358))):Y._abortableFetch||(Y._abortableFetch=globalThis.fetch.bind(globalThis))})).apply(this,arguments)}function de(){return ie.apply(this,arguments)}function ie(){return(ie=(0,M.Z)(function*(){Q.id||(yield E.e(9058).then(E.bind(E,59058)))})).apply(this,arguments)}function V(ve){return ce.apply(this,arguments)}function ce(){return(ce=(0,M.Z)(function*(ve){const Te=ve.params.url,Ze=ve.params.requestOptions,tt=ve.controller.signal,xe=Ze.body;let Ve=null,He=null,ee=null;if(L&&"HTMLFormElement"in globalThis&&(xe instanceof FormData?Ve=xe:xe instanceof HTMLFormElement&&(He=xe,Ve=new FormData(He))),"string"==typeof xe&&(ee=xe),ve.fetchOptions={cache:Ze.cacheBust&&!Y._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:Ze.headers||{},method:"head"===Ze.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:tt},(Ve||ee)&&(ve.fetchOptions.body=Ve||ee),"anonymous"===Ze.authMode&&(ve.useIdentity=!1),ve.hasToken=!!(/token=/i.test(Te)||Ze.query&&Ze.query.token||Ve&&Ve.get&&Ve.get("token")||He&&He.elements.token),!ve.hasToken&&D.Z.apiKey&&(0,x.r)(Te)&&(Ze.query||(Ze.query={}),Ze.query.token=D.Z.apiKey,ve.hasToken=!0),ve.useIdentity&&!ve.hasToken&&!ve.credentialToken&&!ae(Te)&&!(0,F.Hc)(tt)){let _e;"immediate"===Ze.authMode?(yield de(),_e=yield Q.id.getCredential(Te,{signal:tt}),ve.credential=_e):"no-prompt"===Ze.authMode?(yield de(),_e=yield Q.id.getCredential(Te,{prompt:!1,signal:tt}).catch(()=>{}),ve.credential=_e):Q.id&&(_e=Q.id.findCredential(Te)),_e&&(ve.credentialToken=_e.token,ve.useSSL=!!_e.ssl)}})).apply(this,arguments)}function ae(ve){return j.some(Te=>Te.test(ve))}function pe(ve){return ue.apply(this,arguments)}function ue(){return(ue=(0,M.Z)(function*(ve){let Te=ve.params.url;const Ze=ve.params.requestOptions,tt=ve.fetchOptions,xe=(0,I.jc)(Te)||(0,I.HK)(Te),Ve=Ze.responseType||"json",He=xe?0:null!=Ze.timeout?Ze.timeout:X.timeout;let ee=!1;if(!xe){ve.useSSL&&(Te=(0,I.hO)(Te)),Ze.cacheBust&&"default"===tt.cache&&(Te=(0,I.ZN)(Te,"request.preventCache",Date.now()));let it=Pt({},Ze.query);ve.credentialToken&&(it.token=ve.credentialToken);let at=(0,I.B7)(it);(0,N.Z)("esri-url-encodes-apostrophe")&&(at=at.replace(/'/g,"%27"));const ot=Te.length+1+at.length;let et;ee="delete"===Ze.method||"post"===Ze.method||"put"===Ze.method||!!Ze.body||ot>X.maxUrlLength;const _t=Ze.useProxy||!!(0,I.ed)(Te);if(_t){const Ke=(0,I.b7)(Te);et=Ke.path,!ee&&et.length+1+ot>X.maxUrlLength&&(ee=!0),Ke.query&&(it=Pt(Pt({},Ke.query),it))}if("HEAD"===tt.method&&(ee||_t)){if(ee)throw he("request:invalid-parameters",ot>X.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),ve.params);if(_t)throw he("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),ve.params)}if(ee?(tt.method="delete"===Ze.method?"DELETE":"put"===Ze.method?"PUT":"POST",Ze.body?Te=(0,I.fl)(Te,it):(tt.body=(0,I.B7)(it),tt.headers["Content-Type"]="application/x-www-form-urlencoded")):Te=(0,I.fl)(Te,it),_t&&(ve.useProxy=!0,Te=`${et}?${Te}`),it.token&&L&&tt.body instanceof FormData){const Ke=tt.body;Ke.set?Ke.set("token",it.token):Ke.append("token",it.token)}if(Ze.hasOwnProperty("withCredentials"))ve.withCredentials=Ze.withCredentials;else if(!(0,I.D6)(Te,(0,I.TI)()))if((0,I.kl)(Te))ve.withCredentials=!0;else if(Q.id){const Ke=Q.id.findServerInfo(Te);Ke&&Ke.webTierAuth&&(ve.withCredentials=!0)}ve.withCredentials&&(tt.credentials="include")}let _e,je,Ye=0,pt=!1;He>0&&(Ye=setTimeout(()=>{pt=!0,ve.controller.abort()},He));try{if("native-request-init"===Ze.responseType)je=tt,je.url=Te;else if("image"!==Ze.responseType||"default"!==tt.cache||"GET"!==tt.method||ee||se(Ze.headers)||!xe&&!ve.useProxy&&X.proxyUrl&&!J(Te)){if(_e=yield Y._abortableFetch(Te,tt),ve.useProxy||te(Te),"native"===Ze.responseType)je=_e;else if("HEAD"!==tt.method)if(_e.ok){switch(Ve){case"array-buffer":je=yield _e.arrayBuffer();break;case"blob":case"image":je=yield _e.blob();break;default:je=yield _e.text()}if(Ye&&(clearTimeout(Ye),Ye=0),"json"===Ve||"xml"===Ve||"document"===Ve)if(je)switch(Ve){case"json":je=JSON.parse(je);break;case"xml":je=Ce(je,"application/xml");break;case"document":je=Ce(je,"text/html")}else je=null;if(je){if("array-buffer"===Ve||"blob"===Ve){const it=_e.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(it)&&je["blob"===Ve?"size":"byteLength"]<=750)try{const at=yield new Response(je).json();at.error&&(je=at)}catch(at){}}"image"===Ve&&je instanceof Blob&&(je=yield Se(URL.createObjectURL(je),ve,!0))}}else je=yield _e.text()}else je=yield Se(Te,ve)}catch(it){if("AbortError"===it.name)throw pt?new Error("Timeout exceeded"):(0,F.zE)("Request canceled");if(!(!_e&&it instanceof TypeError&&X.proxyUrl)||Ze.body||"delete"===Ze.method||"head"===Ze.method||"post"===Ze.method||"put"===Ze.method||ve.useProxy||J(Te))throw it;ve.redoRequest=!0,(0,I.tD)({proxyUrl:X.proxyUrl,urlPrefix:(0,I.P$)(Te)})}finally{Ye&&clearTimeout(Ye)}return[_e,je]})).apply(this,arguments)}function ye(ve,Te){return le.apply(this,arguments)}function le(){return(le=(0,M.Z)(function*(ve,Te){if(null!=ve.responseData)return ve.responseData;if(ve.headers&&(Te.requestOptions.headers=Pt(Pt({},Te.requestOptions.headers),ve.headers)),ve.query&&(Te.requestOptions.query=Pt(Pt({},Te.requestOptions.query),ve.query)),ve.before){let Ze,tt;try{tt=yield ve.before(Te)}catch(xe){Ze=he("request:interceptor",xe,Te)}if((tt instanceof Error||tt instanceof B.Z)&&(Ze=he("request:interceptor",tt,Te)),Ze)throw ve.error&&ve.error(Ze),Ze;return tt}})).apply(this,arguments)}function se(ve){if(ve)for(const Te of Object.getOwnPropertyNames(ve))if(ve[Te])return!0;return!1}function Ce(ve,Te){let Ze;try{Ze=(new DOMParser).parseFromString(ve,Te)}catch(tt){}if(!Ze||Ze.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return Ze}function ge(ve){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,M.Z)(function*(ve){var Te,Ze;let tt,xe;yield V(ve);try{do{[tt,xe]=yield pe(ve)}while(!(yield Ee(ve,tt,xe)))}catch(ee){const _e=he("request:server",ee,ve.params,tt);throw _e.details.ssl=ve.useSSL,ve.interceptor&&ve.interceptor.error&&ve.interceptor.error(_e),_e}const Ve=ve.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(Ve)&&!ve.hasToken&&!ve.credentialToken&&null!=(Te=xe)&&null!=(Ze=Te.user)&&Ze.username&&!(0,I.kl)(Ve)){const ee=(0,I.P$)(Ve,!0);ee&&X.trustedServers.push(ee)}const He=ve.credential;if(He&&Q.id){const ee=Q.id.findServerInfo(He.server);let _e=ee&&ee.owningSystemUrl;if(_e){_e=_e.replace(/\/?$/,"/sharing");const je=Q.id.findCredential(_e,He.userId);je&&-1===Q.id._getIdenticalSvcIdx(_e,je)&&je.resources.unshift(_e)}}return{data:xe,getHeader:tt?ee=>tt.headers.get(ee):K,requestOptions:ve.params.requestOptions,ssl:ve.useSSL,url:ve.params.url}})).apply(this,arguments)}function Ee(ve,Te,Ze){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,M.Z)(function*(ve,Te,Ze){if(ve.redoRequest)return ve.redoRequest=!1,!1;const tt=ve.params.requestOptions;if(!Te||"native"===tt.responseType||"native-request-init"===tt.responseType)return!0;let xe,Ve,He,ee;if(!Te.ok)throw xe=new Error(`Unable to load ${Te.url} status: ${Te.status}`),xe[W]=Ze,xe;null!=Ze&&Ze.error&&(xe=Ze.error),xe&&(Ve=Number(xe.code),He=xe.hasOwnProperty("subcode")?Number(xe.subcode):null,ee=xe.messageCode,ee=ee&&ee.toUpperCase());const _e=tt.authMode;if(403===Ve&&(4===He||xe.message&&xe.message.toLowerCase().indexOf("ssl")>-1&&-1===xe.message.toLowerCase().indexOf("permission"))){if(!ve.useSSL)return ve.useSSL=!0,!1}else if(!ve.hasToken&&ve.useIdentity&&("no-prompt"!==_e||498===Ve)&&-1!==T.indexOf(Ve)&&!ae(ve.params.url)&&(403!==Ve||-1===P.indexOf(ee)&&(null==He||2===He&&ve.credentialToken))){yield de();try{const je=yield Q.id.getCredential(ve.params.url,{error:he("request:server",xe,ve.params),prompt:"no-prompt"!==_e,signal:ve.controller.signal,token:ve.credentialToken});return ve.credential=je,ve.credentialToken=je.token,ve.useSSL=ve.useSSL||je.ssl,!1}catch(je){if("no-prompt"===_e)return ve.credential=null,ve.credentialToken=null,!1;xe=je}}if(xe)throw xe;return!0})).apply(this,arguments)}function Se(ve,Te,Ze=!1){const tt=Te.controller.signal,xe=new Image;return xe.crossOrigin=Te.withCredentials?"use-credentials":"anonymous",xe.alt="",xe.src=ve,(0,$.f)(xe,ve,Ze,tt)}Y._abortableFetch=null,Y._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},76391:(qe,Me,E)=>{"use strict";function M(D){const Q={};for(const B in D){if("declaredClass"===B)continue;const N=D[B];if(null!=N&&"function"!=typeof N)if(Array.isArray(N)){Q[B]=[];for(let ne=0;ne<N.length;ne++)Q[B][ne]=M(N[ne])}else"object"==typeof N?N.toJSON&&(Q[B]=JSON.stringify(N)):Q[B]=N}return Q}E.d(Me,{A:()=>M})},90463:(qe,Me,E)=>{"use strict";E.d(Me,{P:()=>N});var M=E(15861),D=E(2618),Q=E(20477),B=E(84952);function N(k,F,I){return ne.apply(this,arguments)}function ne(){return(ne=(0,M.Z)(function*(k,F,I){const x=(0,D.en)(k);return(0,Q.executeQueryForCount)(x,B.Z.from(F),Pt({},I)).then($=>$.data.count)})).apply(this,arguments)}},24865:(qe,Me,E)=>{"use strict";E.d(Me,{G:()=>N});var M=E(15861),D=E(2618),Q=E(20477),B=E(84952);function N(k,F,I){return ne.apply(this,arguments)}function ne(){return(ne=(0,M.Z)(function*(k,F,I){const x=(0,D.en)(k);return(0,Q.executeQueryForIds)(x,B.Z.from(F),Pt({},I)).then($=>$.data.objectIds)})).apply(this,arguments)}},2865:(qe,Me,E)=>{"use strict";E.d(Me,{e:()=>ne,F:()=>F});var M=E(15861),D=E(2618),Q=E(20477),B=E(17253),N=E(84952);function ne(x,$,Y){return k.apply(this,arguments)}function k(){return(k=(0,M.Z)(function*(x,$,Y){const Z=yield F(x,$,Y);return B.default.fromJSON(Z)})).apply(this,arguments)}function F(x,$,Y){return I.apply(this,arguments)}function I(){return(I=(0,M.Z)(function*(x,$,Y){const Z=(0,D.en)(x),re=Pt({},Y),X=N.Z.from($),{data:L}=yield(0,Q.executeQuery)(Z,X,X.sourceSpatialReference,re);return L})).apply(this,arguments)}},20514:(qe,Me,E)=>{"use strict";E.d(Me,{P:()=>N});var M=E(62208),D=E(16730),Q=E(37053);function B(F,I,x){if(null==F.hasM||F.hasZ)for(const $ of I)for(const Y of $)Y.length>2&&(Y[2]*=x)}function N(F,I,x){if(!F&&!I||!x)return;const $=(0,D._R)(x);ne(F,x,$),ne(I,x,$)}function ne(F,I,x){if(F)for(const $ of F)k($.geometry,I,x)}function k(F,I,x){if((0,M.Wi)(F)||!F.spatialReference||(0,Q.fS)(F.spatialReference,I))return;const $=(0,D._R)(F.spatialReference)/x;if(1!==$)if("x"in F)null!=F.z&&(F.z*=$);else if("rings"in F)B(F,F.rings,$);else if("paths"in F)B(F,F.paths,$);else if("points"in F&&(null==F.hasM||F.hasZ))for(const Y of F.points)Y.length>2&&(Y[2]*=$)}},71260:(qe,Me,E)=>{"use strict";E.d(Me,{K9:()=>de,O7:()=>I,G$:()=>te});var M=E(26584),D=E(62208),Q=E(24192),B=E(88071),N=E(98558);const ne=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],k=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],F=["upperLeft","lowerLeft"];function I(ie){return ie>=ne.length?null:ne[ie]}function x(ie){return ie>=k.length?null:k[ie]}function $(ie){return ie>=F.length?null:F[ie]}function Y(ie,V){return V>=ie.geometryTypes.length?null:ie.geometryTypes[V]}function Z(ie,V,ce){const pe=V.createPointGeometry(ce);for(;ie.next();)switch(ie.tag()){case 3:{const ue=ie.getUInt32(),ye=ie.pos()+ue;let le=0;for(;ie.pos()<ye;)V.addCoordinatePoint(pe,ie.getSInt64(),le++);break}default:ie.skip()}return pe}function re(ie,V,ce){const ue=V.createGeometry(ce),ye=2+(ce.hasZ?1:0)+(ce.hasM?1:0);for(;ie.next();)switch(ie.tag()){case 2:{const le=ie.getUInt32(),se=ie.pos()+le;let Ce=0;for(;ie.pos()<se;)V.addLength(ue,ie.getUInt32(),Ce++);break}case 3:{const le=ie.getUInt32(),se=ie.pos()+le;let Ce=0;for(V.allocateCoordinates(ue);ie.pos()<se;)V.addCoordinate(ue,ie.getSInt64(),Ce),Ce++,Ce===ye&&(Ce=0);break}default:ie.skip()}return ue}function X(ie){const pe=new B.Z;let ue="esriGeometryPoint";for(;ie.next();)switch(ie.tag()){case 2:{const ye=ie.getUInt32(),le=ie.pos()+ye;for(;ie.pos()<le;)pe.lengths.push(ie.getUInt32());break}case 3:{const ye=ie.getUInt32(),le=ie.pos()+ye;for(;ie.pos()<le;)pe.coords.push(ie.getSInt64());break}case 1:ue=N.A[ie.getEnum()];break;default:ie.skip()}return{queryGeometry:pe,queryGeometryType:ue}}function L(ie){for(;ie.next();)switch(ie.tag()){case 1:return ie.getString();case 2:return ie.getFloat();case 3:return ie.getDouble();case 4:return ie.getSInt32();case 5:return ie.getUInt32();case 6:return ie.getInt64();case 7:return ie.getUInt64();case 8:return ie.getSInt64();case 9:return ie.getBool();default:return ie.skip(),null}return null}function T(ie){const le={type:I(0)};for(;ie.next();)switch(ie.tag()){case 1:le.name=ie.getString();break;case 2:le.type=I(ie.getEnum());break;case 3:le.alias=ie.getString();break;case 4:le.sqlType=x(ie.getEnum());break;case 5:default:ie.skip();break;case 6:le.defaultValue=ie.getString()}return le}function P(ie){const ae={};for(;ie.next();)switch(ie.tag()){case 1:ae.name=ie.getString();break;case 2:ae.isSystemMaintained=ie.getBool();break;default:ie.skip()}return ae}function j(ie,V,ce,ae){const le=V.createFeature(ce);let se=0;for(;ie.next();)switch(ie.tag()){case 1:{const Ce=ae[se++].name;le.attributes[Ce]=ie.processMessage(L);break}case 2:le.geometry=ie.processMessageWithArgs(re,V,ce);break;case 4:le.centroid=ie.processMessageWithArgs(Z,V,ce);break;default:ie.skip()}return le}function K(ie){const ue=[1,1,1,1];for(;ie.next();)switch(ie.tag()){case 1:ue[0]=ie.getDouble();break;case 2:ue[1]=ie.getDouble();break;case 4:ue[2]=ie.getDouble();break;case 3:ue[3]=ie.getDouble();break;default:ie.skip()}return ue}function W(ie){const ue=[0,0,0,0];for(;ie.next();)switch(ie.tag()){case 1:ue[0]=ie.getDouble();break;case 2:ue[1]=ie.getDouble();break;case 4:ue[2]=ie.getDouble();break;case 3:ue[3]=ie.getDouble();break;default:ie.skip()}return ue}function te(ie){const pe={originPosition:$(0)};for(;ie.next();)switch(ie.tag()){case 1:pe.originPosition=$(ie.getEnum());break;case 2:pe.scale=ie.processMessage(K);break;case 3:pe.translate=ie.processMessage(W);break;default:ie.skip()}return pe}function J(ie){const pe={};for(;ie.next();)switch(ie.tag()){case 1:pe.shapeAreaFieldName=ie.getString();break;case 2:pe.shapeLengthFieldName=ie.getString();break;case 3:pe.units=ie.getString();break;default:ie.skip()}return pe}function he(ie,V){const le=V.createSpatialReference();for(;ie.next();)switch(ie.tag()){case 1:le.wkid=ie.getUInt32();break;case 5:le.wkt=ie.getString();break;case 2:le.latestWkid=ie.getUInt32();break;case 3:le.vcsWkid=ie.getUInt32();break;case 4:le.latestVcsWkid=ie.getUInt32();break;default:ie.skip()}return le}function oe(ie,V){const ve=V.createFeatureResult();ve.geometryType=Y(V,0);let Te=!1;for(;ie.next();)switch(ie.tag()){case 1:ve.objectIdFieldName=ie.getString();break;case 3:ve.globalIdFieldName=ie.getString();break;case 4:ve.geohashFieldName=ie.getString();break;case 5:ve.geometryProperties=ie.processMessage(J);break;case 7:ve.geometryType=Y(V,ie.getEnum());break;case 8:ve.spatialReference=ie.processMessageWithArgs(he,V);break;case 10:ve.hasZ=ie.getBool();break;case 11:ve.hasM=ie.getBool();break;case 12:ve.transform=ie.processMessage(te);break;case 9:{const Ze=ie.getBool();ve.exceededTransferLimit=Ze;break}case 13:V.addField(ve,ie.processMessage(T));break;case 15:Te||(V.prepareFeatures(ve),Te=!0),V.addFeature(ve,ie.processMessageWithArgs(j,V,ve,ve.fields));break;case 2:ve.uniqueIdField=ie.processMessage(P);break;default:ie.skip()}return V.finishFeatureResult(ve),ve}function me(ie,V){const pe={};let ue=null;for(;ie.next();)switch(ie.tag()){case 4:ue=ie.processMessageWithArgs(X);break;case 1:pe.featureResult=ie.processMessageWithArgs(oe,V);break;default:ie.skip()}return(0,D.pC)(ue)&&pe.featureResult&&V.addQueryGeometry(pe,ue),pe}function de(ie,V){try{const ae=new Q.Z(new Uint8Array(ie),new DataView(ie)),pe={};for(;ae.next();)2===ae.tag()?pe.queryResult=ae.processMessageWithArgs(me,V):ae.skip();return pe}catch(ce){throw new M.Z("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:ce})}}},98558:(qe,Me,E)=>{"use strict";E.d(Me,{A:()=>ne,J:()=>k});var M=E(16730),D=E(37053),Q=E(66385),B=E(95786),N=E(88071);const ne=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class k{constructor(I){this.options=I,this.geometryTypes=ne,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new B.Z}prepareFeatures(I){this._vertexDimension=2,I.hasZ&&this._vertexDimension++,I.hasM&&this._vertexDimension++}finishFeatureResult(I){if(!I||!I.features||!I.hasZ||!this.options.sourceSpatialReference||!I.spatialReference||(0,D.fS)(I.spatialReference,this.options.sourceSpatialReference)||I.spatialReference.vcsWkid)return;const x=(0,M._R)(this.options.sourceSpatialReference)/(0,M._R)(I.spatialReference);if(1!==x)for(const $ of I.features){if(!(0,Q.S6)($))continue;const Y=$.geometry.coords;for(let Z=2;Z<Y.length;Z+=3)Y[Z]*=x}}addFeature(I,x){I.features.push(x)}createFeature(){return new Q.u_}createSpatialReference(){return{wkid:0}}createGeometry(){return new N.Z}addField(I,x){I.fields.push(x)}allocateCoordinates(I){I.coords.length=I.lengths.reduce((x,$)=>x+$,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(I,x){I.coords[this._coordinatePtr++]=x}addCoordinatePoint(I,x){I.coords.push(x)}addLength(I,x){I.lengths.push(x)}addQueryGeometry(I,x){I.queryGeometry=x.queryGeometry,I.queryGeometryType=x.queryGeometryType}createPointGeometry(){return new N.Z}}},85262:(qe,Me,E)=>{"use strict";E.d(Me,{C:()=>D});var M=E(71260);function D(Q,B){const N=(0,M.K9)(Q,B),ne=N.queryResult.featureResult,k=N.queryResult.queryGeometry,F=N.queryResult.queryGeometryType;if(ne&&ne.features&&ne.features.length&&ne.objectIdFieldName){const I=ne.objectIdFieldName;for(const x of ne.features)x.attributes&&(x.objectId=x.attributes[I])}return ne&&(ne.queryGeometry=k,ne.queryGeometryType=F),ne}},20477:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{encodeGeometry:()=>$,executeQuery:()=>Z,executeQueryForCount:()=>j,executeQueryForExtent:()=>K,executeQueryForIds:()=>P,executeQueryPBF:()=>X,executeQueryPBFBuffer:()=>T,queryToQueryStringParameters:()=>Y,runQuery:()=>W});var M=E(15861),D=E(84792),Q=E(62208),B=E(21726),N=E(91179),ne=E(13924),k=E(76391),F=E(85262),I=E(61515);const x="Layer does not support extent calculation.";function $(te,J){if(J&&"extent"===te.type)return`${te.xmin},${te.ymin},${te.xmax},${te.ymax}`;if(J&&"point"===te.type)return`${te.x},${te.y}`;const he=te.toJSON();return delete he.spatialReference,JSON.stringify(he)}function Y(te,J){const he=te.geometry,oe=te.toJSON();delete oe.compactGeometryEnabled,delete oe.defaultSpatialReferenceEnabled;const me=oe,de=te.outSpatialReference;let ie,V;if((0,Q.pC)(he)&&(ie=he.spatialReference,V=he.spatialReference.wkid||JSON.stringify(he.spatialReference),me.geometryType=(0,N.Ji)(he),me.geometry=$(he,te.compactGeometryEnabled),me.inSR=V),oe.groupByFieldsForStatistics&&(me.groupByFieldsForStatistics=oe.groupByFieldsForStatistics.join(",")),oe.objectIds&&(me.objectIds=oe.objectIds.join(",")),oe.orderByFields&&(me.orderByFields=oe.orderByFields.join(",")),!oe.outFields||!oe.returnDistinctValues&&(null!=J&&J.returnCountOnly||null!=J&&J.returnExtentOnly||null!=J&&J.returnIdsOnly)?delete me.outFields:me.outFields=-1!==oe.outFields.indexOf("*")?"*":oe.outFields.join(","),oe.outSR?me.outSR=oe.outSR.wkid||JSON.stringify(oe.outSR):he&&(oe.returnGeometry||oe.returnCentroid)&&(me.outSR=me.inSR),oe.returnGeometry&&delete oe.returnGeometry,oe.outStatistics&&(me.outStatistics=JSON.stringify(oe.outStatistics)),oe.pixelSize&&(me.pixelSize=JSON.stringify(oe.pixelSize)),oe.quantizationParameters&&(te.defaultSpatialReferenceEnabled&&(0,Q.pC)(ie)&&(0,Q.pC)(te.quantizationParameters)&&(0,Q.pC)(te.quantizationParameters.extent)&&ie.equals(te.quantizationParameters.extent.spatialReference)&&delete oe.quantizationParameters.extent.spatialReference,me.quantizationParameters=JSON.stringify(oe.quantizationParameters)),oe.parameterValues&&(me.parameterValues=JSON.stringify(oe.parameterValues)),oe.rangeValues&&(me.rangeValues=JSON.stringify(oe.rangeValues)),oe.dynamicDataSource&&(me.layer=JSON.stringify({source:oe.dynamicDataSource}),delete oe.dynamicDataSource),oe.timeExtent){const ce=oe.timeExtent,{start:ae,end:pe}=ce;null==ae&&null==pe||(me.time=ae===pe?ae:`${null==ae?"null":ae},${null==pe?"null":pe}`),delete oe.timeExtent}return te.defaultSpatialReferenceEnabled&&(0,Q.pC)(ie)&&(0,Q.pC)(de)&&ie.equals(de)&&(me.defaultSR=me.inSR,delete me.inSR,delete me.outSR),me}function Z(te,J,he,oe){return re.apply(this,arguments)}function re(){return(re=(0,M.Z)(function*(te,J,he,oe){const me=(0,Q.pC)(J.timeExtent)&&J.timeExtent.isEmpty?{data:{features:[]}}:yield W(te,J,"json",oe);return(0,I.p)(J,he,me.data),me})).apply(this,arguments)}function X(te,J,he,oe){return L.apply(this,arguments)}function L(){return(L=(0,M.Z)(function*(te,J,he,oe){if((0,Q.pC)(J.timeExtent)&&J.timeExtent.isEmpty)return Promise.resolve({data:he.createFeatureResult()});const me=yield T(te,J,oe),de=me;return de.data=(0,F.C)(me.data,he),de})).apply(this,arguments)}function T(te,J,he){return W(te,J,"pbf",he)}function P(te,J,he){return(0,Q.pC)(J.timeExtent)&&J.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):W(te,J,"json",he,{returnIdsOnly:!0})}function j(te,J,he){return(0,Q.pC)(J.timeExtent)&&J.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):W(te,J,"json",he,{returnIdsOnly:!0,returnCountOnly:!0})}function K(te,J,he){return(0,Q.pC)(J.timeExtent)&&J.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):W(te,J,"json",he,{returnExtentOnly:!0,returnCountOnly:!0}).then(oe=>{const me=oe.data;if(me.hasOwnProperty("extent"))return oe;if(me.features)throw new Error(x);if(me.hasOwnProperty("count"))throw new Error(x);return oe})}function W(te,J,he,oe={},me={}){const de="string"==typeof te?(0,B.mN)(te):te,ie=J.geometry?[J.geometry]:[];return oe.responseType="pbf"===he?"array-buffer":"json",(0,ne.aX)(ie,null,oe).then(V=>{const ce=V&&V[0];(0,Q.pC)(ce)&&((J=J.clone()).geometry=ce);const ae=(0,k.A)(Pt(Pt($n(Pt({},de.query),{f:he}),me),Y(J,me)));return(0,D.default)((0,B.v_)(de.path,"query"),$n(Pt({},oe),{query:Pt(Pt({},ae),oe.query)}))})}},85531:(qe,Me,E)=>{"use strict";E.d(Me,{X:()=>F,O:()=>k});var M=E(24263),D=E(84792),Q=E(21726),B=E(76391),N=E(87183);function ne(I){const x=I.toJSON();return x.attachmentTypes&&(x.attachmentTypes=x.attachmentTypes.join(",")),x.keywords&&(x.keywords=x.keywords.join(",")),x.globalIds&&(x.globalIds=x.globalIds.join(",")),x.objectIds&&(x.objectIds=x.objectIds.join(",")),x.size&&(x.size=x.size.join(",")),x}function k(I,x){const $={};for(const Y of I){const{parentObjectId:Z,parentGlobalId:re,attachmentInfos:X}=Y;for(const L of X){const{id:T}=L,P=(0,Q.qg)((0,M.Dp)(`${x}/${Z}/attachments/${T}`)),j=N.Z.fromJSON(L);j.set({url:P,parentObjectId:Z,parentGlobalId:re}),$[Z]?$[Z].push(j):$[Z]=[j]}}return $}function F(I,x,$){let Y={query:(0,B.A)(Pt($n(Pt({},I.query),{f:"json"}),ne(x)))};return $&&(Y=$n(Pt(Pt({},$),Y),{query:Pt(Pt({},$.query),Y.query)})),(0,D.default)(I.path+"/queryAttachments",Y)}},61515:(qe,Me,E)=>{"use strict";E.d(Me,{p:()=>Q});var M=E(62208),D=E(33696);function Q(B,N,ne){if(!ne||!ne.features||!ne.hasZ)return;const k=(0,D.k)(ne.geometryType,N,B.outSpatialReference);if(!(0,M.Wi)(k))for(const F of ne.features)k(F.geometry)}},87183:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var x,M=E(17626),D=E(86810),Q=E(77712),ne=(E(85931),E(8314),E(90912)),k=E(76898);const $={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let Y=x=class extends D.wq{constructor(re){super(re),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:re}=this,X=function F(re){const{exifInfo:X,exifName:L,tagName:T}=re;if(!X||!L||!T)return null;const P=X.find(j=>j.name===L);return P?function I(re){const{tagName:X,tags:L}=re;if(!L||!X)return null;const T=L.find(P=>P.name===X);return T&&T.value||null}({tagName:T,tags:P.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:re});return $[X]||null}clone(){return new x({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,M._)([(0,Q.Cb)({type:String})],Y.prototype,"contentType",void 0),(0,M._)([(0,Q.Cb)()],Y.prototype,"exifInfo",void 0),(0,M._)([(0,Q.Cb)({readOnly:!0})],Y.prototype,"orientationInfo",null),(0,M._)([(0,Q.Cb)({type:ne.z8})],Y.prototype,"id",void 0),(0,M._)([(0,Q.Cb)({type:String})],Y.prototype,"globalId",void 0),(0,M._)([(0,Q.Cb)({type:String})],Y.prototype,"keywords",void 0),(0,M._)([(0,Q.Cb)({type:String})],Y.prototype,"name",void 0),(0,M._)([(0,Q.Cb)({json:{read:!1}})],Y.prototype,"parentGlobalId",void 0),(0,M._)([(0,Q.Cb)({json:{read:!1}})],Y.prototype,"parentObjectId",void 0),(0,M._)([(0,Q.Cb)({type:ne.z8})],Y.prototype,"size",void 0),(0,M._)([(0,Q.Cb)({json:{read:!1}})],Y.prototype,"url",void 0),Y=x=(0,M._)([(0,k.j)("esri.layers.support.AttachmentInfo")],Y);const Z=Y},40251:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(91558),Q=E(58817),B=E(77712),N=E(90912),ne=E(55342),k=E(76898),F=E(61661);let x=I=class extends F.Z{constructor(Y){super(Y),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new I({fromColor:(0,Q.d9)(this.fromColor),toColor:(0,Q.d9)(this.toColor),algorithm:this.algorithm})}};(0,M._)([(0,ne.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],x.prototype,"algorithm",void 0),(0,M._)([(0,B.Cb)({type:D.Z,json:{type:[N.z8],write:!0}})],x.prototype,"fromColor",void 0),(0,M._)([(0,B.Cb)({type:D.Z,json:{type:[N.z8],write:!0}})],x.prototype,"toColor",void 0),(0,M._)([(0,B.Cb)({type:["algorithmic"]})],x.prototype,"type",void 0),x=I=(0,M._)([(0,k.j)("esri.rest.support.AlgorithmicColorRamp")],x);const $=x},67736:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(86810),Q=E(58817),B=E(77712),N=E(90912),ne=E(76898),k=E(99433);let I=F=class extends D.wq{constructor($){super($),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart($,Y){Y.resultOffset=this.start,Y.resultRecordCount=this.num||10}clone(){return new F((0,Q.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,M._)([(0,B.Cb)({type:[String],json:{write:!0}})],I.prototype,"attachmentTypes",void 0),(0,M._)([(0,B.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],I.prototype,"attachmentsWhere",void 0),(0,M._)([(0,B.Cb)({type:[String],json:{write:!0}})],I.prototype,"keywords",void 0),(0,M._)([(0,B.Cb)({type:[Number],json:{write:!0}})],I.prototype,"globalIds",void 0),(0,M._)([(0,B.Cb)({json:{write:!0}})],I.prototype,"name",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],I.prototype,"num",void 0),(0,M._)([(0,B.Cb)({type:[Number],json:{write:!0}})],I.prototype,"objectIds",void 0),(0,M._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],I.prototype,"returnMetadata",void 0),(0,M._)([(0,B.Cb)({type:[Number],json:{write:!0}})],I.prototype,"size",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],I.prototype,"start",void 0),(0,M._)([(0,k.c)("start"),(0,k.c)("num")],I.prototype,"writeStart",null),(0,M._)([(0,B.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],I.prototype,"where",void 0),I=F=(0,M._)([(0,ne.j)("esri.rest.support.AttachmentQuery")],I),I.from=(0,N.se)(I);const x=I},61661:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let F=class extends D.wq{constructor(x){super(x),this.type=null}};(0,M._)([(0,Q.Cb)({readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=(0,M._)([(0,k.j)("esri.rest.support.ColorRamp")],F);const I=F},17253:(qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>j});var L,M=E(17626),D=E(29132),Q=E(88879),B=E(2076),N=E(86810),ne=E(58817),k=E(62208),F=E(77712),x=(E(90912),E(68653)),$=E(76898),Y=E(99433),Z=E(65234),re=E(91179),X=E(36255);const T=new B.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let P=L=class extends N.wq{constructor(K){super(K),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(K,W){const te=Z.Z.fromJSON(W.spatialReference),J=[];for(let he=0;he<K.length;he++){const oe=K[he],me=Q.Z.fromJSON(oe),de=oe.geometry&&oe.geometry.spatialReference;(0,k.pC)(me.geometry)&&!de&&(me.geometry.spatialReference=te);const ie=oe.aggregateGeometries,V=me.aggregateGeometries;if(ie&&(0,k.pC)(V))for(const ce in V){const ae=V[ce],pe=ie[ce],ue=null==pe?void 0:pe.spatialReference;(0,k.pC)(ae)&&!ue&&(ae.spatialReference=te)}J.push(me)}return J}writeGeometryType(K,W,te,J){if(K)return void T.write(K,W,te,J);const{features:he}=this;if(he)for(const oe of he)if(oe&&(0,k.pC)(oe.geometry))return void T.write(oe.geometry.type,W,te,J)}readQueryGeometry(K,W){if(!K)return null;const te=!!K.spatialReference,J=(0,re.im)(K);return!te&&W.spatialReference&&(J.spatialReference=Z.Z.fromJSON(W.spatialReference)),J}writeSpatialReference(K,W){if(K)return void(W.spatialReference=K.toJSON());const{features:te}=this;if(te)for(const J of te)if(J&&(0,k.pC)(J.geometry)&&J.geometry.spatialReference)return void(W.spatialReference=J.geometry.spatialReference.toJSON())}clone(){return new L(this.cloneProperties())}cloneProperties(){return(0,ne.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(K){const W=this.write();if(W.features&&Array.isArray(K)&&K.length>0)for(let te=0;te<W.features.length;te++){const J=W.features[te];if(J.geometry){const he=K&&K[te];J.geometry=he&&he.toJSON()||J.geometry}}return W}quantize(K){const{scale:[W,te],translate:[J,he]}=K,de=this.features,ie=this._getQuantizationFunction(this.geometryType,V=>Math.round((V-J)/W),V=>Math.round((he-V)/te));for(let V=0,ce=de.length;V<ce;V++)ie((0,k.Wg)(de[V].geometry))||(de.splice(V,1),V--,ce--);return this.transform=K,this}unquantize(){const{geometryType:K,features:W,transform:te}=this;if(!te)return this;const{translate:[J,he],scale:[oe,me]}=te,V=this._getHydrationFunction(K,ce=>ce*oe+J,ce=>he-ce*me);for(const{geometry:ce}of W)(0,k.pC)(ce)&&V(ce);return this.transform=null,this}_quantizePoints(K,W,te){let J,he;const oe=[];for(let me=0,de=K.length;me<de;me++){const ie=K[me];if(me>0){const V=W(ie[0]),ce=te(ie[1]);V===J&&ce===he||(oe.push([V-J,ce-he]),J=V,he=ce)}else J=W(ie[0]),he=te(ie[1]),oe.push([J,he])}return oe.length>0?oe:null}_getQuantizationFunction(K,W,te){return"point"===K?J=>(J.x=W(J.x),J.y=te(J.y),J):"polyline"===K||"polygon"===K?J=>{const he=(0,re.oU)(J)?J.rings:J.paths,oe=[];for(let me=0,de=he.length;me<de;me++){const V=this._quantizePoints(he[me],W,te);V&&oe.push(V)}return oe.length>0?((0,re.oU)(J)?J.rings=oe:J.paths=oe,J):null}:"multipoint"===K?J=>{const he=this._quantizePoints(J.points,W,te);return he.length>0?(J.points=he,J):null}:"extent"===K?J=>J:null}_getHydrationFunction(K,W,te){return"point"===K?J=>{J.x=W(J.x),J.y=te(J.y)}:"polyline"===K||"polygon"===K?J=>{const he=(0,re.oU)(J)?J.rings:J.paths;let oe,me;for(let de=0,ie=he.length;de<ie;de++){const V=he[de];for(let ce=0,ae=V.length;ce<ae;ce++){const pe=V[ce];ce>0?(oe+=pe[0],me+=pe[1]):(oe=pe[0],me=pe[1]),pe[0]=W(oe),pe[1]=te(me)}}}:"extent"===K?J=>{J.xmin=W(J.xmin),J.ymin=te(J.ymin),J.xmax=W(J.xmax),J.ymax=te(J.ymax)}:"multipoint"===K?J=>{const he=J.points;let oe,me;for(let de=0,ie=he.length;de<ie;de++){const V=he[de];de>0?(oe+=V[0],me+=V[1]):(oe=V[0],me=V[1]),V[0]=W(oe),V[1]=te(me)}}:void 0}};(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],P.prototype,"displayFieldName",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{write:{overridePolicy:K=>({enabled:K})}}})],P.prototype,"exceededTransferLimit",void 0),(0,M._)([(0,F.Cb)({type:[Q.Z],json:{write:!0}})],P.prototype,"features",void 0),(0,M._)([(0,x.r)("features")],P.prototype,"readFeatures",null),(0,M._)([(0,F.Cb)({type:[X.Z],json:{write:!0}})],P.prototype,"fields",void 0),(0,M._)([(0,F.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:T.read}}})],P.prototype,"geometryType",void 0),(0,M._)([(0,Y.c)("geometryType")],P.prototype,"writeGeometryType",null),(0,M._)([(0,F.Cb)({type:Boolean,json:{write:{overridePolicy:K=>({enabled:K})}}})],P.prototype,"hasM",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{write:{overridePolicy:K=>({enabled:K})}}})],P.prototype,"hasZ",void 0),(0,M._)([(0,F.Cb)({types:D.qM,json:{write:!0}})],P.prototype,"queryGeometry",void 0),(0,M._)([(0,x.r)("queryGeometry")],P.prototype,"readQueryGeometry",null),(0,M._)([(0,F.Cb)({type:Z.Z,json:{write:!0}})],P.prototype,"spatialReference",void 0),(0,M._)([(0,Y.c)("spatialReference")],P.prototype,"writeSpatialReference",null),(0,M._)([(0,F.Cb)({json:{write:!0}})],P.prototype,"transform",void 0),P=L=(0,M._)([(0,$.j)("esri.rest.support.FeatureSet")],P),P.prototype.toJSON.isDefaultToJSON=!0;const j=P},75414:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(58817),Q=E(77712),N=(E(90912),E(76898)),ne=E(40251),k=E(61661);let I=F=class extends k.Z{constructor($){super($),this.colorRamps=null,this.type="multipart"}clone(){return new F({colorRamps:(0,D.d9)(this.colorRamps)})}};(0,M._)([(0,Q.Cb)({type:[ne.Z],json:{write:!0}})],I.prototype,"colorRamps",void 0),(0,M._)([(0,Q.Cb)({type:["multipart"]})],I.prototype,"type",void 0),I=F=(0,M._)([(0,N.j)("esri.rest.support.MultipartColorRamp")],I);const x=I},89621:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var x,M=E(17626),Q=(E(29132),E(2076)),B=E(86810),N=E(58817),ne=E(77712),F=(E(90912),E(76898)),I=E(2004);const $=new Q.X({upperLeft:"upper-left",lowerLeft:"lower-left"});let Y=x=class extends B.wq{constructor(re){super(re),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new x((0,N.d9)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,M._)([(0,ne.Cb)({type:I.Z,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Y.prototype,"extent",void 0),(0,M._)([(0,ne.Cb)({type:["view","edit"],json:{write:!0}})],Y.prototype,"mode",void 0),(0,M._)([(0,ne.Cb)({type:String,json:{read:$.read,write:$.write}})],Y.prototype,"originPosition",void 0),(0,M._)([(0,ne.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Y.prototype,"tolerance",void 0),Y=x=(0,M._)([(0,F.j)("esri.rest.support.QuantizationParameters")],Y);const Z=Y},84952:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>he});var K,M=E(17626),D=E(29132),Q=E(97478),B=E(2076),N=E(86810),ne=E(58817),k=E(62208),F=E(77712),I=E(66656),x=E(55342),$=E(76898),Y=E(99433),Z=E(90912),re=E(91179),X=E(15283),L=E(89621),T=E(60776),P=E(65234),j=E(49672);const W=new B.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),te=new B.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let J=K=class extends N.wq{constructor(oe){super(oe),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(oe){return(0,Z.TJ)(K,oe)}castDatumTransformation(oe){return"number"==typeof oe||"object"==typeof oe?oe:null}writeHistoricMoment(oe,me){me.historicMoment=oe&&oe.getTime()}writeParameterValues(oe,me){if(oe){const de={};for(const ie in oe){const V=oe[ie];de[ie]=Array.isArray(V)?V.map(ce=>ce instanceof Date?ce.getTime():ce):V instanceof Date?V.getTime():V}me.parameterValues=de}}writeStart(oe,me){me.resultOffset=this.start,me.resultRecordCount=this.num||10,me.where="1=1"}writeWhere(oe,me){me.where=oe||"1=1"}clone(){return new K((0,ne.d9)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:(0,k.pC)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};J.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,M._)([(0,F.Cb)({json:{write:!0}})],J.prototype,"aggregateIds",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"cacheHint",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{default:!1,write:!0}})],J.prototype,"compactGeometryEnabled",void 0),(0,M._)([(0,F.Cb)({json:{write:!0}})],J.prototype,"datumTransformation",void 0),(0,M._)([(0,I.p)("datumTransformation")],J.prototype,"castDatumTransformation",null),(0,M._)([(0,F.Cb)({type:Boolean,json:{default:!1,write:!0}})],J.prototype,"defaultSpatialReferenceEnabled",void 0),(0,M._)([(0,F.Cb)({type:Number,json:{write:{overridePolicy:oe=>({enabled:oe>0})}}})],J.prototype,"distance",void 0),(0,M._)([(0,F.Cb)({type:X.n,json:{write:!0}})],J.prototype,"dynamicDataSource",void 0),(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],J.prototype,"formatOf3DObjects",void 0),(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],J.prototype,"gdbVersion",void 0),(0,M._)([(0,F.Cb)({types:D.qM,json:{read:re.im,write:!0}})],J.prototype,"geometry",void 0),(0,M._)([(0,F.Cb)({type:Number,json:{write:!0}})],J.prototype,"geometryPrecision",void 0),(0,M._)([(0,F.Cb)({type:[String],json:{write:!0}})],J.prototype,"groupByFieldsForStatistics",void 0),(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],J.prototype,"having",void 0),(0,M._)([(0,F.Cb)({type:Date})],J.prototype,"historicMoment",void 0),(0,M._)([(0,Y.c)("historicMoment")],J.prototype,"writeHistoricMoment",null),(0,M._)([(0,F.Cb)({type:Number,json:{write:!0}})],J.prototype,"maxAllowableOffset",void 0),(0,M._)([(0,F.Cb)({type:Number,cast:oe=>oe<1?1:oe>K.MAX_MAX_RECORD_COUNT_FACTOR?K.MAX_MAX_RECORD_COUNT_FACTOR:oe,json:{write:{overridePolicy:oe=>({enabled:oe>1})}}})],J.prototype,"maxRecordCountFactor",void 0),(0,M._)([(0,F.Cb)({type:["xyFootprint"],json:{write:!0}})],J.prototype,"multipatchOption",void 0),(0,M._)([(0,F.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],J.prototype,"num",void 0),(0,M._)([(0,F.Cb)({json:{write:!0}})],J.prototype,"objectIds",void 0),(0,M._)([(0,F.Cb)({type:[String],json:{write:!0}})],J.prototype,"orderByFields",void 0),(0,M._)([(0,F.Cb)({type:[String],json:{write:!0}})],J.prototype,"outFields",void 0),(0,M._)([(0,F.Cb)({type:P.Z,json:{name:"outSR",write:!0}})],J.prototype,"outSpatialReference",void 0),(0,M._)([(0,F.Cb)({type:[T.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,k.pC)(this.outStatistics)&&this.outStatistics.length>0}}}}})],J.prototype,"outStatistics",void 0),(0,M._)([(0,F.Cb)({json:{write:!0}})],J.prototype,"parameterValues",void 0),(0,M._)([(0,Y.c)("parameterValues")],J.prototype,"writeParameterValues",null),(0,M._)([(0,F.Cb)({type:j.Z,json:{write:!0}})],J.prototype,"pixelSize",void 0),(0,M._)([(0,F.Cb)({type:L.Z,json:{write:!0}})],J.prototype,"quantizationParameters",void 0),(0,M._)([(0,F.Cb)({type:[Object],json:{write:!0}})],J.prototype,"rangeValues",void 0),(0,M._)([(0,F.Cb)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],J.prototype,"relationParameter",void 0),(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],J.prototype,"resultType",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{default:!1,write:!0}})],J.prototype,"returnCentroid",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{default:!1,write:!0}})],J.prototype,"returnDistinctValues",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{default:!0,write:!0}})],J.prototype,"returnExceededLimitFeatures",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"returnGeometry",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{default:!1,write:!0}})],J.prototype,"returnQueryGeometry",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{default:!1,write:!0}})],J.prototype,"returnM",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{write:{overridePolicy:oe=>({enabled:oe})}}})],J.prototype,"returnZ",void 0),(0,M._)([(0,F.Cb)({type:P.Z,json:{write:!0}})],J.prototype,"sourceSpatialReference",void 0),(0,M._)([(0,x.J)(W,{ignoreUnknown:!1,name:"spatialRel"})],J.prototype,"spatialRelationship",void 0),(0,M._)([(0,F.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],J.prototype,"start",void 0),(0,M._)([(0,Y.c)("start"),(0,Y.c)("num")],J.prototype,"writeStart",null),(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],J.prototype,"sqlFormat",void 0),(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],J.prototype,"text",void 0),(0,M._)([(0,F.Cb)({type:Q.Z,json:{write:!0}})],J.prototype,"timeExtent",void 0),(0,M._)([(0,F.Cb)({type:Boolean,json:{default:!1,write:!0}})],J.prototype,"timeReferenceUnknownClient",void 0),(0,M._)([(0,x.J)(te,{ignoreUnknown:!1}),(0,F.Cb)({json:{write:{overridePolicy(oe){return{enabled:oe&&this.distance>0}}}}})],J.prototype,"units",void 0),(0,M._)([(0,F.Cb)({type:String,json:{write:{overridePolicy(oe){return{enabled:null!=oe||this.start>0}}}}})],J.prototype,"where",void 0),(0,M._)([(0,Y.c)("where")],J.prototype,"writeWhere",null),J=K=(0,M._)([(0,$.j)("esri.rest.support.Query")],J);const he=J},67010:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var $,M=E(17626),Q=(E(29132),E(86810)),B=E(58817),N=E(77712),ne=E(90912),k=E(76898),F=E(99433),I=E(15283),x=E(65234);let Y=$=class extends Q.wq{constructor(re){super(re),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(re,X){X.historicMoment=re&&re.getTime()}writeStart(re,X){X.resultOffset=this.start,X.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(X.definitionExpression="1=1")}clone(){return new $((0,B.d9)({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,M._)([(0,N.Cb)({type:I.n,json:{write:!0}})],Y.prototype,"dynamicDataSource",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],Y.prototype,"gdbVersion",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Y.prototype,"geometryPrecision",void 0),(0,M._)([(0,N.Cb)({type:Date})],Y.prototype,"historicMoment",void 0),(0,M._)([(0,F.c)("historicMoment")],Y.prototype,"_writeHistoricMoment",null),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Y.prototype,"maxAllowableOffset",void 0),(0,M._)([(0,N.Cb)({type:[Number],json:{write:!0}})],Y.prototype,"objectIds",void 0),(0,M._)([(0,N.Cb)({type:[String],json:{write:!0}})],Y.prototype,"orderByFields",void 0),(0,M._)([(0,N.Cb)({type:[String],json:{write:!0}})],Y.prototype,"outFields",void 0),(0,M._)([(0,N.Cb)({type:x.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Y.prototype,"outSpatialReference",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],Y.prototype,"relationshipId",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],Y.prototype,"start",void 0),(0,M._)([(0,F.c)("start"),(0,F.c)("num")],Y.prototype,"writeStart",null),(0,M._)([(0,N.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],Y.prototype,"num",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],Y.prototype,"returnGeometry",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:{overridePolicy:re=>({enabled:re})}}})],Y.prototype,"returnM",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:{overridePolicy:re=>({enabled:re})}}})],Y.prototype,"returnZ",void 0),(0,M._)([(0,N.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Y.prototype,"where",void 0),Y=$=(0,M._)([(0,k.j)("esri.rest.support.RelationshipQuery")],Y),Y.from=(0,ne.se)(Y);const Z=Y},60776:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var I,M=E(17626),D=E(2076),Q=E(86810),B=E(58817),N=E(77712),k=(E(90912),E(76898)),F=E(99433);const x=new D.X({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let $=I=class extends Q.wq{constructor(Z){super(Z),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(Z,re){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(re.statisticParameters=(0,B.d9)(Z))}clone(){return new I({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,B.d9)(this.statisticParameters)})}};(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],$.prototype,"maxPointCount",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],$.prototype,"maxRecordCount",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],$.prototype,"maxVertexCount",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],$.prototype,"onStatisticField",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],$.prototype,"outStatisticFieldName",void 0),(0,M._)([(0,N.Cb)({type:String,json:{read:{source:"statisticType",reader:x.read},write:{target:"statisticType",writer:x.write}}})],$.prototype,"statisticType",void 0),(0,M._)([(0,N.Cb)({type:Object})],$.prototype,"statisticParameters",void 0),(0,M._)([(0,F.c)("statisticParameters")],$.prototype,"writeStatisticParameters",null),$=I=(0,M._)([(0,k.j)("esri.rest.support.StatisticDefinition")],$);const Y=$},6871:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>te});var re,M=E(17626),D=E(29132),Q=E(97478),B=E(2076),N=E(86810),ne=E(58817),k=E(77712),F=E(90912),I=E(76898),x=E(99433),$=E(91179);E(85931),E(8314);let X=re=class extends N.wq{constructor(J){super(J),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new re({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,M._)([(0,k.Cb)({type:[String],json:{write:!0}})],X.prototype,"groupByFields",void 0),(0,M._)([(0,k.Cb)({type:Number,json:{write:!0}})],X.prototype,"topCount",void 0),(0,M._)([(0,k.Cb)({type:[String],json:{write:!0}})],X.prototype,"orderByFields",void 0),X=re=(0,M._)([(0,I.j)("esri.rest.support.TopFilter")],X);const L=X;var P,T=E(65234);const j=new B.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),K=new B.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let W=P=class extends N.wq{constructor(J){super(J),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(J,he){he.resultOffset=this.start,he.resultRecordCount=this.num||10}clone(){return new P((0,ne.d9)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,M._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],W.prototype,"cacheHint",void 0),(0,M._)([(0,k.Cb)({type:Number,json:{write:{overridePolicy:J=>({enabled:J>0})}}})],W.prototype,"distance",void 0),(0,M._)([(0,k.Cb)({types:D.qM,json:{read:$.im,write:!0}})],W.prototype,"geometry",void 0),(0,M._)([(0,k.Cb)({type:Number,json:{write:!0}})],W.prototype,"geometryPrecision",void 0),(0,M._)([(0,k.Cb)({type:Number,json:{write:!0}})],W.prototype,"maxAllowableOffset",void 0),(0,M._)([(0,k.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],W.prototype,"num",void 0),(0,M._)([(0,k.Cb)({json:{write:!0}})],W.prototype,"objectIds",void 0),(0,M._)([(0,k.Cb)({type:[String],json:{write:!0}})],W.prototype,"orderByFields",void 0),(0,M._)([(0,k.Cb)({type:[String],json:{write:!0}})],W.prototype,"outFields",void 0),(0,M._)([(0,k.Cb)({type:T.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],W.prototype,"outSpatialReference",void 0),(0,M._)([(0,k.Cb)({type:String,json:{write:!0}})],W.prototype,"resultType",void 0),(0,M._)([(0,k.Cb)({json:{write:!0}})],W.prototype,"returnGeometry",void 0),(0,M._)([(0,k.Cb)({type:Boolean,json:{write:{overridePolicy:J=>({enabled:J})}}})],W.prototype,"returnM",void 0),(0,M._)([(0,k.Cb)({type:Boolean,json:{write:{overridePolicy:J=>({enabled:J})}}})],W.prototype,"returnZ",void 0),(0,M._)([(0,k.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],W.prototype,"start",void 0),(0,M._)([(0,x.c)("start"),(0,x.c)("num")],W.prototype,"writeStart",null),(0,M._)([(0,k.Cb)({type:String,json:{read:{source:"spatialRel",reader:j.read},write:{target:"spatialRel",writer:j.write}}})],W.prototype,"spatialRelationship",void 0),(0,M._)([(0,k.Cb)({type:Q.Z,json:{write:!0}})],W.prototype,"timeExtent",void 0),(0,M._)([(0,k.Cb)({type:L,json:{write:!0}})],W.prototype,"topFilter",void 0),(0,M._)([(0,k.Cb)({type:String,json:{read:K.read,write:{writer:K.write,overridePolicy(J){return{enabled:J&&this.distance>0}}}}})],W.prototype,"units",void 0),(0,M._)([(0,k.Cb)({type:String,json:{write:!0}})],W.prototype,"where",void 0),W=P=(0,M._)([(0,I.j)("esri.rest.support.TopFeaturesQuery")],W),W.from=(0,F.se)(W);const te=W},79023:(qe,Me,E)=>{"use strict";E.d(Me,{i:()=>N,V:()=>B});var M=E(40251),D=E(61661),Q=E(75414);const B={key:"type",base:D.Z,typeMap:{algorithmic:M.Z,multipart:Q.Z}};function N(ne){return ne&&ne.type?"algorithmic"===ne.type?M.Z.fromJSON(ne):"multipart"===ne.type?Q.Z.fromJSON(ne):null:null}},2618:(qe,Me,E)=>{"use strict";E.d(Me,{lA:()=>Q,cv:()=>N,en:()=>B});var M=E(21726);function Q(F,I){return I?$n(Pt({},I),{query:Pt(Pt({},F),I.query)}):{query:F}}function B(F){return"string"==typeof F?(0,M.mN)(F):F}function N(F,I,x){const $={};for(const Y in F){if("declaredClass"===Y)continue;const Z=F[Y];if(null!=Z&&"function"!=typeof Z)if(Array.isArray(Z)){$[Y]=[];for(let re=0;re<Z.length;re++)$[Y][re]=N(Z[re])}else if("object"==typeof Z)if(Z.toJSON){const re=Z.toJSON(x&&x[Y]);$[Y]=I?re:JSON.stringify(re)}else $[Y]=I?Z:JSON.stringify(Z);else $[Y]=Z}return $}E(83137)},51815:(qe,Me,E)=>{"use strict";E.d(Me,{J:()=>$});var M=E(17626),D=E(88879),B=(E(63290),E(90912)),F=(E(85931),E(8314),E(82255),E(61039)),I=E(76898),x=E(28705);let $=class extends x.a{_own(Y){Y.layer&&"remove"in Y.layer&&Y.layer!==this.owner&&Y.layer.remove(Y),Y.layer=this.owner}_release(Y){Y.layer===this.owner&&(Y.layer=null)}};(0,M._)([(0,F.c)({Type:D.Z,ensureType:(0,B.se)(D.Z)})],$.prototype,"itemType",void 0),$=(0,M._)([(0,I.j)("esri.support.GraphicsCollection")],$)},6432:(qe,Me,E)=>{"use strict";E.d(Me,{K:()=>X});var M=E(17626),D=E(48701),Q=E(89726),B=E(63290),N=E(10699),ne=E(77712),x=(E(85931),E(8314),E(90912),E(76898)),$=E(63602);function Y(L){return L&&"group"===L.type}function Z(L,T,P){let j,K;if(L)for(let W=0,te=L.length;W<te;W++){if(j=L.getItemAt(W),j[T]===P)return j;if(Y(j)&&(K=Z(j.layers,T,P),K))return K}}const re=B.Z.getLogger("esri.support.LayersMixin"),X=L=>{let T=class extends L{constructor(...P){super(...P),this.layers=new D.Z;const K=te=>{te.parent=this,this.layerAdded(te),"elevation"!==te.type&&"base-elevation"!==te.type||re.error(`Layer 'title:${te.title}, id:${te.id}' of type '${te.type}' is not supported as an operational layer and will therefore be ignored.`)},W=te=>{te.parent=null,this.layerRemoved(te)};this.layers.on("before-add",te=>(te=>{te.parent&&"remove"in te.parent&&te.parent.remove(te)})(te.item)),this.layers.on("after-add",te=>K(te.item)),this.layers.on("after-remove",te=>W(te.item))}destroy(){const P=this.layers.removeAll();for(const j of P)this.layerRemoved(j),j.destroy();this.layers.destroy()}set layers(P){this._set("layers",(0,Q.Z)(P,this._get("layers")))}add(P,j){const K=this.layers;if(j=K.getNextIndex(j),P instanceof $.Z){const W=P;W.parent===this?this.reorder(W,j):K.add(W,j)}else(0,N.y8)(P)?P.then(W=>{this.destroyed||this.add(W,j)}):re.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(P,j){const K=this.layers;j=K.getNextIndex(j),P.slice().forEach(W=>{W.parent!==this?(K.add(W,j),j+=1):this.reorder(W,j)})}findLayerById(P){return Z(this.layers,"id",P)}findLayerByUid(P){return Z(this.layers,"uid",P)}remove(P){return this.layers.remove(P)}removeMany(P){return this.layers.removeMany(P)}removeAll(){return this.layers.removeAll()}reorder(P,j){return this.layers.reorder(P,j)}layerAdded(P){}layerRemoved(P){}};return(0,M._)([(0,ne.Cb)()],T.prototype,"layers",null),T=(0,M._)([(0,x.j)("esri.support.LayersMixin")],T),T}},6119:(qe,Me,E)=>{"use strict";E.d(Me,{Q:()=>re});var M=E(17626),D=E(48701),Q=E(89726),B=E(63290),N=E(77712),I=(E(85931),E(8314),E(90912),E(76898));const x="esri.support.TablesMixin",$=B.Z.getLogger(x);function Y(X){return X&&"group"===X.type}function Z(X,L,T){if(X)for(let P=0,j=X.length;P<j;P++){const K=X.getItemAt(P);if(K[L]===T)return K;if(Y(K)){const W=Z(K.tables,L,T);if(W)return W}}}const re=X=>{let L=class extends X{constructor(...T){super(...T),this.tables=new D.Z,this.tables.on("after-add",P=>{const j=P.item;j.parent&&j.parent!==this&&"tables"in j.parent&&j.parent.tables.remove(j),j.parent=this,"feature"!==j.type&&$.error(`Layer 'title:${j.title}, id:${j.id}' of type '${j.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",P=>{P.item.parent=null})}destroy(){const T=this.tables.removeAll();for(const P of T)P.destroy();this.tables.destroy()}set tables(T){this._set("tables",(0,Q.Z)(T,this._get("tables")))}findTableById(T){return Z(this.tables,"id",T)}findTableByUid(T){return Z(this.tables,"uid",T)}};return(0,M._)([(0,N.Cb)()],L.prototype,"tables",null),L=(0,M._)([(0,I.j)(x)],L),L}},59397:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(14517),Q=E(61996),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898));let x=I=class extends((0,Q.I)(D.Z)){constructor(Y){super(Y),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new I({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,M._)([(0,B.Cb)()],x.prototype,"active",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"className",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"disabled",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"id",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"indicator",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"title",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"type",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"visible",void 0),x=I=(0,M._)([(0,F.j)("esri.support.actions.ActionBase")],x);const $=x},48753:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(59397);let I=F=class extends k.Z{constructor($){super($),this.image=null,this.type="button"}clone(){return new F({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,M._)([(0,D.Cb)()],I.prototype,"image",void 0),I=F=(0,M._)([(0,ne.j)("esri.support.Action.ActionButton")],I);const x=I},10671:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var F,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(59397);let I=F=class extends k.Z{constructor($){super($),this.image=null,this.type="toggle",this.value=!1}clone(){return new F({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,M._)([(0,D.Cb)()],I.prototype,"image",void 0),(0,M._)([(0,D.Cb)()],I.prototype,"value",void 0),I=F=(0,M._)([(0,ne.j)("esri.support.Action.ActionToggle")],I);const x=I},12680:(qe,Me,E)=>{"use strict";E.d(Me,{r:()=>B});var M=E(21726);const D=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function B(N){const ne=(0,M.P$)(N,!0);return ne&&ne.endsWith(".arcgis.com")&&!D.includes(ne)&&!N.endsWith("/sharing/rest/generateToken")}},46679:(qe,Me,E)=>{"use strict";E.d(Me,{mz:()=>$,pp:()=>x,WW:()=>k,Yi:()=>F,LC:()=>ne});var M=E(15861),Q=(E(29132),E(62208)),B=E(65234);let N;function ne(){return N||(N=(0,M.Z)(function*(){const Y=yield E.e(5068).then(E.bind(E,75068));return{arcade:Y.arcade,arcadeUtils:Y,Dictionary:Y.Dictionary,Feature:Y.arcadeFeature}})()),N}const k=(Y,Z,re)=>$.create(Y,Z,re,null,["$feature"]),F=(Y,Z,re)=>$.create(Y,Z,re,null,["$feature","$view"]),x=(Y,Z,re,X)=>$.create(Y,Z,re,X,["$feature","$view"]);class ${constructor(Z,re,X,L,T,P,j,K){this.script=Z,this.evaluate=T;const W=Array.isArray(j)?j:j.fields;this.fields=W,this._syntaxTree=L,this._arcade=re,this._arcadeDictionary=X,this._arcadeFeature=P,this._spatialReference=K,this._referencesGeometry=re.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(Z,re,X,L,T,P){return(0,M.Z)(function*(){const{arcade:j,Feature:K,Dictionary:W}=yield ne(),te=B.Z.fromJSON(re),J=j.parseScript(Z,P),he=T.reduce((ue,ye)=>$n(Pt({},ue),{[ye]:null}),{});let oe=null;(0,Q.pC)(L)&&(oe=new W(L),oe.immutable=!0,he.$config=null);const me=j.scriptUsesGeometryEngine(J)&&j.enableGeometrySupport(),de=j.scriptUsesFeatureSet(J)&&j.enableFeatureSetSupport(),ie=j.scriptIsAsync(J)&&j.enableAsyncSupport(),V={vars:he,spatialReference:te,useAsync:!!ie},ce=new W;ce.immutable=!1,ce.setField("scale",0);const ae=j.compileScript(J,V);return yield Promise.all([me,de,ie]),new $(Z,j,W,J,ue=>("$view"in ue&&ue.$view&&(ce.setField("scale",ue.$view.scale),ue.$view=ce),oe&&(ue.$config=oe),ae({vars:ue,spatialReference:te})),new K,X,te)})()}repurposeFeature(Z){return Z.geometry&&!Z.geometry.spatialReference&&(Z.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(Z.geometry,Z.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(Z){return this._arcade.referencesMember(this._syntaxTree,Z)}referencesFunction(Z){return this._arcade.referencesFunction(this._syntaxTree,Z)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},33954:(qe,Me,E)=>{"use strict";E.d(Me,{s:()=>ne,g:()=>B});var M=E(15861),D=E(54346),Q=E(41840);function B(k){return N.apply(this,arguments)}function N(){return(N=(0,M.Z)(function*(k){if(!k)return;const F=k.indexOf("-vector")>-1?k.slice(0,k.indexOf("-vector")):k,I=yield(0,Q.ME)("esri/t9n/basemaps");return I[k]||I[F]})).apply(this,arguments)}const ne={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},49430:(qe,Me,E)=>{"use strict";E.d(Me,{eZ:()=>re});var M=E(73281),D=E(36630),Q=E(55664),k=(E(55013),E(16615),E(82561),E(75484)),x=(E(64531),E(501),E(25621)),$=E(66845);const Y=["oid","global-id"],Z=["oid","global-id","guid"];function re({displayField:ie,editFieldsInfo:V,fields:ce,objectIdField:ae,title:pe},ue){if(!ce)return null;const ye=function te({editFieldsInfo:ie,fields:V,objectIdField:ce},ae){return function T(ie,V){const ce=ie;return V&&(ie=ie.filter(ae=>-1===V.indexOf(ae.type))),ie===ce&&(ie=ie.slice()),ie.sort(P),ie}(V,(null==ae?void 0:ae.ignoreFieldTypes)||de).map(pe=>new x.Z({fieldName:pe.name,isEditable:K(pe,ie),label:pe.alias,format:J(pe),visible:L(pe,{editFieldsInfo:ie,objectIdField:ce,visibleFieldNames:null==ae?void 0:ae.visibleFieldNames})}))}({editFieldsInfo:V,fields:ce,objectIdField:ae},ue);if(!ye.length)return null;const le=function oe(ie){const V=(0,D.O5)(ie),{titleBase:ce}=ie;return V?`${ce}: {${V.trim()}}`:ce}({titleBase:pe,fields:ce,displayField:ie}),se=function he(){return[new k.Z,new Q.Z]}();return new M.Z({title:le,content:se,fieldInfos:ye})}const X=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],L=(ie,{editFieldsInfo:V,objectIdField:ce,visibleFieldNames:ae})=>ae?ae.has(ie.name):!(j(ie.name,V)||ce&&ie.name===ce||Y.indexOf(ie.type)>-1||X.some(pe=>pe.test(ie.name)));function P(ie,V){return"oid"===ie.type?-1:"oid"===V.type?1:me(ie)?-1:me(V)?1:(ie.alias||ie.name).toLocaleLowerCase().localeCompare((V.alias||V.name).toLocaleLowerCase())}function j(ie,V){if(!ie||!V)return!1;const{creationDateField:ce,creatorField:ae,editDateField:pe,editorField:ue}=V;return-1!==[ce&&ce.toLowerCase(),ae&&ae.toLowerCase(),pe&&pe.toLowerCase(),ue&&ue.toLowerCase()].indexOf(ie.toLowerCase())}function K(ie,V){return ie.editable&&-1===Z.indexOf(ie.type)&&!j(ie.name,V)}function J(ie){switch(ie.type){case"small-integer":case"integer":case"single":return new $.Z({digitSeparator:!0,places:0});case"double":return new $.Z({digitSeparator:!0,places:2});case"date":return new $.Z({dateFormat:"long-month-day-year"});default:return null}}function me(ie){return"name"===(ie.name&&ie.name.toLowerCase())||"name"===(ie.alias&&ie.alias.toLowerCase())||void 0}const de=["geometry","blob","raster","guid","xml"]},33899:(qe,Me,E)=>{"use strict";E.d(Me,{f:()=>B});var M=E(8314),D=E(62208),Q=E(10699);function B(ne,k,F=!1,I){return new Promise((x,$)=>{if((0,Q.Hc)(I))return void $(N());let Y=()=>{X(),$(new Error(`Unable to load ${k}`))},Z=()=>{const L=ne;X(),x(L)},re=()=>{if(!ne)return;const L=ne;X(),L.src="",$(N())};const X=()=>{(0,M.Z)("esri-image-decode")||(ne.removeEventListener("error",Y),ne.removeEventListener("load",Z)),Y=null,Z=null,ne=null,(0,D.pC)(I)&&I.removeEventListener("abort",re),re=null,F&&URL.revokeObjectURL(k)};(0,D.pC)(I)&&I.addEventListener("abort",re),(0,M.Z)("esri-image-decode")?ne.decode().then(Z,Y):(ne.addEventListener("error",Y),ne.addEventListener("load",Z))})}function N(){try{return new DOMException("Aborted","AbortError")}catch(ne){const k=new Error;return k.name="AbortError",k}}},38365:(qe,Me,E)=>{"use strict";E.d(Me,{r:()=>M,$:()=>D});const M="20220304",D="ec8b11cdd9f1e6f3be9f7cb29e5c0e5f963dc669"},65787:(qe,Me,E)=>{"use strict";E.d(Me,{se:()=>at,cT:()=>tt,dU:()=>xe,S9:()=>ee,LB:()=>Ve,AH:()=>He,yK:()=>je,S6:()=>it,QT:()=>_e,f_:()=>pt});var K,M=E(90912),D=E(383),Q=E(94398),N=(E(65499),E(48575)),ne=E(9260),I=(E(11472),E(26531),E(22490)),x=E(40445),Z=(E(21272),E(46735),E(17626)),re=E(48701),X=E(58817),L=E(77712),T=E(55342),P=E(76898),j=E(39368);const W=re.Z.ofType({base:null,key:"type",typeMap:{fill:ne.Z}});let te=K=class extends j.Z{constructor(ot){super(ot),this.symbolLayers=new W,this.type="mesh-3d"}clone(){return new K({styleOrigin:(0,X.d9)(this.styleOrigin),symbolLayers:(0,X.d9)(this.symbolLayers),thumbnail:(0,X.d9)(this.thumbnail)})}};(0,Z._)([(0,L.Cb)({type:W})],te.prototype,"symbolLayers",void 0),(0,Z._)([(0,T.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],te.prototype,"type",void 0),te=K=(0,Z._)([(0,P.j)("esri.symbols.MeshSymbol3D")],te);const J=te;E(2066),E(69147);var ie,me=E(23841),de=E(69738);let V=ie=class extends N.Z{constructor(...ot){super(...ot),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(ot,et,_t,Ke){if(ot&&"string"!=typeof ot&&null==ot.imageData)return ot;const ct={};return ot&&(ct.url=ot),et&&(ct.outline=et),null!=_t&&(ct.width=(0,me.t_)(_t)),null!=Ke&&(ct.height=(0,me.t_)(Ke)),ct}clone(){const ot=new ie({color:(0,X.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return ot._set("source",(0,X.d9)(this.source)),ot}hash(){var ot;return`${super.hash()}.${null==(ot=this.color)?void 0:ot.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,Z._)([(0,T.J)({esriPFS:"picture-fill"},{readOnly:!0})],V.prototype,"type",void 0),(0,Z._)([(0,L.Cb)(de.KA)],V.prototype,"url",void 0),(0,Z._)([(0,L.Cb)({type:Number,json:{write:!0}})],V.prototype,"xscale",void 0),(0,Z._)([(0,L.Cb)({type:Number,json:{write:!0}})],V.prototype,"yscale",void 0),(0,Z._)([(0,L.Cb)({type:Number,cast:me.t_,json:{write:!0}})],V.prototype,"width",void 0),(0,Z._)([(0,L.Cb)({type:Number,cast:me.t_,json:{write:!0}})],V.prototype,"height",void 0),(0,Z._)([(0,L.Cb)({type:Number,cast:me.t_,json:{write:!0}})],V.prototype,"xoffset",void 0),(0,Z._)([(0,L.Cb)({type:Number,cast:me.t_,json:{write:!0}})],V.prototype,"yoffset",void 0),(0,Z._)([(0,L.Cb)(de.Ds)],V.prototype,"source",void 0),V=ie=(0,Z._)([(0,P.j)("esri.symbols.PictureFillSymbol")],V);const ce=V;var ae=E(13546),pe=E(69852),ue=E(89673),ye=E(88493),le=E(52068),se=E(57213),Ce=E(10012),Pe=(E(97665),E(35540)),Se=(E(21716),E(72622),E(12874));function tt(ot){if(!ot)return!1;switch(ot.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function xe(ot){if(!ot)return!1;switch(ot.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}E(17497),E(71530);const Ve={base:Ce.Z,key:"type",typeMap:{"simple-fill":ye.Z,"picture-fill":ce,"picture-marker":ae.Z,"simple-line":le.Z,"simple-marker":se.Z,text:Pe.Z,"label-3d":I.Z,"line-3d":x.Z,"mesh-3d":J,"point-3d":pe.Z,"polygon-3d":ue.Z,"web-style":Se.Z,cim:Q.Z},errorContext:"symbol"},He={base:Ce.Z,key:"type",typeMap:{"picture-marker":ae.Z,"simple-marker":se.Z,text:Pe.Z,"web-style":Se.Z,cim:Q.Z},errorContext:"symbol"},ee=(0,D.d)({types:Ve}),_e={base:Ce.Z,key:"type",typeMap:{"simple-fill":ye.Z,"picture-fill":ce,"picture-marker":ae.Z,"simple-line":le.Z,"simple-marker":se.Z,text:Pe.Z,"line-3d":x.Z,"mesh-3d":J,"point-3d":pe.Z,"polygon-3d":ue.Z,"web-style":Se.Z,cim:Q.Z},errorContext:"symbol"},je={base:Ce.Z,key:"type",typeMap:{text:Pe.Z,"label-3d":I.Z},errorContext:"symbol"},pt={base:Ce.Z,key:"type",typeMap:{"line-3d":x.Z,"mesh-3d":J,"point-3d":pe.Z,"polygon-3d":ue.Z,"web-style":Se.Z,cim:Q.Z},errorContext:"symbol"},it={base:Ce.Z,key:"type",typeMap:{"label-3d":I.Z},errorContext:"symbol"},at=(0,M.N7)(Ve)},94398:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var Z,M=E(15861),D=E(17626),Q=E(58817),B=E(77275),N=E(77712),k=(E(90912),E(55342)),F=E(68653),I=E(76898),x=E(99433),$=E(36630),Y=E(10012);let re=Z=class extends Y.Z{constructor(L){super(L),this.data=null,this.type="cim"}readData(L,T){return T}writeData(L,T){if(L)for(const P in L)T[P]=L[P]}collectRequiredFields(L,T){var P=this;return(0,M.Z)(function*(){if("CIMSymbolReference"===P.data.type){const j=P.data.primitiveOverrides;if(j){const K=j.map(W=>(0,$.io)(L,T,W.valueExpressionInfo.expression));yield Promise.all(K)}}})()}clone(){return new Z({data:(0,Q.d9)(this.data)})}hash(){return(0,B.hP)(JSON.stringify(this.data)).toString()}};(0,D._)([(0,N.Cb)({json:{write:!1}})],re.prototype,"color",void 0),(0,D._)([(0,N.Cb)({json:{write:!0}})],re.prototype,"data",void 0),(0,D._)([(0,F.r)("data",["symbol"])],re.prototype,"readData",null),(0,D._)([(0,x.c)("data",{})],re.prototype,"writeData",null),(0,D._)([(0,k.J)({CIMSymbolReference:"cim"},{readOnly:!0})],re.prototype,"type",void 0),re=Z=(0,D._)([(0,I.j)("esri.symbols.CIMSymbol")],re);const X=re},65499:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>re});var Y,M=E(17626),D=E(62208),Q=E(77712),k=(E(85931),E(8314),E(90912),E(55342)),F=E(76898),I=E(97665),x=E(89441),$=E(64830);let Z=Y=class extends I.Z{constructor(X){super(X),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Y({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:(0,D.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,M._)([(0,k.J)({Extrude:"extrude"},{readOnly:!0})],Z.prototype,"type",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Z.prototype,"size",void 0),(0,M._)([(0,Q.Cb)({type:$.b,json:{write:!0}})],Z.prototype,"material",void 0),(0,M._)([(0,Q.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Z.prototype,"castShadows",void 0),(0,M._)([(0,Q.Cb)(x.Z)],Z.prototype,"edges",void 0),Z=Y=(0,M._)([(0,F.j)("esri.symbols.ExtrudeSymbol3DLayer")],Z);const re=Z},48575:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(52068),F=E(10012);let I=class extends F.Z{constructor($){super($),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,M._)([(0,D.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":k.Z}},json:{default:null,write:!0}})],I.prototype,"outline",void 0),(0,M._)([(0,D.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],I.prototype,"type",void 0),I=(0,M._)([(0,ne.j)("esri.symbols.FillSymbol")],I);const x=I},9260:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>V});var P,M=E(17626),D=E(62208),Q=E(77712),k=(E(85931),E(8314),E(90912),E(55342)),F=E(76898),I=E(97665),x=E(89441),$=E(63743),Y=E(153),Z=E(99255),re=E(12948),T=(E(63290),E(82255),E(64830));let j=P=class extends T.b{constructor(ce){super(ce),this.colorMixMode=null}clone(){const ce={color:(0,D.pC)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new P(ce)}};(0,M._)([(0,k.J)({multiply:"multiply",replace:"replace",tint:"tint"})],j.prototype,"colorMixMode",void 0),j=P=(0,M._)([(0,F.j)("esri.symbols.support.Symbol3DFillMaterial")],j);var oe,K=E(91558),W=E(86810),te=E(23841),J=E(60958),he=E(43652);let me=oe=class extends W.wq{constructor(ce){super(ce),this.color=new K.Z([0,0,0,1]),this.size=(0,te.Wz)(1),this.pattern=null,this.patternCap="butt"}clone(){const ce={color:(0,D.pC)(this.color)?this.color.clone():null,size:this.size,pattern:(0,D.pC)(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new oe(ce)}};var de;(0,M._)([(0,Q.Cb)(J.a)],me.prototype,"color",void 0),(0,M._)([(0,Q.Cb)(J.y)],me.prototype,"size",void 0),(0,M._)([(0,Q.Cb)(Z.D)],me.prototype,"pattern",void 0),(0,M._)([(0,Q.Cb)({type:he.Hc,json:{default:"butt",write:{overridePolicy(){return{enabled:(0,D.pC)(this.pattern)}}}}})],me.prototype,"patternCap",void 0),me=oe=(0,M._)([(0,F.j)("esri.symbols.support.Symbol3DOutline")],me);let ie=de=class extends I.Z{constructor(ce){super(ce),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const ce={edges:(0,D.pC)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:(0,D.pC)(this.material)?this.material.clone():null,pattern:(0,D.pC)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:(0,D.pC)(this.outline)?this.outline.clone():null};return new de(ce)}static fromSimpleFillSymbol(ce){var ae,pe,ue,ye,le,se;const Ce=ce.outline&&ce.outline.style&&"inside-frame"!==ce.outline.style&&"solid"!==ce.outline.style?new $.Z({style:ce.outline.style}):null,ge={size:null!=(ae=null==(pe=ce.outline)?void 0:pe.width)?ae:0,color:(null!=(ue=null==(ye=ce.outline)?void 0:ye.color)?ue:re.ix).clone(),pattern:Ce};return Ce&&null!=(le=ce.outline)&&le.cap&&(ge.patternCap=ce.outline.cap),new de({material:new j({color:(null!=(se=ce.color)?se:re.l9).clone()}),pattern:ce.style&&"solid"!==ce.style?new Y.Z({style:ce.style}):null,outline:ge})}};(0,M._)([(0,k.J)({Fill:"fill"},{readOnly:!0})],ie.prototype,"type",void 0),(0,M._)([(0,Q.Cb)({type:j,json:{write:!0}})],ie.prototype,"material",void 0),(0,M._)([(0,Q.Cb)(Z.q)],ie.prototype,"pattern",void 0),(0,M._)([(0,Q.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ie.prototype,"castShadows",void 0),(0,M._)([(0,Q.Cb)({type:me,json:{write:!0}})],ie.prototype,"outline",void 0),(0,M._)([(0,Q.Cb)(x.Z)],ie.prototype,"edges",void 0),ie=de=(0,M._)([(0,F.j)("esri.symbols.FillSymbol3DLayer")],ie);const V=ie},11472:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),D=E(86810),Q=E(23841),B=E(77712),k=(E(85931),E(8314),E(66656)),F=E(76898),I=E(50369);let $=x=class extends D.wq{constructor(Z){super(Z),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(Z){return(0,Q.t_)(Z)}clone(){return new x({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,M._)([(0,B.Cb)({type:I.uC,json:{default:"none",write:!0}})],$.prototype,"decoration",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],$.prototype,"family",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy:(Z,re,X)=>({enabled:!X||!X.textSymbol3D})}}})],$.prototype,"size",void 0),(0,M._)([(0,k.p)("size")],$.prototype,"castSize",null),(0,M._)([(0,B.Cb)({type:I.hR,json:{default:"normal",write:!0}})],$.prototype,"style",void 0),(0,M._)([(0,B.Cb)({type:I.Xw,json:{default:"normal",write:!0}})],$.prototype,"weight",void 0),$=x=(0,M._)([(0,F.j)("esri.symbols.Font")],$);const Y=$},26531:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>V});var j,M=E(17626),D=E(63290),Q=E(62208),B=E(21726),N=E(77712),I=(E(85931),E(8314),E(90912),E(55342)),x=E(76898),$=E(97665),Y=E(12948),Z=E(33215),re=E(60958),X=E(37519),L=E(91558),T=E(86810),P=E(23841);let K=j=class extends T.wq{constructor(ce){super(ce),this.color=new L.Z([0,0,0,1]),this.size=(0,P.Wz)(1)}clone(){const ce={color:(0,Q.pC)(this.color)?this.color.clone():null,size:this.size};return new j(ce)}};(0,M._)([(0,N.Cb)(re.a)],K.prototype,"color",void 0),(0,M._)([(0,N.Cb)(re.y)],K.prototype,"size",void 0),K=j=(0,M._)([(0,x.j)("esri.symbols.support.Symbol3DIconOutline")],K);var te,W=E(64830);const J=D.Z.getLogger("esri.symbols.IconSymbol3DLayer");let he=te=class extends $.Z{constructor(ce){super(ce),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new te({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:(0,Q.pC)(this.material)?this.material.clone():null,outline:(0,Q.pC)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(ce){const ae=ce.color||Y.ix,pe=oe(ce),ue=ce.outline&&ce.outline.width>0?{size:ce.outline.width,color:(ce.outline.color||Y.ix).clone()}:null;return new te({size:ce.size,resource:{primitive:ie(ce.style)},material:{color:ae},outline:ue,anchor:pe?"relative":void 0,anchorPosition:pe})}static fromPictureMarkerSymbol(ce){const ae=!ce.color||(0,Y.rx)(ce.color)?Y.ix:ce.color,pe=oe(ce);return new te({size:ce.width<=ce.height?ce.height:ce.width,resource:{href:ce.url},material:{color:ae.clone()},anchor:pe?"relative":void 0,anchorPosition:pe})}static fromCIMSymbol(ce){return new te({resource:{href:(0,B._l)({mediaType:"application/json",data:JSON.stringify(ce.data)})}})}};function oe(ce){const ae="width"in ce?ce.width:ce.size,pe="height"in ce?ce.height:ce.size,ue=me(ce.xoffset),ye=me(ce.yoffset);return(ue||ye)&&ae&&pe?{x:-ue/ae,y:ye/pe}:null}function me(ce){return isFinite(ce)?ce:0}(0,M._)([(0,N.Cb)({type:W.b,json:{write:!0}})],he.prototype,"material",void 0),(0,M._)([(0,N.Cb)({type:Z.b,json:{write:!0}})],he.prototype,"resource",void 0),(0,M._)([(0,I.J)({Icon:"icon"},{readOnly:!0})],he.prototype,"type",void 0),(0,M._)([(0,N.Cb)(re.y)],he.prototype,"size",void 0),(0,M._)([(0,I.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,N.Cb)({json:{default:"center"}})],he.prototype,"anchor",void 0),(0,M._)([(0,N.Cb)({type:X.e,json:{type:[Number],read:{reader:ce=>new X.e({x:ce[0],y:ce[1]})},write:{writer:(ce,ae)=>{ae.anchorPosition=[ce.x,ce.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],he.prototype,"anchorPosition",void 0),(0,M._)([(0,N.Cb)({type:K,json:{write:!0}})],he.prototype,"outline",void 0),he=te=(0,M._)([(0,x.j)("esri.symbols.IconSymbol3DLayer")],he);const de={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function ie(ce){return de[ce]||(J.warn(`${ce} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const V=he},22490:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var Y,M=E(17626),D=E(48701),Q=E(58817),B=E(77712),ne=(E(90912),E(55342)),k=E(76898),F=E(39368),I=E(21716),x=E(9824),$=E(97595);const Z=D.Z.ofType({base:null,key:"type",typeMap:{text:I.Z}});let re=Y=class extends F.Z{constructor(L){super(L),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Z,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,x.gv)(this)}hasVisibleVerticalOffset(){return(0,x.Uy)(this)}clone(){return new Y({styleOrigin:(0,Q.d9)(this.styleOrigin),symbolLayers:(0,Q.d9)(this.symbolLayers),thumbnail:(0,Q.d9)(this.thumbnail),callout:(0,Q.d9)(this.callout),verticalOffset:(0,Q.d9)(this.verticalOffset)})}static fromTextSymbol(L){return new Y({symbolLayers:[I.Z.fromTextSymbol(L)]})}};(0,M._)([(0,B.Cb)({type:$._,json:{write:!0}})],re.prototype,"verticalOffset",void 0),(0,M._)([(0,B.Cb)(x.Y2)],re.prototype,"callout",void 0),(0,M._)([(0,B.Cb)({json:{read:!1,write:!1}})],re.prototype,"styleOrigin",void 0),(0,M._)([(0,B.Cb)({type:Z})],re.prototype,"symbolLayers",void 0),(0,M._)([(0,ne.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],re.prototype,"type",void 0),re=Y=(0,M._)([(0,k.j)("esri.symbols.LabelSymbol3D")],re);const X=re},40445:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var $,M=E(17626),D=E(48701),Q=E(58817),B=E(77712),ne=(E(90912),E(55342)),k=E(76898),F=E(21272),I=E(69147),x=E(39368);const Y=D.Z.ofType({base:null,key:"type",typeMap:{line:F.Z,path:I.Z}}),Z=D.Z.ofType({base:null,key:"type",typeMap:{line:F.Z,path:I.Z}});let re=$=class extends x.Z{constructor(L){super(L),this.symbolLayers=new Y,this.type="line-3d"}clone(){return new $({styleOrigin:(0,Q.d9)(this.styleOrigin),symbolLayers:(0,Q.d9)(this.symbolLayers),thumbnail:(0,Q.d9)(this.thumbnail)})}static fromSimpleLineSymbol(L){return new $({symbolLayers:[F.Z.fromSimpleLineSymbol(L)]})}};(0,M._)([(0,B.Cb)({type:Y,json:{type:Z}})],re.prototype,"symbolLayers",void 0),(0,M._)([(0,ne.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],re.prototype,"type",void 0),re=$=(0,M._)([(0,k.j)("esri.symbols.LineSymbol3D")],re);const X=re},21272:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>me});var M=E(17626),D=E(62208),Q=E(23841),B=E(77712),k=(E(85931),E(8314),E(90912)),F=E(55342),I=E(76898),x=E(91558),$=E(79608),Y=E(86810);let X=class extends((0,$.J)(Y.wq)){constructor(de){super(de),this.type="style",this.placement="end",this.style="arrow",this.color=null}equals(de){return(0,D.pC)(de)&&de.placement===this.placement&&de.style===this.style&&((0,D.Wi)(this.color)&&(0,D.Wi)(de.color)||(0,D.pC)(this.color)&&(0,D.pC)(de.color)&&this.color.toJSON()===de.color.toJSON())}};(0,M._)([(0,B.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],X.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:["begin","end","begin-end"],json:{default:"end",write:!0}})],X.prototype,"placement",void 0),(0,M._)([(0,B.Cb)({type:["arrow","circle","square","diamond","cross","x"],json:{default:"arrow",write:!0}})],X.prototype,"style",void 0),(0,M._)([(0,B.Cb)({type:x.Z,json:{type:[k.z8],default:null,write:!0}})],X.prototype,"color",void 0),X=(0,M._)([(0,I.j)("esri.symbols.LineStyleMarker3D")],X);const L=X;var he,T=E(97665),P=E(63743),j=E(99255),K=E(12948),W=E(60958),te=E(64830),J=E(43652);let oe=he=class extends T.Z{constructor(de){super(de),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,Q.Wz)(1),this.pattern=null,this.marker=null}clone(){const de={enabled:this.enabled,material:(0,D.pC)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:(0,D.pC)(this.pattern)?this.pattern.clone():null,marker:(0,D.pC)(this.marker)?this.marker.clone():null};return new he(de)}static fromSimpleLineSymbol(de){var ie,V,ce;const ae={enabled:!0,size:null!=(ie=de.width)?ie:(0,Q.Wz)(1),cap:de.cap||"butt",join:de.join||"miter",pattern:de.style&&"inside-frame"!==de.style?new P.Z({style:de.style}):null,material:new te.b({color:(de.color||K.ix).clone()}),marker:de.marker?new L({placement:de.marker.placement,style:de.marker.style,color:null!=(V=null==(ce=de.marker.color)?void 0:ce.clone())?V:null}):null};return new he(ae)}};(0,M._)([(0,B.Cb)({type:te.b,json:{write:!0}})],oe.prototype,"material",void 0),(0,M._)([(0,F.J)({Line:"line"},{readOnly:!0})],oe.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:J.w2,json:{write:!0,default:"miter"}})],oe.prototype,"join",void 0),(0,M._)([(0,B.Cb)({type:J.Hc,json:{write:!0,default:"butt"}})],oe.prototype,"cap",void 0),(0,M._)([(0,B.Cb)(W.y)],oe.prototype,"size",void 0),(0,M._)([(0,B.Cb)(j.D)],oe.prototype,"pattern",void 0),(0,M._)([(0,B.Cb)({types:{key:"type",base:L,typeMap:{style:L}},json:{write:!0}})],oe.prototype,"marker",void 0),oe=he=(0,M._)([(0,I.j)("esri.symbols.LineSymbol3DLayer")],oe);const me=oe},46735:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),D=E(23841),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(10012);let I=class extends F.Z{constructor($){super($),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,M._)([(0,Q.Cb)({type:Number,json:{read:$=>$&&-1*$,write:($,Y)=>Y.angle=$&&-1*$}})],I.prototype,"angle",void 0),(0,M._)([(0,Q.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],I.prototype,"type",void 0),(0,M._)([(0,Q.Cb)({type:Number,cast:D.t_,json:{write:!0}})],I.prototype,"xoffset",void 0),(0,M._)([(0,Q.Cb)({type:Number,cast:D.t_,json:{write:!0}})],I.prototype,"yoffset",void 0),(0,M._)([(0,Q.Cb)({type:Number,cast:$=>"auto"===$?$:(0,D.t_)($),json:{write:!0}})],I.prototype,"size",void 0),I=(0,M._)([(0,k.j)("esri.symbols.MarkerSymbol")],I);const x=I},2066:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var Y,M=E(17626),D=E(62208),Q=E(77712),k=(E(85931),E(8314),E(90912),E(55342)),F=E(76898),I=E(97665),x=E(48521),$=E(14517);let Z=Y=class extends $.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Y({x:this.x,y:this.y,z:this.z})}};(0,M._)([(0,Q.Cb)({type:Number})],Z.prototype,"x",void 0),(0,M._)([(0,Q.Cb)({type:Number})],Z.prototype,"y",void 0),(0,M._)([(0,Q.Cb)({type:Number})],Z.prototype,"z",void 0),Z=Y=(0,M._)([(0,F.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],Z);var X,re=E(64830);let L=X=class extends I.Z{constructor(P){super(P),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new X({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:(0,D.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,M._)([(0,Q.Cb)({type:re.b,json:{write:!0}})],L.prototype,"material",void 0),(0,M._)([(0,Q.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],L.prototype,"castShadows",void 0),(0,M._)([(0,Q.Cb)({type:x.k,json:{write:!0}})],L.prototype,"resource",void 0),(0,M._)([(0,k.J)({Object:"object"},{readOnly:!0})],L.prototype,"type",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],L.prototype,"width",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],L.prototype,"height",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],L.prototype,"depth",void 0),(0,M._)([(0,k.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,Q.Cb)({json:{default:"origin"}})],L.prototype,"anchor",void 0),(0,M._)([(0,Q.Cb)({type:Z,json:{type:[Number],read:{reader:P=>new Z({x:P[0],y:P[1],z:P[2]})},write:{writer:(P,j)=>{j.anchorPosition=[P.x,P.y,P.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],L.prototype,"anchorPosition",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],L.prototype,"heading",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],L.prototype,"tilt",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],L.prototype,"roll",void 0),(0,M._)([(0,Q.Cb)({readOnly:!0})],L.prototype,"isPrimitive",null),L=X=(0,M._)([(0,F.j)("esri.symbols.ObjectSymbol3DLayer")],L);const T=L},69147:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var Z,M=E(17626),D=E(62208),Q=E(77712),k=(E(85931),E(8314),E(90912),E(55342)),F=E(68653),I=E(76898),x=E(97665),$=E(64830),Y=E(43652);let re=Z=class extends x.Z{constructor(L){super(L),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(L,T){return null!=L?L:null==T.height&&null!=T.size?T.size:void 0}readHeight(L,T){return null!=L?L:null==T.width&&null!=T.size?T.size:void 0}clone(){return new Z({enabled:this.enabled,material:(0,D.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,M._)([(0,Q.Cb)({type:$.b,json:{write:!0}})],re.prototype,"material",void 0),(0,M._)([(0,Q.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],re.prototype,"castShadows",void 0),(0,M._)([(0,k.J)({Path:"path"},{readOnly:!0})],re.prototype,"type",void 0),(0,M._)([(0,Q.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],re.prototype,"profile",void 0),(0,M._)([(0,Q.Cb)({type:Y.w2,json:{write:!0,default:"miter"}})],re.prototype,"join",void 0),(0,M._)([(0,Q.Cb)({type:Y.KW,json:{write:!0,default:"butt"}})],re.prototype,"cap",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],re.prototype,"width",void 0),(0,M._)([(0,F.r)("width",["width","size","height"])],re.prototype,"readWidth",null),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],re.prototype,"height",void 0),(0,M._)([(0,F.r)("height",["height","size","width"])],re.prototype,"readHeight",null),(0,M._)([(0,Q.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],re.prototype,"anchor",void 0),(0,M._)([(0,Q.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],re.prototype,"profileRotation",void 0),re=Z=(0,M._)([(0,I.j)("esri.symbols.PathSymbol3DLayer")],re);const X=re},13546:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var $,M=E(17626),D=E(58817),Q=E(23841),B=E(77712),ne=(E(90912),E(55342)),k=E(68653),F=E(76898),I=E(46735),x=E(69738);let Y=$=class extends I.Z{constructor(...re){super(...re),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(re,X,L){if(re&&"string"!=typeof re&&null==re.imageData)return re;const T={};return re&&(T.url=re),null!=X&&(T.width=(0,Q.t_)(X)),null!=L&&(T.height=(0,Q.t_)(L)),T}readHeight(re,X){return X.size||re}readWidth(re,X){return X.size||re}clone(){const re=new $({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return re._set("source",(0,D.d9)(this.source)),re}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,M._)([(0,B.Cb)({json:{write:!1}})],Y.prototype,"color",void 0),(0,M._)([(0,ne.J)({esriPMS:"picture-marker"},{readOnly:!0})],Y.prototype,"type",void 0),(0,M._)([(0,B.Cb)(x.KA)],Y.prototype,"url",void 0),(0,M._)([(0,B.Cb)(x.Ds)],Y.prototype,"source",void 0),(0,M._)([(0,B.Cb)({type:Number,cast:Q.t_,json:{write:!0}})],Y.prototype,"height",void 0),(0,M._)([(0,k.r)("height",["height","size"])],Y.prototype,"readHeight",null),(0,M._)([(0,B.Cb)({type:Number,cast:Q.t_,json:{write:!0}})],Y.prototype,"width",void 0),(0,M._)([(0,B.Cb)({json:{write:!1}})],Y.prototype,"size",void 0),Y=$=(0,M._)([(0,F.j)("esri.symbols.PictureMarkerSymbol")],Y);const Z=Y},69852:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var re,M=E(17626),D=E(48701),Q=E(58817),B=E(77712),ne=(E(90912),E(55342)),k=E(76898),F=E(26531),I=E(2066),x=E(39368),$=E(21716),Y=E(9824),Z=E(97595);const X=D.Z.ofType({base:null,key:"type",typeMap:{icon:F.Z,object:I.Z,text:$.Z}});let L=re=class extends x.Z{constructor(P){super(P),this.verticalOffset=null,this.callout=null,this.symbolLayers=new X,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const P of this.symbolLayers.items)switch(P.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,Y.gv)(this)}hasVisibleVerticalOffset(){return(0,Y.Uy)(this)}clone(){return new re({verticalOffset:(0,Q.d9)(this.verticalOffset),callout:(0,Q.d9)(this.callout),styleOrigin:(0,Q.d9)(this.styleOrigin),symbolLayers:(0,Q.d9)(this.symbolLayers),thumbnail:(0,Q.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(P){return new re({symbolLayers:[F.Z.fromSimpleMarkerSymbol(P)]})}static fromPictureMarkerSymbol(P){return new re({symbolLayers:[F.Z.fromPictureMarkerSymbol(P)]})}static fromCIMSymbol(P){var j,K;return"CIMPointSymbol"!==(null==(j=P.data)||null==(K=j.symbol)?void 0:K.type)?null:new re(P.data.symbol.callout?{symbolLayers:[F.Z.fromCIMSymbol(P)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[F.Z.fromCIMSymbol(P)]})}static fromTextSymbol(P){return new re({symbolLayers:[$.Z.fromTextSymbol(P)]})}};(0,M._)([(0,B.Cb)({type:Z._,json:{write:!0}})],L.prototype,"verticalOffset",void 0),(0,M._)([(0,B.Cb)(Y.Y2)],L.prototype,"callout",void 0),(0,M._)([(0,B.Cb)({type:X,json:{origins:{"web-scene":{write:!0}}}})],L.prototype,"symbolLayers",void 0),(0,M._)([(0,ne.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],L.prototype,"type",void 0),L=re=(0,M._)([(0,k.j)("esri.symbols.PointSymbol3D")],L);const T=L},89673:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>J});var j,M=E(17626),D=E(48701),Q=E(26584),B=E(58817),N=E(62208),ne=E(77712),F=(E(90912),E(55342)),I=E(76898),x=E(99433),$=E(65499),Y=E(9260),Z=E(26531),re=E(21272),X=E(2066),L=E(39368),T=E(21716),P=E(72622);const K=D.Z.ofType({base:null,key:"type",typeMap:{extrude:$.Z,fill:Y.Z,icon:Z.Z,line:re.Z,object:X.Z,text:T.Z,water:P.Z}}),W=D.Z.ofType({base:null,key:"type",typeMap:{extrude:$.Z,fill:Y.Z,icon:Z.Z,line:re.Z,object:X.Z,water:P.Z}});let te=j=class extends L.Z{constructor(he){super(he),this.symbolLayers=new K,this.type="polygon-3d"}writeSymbolLayers(he,oe,me,de){const ie=he.filter(V=>"text"!==V.type);if(de&&de.messages&&ie.length<he.length){const V=he.find(ce=>"text"===ce.type);de.messages.push(new Q.Z("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:V}))}oe[me]=ie.map(V=>V.write({},de)).toArray()}clone(){return new j({styleOrigin:(0,B.d9)(this.styleOrigin),symbolLayers:(0,B.d9)(this.symbolLayers),thumbnail:(0,B.d9)(this.thumbnail)})}static fromJSON(he){const oe=new j;if(oe.read(he),2===oe.symbolLayers.length&&"fill"===oe.symbolLayers.getItemAt(0).type&&"line"===oe.symbolLayers.getItemAt(1).type){const me=oe.symbolLayers.getItemAt(0),de=oe.symbolLayers.getItemAt(1);!de.enabled||he.symbolLayers&&he.symbolLayers[1]&&!1===he.symbolLayers[1].enable||(me.outline={size:de.size,color:(0,N.pC)(de.material)?de.material.color:null}),oe.symbolLayers.removeAt(1)}return oe}static fromSimpleFillSymbol(he){return new j({symbolLayers:[Y.Z.fromSimpleFillSymbol(he)]})}};(0,M._)([(0,ne.Cb)({type:K,json:{type:W}})],te.prototype,"symbolLayers",void 0),(0,M._)([(0,x.c)("web-scene","symbolLayers")],te.prototype,"writeSymbolLayers",null),(0,M._)([(0,F.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],te.prototype,"type",void 0),te=j=(0,M._)([(0,I.j)("esri.symbols.PolygonSymbol3D")],te);const J=te},88493:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>re});var $,M=E(17626),D=E(91558),Q=E(2076),B=E(58817),N=E(77712),k=(E(90912),E(55342)),F=E(76898),I=E(48575),x=E(52068);const Y=new Q.X({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Z=$=class extends I.Z{constructor(...X){super(...X),this.color=new D.Z([0,0,0,.25]),this.outline=new x.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(X,L,T){if(X&&"string"!=typeof X)return X;const P={};return X&&(P.style=X),L&&(P.outline=L),T&&(P.color=T),P}clone(){return new $({color:(0,B.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,M._)([(0,N.Cb)()],Z.prototype,"color",void 0),(0,M._)([(0,N.Cb)()],Z.prototype,"outline",void 0),(0,M._)([(0,k.J)({esriSFS:"simple-fill"},{readOnly:!0})],Z.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:Y.apiValues,json:{read:Y.read,write:Y.write}})],Z.prototype,"style",void 0),Z=$=(0,M._)([(0,F.j)("esri.symbols.SimpleFillSymbol")],Z);const re=Z},52068:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>he});var M=E(17626),D=E(2076),Q=E(58817),B=E(23841),N=E(77712),k=(E(90912),E(55342)),F=E(76898),$=(E(85931),E(8314),E(10012));let Y=class extends $.Z{constructor(oe){super(oe),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,M._)([(0,k.J)({esriSLS:"simple-line"},{readOnly:!0})],Y.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:Number,cast:B.t_,json:{write:!0}})],Y.prototype,"width",void 0),Y=(0,M._)([(0,F.j)("esri.symbols.LineSymbol")],Y);const Z=Y;var P,re=E(91558),X=E(86810),L=E(68653),T=E(99433);let j=P=class extends X.wq{constructor(oe){super(oe),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(oe,me,de,ie){me[de]="web-map"===(null==ie?void 0:ie.origin)?"arrow":oe}set color(oe){this._set("color",oe)}readColor(oe){return oe&&null!=oe[0]?[oe[0],oe[1],oe[2],oe[3]/255]:oe}writeColor(oe,me,de,ie){"web-map"===(null==ie?void 0:ie.origin)||(me[de]=oe)}clone(){return new P({color:(0,Q.d9)(this.color),placement:this.placement,style:this.style})}hash(){var oe;return`${this.placement}.${null==(oe=this.color)?void 0:oe.hash()}.${this.style}`}};(0,M._)([(0,N.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],j.prototype,"placement",void 0),(0,M._)([(0,k.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,N.Cb)({json:{origins:{"web-map":{write:!1}}}})],j.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:["arrow","circle","square","diamond","cross","x"]})],j.prototype,"style",void 0),(0,M._)([(0,T.c)("style")],j.prototype,"writeStyle",null),(0,M._)([(0,N.Cb)({type:re.Z,value:null,json:{write:{allowNull:!0}}})],j.prototype,"color",null),(0,M._)([(0,L.r)("color")],j.prototype,"readColor",null),(0,M._)([(0,T.c)("color")],j.prototype,"writeColor",null),j=P=(0,M._)([(0,F.j)("esri.symbols.LineSymbolMarker")],j);const K=j;var W;const te=new D.X({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let J=W=class extends Z{constructor(...oe){super(...oe),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(oe,me,de,ie,V,ce){if(oe&&"string"!=typeof oe)return oe;const ae={};return null!=oe&&(ae.style=oe),null!=me&&(ae.color=me),null!=de&&(ae.width=(0,B.t_)(de)),null!=ie&&(ae.cap=ie),null!=V&&(ae.join=V),null!=ce&&(ae.miterLimit=(0,B.t_)(ce)),ae}clone(){var oe;return new W({color:(0,Q.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(oe=this.marker)?void 0:oe.clone()})}hash(){var oe,me;return`${super.hash()}.${null==(oe=this.color)?void 0:oe.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(me=this.marker)?void 0:me.hash()}`}};(0,M._)([(0,k.J)({esriSLS:"simple-line"},{readOnly:!0})],J.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:te.apiValues,json:{read:te.read,write:te.write}})],J.prototype,"style",void 0),(0,M._)([(0,N.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(oe,me,de)=>({enabled:"round"!==oe&&(null==de||null==de.origin)})}}})],J.prototype,"cap",void 0),(0,M._)([(0,N.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(oe,me,de)=>({enabled:"round"!==oe&&(null==de||null==de.origin)})}}})],J.prototype,"join",void 0),(0,M._)([(0,N.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":K}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],J.prototype,"marker",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{read:!1,write:!1}})],J.prototype,"miterLimit",void 0),J=W=(0,M._)([(0,F.j)("esri.symbols.SimpleLineSymbol")],J);const he=J},57213:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>L});var Z,M=E(17626),D=E(91558),Q=E(2076),B=E(58817),N=E(23841),ne=E(77712),F=(E(90912),E(55342)),I=E(76898),x=E(99433),$=E(46735),Y=E(52068);const re=new Q.X({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let X=Z=class extends $.Z{constructor(...T){super(...T),this.color=new D.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Y.Z}normalizeCtorArgs(T,P,j,K){if(T&&"string"!=typeof T)return T;const W={};return T&&(W.style=T),null!=P&&(W.size=(0,N.t_)(P)),j&&(W.outline=j),K&&(W.color=K),W}writeColor(T,P){T&&"x"!==this.style&&"cross"!==this.style&&(P.color=T.toJSON()),null===T&&(P.color=null)}set path(T){this.style="path",this._set("path",T)}clone(){return new Z({angle:this.angle,color:(0,B.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var T;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==(T=this.outline)?void 0:T.hash()}`}};(0,M._)([(0,ne.Cb)()],X.prototype,"color",void 0),(0,M._)([(0,x.c)("color")],X.prototype,"writeColor",null),(0,M._)([(0,F.J)({esriSMS:"simple-marker"},{readOnly:!0})],X.prototype,"type",void 0),(0,M._)([(0,ne.Cb)()],X.prototype,"size",void 0),(0,M._)([(0,ne.Cb)({type:re.apiValues,json:{read:re.read,write:re.write}})],X.prototype,"style",void 0),(0,M._)([(0,ne.Cb)({type:String,json:{write:!0}})],X.prototype,"path",null),(0,M._)([(0,ne.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Y.Z}},json:{default:null,write:!0}})],X.prototype,"outline",void 0),X=Z=(0,M._)([(0,I.j)("esri.symbols.SimpleMarkerSymbol")],X);const L=X},10012:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var M=E(15861),D=E(17626),Q=E(91558),B=E(2076),N=E(86810),ne=E(77712),x=(E(85931),E(8314),E(90912),E(68653)),$=E(76898);const Y=new B.X({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Z=0,re=class extends N.wq{constructor(L){super(L),this.id="sym"+Z++,this.type=null,this.color=new Q.Z([0,0,0,1])}readColor(L){return L&&null!=L[0]?[L[0],L[1],L[2],L[3]/255]:L}collectRequiredFields(L,T){return(0,M.Z)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,D._)([(0,ne.Cb)({type:Y.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Y.write}}})],re.prototype,"type",void 0),(0,D._)([(0,ne.Cb)({type:Q.Z,json:{write:{allowNull:!0}}})],re.prototype,"color",void 0),(0,D._)([(0,x.r)("color")],re.prototype,"readColor",null),re=(0,D._)([(0,$.j)("esri.symbols.Symbol")],re);const X=re},39368:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>pe});var M=E(17626),D=E(48701),Q=E(89726),B=E(63290),N=E(21726),ne=E(14889),k=E(77712),x=(E(85931),E(8314),E(66656)),$=E(68653),Y=E(76898),Z=E(99433),re=E(84687),X=E(29840),L=E(65499),T=E(9260),P=E(26531),j=E(21272),K=E(2066),W=E(69147),te=E(10012),J=E(97665),he=E(21716),oe=E(72622),me=E(77345),de=E(96296);const ie={icon:P.Z,object:K.Z,line:j.Z,path:W.Z,fill:T.Z,extrude:L.Z,text:he.Z,water:oe.Z},V=D.Z.ofType({base:J.Z,key:"type",typeMap:ie,errorContext:"symbol-layer"}),ce=B.Z.getLogger("esri.symbols.Symbol3D");let ae=class extends te.Z{constructor(ue){super(ue),this.styleOrigin=null,this.thumbnail=null,this.type=null;const ye=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers;this._set("symbolLayers",new(ye&&ye.type||D.Z))}get color(){return null}set color(ue){this.initialized&&ce.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(ue){(0,Q.Z)(ue,this._get("symbolLayers"))}readStyleOrigin(ue,ye,le){if(ue.styleUrl&&ue.name){const se=(0,X.f)(ue.styleUrl,le);return new me.Z({styleUrl:se,name:ue.name})}if(ue.styleName&&ue.name)return new me.Z({portal:le&&le.portal||re.Z.getDefault(),styleName:ue.styleName,name:ue.name});le&&le.messages&&le.messages.push(new ne.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:le,definition:ue}))}writeStyleOrigin(ue,ye,le,se){if(ue.styleUrl&&ue.name){let Ce=(0,X.t)(ue.styleUrl,se);(0,N.YP)(Ce)&&(Ce=(0,N.Fv)(Ce)),ye.styleOrigin={styleUrl:Ce,name:ue.name}}else ue.styleName&&ue.name&&(ue.portal&&se&&se.portal&&!(0,N.tm)(ue.portal.restUrl,se.portal.restUrl)?se&&se.messages&&se.messages.push(new ne.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):ye.styleOrigin={styleName:ue.styleName,name:ue.name})}normalizeCtorArgs(ue){return ue instanceof J.Z||ue&&ie[ue.type]?{symbolLayers:[ue]}:Array.isArray(ue)?{symbolLayers:ue}:ue}};(0,M._)([(0,k.Cb)({json:{read:!1,write:!1}})],ae.prototype,"color",null),(0,M._)([(0,k.Cb)({type:V,nonNullable:!0,json:{write:!0}}),(0,x.p)(Q.R)],ae.prototype,"symbolLayers",null),(0,M._)([(0,k.Cb)({type:me.Z})],ae.prototype,"styleOrigin",void 0),(0,M._)([(0,$.r)("styleOrigin")],ae.prototype,"readStyleOrigin",null),(0,M._)([(0,Z.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ae.prototype,"writeStyleOrigin",null),(0,M._)([(0,k.Cb)({type:de.p,json:{read:!1}})],ae.prototype,"thumbnail",void 0),(0,M._)([(0,k.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ae.prototype,"type",void 0),ae=(0,M._)([(0,Y.j)("esri.symbols.Symbol3D")],ae);const pe=ae},97665:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(99433);let I=class extends D.wq{constructor($){super($),this.enabled=!0,this.type=null}writeEnabled($,Y,Z){$||(Y[Z]=$)}};(0,M._)([(0,Q.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],I.prototype,"enabled",void 0),(0,M._)([(0,F.c)("enabled")],I.prototype,"writeEnabled",null),(0,M._)([(0,Q.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],I.prototype,"type",void 0),I=(0,M._)([(0,k.j)("esri.symbols.Symbol3DLayer")],I);const x=I},35540:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var Z,M=E(17626),D=E(91558),Q=E(58817),B=E(23841),N=E(77712),ne=E(66656),k=E(55342),F=E(76898),I=E(99433),x=E(11472),$=E(10012),Y=E(50369);let re=Z=class extends $.Z{constructor(...L){super(...L),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new x.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(L,T,P){if(L&&"string"!=typeof L)return L;const j={};return L&&(j.text=L),T&&(j.font=T),P&&(j.color=P),j}writeLineWidth(L,T,P,j){j&&"string"!=typeof j||(T[P]=L)}castLineWidth(L){return(0,B.t_)(L)}writeLineHeight(L,T,P,j){j&&"string"!=typeof j||(T[P]=L)}clone(){return new Z({angle:this.angle,backgroundColor:(0,Q.d9)(this.backgroundColor),borderLineColor:(0,Q.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,Q.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,Q.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,M._)([(0,N.Cb)({type:D.Z,json:{write:!0}})],re.prototype,"backgroundColor",void 0),(0,M._)([(0,N.Cb)({type:D.Z,json:{write:!0}})],re.prototype,"borderLineColor",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],re.prototype,"borderLineSize",void 0),(0,M._)([(0,N.Cb)({type:x.Z,json:{write:!0}})],re.prototype,"font",void 0),(0,M._)([(0,N.Cb)($n(Pt({},Y.x0),{json:{write:!0}}))],re.prototype,"horizontalAlignment",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],re.prototype,"kerning",void 0),(0,M._)([(0,N.Cb)({type:D.Z,json:{write:!0}})],re.prototype,"haloColor",void 0),(0,M._)([(0,N.Cb)({type:Number,cast:B.t_,json:{write:!0}})],re.prototype,"haloSize",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],re.prototype,"rightToLeft",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],re.prototype,"rotated",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],re.prototype,"text",void 0),(0,M._)([(0,k.J)({esriTS:"text"},{readOnly:!0})],re.prototype,"type",void 0),(0,M._)([(0,N.Cb)($n(Pt({},Y.Nj),{json:{write:!0}}))],re.prototype,"verticalAlignment",void 0),(0,M._)([(0,N.Cb)({type:Number,cast:B.t_,json:{write:!0}})],re.prototype,"xoffset",void 0),(0,M._)([(0,N.Cb)({type:Number,cast:B.t_,json:{write:!0}})],re.prototype,"yoffset",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{read:L=>L&&-1*L,write:(L,T)=>T.angle=L&&-1*L}})],re.prototype,"angle",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],re.prototype,"width",void 0),(0,M._)([(0,N.Cb)({type:Number})],re.prototype,"lineWidth",void 0),(0,M._)([(0,I.c)("lineWidth")],re.prototype,"writeLineWidth",null),(0,M._)([(0,ne.p)("lineWidth")],re.prototype,"castLineWidth",null),(0,M._)([(0,N.Cb)(Y.Ck)],re.prototype,"lineHeight",void 0),(0,M._)([(0,I.c)("lineHeight")],re.prototype,"writeLineHeight",null),re=Z=(0,M._)([(0,F.j)("esri.symbols.TextSymbol")],re);const X=re},21716:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>oe});var re,M=E(17626),D=E(58817),Q=E(62208),B=E(77712),ne=(E(90912),E(55342)),k=E(76898),F=E(99433),I=E(11472),x=E(97665),$=E(60958),Y=E(91558),Z=E(86810);let X=re=class extends Z.wq{constructor(){super(...arguments),this.color=new Y.Z([0,0,0,1]),this.size=0}clone(){const me={color:(0,D.d9)(this.color),size:this.size};return new re(me)}};(0,M._)([(0,B.Cb)($.a)],X.prototype,"color",void 0),(0,M._)([(0,B.Cb)($.y)],X.prototype,"size",void 0),X=re=(0,M._)([(0,k.j)("esri.symbols.support.Symbol3DHalo")],X);var L=E(64830),T=E(79608);E(85931),E(8314);let K=class extends((0,T.J)(Z.wq)){constructor(me){super(me),this.color=null}};(0,M._)([(0,B.Cb)($.a)],K.prototype,"color",void 0),K=(0,M._)([(0,k.j)("esri.symbols.support.Symbol3DTextBackground")],K);var te,W=E(50369);let J=te=class extends x.Z{constructor(me){super(me),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(me){(0,Q.pC)(me)&&(0,Q.pC)(this._userSize)&&(me.size=this._userSize),this._set("font",me)}writeFont(me,de,ie,V){const ce=$n(Pt({},V),{textSymbol3D:!0});de.font=me.write({},ce),delete de.font.size}get size(){return(0,Q.pC)(this._userSize)?this._userSize:(0,Q.pC)(this.font)&&null!=this.font.size?this.font.size:9}set size(me){this._userSize=me,(0,Q.pC)(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){return new te({enabled:this.enabled,font:this.font&&(0,D.d9)(this.font),halo:this.halo&&(0,D.d9)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:(0,Q.pC)(this.material)?this.material.clone():null,size:this.size,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,D.d9)(this.background)})}static fromTextSymbol(me){return new te({font:(0,Q.pC)(me.font)?me.font.clone():new I.Z,halo:he(me.haloColor,me.haloSize),horizontalAlignment:me.horizontalAlignment,lineHeight:me.lineHeight,material:me.color?new L.b({color:me.color.clone()}):null,text:me.text,verticalAlignment:me.verticalAlignment,background:me.backgroundColor?new K({color:me.backgroundColor.clone()}):null})}};function he(me,de){return me&&de>0?new X({color:(0,D.d9)(me),size:de}):null}(0,M._)([(0,B.Cb)({type:I.Z,json:{write:!0}})],J.prototype,"font",null),(0,M._)([(0,F.c)("font")],J.prototype,"writeFont",null),(0,M._)([(0,B.Cb)({type:X,json:{write:!0}})],J.prototype,"halo",void 0),(0,M._)([(0,B.Cb)($n(Pt({},W.x0),{json:{default:"center",write:!0}}))],J.prototype,"horizontalAlignment",void 0),(0,M._)([(0,B.Cb)($n(Pt({},W.Ck),{json:{default:1,write:!0}}))],J.prototype,"lineHeight",void 0),(0,M._)([(0,B.Cb)({type:L.b,json:{write:!0}})],J.prototype,"material",void 0),(0,M._)([(0,B.Cb)({type:K,json:{write:!0}})],J.prototype,"background",void 0),(0,M._)([(0,B.Cb)($.y)],J.prototype,"size",null),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],J.prototype,"text",void 0),(0,M._)([(0,ne.J)({Text:"text"},{readOnly:!0})],J.prototype,"type",void 0),(0,M._)([(0,B.Cb)($n(Pt({},W.Nj),{json:{default:"baseline",write:!0}}))],J.prototype,"verticalAlignment",void 0),J=te=(0,M._)([(0,k.j)("esri.symbols.TextSymbol3DLayer")],J);const oe=J},72622:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var I,M=E(17626),D=E(91558),Q=E(58817),B=E(77712),N=E(90912),ne=E(55342),k=E(76898),F=E(97665);let x=I=class extends F.Z{constructor(Z){super(Z),this.color=$.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new I({color:(0,Q.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,M._)([(0,B.Cb)({type:D.Z,nonNullable:!0,json:{type:[N.z8],write:(Z,re,X)=>re[X]=Z.toArray(D.Z.AlphaMode.UNLESS_OPAQUE),default:()=>$.clone(),defaultEquals:Z=>Z.toCss(!0)===$.toCss(!0)}})],x.prototype,"color",void 0),(0,M._)([(0,ne.J)({Water:"water"},{readOnly:!0})],x.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],x.prototype,"waterbodySize",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0,default:null}})],x.prototype,"waveDirection",void 0),(0,M._)([(0,B.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],x.prototype,"waveStrength",void 0),x=I=(0,M._)([(0,k.j)("esri.symbols.WaterSymbol3DLayer")],x);const $=new D.Z([0,119,190]),Y=x},12874:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var X,M=E(15861),D=E(17626),Q=E(63290),B=E(10699),N=E(77712),I=(E(85931),E(8314),E(90912),E(55342)),x=E(76898),$=E(84687),Y=E(29840),Z=E(10012),re=E(96296);const L=Q.Z.getLogger("esri.symbols.WebStyleSymbol");let T=X=class extends Z.Z{constructor(K){super(K),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(K,W){this.portal=W?W.portal:void 0,super.read(K,W)}clone(){return new X({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(K){return this._fetchSymbol("webRef",K)}fetchCIMSymbol(K){return this._fetchSymbol("cimRef",K)}_fetchSymbol(K,W){var te=this;return(0,M.Z)(function*(){const J=yield function P(){return Promise.all([E.e(8592),E.e(3100)]).then(E.bind(E,50998))}();(0,B.k_)(W);const he=J.resolveWebStyleSymbol(te,{portal:te.portal},K,W);return he.catch(oe=>{L.error("#fetchSymbol()","Failed to create symbol from style",oe)}),he})()}};(0,D._)([(0,N.Cb)({json:{write:!1}})],T.prototype,"color",void 0),(0,D._)([(0,N.Cb)({type:String,json:{write:!0}})],T.prototype,"styleName",void 0),(0,D._)([(0,N.Cb)({type:$.Z,json:{write:!1}})],T.prototype,"portal",void 0),(0,D._)([(0,N.Cb)({type:String,json:{read:Y.r,write:Y.w}})],T.prototype,"styleUrl",void 0),(0,D._)([(0,N.Cb)({type:re.p,json:{read:!1}})],T.prototype,"thumbnail",void 0),(0,D._)([(0,N.Cb)({type:String,json:{write:!0}})],T.prototype,"name",void 0),(0,D._)([(0,I.J)({styleSymbolReference:"web-style"},{readOnly:!0})],T.prototype,"type",void 0),T=X=(0,D._)([(0,x.j)("esri.symbols.WebStyleSymbol")],T);const j=T},21779:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let F=class extends D.wq{constructor(x){super(x),this.visible=!0}clone(){}};(0,M._)([(0,Q.Cb)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],F.prototype,"type",void 0),(0,M._)([(0,Q.Cb)({readOnly:!0})],F.prototype,"visible",void 0),F=(0,M._)([(0,k.j)("esri.symbols.callouts.Callout3D")],F);const I=F},17497:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var Z,M=E(17626),D=E(91558),Q=E(58817),B=E(62208),N=E(23841),ne=E(77712),F=(E(90912),E(55342)),I=E(76898),x=E(21779),$=E(71530),Y=E(60958);let re=Z=class extends x.Z{constructor(L){super(L),this.type="line",this.color=new D.Z([0,0,0,1]),this.size=(0,N.Wz)(1),this.border=null}get visible(){return this.size>0&&(0,B.pC)(this.color)&&this.color.a>0}clone(){return new Z({color:(0,Q.d9)(this.color),size:this.size,border:(0,Q.d9)(this.border)})}};(0,M._)([(0,F.J)({line:"line"},{readOnly:!0})],re.prototype,"type",void 0),(0,M._)([(0,ne.Cb)(Y.a)],re.prototype,"color",void 0),(0,M._)([(0,ne.Cb)(Y.y)],re.prototype,"size",void 0),(0,M._)([(0,ne.Cb)({type:$.a,json:{write:!0}})],re.prototype,"border",void 0),(0,M._)([(0,ne.Cb)({readOnly:!0})],re.prototype,"visible",null),re=Z=(0,M._)([(0,I.j)("esri.symbols.callouts.LineCallout3D")],re);const X=re},9824:(qe,Me,E)=>{"use strict";E.d(Me,{Y2:()=>k,gv:()=>B,Uy:()=>Q});var M=E(21779),D=E(17497);function Q(F){if(!F)return!1;const I=F.verticalOffset;return!!I&&!(I.screenLength<=0||I.maxWorldLength<=0)}function B(F){if(!F||!F.supportsCallout||!F.supportsCallout())return!1;const I=F.callout;return!!I&&!!I.visible&&!!Q(F)}const k={types:{key:"type",base:M.Z,typeMap:{line:D.Z}},json:{write:!0}}},80991:(qe,Me,E)=>{"use strict";function D(L,T,P,j){return function M(L){return"function"==typeof L}(L)?L(T,P,j):L}function Q(L){return[L.r,L.g,L.b,L.a]}function B(L,T,P){const K=he=>{let oe=he.length;for(;oe--;)if(-1===" /-,\n".indexOf(he.charAt(oe)))return!1;return!0},W=[];let te=0,J=-1;do{if(J=T.indexOf("[",te),J>=te){if(J>te){const he=T.substr(te,J-te);W.push([he,null,K(he)])}if(te=J+1,J=T.indexOf("]",te),J>=te){if(J>te){const he=L[T.substr(te,J-te)];he&&W.push([null,he,!1])}te=J+1}}}while(-1!==J);if(te<T.length-1){const he=T.substr(te);W.push([he,null,K(he)])}return he=>{let oe="",me=null;for(const de of W){const[ie,V,ce]=de;if(ie)ce?me=ie:(me&&(oe+=me,me=null),oe+=ie);else{const ae=he.attributes[V];ae&&(me&&(oe+=me,me=null),oe+=ae)}}return N(oe,P)}}function N(L,T){switch("string"!=typeof L&&(L=String(L)),T){case"LowerCase":return L.toLowerCase();case"Allcaps":return L.toUpperCase();default:return L}}function ne(L,T,P,j,K,W,te=!0){const J=T/K,he=P/W,oe=Math.ceil(J/2),me=Math.ceil(he/2);for(let de=0;de<W;de++)for(let ie=0;ie<K;ie++){const V=4*(ie+(te?W-de-1:de)*K);let ce=0,ae=0,pe=0,ue=0,ye=0,le=0,se=0;const Ce=(de+.5)*he;for(let ge=Math.floor(de*he);ge<(de+1)*he;ge++){const Pe=Math.abs(Ce-(ge+.5))/me,Ee=(ie+.5)*J,Ge=Pe*Pe;for(let Se=Math.floor(ie*J);Se<(ie+1)*J;Se++){let ve=Math.abs(Ee-(Se+.5))/oe;const Te=Math.sqrt(Ge+ve*ve);Te>=-1&&Te<=1&&(ce=2*Te*Te*Te-3*Te*Te+1,ce>0&&(ve=4*(Se+ge*T),se+=ce*L[ve+3],pe+=ce,L[ve+3]<255&&(ce=ce*L[ve+3]/250),ue+=ce*L[ve],ye+=ce*L[ve+1],le+=ce*L[ve+2],ae+=ce))}}j[V]=ue/ae,j[V+1]=ye/ae,j[V+2]=le/ae,j[V+3]=se/pe}}function k(L){return L?{r:L[0],g:L[1],b:L[2],a:L[3]/255}:{r:0,g:0,b:0,a:0}}function F(L){var T;return null==(T=L.data)?void 0:T.symbol}function I(L){return"CIMVectorMarker"===L.type||"CIMPictureMarker"===L.type||"CIMBarChartMarker"===L.type||"CIMCharacterMarker"===L.type||"CIMPieChartMarker"===L.type||"CIMStackedBarChartMarker"===L.type}function x(L){return"CIMGradientStroke"===L.type||"CIMPictureStroke"===L.type||"CIMSolidStroke"===L.type}function $(L){return"CIMGradientFill"===L.type||"CIMHatchFill"===L.type||"CIMPictureFill"===L.type||"CIMSolidFill"===L.type||"CIMWaterFill"===L.type}function Y(L){return"CIMMarkerPlacementAlongLineRandomSize"===L.type||"CIMMarkerPlacementAlongLineSameSize"===L.type||"CIMMarkerPlacementAlongLineVariableSize"===L.type||"CIMMarkerPlacementAtExtremities"===L.type||"CIMMarkerPlacementAtMeasuredUnits"===L.type||"CIMMarkerPlacementAtRatioPositions"===L.type||"CIMMarkerPlacementOnLine"===L.type||"CIMMarkerPlacementOnVertices"===L.type}E.d(Me,{X3:()=>N,nn:()=>Q,Qs:()=>B,hf:()=>D,NO:()=>k,NA:()=>Z,RI:()=>X,k5:()=>$,zL:()=>I,gJ:()=>Y,yL:()=>x,Cc:()=>re,TT:()=>ne,be:()=>F});const Z=L=>isNaN(L)||!L?0:L,re=L=>{if(!L)return!1;for(const T of L)switch(T.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":return!0}return!1};function X(){return Promise.all([E.e(4918),E.e(8592),E.e(5994)]).then(E.bind(E,32825))}},89441:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>J});var M=E(17626),D=E(91558),Q=E(86810),B=E(58817),N=E(23841),ne=E(77712),F=(E(90912),E(76898)),I=E(60958);let x=class extends Q.wq{constructor(he){super(he),this.color=new D.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,N.Wz)(1)}clone(){}cloneProperties(){return{color:(0,B.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,M._)([(0,ne.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],x.prototype,"type",void 0),(0,M._)([(0,ne.Cb)(I.a)],x.prototype,"color",void 0),(0,M._)([(0,ne.Cb)($n(Pt({},I.y),{json:{write:{overridePolicy:he=>({enabled:!!he})}}}))],x.prototype,"extensionLength",void 0),(0,M._)([(0,ne.Cb)(I.y)],x.prototype,"size",void 0),x=(0,M._)([(0,F.j)("esri.symbols.edges.Edges3D")],x);const $=x;E(63290),E(85931),E(8314),E(82255);var T,L=E(55342);let P=T=class extends ${constructor(he){super(he),this.type="sketch"}clone(){return new T(this.cloneProperties())}};(0,M._)([(0,L.J)({sketch:"sketch"},{readOnly:!0})],P.prototype,"type",void 0),P=T=(0,M._)([(0,F.j)("esri.symbols.edges.SketchEdges3D")],P);const j=P;var K;let W=K=class extends ${constructor(he){super(he),this.type="solid"}clone(){return new K(this.cloneProperties())}};(0,M._)([(0,L.J)({solid:"solid"},{readOnly:!0})],W.prototype,"type",void 0),W=K=(0,M._)([(0,F.j)("esri.symbols.support.SolidEdges3D")],W);const J={types:{key:"type",base:$,typeMap:{solid:W,sketch:j}},json:{write:!0}}},38861:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let F=class extends D.wq{constructor(x){super(x)}clone(){}};(0,M._)([(0,Q.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],F.prototype,"type",void 0),F=(0,M._)([(0,k.j)("esri.symbols.patterns.LinePattern3D")],F);const I=F},63743:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>re});var $,M=E(17626),D=E(2076),Q=E(77712),k=(E(85931),E(8314),E(90912),E(55342)),F=E(76898),I=E(38861);const Y=(0,D.w)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Z=$=class extends I.Z{constructor(X){super(X),this.type="style",this.style="solid"}clone(){return new $({style:this.style})}};(0,M._)([(0,Q.Cb)({type:["style"]})],Z.prototype,"type",void 0),(0,M._)([(0,k.J)(Y),(0,Q.Cb)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],Z.prototype,"style",void 0),Z=$=(0,M._)([(0,F.j)("esri.symbols.patterns.LineStylePattern3D")],Z);const re=Z},40249:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let F=class extends D.wq{constructor(x){super(x)}clone(){}};(0,M._)([(0,Q.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],F.prototype,"type",void 0),F=(0,M._)([(0,k.j)("esri.symbols.patterns.Pattern3D")],F);const I=F},153:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(77712),ne=(E(85931),E(8314),E(90912),E(76898)),k=E(40249);let x=I=class extends k.Z{constructor(Y){super(Y),this.type="style",this.style="solid"}clone(){return new I({style:this.style})}};(0,M._)([(0,D.Cb)({type:["style"]})],x.prototype,"type",void 0),(0,M._)([(0,D.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],x.prototype,"style",void 0),x=I=(0,M._)([(0,ne.j)("esri.symbols.patterns.StylePattern3D")],x);const $=x},99255:(qe,Me,E)=>{"use strict";E.d(Me,{D:()=>ne,q:()=>N});var M=E(38861),D=E(63743),Q=E(40249),B=E(153);const N={types:{key:"type",base:Q.Z,typeMap:{style:B.Z}},json:{write:!0}},ne={types:{key:"type",base:M.Z,typeMap:{style:D.Z}},json:{write:!0}}},26540:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>me});var re,M=E(17626),D=E(2076),Q=E(86810),B=E(62208),N=E(77712),I=(E(85931),E(8314),E(90912),E(68653)),x=E(76898),$=E(99433),Y=E(15861),Z=E(36630);let X=re=class extends Q.wq{collectRequiredFields(de,ie){var V=this;return(0,Y.Z)(function*(){return(0,Z.io)(de,ie,V.expression)})()}clone(){return new re({expression:this.expression,title:this.title})}};(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],X.prototype,"expression",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],X.prototype,"title",void 0),X=re=(0,M._)([(0,x.j)("esri.layers.support.FeatureExpressionInfo")],X);const L=X;var T=E(21254);const W=function K(){const de=Object.keys(T.a);return de.sort(),de}();var te;const J=(0,D.w)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),he=new D.X({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let oe=te=class extends Q.wq{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(de,ie){return null!=de?de:ie.featureExpression&&0===ie.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(de,ie,V,ce){ie[V]=de.write({},ce),"0"===de.expression&&(ie.featureExpression={value:0})}get mode(){const{offset:de,featureExpressionInfo:ie}=this;return this._isOverridden("mode")?this._get("mode"):(0,B.pC)(de)||ie?"relative-to-ground":"on-the-ground"}set mode(de){this._override("mode",de)}set unit(de){this._set("unit",de)}write(de,ie){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(de,ie):null}clone(){return new te({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};(0,M._)([(0,N.Cb)({type:L,json:{write:!0}})],oe.prototype,"featureExpressionInfo",void 0),(0,M._)([(0,I.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],oe.prototype,"readFeatureExpressionInfo",null),(0,M._)([(0,$.c)("featureExpressionInfo",{featureExpressionInfo:{type:L},"featureExpression.value":{type:[0]}})],oe.prototype,"writeFeatureExpressionInfo",null),(0,M._)([(0,N.Cb)({type:J.apiValues,nonNullable:!0,json:{type:J.jsonValues,read:J.read,write:{writer:J.write,isRequired:!0}}})],oe.prototype,"mode",null),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],oe.prototype,"offset",void 0),(0,M._)([(0,N.Cb)({type:W,json:{type:String,read:he.read,write:he.write}})],oe.prototype,"unit",null),oe=te=(0,M._)([(0,x.j)("esri.layers.support.ElevationInfo")],oe);const me=oe},33215:(qe,Me,E)=>{"use strict";E.d(Me,{b:()=>L,S:()=>T});var re,M=E(17626),D=E(2076),Q=E(86810),B=E(21726),N=E(77712),I=(E(85931),E(8314),E(90912),E(55342)),x=E(68653),$=E(76898),Y=E(99433),Z=E(29840);const X=(0,D.w)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let L=re=class extends Q.wq{constructor(P){super(P)}readHref(P,j,K){return P?(0,Z.f)(P,K):j.dataURI}writeHref(P,j,K,W){P&&((0,B.HK)(P)?j.dataURI=P:(j.href=(0,Z.t)(P,W),(0,B.YP)(j.href)&&(j.href=(0,B.Fv)(j.href))))}clone(){return new re({href:this.href,primitive:this.primitive})}};(0,M._)([(0,N.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],L.prototype,"href",void 0),(0,M._)([(0,x.r)("href")],L.prototype,"readHref",null),(0,M._)([(0,Y.c)("href",{href:{type:String},dataURI:{type:String}})],L.prototype,"writeHref",null),(0,M._)([(0,I.J)(X)],L.prototype,"primitive",void 0),L=re=(0,M._)([(0,$.j)("esri.symbols.support.IconSymbol3DLayerResource")],L);const T="circle"},48521:(qe,Me,E)=>{"use strict";E.d(Me,{k:()=>Z,S:()=>re});var $,M=E(17626),D=E(2076),Q=E(86810),B=E(77712),F=(E(85931),E(8314),E(90912),E(55342)),I=E(76898),x=E(29840);const Y=(0,D.w)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Z=$=class extends Q.wq{clone(){return new $({href:this.href,primitive:this.primitive})}};(0,M._)([(0,B.Cb)({type:String,json:{read:x.r,write:x.w}})],Z.prototype,"href",void 0),(0,M._)([(0,F.J)(Y)],Z.prototype,"primitive",void 0),Z=$=(0,M._)([(0,I.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],Z);const re="sphere"},77345:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var I,M=E(17626),D=E(14517),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(84687);let x=I=class extends D.Z{constructor(){super(...arguments),this.portal=null}clone(){return new I({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,M._)([(0,Q.Cb)({type:String})],x.prototype,"name",void 0),(0,M._)([(0,Q.Cb)({type:String})],x.prototype,"styleUrl",void 0),(0,M._)([(0,Q.Cb)({type:String})],x.prototype,"styleName",void 0),(0,M._)([(0,Q.Cb)({type:F.Z})],x.prototype,"portal",void 0),x=I=(0,M._)([(0,k.j)("esri.symbols.support.StyleOrigin")],x);const $=x},37519:(qe,Me,E)=>{"use strict";E.d(Me,{e:()=>I});var F,M=E(17626),D=E(14517),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let I=F=class extends D.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new F({x:this.x,y:this.y})}};(0,M._)([(0,Q.Cb)({type:Number})],I.prototype,"x",void 0),(0,M._)([(0,Q.Cb)({type:Number})],I.prototype,"y",void 0),I=F=(0,M._)([(0,k.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],I)},64830:(qe,Me,E)=>{"use strict";E.d(Me,{b:()=>$});var x,M=E(17626),D=E(86810),Q=E(62208),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898)),I=E(60958);let $=x=class extends D.wq{constructor(Y){super(Y),this.color=null}clone(){const Y={color:(0,Q.pC)(this.color)?this.color.clone():null};return new x(Y)}};(0,M._)([(0,B.Cb)(I.a)],$.prototype,"color",void 0),$=x=(0,M._)([(0,F.j)("esri.symbols.support.Symbol3DMaterial")],$)},97595:(qe,Me,E)=>{"use strict";E.d(Me,{_:()=>x});var I,M=E(17626),D=E(86810),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(60958);let x=I=class extends D.wq{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new I({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,M._)([(0,Q.Cb)(F.y)],x.prototype,"screenLength",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0,default:0}})],x.prototype,"minWorldLength",void 0),(0,M._)([(0,Q.Cb)({type:Number,json:{write:!0}})],x.prototype,"maxWorldLength",void 0),x=I=(0,M._)([(0,k.j)("esri.symbols.support.Symbol3DVerticalOffset")],x)},96296:(qe,Me,E)=>{"use strict";E.d(Me,{p:()=>I});var F,M=E(17626),D=E(14517),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898));let I=F=class extends D.Z{clone(){return new F({url:this.url})}};(0,M._)([(0,Q.Cb)({type:String})],I.prototype,"url",void 0),I=F=(0,M._)([(0,k.j)("esri.symbols.support.Thumbnail")],I)},56445:(qe,Me,E)=>{"use strict";E.d(Me,{iW:()=>x,kW:()=>Q,FW:()=>k,PI:()=>B});var M=E(91558),D=E(80991);function Q(T){const P=(0,D.be)(T);if("CIMTextSymbol"===P.type)return P.height;let j=0;if(P.symbolLayers)for(const K of P.symbolLayers)(0,D.zL)(K)&&K.size>j?j=K.size:(0,D.yL)(K)&&K.width>j?j=K.width:(0,D.k5)(K);return j}function B(T,P,j){const K=(0,D.be)(T),W=Q(T);0!==W?ne(K,P/W,!1,j):function N(T,P){if("CIMTextSymbol"!==T.type){if(T.symbolLayers)for(const j of T.symbolLayers)switch(j.type){case"CIMPictureMarker":case"CIMVectorMarker":j.size=P;break;case"CIMPictureStroke":case"CIMSolidStroke":j.width=P}}else T.height=P}(K,P)}function ne(T,P,j,K){if("CIMTextSymbol"!==T.type){if(j&&T.effects)for(const W of T.effects)I(W,P);if(T.symbolLayers)for(const W of T.symbolLayers)switch(W.type){case"CIMPictureMarker":case"CIMVectorMarker":k(W,P,K);break;case"CIMPictureStroke":case"CIMSolidStroke":null!=K&&K.preserveOutlineWidth||!W.width||(W.width*=P);break;case"CIMPictureFill":W.height&&(W.height*=P),W.offsetX&&(W.offsetX*=P),W.offsetY&&(W.offsetY*=P);break;case"CIMHatchFill":ne(W.lineSymbol,P,!0,$n(Pt({},K),{preserveOutlineWidth:!1})),W.offsetX&&(W.offsetX*=P),W.offsetY&&(W.offsetY*=P),W.separation&&(W.separation*=P)}}else T.height*=P}function k(T,P,j){if(T.markerPlacement&&function F(T,P){switch((0,D.gJ)(T)&&T.offset&&(T.offset*=P),T.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(T.customEndingOffset&&(T.customEndingOffset*=P),T.offsetAlongLine&&(T.offsetAlongLine*=P),T.placementTemplate&&T.placementTemplate.length){const j=T.placementTemplate.map(K=>K*P);T.placementTemplate=j}break;case"CIMMarkerPlacementAlongLineVariableSize":if(T.maxRandomOffset&&(T.maxRandomOffset*=P),T.placementTemplate&&T.placementTemplate.length){const j=T.placementTemplate.map(K=>K*P);T.placementTemplate=j}break;case"CIMMarkerPlacementOnLine":T.startPointOffset&&(T.startPointOffset*=P);break;case"CIMMarkerPlacementAtExtremities":T.offsetAlongLine&&(T.offsetAlongLine*=P);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":T.beginPosition&&(T.beginPosition*=P),T.endPosition&&(T.endPosition*=P);break;case"CIMMarkerPlacementPolygonCenter":T.offsetX&&(T.offsetX*=P),T.offsetY&&(T.offsetY*=P);break;case"CIMMarkerPlacementInsidePolygon":T.offsetX&&(T.offsetX*=P),T.offsetY&&(T.offsetY*=P),T.stepX&&(T.stepX*=P),T.stepY&&(T.stepY*=P)}}(T.markerPlacement,P),T.offsetX&&(T.offsetX*=P),T.offsetY&&(T.offsetY*=P),T.anchorPoint&&"Absolute"===T.anchorPointUnits&&(T.anchorPoint={x:T.anchorPoint.x*P,y:T.anchorPoint.y*P}),T.size*=P,"CIMVectorMarker"===T.type&&T.markerGraphics)for(const K of T.markerGraphics)T.scaleSymbolsProportionally||ne(K.symbol,P,!0,j)}function I(T,P){switch(T.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":T.width&&(T.width*=P);break;case"CIMGeometricEffectBuffer":T.size&&(T.size*=P);break;case"CIMGeometricEffectCut":T.beginCut&&(T.beginCut*=P),T.endCut&&(T.endCut*=P),T.middleCut&&(T.middleCut*=P);break;case"CIMGeometricEffectDashes":if(T.customEndingOffset&&(T.customEndingOffset*=P),T.offsetAlongLine&&(T.offsetAlongLine*=P),T.dashTemplate&&T.dashTemplate.length){const j=T.dashTemplate.map(K=>K*P);T.dashTemplate=j}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":T.length&&(T.length*=P);break;case"CIMGeometricEffectMove":T.offsetX&&(T.offsetX*=P),T.offsetY&&(T.offsetY*=P);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":T.offset&&(T.offset*=P);break;case"CIMGeometricEffectRegularPolygon":T.radius&&(T.radius*=P);break;case"CIMGeometricEffectTaperedPolygon":T.fromWidth&&(T.fromWidth*=P),T.length&&(T.length*=P),T.toWidth&&(T.toWidth*=P);break;case"CIMGeometricEffectWave":T.amplitude&&(T.amplitude*=P),T.period&&(T.period*=P)}}function x(T){const P=[];return $((0,D.be)(T),P),P.length?new M.Z((0,D.NO)(P[0])):null}function $(T,P){let j;j="CIMTextSymbol"===T.type?T.symbol:T;const K="CIMPolygonSymbol"===T.type;if(j.symbolLayers)for(const W of j.symbolLayers)if(!(W.colorLocked||K&&((0,D.yL)(W)||(0,D.zL)(W)&&W.markerPlacement&&(0,D.gJ)(W.markerPlacement))))switch(W.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":W.tintColor&&Y(P,W.tintColor);break;case"CIMVectorMarker":W.markerGraphics.forEach(te=>{$(te.symbol,P)});break;case"CIMSolidStroke":case"CIMSolidFill":Y(P,W.color);break;case"CIMHatchFill":$(W.lineSymbol,P)}}function Y(T,P){for(const j of T)if(j.join(".")===P.join("."))return;T.push(P)}},12948:(qe,Me,E)=>{"use strict";E.d(Me,{rx:()=>N,l9:()=>B,ix:()=>D});var M=E(91558);const D=new M.Z("white"),B=(new M.Z("black"),new M.Z([255,255,255,0]));function N(ne){return 0===ne.r&&0===ne.g&&0===ne.b}},8080:(qe,Me,E)=>{"use strict";E.d(Me,{Rz:()=>x,G:()=>Y,kD:()=>re,mW:()=>Z}),E(8314);var D=E(88493),Q=E(52068),B=E(57213),N=E(35540),ne=E(24837);B.Z.fromJSON(ne.I4),Q.Z.fromJSON(ne.ET),D.Z.fromJSON(ne.lF);const x=N.Z.fromJSON(ne.qP),Y=B.Z.fromJSON(ne.eG),Z=Q.Z.fromJSON(ne.wW),re=D.Z.fromJSON(ne.lj)},24837:(qe,Me,E)=>{"use strict";E.d(Me,{I4:()=>Q,lF:()=>N,ET:()=>B,qP:()=>ne,eG:()=>k,lj:()=>I,wW:()=>F});const M=[252,146,31,255],Q={type:"esriSMS",style:"esriSMSCircle",size:6,color:M,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},B={type:"esriSLS",style:"esriSLSSolid",width:.75,color:M},N={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},ne={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},k={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},F={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},I={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},74741:(qe,Me,E)=>{"use strict";E.d(Me,{Ne:()=>J,Sp:()=>te,_M:()=>j,Od:()=>K,mx:()=>W});var M=E(54346),D=E(91558),Q=E(84792),B=E(78498),N=E(23841),ne=E(56445);const k="picture-fill",F="simple-fill",x="simple-marker",X=new B.Z(1e3);function j(he){const oe=he.style;let me=null;if(he)switch(he.type){case x:"cross"!==oe&&"x"!==oe&&(me=he.color);break;case F:"solid"===oe?me=he.color:"none"!==oe&&(me={type:"pattern",x:0,y:0,src:(0,M.V)(`esri/symbols/patterns/${oe}.png`),width:5,height:5});break;case k:me={type:"pattern",src:he.url,width:(0,N.F2)(he.width)*he.xscale,height:(0,N.F2)(he.height)*he.yscale,x:(0,N.F2)(he.xoffset),y:(0,N.F2)(he.yoffset)};break;case"text":me=he.color;break;case"cim":me=(0,ne.iW)(he)}return me}function K(he,oe){const me=he+"-"+oe;return void 0!==X.get(me)?Promise.resolve(X.get(me)):(0,Q.default)(he,{responseType:"image"}).then(de=>{const ie=de.data,V=ie.naturalWidth,ce=ie.naturalHeight,ae=document.createElement("canvas");ae.width=V,ae.height=ce;const pe=ae.getContext("2d");pe.fillStyle=oe,pe.fillRect(0,0,V,ce),pe.globalCompositeOperation="destination-in",pe.drawImage(ie,0,0);const ue=ae.toDataURL();return X.put(me,ue),ue})}function W(he){if(!he)return null;let oe;switch(he.type){case F:case k:case x:oe=W(he.outline);break;case"simple-line":{const me=(0,N.F2)(he.width);"none"!==he.style&&0!==me&&(oe={color:he.color,style:te(he.style),width:me,cap:he.cap,join:"miter"===he.join?(0,N.F2)(he.miterLimit):he.join});break}default:oe=null}return oe}const te=function(){const he={};return function(oe){if(he[oe])return he[oe];const me=oe.replace(/-/g,"");return he[oe]=me,me}}(),J=new D.Z([128,128,128])},65270:(qe,Me,E)=>{"use strict";E.d(Me,{im:()=>K,cW:()=>T,vX:()=>P});var M=E(65787),D=E(26584),Q=E(62208),B=E(39368),N=E(12874),ne=E(69852),k=E(52068),F=E(40445),I=E(57213),x=E(13546),$=E(88493),Y=E(89673),Z=E(35540),re=E(22490);const X={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function T(W,te,J,he){const oe=j(W,{},{context:he,isLabelSymbol:!1});(0,Q.pC)(oe)&&(te[J]=oe)}function P(W,te,J,he){const oe=j(W,{},{context:he,isLabelSymbol:!0});(0,Q.pC)(oe)&&(te[J]=oe)}function j(W,te,J){if((0,Q.Wi)(W))return null;const{context:he,isLabelSymbol:oe}=J;if(he&&"web-scene"===he.origin&&!(W instanceof B.Z)&&!(W instanceof N.Z)){const me=function L(W,te=X){if(!W)return{symbol:null};const{retainId:J=X.retainId,ignoreDrivers:he=X.ignoreDrivers,hasLabelingContext:oe=X.hasLabelingContext,retainCIM:me=X.retainCIM}=te;let de;if((0,M.dU)(W)||W instanceof N.Z)de=W.clone();else if("cim"===W.type){var ie,V;const ce=null==(ie=W.data)||null==(V=ie.symbol)?void 0:V.type;if("CIMPointSymbol"!==ce)return{error:new D.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${ce||"unknown"}' is unsupported in 3D`,{symbol:W})};de=me?W.clone():ne.Z.fromCIMSymbol(W)}else if(W instanceof k.Z)de=F.Z.fromSimpleLineSymbol(W);else if(W instanceof I.Z)de=ne.Z.fromSimpleMarkerSymbol(W);else if(W instanceof x.Z)de=ne.Z.fromPictureMarkerSymbol(W);else if(W instanceof $.Z)de=Y.Z.fromSimpleFillSymbol(W);else{if(!(W instanceof Z.Z))return{error:new D.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${W.type||W.declaredClass}' is unsupported in 3D`,{symbol:W})};de=oe?re.Z.fromTextSymbol(W):ne.Z.fromTextSymbol(W)}if(J&&"cim"!==de.type&&(de.id=W.id),he&&(0,M.dU)(de))for(let ce=0;ce<de.symbolLayers.length;++ce)de.symbolLayers.getItemAt(ce)._ignoreDrivers=!0;return{symbol:de}}(W,{retainCIM:!0,hasLabelingContext:oe});return(0,Q.pC)(me.symbol)?me.symbol.write(te,he):(he.messages&&he.messages.push(new D.Z("symbol:unsupported",`Symbols of type '${W.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:W,context:he,error:me.error})),null)}return he&&"web-map"===he.origin&&"web-style"===W.type?(he.messages&&he.messages.push(new D.Z("symbol:unsupported",`Symbols of type '${W.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:W,context:he})),null):W.write(te,he)}function K(W,te){return(0,M.S9)(W,null,te)}},60958:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>k,y:()=>F});var M=E(91558),D=E(23841),Q=E(90912),B=E(92236);const k={type:M.Z,json:{type:[Q.z8],default:null,read:{source:["color","transparency"],reader:function N(I,x){const $=null!=x.transparency?(0,B.b)(x.transparency):1,Y=x.color;return Y&&Array.isArray(Y)?new M.Z([Y[0]||0,Y[1]||0,Y[2]||0,$]):null}},write:{target:{color:{type:[Q.z8]},transparency:{type:Q.z8}},writer:function ne(I,x){x.color=I.toJSON().slice(0,3);const $=(0,B.a)(I.a);0!==$&&(x.transparency=$)}}}},F={type:Number,cast:D.t_,json:{write:!0}}},71131:(qe,Me,E)=>{"use strict";E.d(Me,{b_:()=>D,dc:()=>re,uH:()=>Z,TE:()=>I,Pc:()=>k,EB:()=>F,XX:()=>$,EV:()=>N,DY:()=>x,eb:()=>B,tp:()=>Y,ht:()=>ne,JZ:()=>Q});var D,X,M=E(91558);(X=D||(D={}))[X.size=22]="size",X[X.lineWidth=50]="lineWidth",X[X.maxSize=120]="maxSize",X[X.maxOutlineSize=80]="maxOutlineSize",X[X.tallSymbolWidth=20]="tallSymbolWidth";const Q={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function B(X,L,T){const P=D.size;let j=P,K=P;X<1?j*=.75:X>1&&(K*=1.25);let J=P,he=P;return L&&T&&(j=K=J=he=0),[{type:"path",path:[{command:"M",values:[J,0]},{command:"L",values:[T?J:.875*J,0]},{command:"L",values:[T?j-.5*J:0,K-.5*he]},{command:"L",values:[j-.5*J,K-.5*he]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[J,0]},{command:"L",values:[J,L?0:.125*he]},{command:"L",values:[j-.5*J,L?K-.5*he:he]},{command:"L",values:[j-.5*J,K-.5*he]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[j-.5*J,K-.5*he]},{command:"L",values:[T?j-.5*J:0,K-.5*he]},{command:"L",values:[T?j-.5*J:0,L?K-.5*he:he]},{command:"L",values:[j-.5*J,L?K-.5*he:he]},{command:"Z",values:[]}]}]}function N(X){const L=D.size,T=.5*X;return[{type:"path",path:[{command:"M",values:[0,.7*L*.5]},{command:"L",values:[.3*L,.7*L]},{command:"L",values:[.3*L,.7*L+T]},{command:"L",values:[0,.7*L+T-.7*L*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*L,.7*L]},{command:"L",values:[.3*L,.7*L+T]},{command:"L",values:[L,T]},{command:"L",values:[L,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*L,0]},{command:"L",values:[L,0]},{command:"L",values:[.3*L,.7*L]},{command:"L",values:[0,.7*L*.5]},{command:"Z",values:[]}]}]}function ne(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function k(X,L){let T=L?D.tallSymbolWidth:X;const j=L?4:6;T-=T<=D.size?.5*j:j;const te=L?.35*T:.5*T;return[{type:"path",path:[{command:"M",values:[.5*T,0]},{command:"L",values:[T,.5*te]},{command:"L",values:[.5*T,te]},{command:"L",values:[0,.5*te]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*te]},{command:"L",values:[.5*T,te]},{command:"L",values:[.5*T,X]},{command:"L",values:[0,X-.5*te]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*T,te]},{command:"L",values:[.5*T,X]},{command:"L",values:[T,X-.5*te]},{command:"L",values:[T,.5*te]},{command:"Z",values:[]}]}]}function F(X,L){let T=L?D.tallSymbolWidth:X;const j=L?4:6;T-=T<=D.size?.5*j:j;const K=.5*T,W=.15*T,J=X-W;return[{type:"ellipse",cx:.5*T,cy:J,rx:K,ry:W},{type:"path",path:[{command:"M",values:[0,W]},{command:"L",values:[0,J]},{command:"L",values:[T,J]},{command:"L",values:[T,W]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*T,cy:W,rx:K,ry:W}]}function I(X,L){let T=L?D.tallSymbolWidth:X;const j=L?4:6;T-=T<=D.size?.5*j:j;const K=.15*T,W=X-K;return[{type:"ellipse",cx:.5*T,cy:W,rx:.5*T,ry:K},{type:"path",path:[{command:"M",values:[.5*T,0]},{command:"L",values:[T,W]},{command:"L",values:[0,W]},{command:"Z",values:[]}]}]}function x(X){let L=X;L-=L<D.size?3:6;const j=.15*L;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[L,0]},{command:"L",values:[.5*L,X-j]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*L,cy:0,rx:.5*L,ry:j}]}function $(X){let L=X;const T=X;L-=L<D.size?2:4;const W=L,te=T,J=Math.floor(X/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*W,0]},{command:"L",values:[W,.5*te-J]},{command:"L",values:[.45*W-J,.5*te+J]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*W,0]},{command:"L",values:[.45*W-J,.5*te+J]},{command:"L",values:[0,.5*te-J]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*te-J]},{command:"L",values:[.45*W-J,.5*te+J]},{command:"L",values:[.45*W,T]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*W,T]},{command:"L",values:[W,.5*te-J]},{command:"L",values:[.45*W-J,.5*te+J]},{command:"Z",values:[]}]}]}function Y(X){let P=X;return P-=P<D.size?1:2,[{type:"path",path:[{command:"M",values:[.45*X,0]},{command:"L",values:[X,P]},{command:"L",values:[.45*X,.6*P]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*X,0]},{command:"L",values:[.45*X,.6*P]},{command:"L",values:[0,P]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,P]},{command:"L",values:[.45*X,.6*P]},{command:"L",values:[X,P]},{command:"Z",values:[]}]}]}function Z(X,L){return Math.round(Math.min(Math.max(X+255*L*.75,0),255))}function re(X,L){if("type"in X&&("linear"===X.type||"pattern"===X.type))return X;const T=new M.Z(X);return new M.Z([Z(T.r,L),Z(T.g,L),Z(T.b,L),T.a])}},78241:(qe,Me,E)=>{"use strict";E.d(Me,{wm:()=>he,n2:()=>T,KV:()=>P,EJ:()=>W,v9:()=>j});var M=E(15861),D=E(84792),Q=E(26584),B=E(10699),N=E(21726),ne=E(84687),k=E(6278),F=E(8314);const Y={};function re(){return(re=(0,M.Z)(function*(oe,me){try{return{data:(yield W(oe,me)).data,baseUrl:(0,N.Yd)(oe),styleUrl:oe}}catch(de){return(0,B.r9)(de),null}})).apply(this,arguments)}function T(oe,me,de){return oe.styleUrl?function Z(oe,me){return re.apply(this,arguments)}(oe.styleUrl,de):oe.styleName?function X(oe,me,de){const ie=me&&me.portal||ne.Z.getDefault();let V;const ce=`${ie.url} - ${ie.user&&ie.user.username} - ${oe}`;return Y[ce]||(Y[ce]=function L(oe,me,de){return me.load(de).then(()=>{const ie=new k.Z({disableExtraQuery:!0,query:`owner:${te} AND type:${J} AND typekeywords:"${oe}"`});return me.queryItems(ie,de)}).then(({results:ie})=>{let V=null;const ce=oe.toLowerCase();if(ie&&Array.isArray(ie))for(const ae of ie)if(ae.typeKeywords.some(pe=>pe.toLowerCase()===ce)&&ae.type===J&&ae.owner===te){V=ae;break}if(!V)throw new Q.Z("symbolstyleutils:style-not-found",`The style '${oe}' could not be found`,{styleName:oe});return V.load(de)})}(oe,ie,de).then(ae=>(V=ae,ae.fetchData())).then(ae=>({data:ae,baseUrl:V.itemUrl,styleName:oe}))),Y[ce]}(oe.styleName,me,de):Promise.reject(new Q.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function P(oe){return null===oe||"CIMSymbolReference"===oe.type?oe:{type:"CIMSymbolReference",symbol:oe}}function j(oe,me){if("cimRef"===me)return oe.cimRef;if(oe.formatInfos&&!(0,F.Z)("enable-feature:force-wosr"))for(const de of oe.formatInfos)if("gltf"===de.type)return de.href;return oe.webRef}function W(oe,me){const de=Pt({responseType:"json",query:{f:"json"}},me);return(0,D.default)((0,N.Fv)(oe),de)}const te="esri_en",J="Style",he="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},43652:(qe,Me,E)=>{"use strict";E.d(Me,{Hc:()=>I,w2:()=>$,Uz:()=>F,$K:()=>B,KW:()=>x}),E(8314);var D=E(28093),Q=E(5548);function B(Y,{isPrimitive:Z,width:re,depth:X,height:L}){const T=Z?10:1;if(null==re&&null==L&&null==X)return[T*Y[0],T*Y[1],T*Y[2]];const P=(0,D.f)(re,X,L);let j;for(let K=0;K<3;K++){const W=P[K];if(null!=W){j=W/Y[K];break}}for(let K=0;K<3;K++)null==P[K]&&(P[K]=Y[K]*j);return P}const N=(0,Q.al)(-.5,-.5,-.5,.5,.5,.5),ne=(0,Q.al)(-.5,-.5,0,.5,.5,1),k=(0,Q.al)(-.5,-.5,0,.5,.5,.5);function F(Y){switch(Y){case"sphere":case"cube":case"diamond":return N;case"cylinder":case"cone":case"inverted-cone":return ne;case"tetrahedron":return k;default:return}}const I=["butt","square","round"],x=[...I,"none"],$=["miter","bevel","round"]},50369:(qe,Me,E)=>{"use strict";E.d(Me,{uC:()=>Q,hR:()=>B,Xw:()=>N,x0:()=>I,Ck:()=>ne,Nj:()=>x});var M=E(21286),D=E(90912);const Q=["none","underline","line-through"],B=["normal","italic","oblique"],N=["normal","lighter","bold","bolder"],ne={type:Number,cast:$=>{const Y=(0,D.q9)($);return 0===Y?1:(0,M.uZ)(Y,.1,4)},nonNullable:!0},I={type:["left","right","center","justify"],nonNullable:!0},x={type:["baseline","top","middle","bottom"],nonNullable:!0}},69738:(qe,Me,E)=>{"use strict";E.d(Me,{Ds:()=>k,KA:()=>ne});var M=E(21726),D=E(29840);function B(I,x){return function F(I){return I&&("service"===I.origin||"portal-item"===I.origin)&&I.layer&&("feature"===I.layer.type||"stream"===I.layer.type)}(x)&&!(0,M.YP)(I)&&x.layer.parsedUrl?(0,M.v_)(x.layer.parsedUrl.path,"images",I):(0,D.f)(I,x)}const ne={json:{read:{source:["imageData","url"],reader:function Q(I,x,$){return x.imageData?(0,M._l)({mediaType:x.contentType||"image/png",isBase64:!0,data:x.imageData}):B(x.url,$)}},write:{writer(I,x,$,Y){!function N(I,x,$,Y){if((0,M.HK)(I)){const Z=(0,M.sJ)(I);x.contentType=Z.mediaType,x.imageData=Z.data,$&&$.imageData===x.imageData&&$.url&&(0,D.w)($.url,x,"url",Y)}else(0,D.w)(I,x,"url",Y)}(I,x,this.source,Y)}}}},k={readOnly:!0,json:{read:{source:["imageData","url"],reader(I,x,$){const Y={};return x.imageData&&(Y.imageData=x.imageData),x.contentType&&(Y.contentType=x.contentType),x.url&&(Y.url=B(x.url,$)),Y}}}}},86606:(qe,Me,E)=>{"use strict";E.d(Me,{tb:()=>te,BR:()=>Ee,e3:()=>ge,wJ:()=>Ge,nf:()=>L,YW:()=>X});var M=E(15861),D=E(91558),Q=E(65787),B=E(59213),N=E(8314),ne=E(62208),k=E(28093),F=E(71149),x=(E(74741),E(64830));const $=/\/resource\/(.*?)\.svg$/,Y=new D.Z("white");function X(Se){if((0,ne.Wi)(Se)||!("symbolLayers"in Se)||(0,ne.Wi)(Se.symbolLayers))return!1;switch(Se.type){case"point-3d":return Se.symbolLayers.some(ve=>"object"===ve.type);case"line-3d":return Se.symbolLayers.some(ve=>"path"===ve.type);case"polygon-3d":return Se.symbolLayers.some(ve=>"object"===ve.type||"extrude"===ve.type);default:return!1}}function L(Se,ve){const Te=ve.resource.href;return!(0,N.Z)("esri-canvas-svg-support")&&Se.styleOrigin&&$.test(Te)?Te.replace($,"/resource/png/$1.png"):Te}function j(Se,ve){if(null==ve)return Se;const Te=Se.toRgba();return Te[3]=Te[3]*ve,new D.Z(Te)}function te(Se,ve,Te){Se&&(ve||null!=Te)&&(ve&&(ve=new D.Z(ve)),(0,Q.dU)(Se)?function K(Se,ve,Te){const Ze=Se.symbolLayers;if(!Ze)return;const tt=xe=>{const Ve=(0,ne.pC)(xe)?xe:null;return j(ve=ve||Ve||null!=Te&&Y,Te)};Ze.forEach(xe=>{if("object"!==xe.type||null==xe.resource.href||ve)if("water"===xe.type)xe.color=tt(xe.color);else{const Ve=(0,ne.pC)(xe.material)?xe.material.color:null,He=tt(Ve);(0,ne.Wi)(xe.material)?xe.material=new x.b({color:He}):xe.material.color=He,null!=Te&&"outline"in xe&&(0,ne.pC)(xe.outline)&&(0,ne.pC)(xe.outline.color)&&(xe.outline.color=j(xe.outline.color,Te))}})}(Se,ve,Te):(0,Q.cT)(Se)&&function W(Se,ve,Te){(ve=ve||Se.color)&&(Se.color=j(ve,Te)),null!=Te&&"outline"in Se&&Se.outline&&Se.outline.color&&(Se.outline.color=j(Se.outline.color,Te))}(Se,ve,Te))}function J(Se,ve){return he.apply(this,arguments)}function he(){return he=(0,M.Z)(function*(Se,ve){const Te=Se.symbolLayers;Te&&(yield(0,B.Ed)(Te,function(){var Ze=(0,M.Z)(function*(tt){return oe(tt,ve)});return function(tt){return Ze.apply(this,arguments)}}()))}),he.apply(this,arguments)}function oe(Se,ve){return me.apply(this,arguments)}function me(){return(me=(0,M.Z)(function*(Se,ve){switch(Se.type){case"extrude":V(Se,ve);break;case"icon":case"line":case"text":de(Se,ve);break;case"path":pe(Se,ve);break;case"object":yield ce(Se,ve)}})).apply(this,arguments)}function de(Se,ve){const Te=ie(ve);(0,ne.pC)(Te)&&(Se.size=Te)}function ie(Se){for(const ve of Se)if("number"==typeof ve)return ve;return null}function V(Se,ve){Se.size="number"==typeof ve[2]?ve[2]:0}function ce(Se,ve){return ae.apply(this,arguments)}function ae(){return(ae=(0,M.Z)(function*(Se,ve){const{resourceSize:Te,symbolSize:Ze}=yield ye(Se),tt=ue(ve,Te,Ze);Se.width=se(ve[0],Ze[0],Te[0],tt),Se.depth=se(ve[1],Ze[1],Te[1],tt),Se.height=se(ve[2],Ze[2],Te[2],tt)})).apply(this,arguments)}function pe(Se,ve){const Te=ue(ve,k.O,[Se.width,void 0,Se.height]);Se.width=se(ve[0],Se.width,1,Te),Se.height=se(ve[2],Se.height,1,Te)}function ue(Se,ve,Te){for(let Ze=0;Ze<3;Ze++){const tt=Se[Ze];switch(tt){case"symbol-value":return null!=Te[Ze]?Te[Ze]/ve[Ze]:1;case"proportional":break;default:if(tt&&ve[Ze])return tt/ve[Ze]}}return 1}function ye(Se){return le.apply(this,arguments)}function le(){return(le=(0,M.Z)(function*(Se){const ve=yield E.e(1831).then(E.bind(E,91831)),Te=yield ve.computeObjectLayerResourceSize(Se,10),{width:Ze,height:tt,depth:xe}=Se,Ve=[Ze,xe,tt];let He=1;for(let ee=0;ee<3;ee++)if(null!=Ve[ee]){He=Ve[ee]/Te[ee];break}for(let ee=0;ee<3;ee++)null==Ve[ee]&&(Ve[ee]=Te[ee]*He);return{resourceSize:Te,symbolSize:Ve}})).apply(this,arguments)}function se(Se,ve,Te,Ze){switch(Se){case"proportional":return Te*Ze;case"symbol-value":return null!=ve?ve:Te;default:return Se}}function Ce(Se,ve){const Te=ie(ve);if(!(0,ne.Wi)(Te))switch(Se.type){case"simple-marker":Se.size=Te;break;case"picture-marker":{const Ze=Se.width/Se.height;Ze>1?(Se.width=Te,Se.height=Te*Ze):(Se.width=Te*Ze,Se.height=Te);break}case"simple-line":Se.width=Te;break;case"text":Se.font.size=Te}}function ge(Se,ve){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,M.Z)(function*(Se,ve){if(Se&&ve)return(0,Q.dU)(Se)?J(Se,ve):void((0,Q.cT)(Se)&&Ce(Se,ve))})).apply(this,arguments)}function Ee(Se,ve,Te){if(Se&&null!=ve)if((0,Q.dU)(Se)){const Ze=Se.symbolLayers;Ze&&Ze.forEach(tt=>{if(tt&&"object"===tt.type)switch(Te){case"tilt":tt.tilt=ve;break;case"roll":tt.roll=ve;break;default:tt.heading=ve}})}else(0,Q.cT)(Se)&&("simple-marker"!==Se.type&&"picture-marker"!==Se.type&&"text"!==Se.type||(Se.angle=ve))}function Ge(Se){if(!Se)return null;const ve=Se.effects.filter(Te=>"bloom"!==Te.type).map(Te=>Te.toJSON());return(0,F.rM)(ve)}},4728:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>sn});var M=E(15861),D=E(17626),Q=E(26584),B=E(8314),N=E(62208),ne=E(10699),k=E(77712),x=(E(85931),E(90912),E(76898)),$=E(15283),Y=E(2618),Z=E(85531),re=E(67736);function L(){return(L=(0,M.Z)(function*(Ct,mt,ze){const ht=(0,Y.en)(Ct);return(0,Z.X)(ht,re.Z.from(mt),Pt({},ze)).then(we=>(0,Z.O)(we.data.attachmentGroups,ht.path))})).apply(this,arguments)}var T=E(90463),j=(E(29132),E(20477)),K=E(84952),W=E(2004);function J(){return(J=(0,M.Z)(function*(Ct,mt,ze){const ht=(0,Y.en)(Ct);return(0,j.executeQueryForExtent)(ht,K.Z.from(mt),Pt({},ze)).then(we=>({count:we.data.count,extent:W.Z.fromJSON(we.data.extent)}))})).apply(this,arguments)}var he=E(24865),oe=E(2865),me=E(94573),de=E(33696),ie=E(82054);function V(Ct,mt){return mt}function ce(Ct,mt,ze,ht){switch(ze){case 0:return ye(Ct,mt+ht,0);case 1:return"lowerLeft"===Ct.originPosition?ye(Ct,mt+ht,1):function le({translate:Ct,scale:mt},ze,ht){return Ct[ht]-ze*mt[ht]}(Ct,mt+ht,1)}}function ae(Ct,mt,ze,ht){return 2===ze?ye(Ct,mt,2):ce(Ct,mt,ze,ht)}function pe(Ct,mt,ze,ht){return 2===ze?ye(Ct,mt,3):ce(Ct,mt,ze,ht)}function ue(Ct,mt,ze,ht){return 3===ze?ye(Ct,mt,3):ae(Ct,mt,ze,ht)}function ye({translate:Ct,scale:mt},ze,ht){return Ct[ht]+ze*mt[ht]}class se{constructor(mt){this.options=mt,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=V,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this._attributesConstructor=function(){}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(mt){if(this.options.applyTransform&&(mt.transform=null),this._attributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,!mt.hasZ)return;const ze=(0,de.k)(mt.geometryType,this.options.sourceSpatialReference,mt.spatialReference);if(!(0,N.Wi)(ze))for(const ht of mt.features)ze(ht.geometry)}createSpatialReference(){return{}}addField(mt,ze){mt.fields.push(ze);const ht=mt.fields.map(we=>we.name);this._attributesConstructor=function(){for(const we of ht)this[we]=null}}addFeature(mt,ze){mt.features.push(ze)}prepareFeatures(mt){switch(this.transform=mt.transform,this.options.applyTransform&&mt.transform&&(this.applyTransform=this._deriveApplyTransform(mt)),this.vertexDimension=2,mt.hasZ&&this.vertexDimension++,mt.hasM&&this.vertexDimension++,mt.geometryType){case"esriGeometryPoint":this.addCoordinate=(ze,ht,we)=>this.addCoordinatePoint(ze,ht,we),this.createGeometry=ze=>this.createPointGeometry(ze);break;case"esriGeometryPolygon":this.addCoordinate=(ze,ht,we)=>this._addCoordinatePolygon(ze,ht,we),this.createGeometry=ze=>this._createPolygonGeometry(ze);break;case"esriGeometryPolyline":this.addCoordinate=(ze,ht,we)=>this._addCoordinatePolyline(ze,ht,we),this.createGeometry=ze=>this._createPolylineGeometry(ze);break;case"esriGeometryMultipoint":this.addCoordinate=(ze,ht,we)=>this._addCoordinateMultipoint(ze,ht,we),this.createGeometry=ze=>this._createMultipointGeometry(ze);break;default:(0,me.Bg)(mt.geometryType)}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(mt,ze,ht){0===this.lengths.length&&(this.toAddInCurrentPath=ze),this.lengths.push(ze)}addQueryGeometry(mt,ze){const{queryGeometry:ht,queryGeometryType:we}=ze,Xe=(0,ie.$g)(ht.clone(),ht,!1,!1,this.transform),Dt=(0,ie.di)(Xe,we,!1,!1);mt.queryGeometryType=we,mt.queryGeometry=Pt({},Dt)}createPointGeometry(mt){const ze={x:0,y:0,spatialReference:mt.spatialReference};return mt.hasZ&&(ze.z=0),mt.hasM&&(ze.m=0),ze}addCoordinatePoint(mt,ze,ht){switch(ze=this.applyTransform(this.transform,ze,ht,0),ht){case 0:mt.x=ze;break;case 1:mt.y=ze;break;case 2:"z"in mt?mt.z=ze:mt.m=ze;break;case 3:mt.m=ze}}_transformPathLikeValue(mt,ze){let ht=0;return ze<=1&&(ht=this.previousCoordinate[ze],this.previousCoordinate[ze]+=mt),this.applyTransform(this.transform,mt,ze,ht)}_addCoordinatePolyline(mt,ze,ht){this._dehydratedAddPointsCoordinate(mt.paths,ze,ht)}_addCoordinatePolygon(mt,ze,ht){this._dehydratedAddPointsCoordinate(mt.rings,ze,ht)}_addCoordinateMultipoint(mt,ze,ht){0===ht&&mt.points.push([]);const we=this._transformPathLikeValue(ze,ht);mt.points[mt.points.length-1].push(we)}_createPolygonGeometry(mt){return{rings:[[]],spatialReference:mt.spatialReference,hasZ:!!mt.hasZ,hasM:!!mt.hasM}}_createPolylineGeometry(mt){return{paths:[[]],spatialReference:mt.spatialReference,hasZ:!!mt.hasZ,hasM:!!mt.hasM}}_createMultipointGeometry(mt){return{points:[],spatialReference:mt.spatialReference,hasZ:!!mt.hasZ,hasM:!!mt.hasM}}_dehydratedAddPointsCoordinate(mt,ze,ht){0===ht&&0==this.toAddInCurrentPath--&&(mt.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const we=this._transformPathLikeValue(ze,ht),Xe=mt[mt.length-1];0===ht&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),Xe.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=we}_deriveApplyTransform(mt){const{hasZ:ze,hasM:ht}=mt;return ze&&ht?ue:ze?ae:ht?pe:ce}}var Ce=E(17253);function Ge(){return(Ge=(0,M.Z)(function*(Ct,mt,ze){const ht=(0,Y.en)(Ct),we=Pt({},ze),Xe=K.Z.from(mt),Dt=!Xe.quantizationParameters,{data:kt}=yield(0,j.executeQueryPBF)(ht,Xe,new se({sourceSpatialReference:Xe.sourceSpatialReference,applyTransform:Dt}),we);return kt})).apply(this,arguments)}var Se=E(84792),ve=E(76391);function Te(Ct,mt){const ze=Ct.toJSON();return ze.objectIds&&(ze.objectIds=ze.objectIds.join(",")),ze.orderByFields&&(ze.orderByFields=ze.orderByFields.join(",")),!ze.outFields||null!=mt&&mt.returnCountOnly?delete ze.outFields:ze.outFields=-1!==ze.outFields.indexOf("*")?"*":ze.outFields.join(","),ze.outSpatialReference&&(ze.outSR=ze.outSR.wkid||JSON.stringify(ze.outSR.toJSON()),delete ze.outSpatialReference),ze.dynamicDataSource&&(ze.layer=JSON.stringify({source:ze.dynamicDataSource}),delete ze.dynamicDataSource),ze}function Ze(Ct,mt,ze){return tt.apply(this,arguments)}function tt(){return(tt=(0,M.Z)(function*(Ct,mt,ze){const ht=yield He(Ct,mt,ze),we=ht.data,Xe=we.geometryType,Dt=we.spatialReference,kt={};for(const on of we.relatedRecordGroups){const rt={fields:void 0,objectIdFieldName:void 0,geometryType:Xe,spatialReference:Dt,hasZ:!!we.hasZ,hasM:!!we.hasM,features:on.relatedRecords};if(null!=on.objectId)kt[on.objectId]=rt;else for(const Vt in on)on.hasOwnProperty(Vt)&&"relatedRecords"!==Vt&&(kt[on[Vt]]=rt)}return $n(Pt({},ht),{data:kt})})).apply(this,arguments)}function xe(Ct,mt,ze){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,M.Z)(function*(Ct,mt,ze){const ht=yield He(Ct,mt,ze,{returnCountOnly:!0}),we=ht.data,Xe={};for(const Dt of we.relatedRecordGroups)null!=Dt.objectId&&(Xe[Dt.objectId]=Dt.count);return $n(Pt({},ht),{data:Xe})})).apply(this,arguments)}function He(Ct,mt){return ee.apply(this,arguments)}function ee(){return(ee=(0,M.Z)(function*(Ct,mt,ze={},ht){const we=(0,ve.A)(Pt(Pt($n(Pt({},Ct.query),{f:"json"}),ht),Te(mt,ht)));return(0,Se.default)(Ct.path+"/queryRelatedRecords",$n(Pt({},ze),{query:Pt(Pt({},ze.query),we)}))})).apply(this,arguments)}var _e=E(67010);function Ye(){return(Ye=(0,M.Z)(function*(Ct,mt,ze){return mt=_e.Z.from(mt),Ze((0,Y.en)(Ct),mt,ze).then(we=>{const Xe=we.data,Dt={};return Object.keys(Xe).forEach(kt=>Dt[kt]=Ce.default.fromJSON(Xe[kt])),Dt})})).apply(this,arguments)}function it(){return(it=(0,M.Z)(function*(Ct,mt,ze){return mt=_e.Z.from(mt),xe((0,Y.en)(Ct),mt,Pt({},ze)).then(we=>we.data)})).apply(this,arguments)}var at=E(21726),ot=E(91179),et=E(13924),_t=E(61515);const Ke="Layer does not support extent calculation.";function Et(Ct,mt,ze,ht){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,M.Z)(function*(Ct,mt,ze,ht){const we=yield pn(Ct,mt,"json",ht);return(0,_t.p)(mt,ze,we.data),we})).apply(this,arguments)}function Gt(Ct,mt,ze){return $t.apply(this,arguments)}function $t(){return($t=(0,M.Z)(function*(Ct,mt,ze){return(0,N.pC)(mt.timeExtent)&&mt.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):pn(Ct,mt,"json",ze,{returnIdsOnly:!0})})).apply(this,arguments)}function Jt(Ct,mt,ze){return cn.apply(this,arguments)}function cn(){return(cn=(0,M.Z)(function*(Ct,mt,ze){return(0,N.pC)(mt.timeExtent)&&mt.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):pn(Ct,mt,"json",ze,{returnExtentOnly:!0,returnCountOnly:!0}).then(ht=>{const we=ht.data;if(we.hasOwnProperty("extent"))return ht;if(we.features)throw new Error(Ke);if(we.hasOwnProperty("count"))throw new Error(Ke);return ht})})).apply(this,arguments)}function xn(Ct,mt,ze){return(0,N.pC)(mt.timeExtent)&&mt.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):pn(Ct,mt,"json",ze,{returnIdsOnly:!0,returnCountOnly:!0})}function pn(Ct,mt,ze,ht={},we={}){const Xe="string"==typeof Ct?(0,at.mN)(Ct):Ct,Dt=mt.geometry?[mt.geometry]:[];return ht.responseType="pbf"===ze?"array-buffer":"json",(0,et.aX)(Dt,null,ht).then(kt=>{const on=kt&&kt[0];(0,N.pC)(on)&&((mt=mt.clone()).geometry=on);const rt=(0,ve.A)(Pt(Pt($n(Pt({},Xe.query),{f:ze}),we),function ct(Ct,mt){var ze,ht;const we=Ct.geometry,Xe=Ct.toJSON(),Dt=Xe;if((0,N.pC)(we)&&(Dt.geometry=JSON.stringify(we),Dt.geometryType=(0,ot.Ji)(we),Dt.inSR=we.spatialReference.wkid||JSON.stringify(we.spatialReference)),null!=(ze=Xe.topFilter)&&ze.groupByFields&&(Dt.topFilter.groupByFields=Xe.topFilter.groupByFields.join(",")),null!=(ht=Xe.topFilter)&&ht.orderByFields&&(Dt.topFilter.orderByFields=Xe.topFilter.orderByFields.join(",")),Xe.topFilter&&(Dt.topFilter=JSON.stringify(Dt.topFilter)),Xe.objectIds&&(Dt.objectIds=Xe.objectIds.join(",")),Xe.orderByFields&&(Dt.orderByFields=Xe.orderByFields.join(",")),Xe.outFields&&!(null!=mt&&mt.returnCountOnly||null!=mt&&mt.returnExtentOnly||null!=mt&&mt.returnIdsOnly)?Dt.outFields=-1!==Xe.outFields.indexOf("*")?"*":Xe.outFields.join(","):delete Dt.outFields,Xe.outSR?Dt.outSR=Xe.outSR.wkid||JSON.stringify(Xe.outSR):we&&Xe.returnGeometry&&(Dt.outSR=Dt.inSR),Xe.returnGeometry&&delete Xe.returnGeometry,Xe.timeExtent){const kt=Xe.timeExtent,{start:on,end:rt}=kt;null==on&&null==rt||(Dt.time=on===rt?on:`${null==on?"null":on},${null==rt?"null":rt}`),delete Xe.timeExtent}return Dt}(mt,we)));return(0,Se.default)((0,at.v_)(Xe.path,"queryTopFeatures"),$n(Pt({},ht),{query:Pt(Pt({},rt),ht.query)}))})}var An=E(6871);function Sn(){return(Sn=(0,M.Z)(function*(Ct,mt,ze,ht){const we=(0,Y.en)(Ct),Xe=Pt({},ht),{data:Dt}=yield Et(we,An.Z.from(mt),ze,Xe);return Ce.default.fromJSON(Dt)})).apply(this,arguments)}function bt(){return(bt=(0,M.Z)(function*(Ct,mt,ze){const ht=(0,Y.en)(Ct);return(yield Gt(ht,An.Z.from(mt),Pt({},ze))).data.objectIds})).apply(this,arguments)}function Wt(){return(Wt=(0,M.Z)(function*(Ct,mt,ze){const ht=(0,Y.en)(Ct),we=yield Jt(ht,An.Z.from(mt),Pt({},ze));return{count:we.data.count,extent:W.Z.fromJSON(we.data.extent)}})).apply(this,arguments)}function At(){return(At=(0,M.Z)(function*(Ct,mt,ze){const ht=(0,Y.en)(Ct);return(yield xn(ht,An.Z.from(mt),Pt({},ze))).data.count})).apply(this,arguments)}var Ht=E(79308);let Yt=class extends Ht.Z{constructor(Ct){super(Ct),this.dynamicDataSource=null,this.fieldsIndex=null,this.format="json",this.gdbVersion=null,this.infoFor3D=null,this.sourceSpatialReference=null}execute(Ct,mt){return this.executeJSON(Ct,mt).then(ze=>this.featureSetFromJSON(Ct,ze,mt))}executeJSON(Ct,mt){var ze=this;return(0,M.Z)(function*(){var ht;const we=Pt(Pt({},ze.requestOptions),mt),Xe=ze._normalizeQuery(Ct),Dt=null!=(null==(ht=Ct.outStatistics)?void 0:ht[0]),kt=(0,B.Z)("featurelayer-pbf-statistics"),on=!Dt||kt;let rt;if("pbf"===ze.format&&on)try{rt=yield function Ee(Ct,mt,ze){return Ge.apply(this,arguments)}(ze.url,Xe,we)}catch(Vt){if("query:parsing-pbf"!==Vt.name)throw Vt;ze.format="json"}return"json"!==ze.format&&on||(rt=yield(0,oe.F)(ze.url,Xe,we)),ze._normalizeFields(rt.fields),rt})()}featureSetFromJSON(Ct,mt,ze){var ht=this;return(0,M.Z)(function*(){if(!(ht._queryIs3DObjectFormat(Ct)&&(0,N.pC)(ht.infoFor3D)&&mt.features&&mt.features.length))return Ce.default.fromJSON(mt);const{meshFeatureSetFromJSON:we}=yield(0,ne.Hl)(Promise.all([E.e(479),E.e(853),E.e(8592),E.e(5678)]).then(E.bind(E,25678)),ze);return we(Ct,ht.infoFor3D,mt)})()}executeForCount(Ct,mt){const ze=Pt(Pt({},this.requestOptions),mt),ht=this._normalizeQuery(Ct);return(0,T.P)(this.url,ht,ze)}executeForExtent(Ct,mt){const ze=Pt(Pt({},this.requestOptions),mt),ht=this._normalizeQuery(Ct);return function te(Ct,mt,ze){return J.apply(this,arguments)}(this.url,ht,ze)}executeForIds(Ct,mt){const ze=Pt(Pt({},this.requestOptions),mt),ht=this._normalizeQuery(Ct);return(0,he.G)(this.url,ht,ze)}executeRelationshipQuery(Ct,mt){Ct=_e.Z.from(Ct);const ze=Pt(Pt({},this.requestOptions),mt);return(this.gdbVersion||this.dynamicDataSource)&&((Ct=Ct.clone()).gdbVersion=Ct.gdbVersion||this.gdbVersion,Ct.dynamicDataSource=Ct.dynamicDataSource||this.dynamicDataSource),function je(Ct,mt,ze){return Ye.apply(this,arguments)}(this.url,Ct,ze)}executeRelationshipQueryForCount(Ct,mt){Ct=_e.Z.from(Ct);const ze=Pt(Pt({},this.requestOptions),mt);return(this.gdbVersion||this.dynamicDataSource)&&((Ct=Ct.clone()).gdbVersion=Ct.gdbVersion||this.gdbVersion,Ct.dynamicDataSource=Ct.dynamicDataSource||this.dynamicDataSource),function pt(Ct,mt,ze){return it.apply(this,arguments)}(this.url,Ct,ze)}executeAttachmentQuery(Ct,mt){const ze=Pt(Pt({},this.requestOptions),mt);return function X(Ct,mt,ze){return L.apply(this,arguments)}(this.url,Ct,ze)}executeTopFeaturesQuery(Ct,mt){const ze=Pt(Pt({},this.requestOptions),mt);return function Pn(Ct,mt,ze,ht){return Sn.apply(this,arguments)}(this.parsedUrl,Ct,this.sourceSpatialReference,ze)}executeForTopIds(Ct,mt){const ze=Pt(Pt({},this.requestOptions),mt);return function ut(Ct,mt,ze){return bt.apply(this,arguments)}(this.parsedUrl,Ct,ze)}executeForTopExtents(Ct,mt){const ze=Pt(Pt({},this.requestOptions),mt);return function xt(Ct,mt,ze){return Wt.apply(this,arguments)}(this.parsedUrl,Ct,ze)}executeForTopCount(Ct,mt){const ze=Pt(Pt({},this.requestOptions),mt);return function Kt(Ct,mt,ze){return At.apply(this,arguments)}(this.parsedUrl,Ct,ze)}_normalizeQuery(Ct){let mt=K.Z.from(Ct);if(mt.sourceSpatialReference=mt.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(mt=mt===Ct?mt.clone():mt,mt.gdbVersion=Ct.gdbVersion||this.gdbVersion,mt.dynamicDataSource=Ct.dynamicDataSource?$.n.from(Ct.dynamicDataSource):this.dynamicDataSource),(0,N.pC)(this.infoFor3D)&&this._queryIs3DObjectFormat(Ct)){mt=mt===Ct?mt.clone():mt,mt.formatOf3DObjects=null;for(const ze of this.infoFor3D.queryFormats){if("3D_glb"===ze.id){mt.formatOf3DObjects=ze.id;break}"3D_gltf"!==ze.id||mt.formatOf3DObjects||(mt.formatOf3DObjects=ze.id)}if(!mt.formatOf3DObjects)throw new Q.Z("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if((0,N.Wi)(mt.outFields)||!mt.outFields.includes("*")){mt=mt===Ct?mt.clone():mt,(0,N.Wi)(mt.outFields)&&(mt.outFields=[]);const{originX:ze,originY:ht,originZ:we,translationX:Xe,translationY:Dt,translationZ:kt,scaleX:on,scaleY:rt,scaleZ:Vt,rotationX:Zt,rotationY:nn,rotationZ:fn,rotationDeg:Nn}=this.infoFor3D.transformFieldRoles;mt.outFields.push(ze,ht,we,Xe,Dt,kt,on,rt,Vt,Zt,nn,fn,Nn)}}return mt}_normalizeFields(Ct){if((0,N.pC)(this.fieldsIndex)&&(0,N.pC)(Ct))for(const mt of Ct){const ze=this.fieldsIndex.get(mt.name);ze&&Object.assign(mt,ze.toJSON())}}_queryIs3DObjectFormat(Ct){return(0,N.pC)(this.infoFor3D)&&Ct.returnGeometry&&"xyFootprint"!==Ct.multipatchOption&&!Ct.outStatistics}};(0,D._)([(0,k.Cb)({type:$.n})],Yt.prototype,"dynamicDataSource",void 0),(0,D._)([(0,k.Cb)()],Yt.prototype,"fieldsIndex",void 0),(0,D._)([(0,k.Cb)()],Yt.prototype,"format",void 0),(0,D._)([(0,k.Cb)()],Yt.prototype,"gdbVersion",void 0),(0,D._)([(0,k.Cb)()],Yt.prototype,"infoFor3D",void 0),(0,D._)([(0,k.Cb)()],Yt.prototype,"sourceSpatialReference",void 0),Yt=(0,D._)([(0,x.j)("esri.tasks.QueryTask")],Yt);const sn=Yt},79308:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),D=E(14517),Q=E(21726),B=E(77712),F=(E(85931),E(8314),E(90912),E(76898));let I=class extends D.Z{constructor(...$){super(...$),this.requestOptions=null,this.url=null}normalizeCtorArgs($,Y){return"string"!=typeof $?$:Pt({url:$},Y)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl($){return $?(0,Q.mN)($):null}_encode($,Y,Z){const re={};for(const X in $){if("declaredClass"===X)continue;const L=$[X];if(null!=L&&"function"!=typeof L)if(Array.isArray(L)){re[X]=[];for(let T=0;T<L.length;T++)re[X][T]=this._encode(L[T])}else if("object"==typeof L)if(L.toJSON){const T=L.toJSON(Z&&Z[X]);re[X]=Y?T:JSON.stringify(T)}else re[X]=Y?L:JSON.stringify(L);else re[X]=L}return re}};(0,M._)([(0,B.Cb)({readOnly:!0})],I.prototype,"parsedUrl",null),(0,M._)([(0,B.Cb)()],I.prototype,"requestOptions",void 0),(0,M._)([(0,B.Cb)({type:String})],I.prototype,"url",void 0),I=(0,M._)([(0,F.j)("esri.tasks.Task")],I);const x=I},81340:(qe,Me,E)=>{"use strict";E.d(Me,{n:()=>ne});var M=E(35575),D=E(2004),Q=E(65401),B=E(89621),N=E(58098);class ne{constructor(F,I){this.key=new N.Z(0,0,0,0),this.bounds=(0,Q.Ue)(),this.objectIds=new Set,this.key.set(I);const x=F.getLODInfoAt(this.key);this.tileInfoView=F,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=x.resolution,this.scale=x.scale,this.level=x.level}get id(){return this.key.id}get extent(){return D.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const F=this.key.getChildKeys(),I=M.Z.acquire();for(let x=0;x<F.length;x++)I[x]=new ne(this.tileInfoView,F[x]);return I}getQuantizationParameters(){return B.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},56656:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(61885),D=E(8314),Q=E(76279),B=E(81340),N=E(84378),ne=E(58098);const k={added:[],removed:[]},F=new Set,I=new ne.Z(0,0,0,0);class x extends M.Z{constructor(Y){super(),this._tiles=new Map,this._index=(0,Q.r)(9,(0,D.Z)("esri-csp-restrictions")?Z=>({minX:Z.bounds[0],minY:Z.bounds[1],maxX:Z.bounds[2],maxY:Z.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=Y}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(Y){return this._tiles.has(Y)}get(Y){return this._tiles.get(Y)}boundsIntersections(Y){return this._index.search({minX:Y[0],minY:Y[1],maxX:Y[2],maxY:Y[3]})}updateTiles(Y){const Z={added:[],removed:[]};for(const re of Y.added)if(!this.has(re)){const X=new B.n(this.tileScheme,re);this._tiles.set(re,X),this._index.insert(X),Z.added.push(X)}for(const re of Y.removed)if(this.has(re)){const X=this.get(re);this._tiles.delete(re),this._index.remove(X),Z.removed.push(X)}this.tiles.length=0,this._tiles.forEach(re=>this.tiles.push(re)),(Z.added.length||Z.removed.length)&&this.emit("update",Z)}setViewState(Y){const Z=this.tileScheme.getTileCoverage(Y,0);if(!Z)return;const{spans:re,lodInfo:X}=Z,{level:L}=X;if(re.length>0)for(const{row:T,colFrom:P,colTo:j}of re)for(let K=P;K<=j;K++){const W=I.set(L,T,X.normalizeCol(K),X.getWorldForColumn(K)).id;if(F.add(W),!this.has(W)){const te=new B.n(this.tileScheme,W);this._tiles.set(W,te),this._index.insert(te),this.tiles.push(te),k.added.push(te)}}for(let T=this.tiles.length-1;T>=0;T--){const P=this.tiles[T];F.has(P.id)||(this._tiles.delete(P.id),this.tiles.splice(T,1),this._index.remove(P),k.removed.push(P))}(k.added.length||k.removed.length)&&this.emit("update",k),N.Z.pool.release(Z),F.clear(),k.added.length=0,k.removed.length=0}}},33412:(qe,Me,E)=>{"use strict";E.d(Me,{T:()=>D});class D{constructor(){this._names=new Map}begin(B){this._names.has(B)||(this._names.set(B,!1),-1!==B.indexOf("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${B}.Start`))}end(B){this._names.has(B)&&!this._names.get(B)&&(this._names.set(B,!0),performance.mark(`Esri.${B}.End`))}record(B){this._names.has(B)||(this._names.set(B,!0),performance.mark(`Esri.${B}`))}}},17083:(qe,Me,E)=>{"use strict";var M=E(17626),D=E(14517),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(67831),I=E(71251);const $=new Set,Y=[],Z=new Map,re=[0,0];let X=class extends D.Z{constructor(T){super(T),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:T,process:P}=this;this._queue=new I.e({concurrency:T,process:(j,K)=>{const W=this._keyToItem.get(j);return P(W,{signal:K})},peeker:j=>j.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(T){this._queue.abort("string"==typeof T?T:T.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(T){return this._keyToItem.has("string"==typeof T?T:T.id)}isOngoing(T){const P="string"==typeof T?T:T.id;return this.has(P)&&this._queue.isOngoing(P)}pause(){this._queue.pause()}push(T,P){const j=T.key.id+"-"+P;if(this.has(j))return this.get(j);const K=this._queue.push(j),W=()=>{this._keyToItem.delete(j),this.notifyChange("updating")};return this._keyToItem.set(j,T),K.then(W,W),this.notifyChange("updating"),K}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(T){if(!this.state)return T.values().next().value;const P=this.tileInfoView;let j=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY;T.forEach(me=>{const de=this._keyToItem.get(me),ie=this.tileInfoView.getTileScale(de.key);Z.has(ie)||(Z.set(ie,[]),j=Math.max(ie,j),K=Math.min(ie,K)),Z.get(ie).push(de.key),$.add(ie)});let W=this.state.scale;Z.has(W)||(function x(T,P){T.length=0,P.forEach(j=>T.push(j))}(Y,$),Y.sort((me,de)=>me-de),W=Y.reduce((me,de)=>Math.abs(de-W)<Math.abs(me-W)?de:me,Y[0])),W=Math.min(W,j),W=Math.max(W,K);const te=Z.get(W),J=P.getClosestInfoForScale(W),he=J.getColumnForX(this.state.center[0]),oe=J.getRowForY(this.state.center[1]);return te.sort((me,de)=>{const ie=J.denormalizeCol(me.col,me.world),V=J.denormalizeCol(de.col,de.world);return Math.sqrt((he-ie)*(he-ie)+(oe-me.row)*(oe-me.row))-Math.sqrt((he-V)*(he-V)+(oe-de.row)*(oe-de.row))}),$.clear(),Z.clear(),te[0].id}_peekByCenterFirst(T){if(!this.state)return T.values().next().value;const P=this.tileInfoView,j=this.state.center;let K=Number.POSITIVE_INFINITY,W=null;return T.forEach(te=>{const J=this._keyToItem.get(te);P.getTileCoords(re,J.key);const he=(0,F.b)(re,j);he<K&&(K=he,W=J.key)}),W.id}};(0,M._)([(0,Q.Cb)({constructOnly:!0})],X.prototype,"concurrency",void 0),(0,M._)([(0,Q.Cb)({constructOnly:!0})],X.prototype,"process",void 0),(0,M._)([(0,Q.Cb)()],X.prototype,"state",void 0),(0,M._)([(0,Q.Cb)({constructOnly:!0})],X.prototype,"strategy",void 0),(0,M._)([(0,Q.Cb)({constructOnly:!0})],X.prototype,"tileInfoView",void 0),(0,M._)([(0,Q.Cb)({readOnly:!0})],X.prototype,"updating",null),X=(0,M._)([(0,k.j)("esri.views.2d.tiling.PagedTileQueue")],X)},84378:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>D});var M=E(27899);class D{constructor(){this.spans=[]}acquire(B){this.lodInfo=B}release(){this.lodInfo=null,this.spans.length=0}forEach(B,N){const{spans:ne,lodInfo:k}=this,{level:F}=k;if(0!==ne.length)for(const{row:I,colFrom:x,colTo:$}of ne)for(let Y=x;Y<=$;Y++)B.call(N,F,I,k.normalizeCol(Y),k.getWorldForColumn(Y))}}D.pool=new M.Z(D)},9598:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var M=E(37053),D=E(62208),Q=E(58098);function B(L,T){return[L,T]}function N(L,T,P){return L[0]=T,L[1]=P,L}const k=new Q.Z("0/0/0/0");class F{constructor(T,P,j,K,W,te,J,he,oe,me,de,ie){this.level=T,this.resolution=P,this.scale=j,this.origin=K,this.first=W,this.last=te,this.size=J,this.norm=he,this.worldStart=oe,this.worldEnd=me,this.worldSize=de,this.wrap=ie}static create(T,P,j=null){const K=(0,M.C5)(T.spatialReference),W=P.origin||B(T.origin.x,T.origin.y),te=B(T.size[0]*P.resolution,T.size[1]*P.resolution),J=B(-1/0,-1/0),he=B(1/0,1/0),oe=B(1/0,1/0);(0,D.pC)(j)&&(N(J,Math.max(0,Math.floor((j.xmin-W[0])/te[0])),Math.max(0,Math.floor((W[1]-j.ymax)/te[1]))),N(he,Math.max(0,Math.floor((j.xmax-W[0])/te[0])),Math.max(0,Math.floor((W[1]-j.ymin)/te[1]))),N(oe,he[0]-J[0]+1,he[1]-J[1]+1));const{cols:me,rows:de}=P;let ie,V,ce,ae;return!j&&me&&de&&(N(J,me[0],de[0]),N(he,me[1],de[1]),N(oe,me[1]-me[0]+1,de[1]-de[0]+1)),T.isWrappable?(ie=B(Math.ceil(Math.round((K.valid[1]-K.valid[0])/P.resolution)/T.size[0]),oe[1]),V=B(Math.floor((K.origin[0]-W[0])/te[0]),J[1]),ce=B(ie[0]+V[0]-1,he[1]),ae=!0):(V=J,ce=he,ie=oe,ae=!1),new F(P.level,P.resolution,P.scale,W,J,he,oe,te,V,ce,ie,ae)}normalizeCol(T){if(!this.wrap)return T;const P=this.worldSize[0];return T<0?P-1-Math.abs((T+1)%P):T%P}denormalizeCol(T,P){return this.wrap?this.worldSize[0]*P+T:T}getWorldForColumn(T){return this.wrap?Math.floor(T/this.worldSize[0]):0}getFirstColumnForWorld(T){return T*this.worldSize[0]+this.first[0]}getLastColumnForWorld(T){return T*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(T){return(T-this.origin[0])/this.norm[0]}getXForColumn(T){return this.origin[0]+T*this.norm[0]}getRowForY(T){return(this.origin[1]-T)/this.norm[1]}getYForRow(T){return this.origin[1]-T*this.norm[1]}getTileBounds(T,P,j=!1){k.set(P);const K=j?k.col:this.denormalizeCol(k.col,k.world),W=k.row;return function ne(L,T,P,j,K){L[0]=T,L[1]=P,L[2]=j,L[3]=K}(T,this.getXForColumn(K),this.getYForRow(W+1),this.getXForColumn(K+1),this.getYForRow(W)),T}getTileCoords(T,P,j=!1){k.set(P);const K=j?k.col:this.denormalizeCol(k.col,k.world);return Array.isArray(T)?N(T,this.getXForColumn(K),this.getYForRow(k.row)):(T.x=this.getXForColumn(K),T.y=this.getYForRow(k.row)),T}}var I=E(84378);class x{constructor(T,P,j){this.row=T,this.colFrom=P,this.colTo=j}}const $=new Q.Z("0/0/0/0");class Y{constructor(T,P,j,K,W,te,J,he){this.x=T,this.ymin=P,this.ymax=j,this.invM=K,this.leftAdjust=W,this.rightAdjust=te,this.leftBound=J,this.rightBound=he}static create(T,P){T[1]>P[1]&&([T,P]=[P,T]);const[j,K]=T,[W,te]=P,J=W-j,he=te-K,oe=0!==he?J/he:0,me=(Math.ceil(K)-K)*oe,de=(Math.floor(K)-K)*oe;return new Y(j,Math.floor(K),Math.ceil(te),oe,J<0?me:de,J<0?de:me,J<0?W:j,J<0?j:W)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const Z=[[0,0],[0,0],[0,0],[0,0]];class X{constructor(T,P=null){this.tileInfo=T,this.fullExtent=P,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const j=T.lods.slice();j.sort(function(W,te){return te.scale-W.scale});const K=this._lodInfos=j.map(W=>F.create(T,W,P));j.forEach((W,te)=>{this._infoByLevel[W.level]=K[te],this._infoByScale[W.scale]=K[te],this.scales[te]=W.scale},this),this._wrap=T.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(T){return this._infoByLevel["number"==typeof T?T:T.level]}getTileBounds(T,P,j=!1){$.set(P);const K=this._infoByLevel[$.level];return K?K.getTileBounds(T,$,j):T}getTileCoords(T,P,j=!1){$.set(P);const K=this._infoByLevel[$.level];return K?K.getTileCoords(T,$,j):T}getTileCoverage(T,P=192,j="closest"){const K="closest"===j?this.getClosestInfoForScale(T.scale):this.getSmallestInfoForScale(T.scale),W=I.Z.pool.acquire(K),te=this._wrap;let J,he,oe,me=1/0,de=-1/0;const ie=W.spans;Z[0][0]=Z[0][1]=Z[1][1]=Z[3][0]=-P,Z[1][0]=Z[2][0]=T.size[0]+P,Z[2][1]=Z[3][1]=T.size[1]+P;for(const pe of Z)T.toMap(pe,pe),pe[0]=K.getColumnForX(pe[0]),pe[1]=K.getRowForY(pe[1]);const V=[];let ce=3;for(let pe=0;pe<4;pe++){if(Z[pe][1]===Z[ce][1]){ce=pe;continue}const ue=Y.create(Z[pe],Z[ce]);me=Math.min(ue.ymin,me),de=Math.max(ue.ymax,de),void 0===V[ue.ymin]&&(V[ue.ymin]=[]),V[ue.ymin].push(ue),ce=pe}if(null==me||null==de||de-me>100)return null;let ae=[];for(J=me;J<de;){null!=V[J]&&(ae=ae.concat(V[J])),he=1/0,oe=-1/0;for(let pe=ae.length-1;pe>=0;pe--){const ue=ae[pe];he=Math.min(he,ue.getLeftCol()),oe=Math.max(oe,ue.getRightCol())}if(he=Math.floor(he),oe=Math.floor(oe),J>=K.first[1]&&J<=K.last[1])if(te)if(K.size[0]<K.worldSize[0]){const pe=Math.floor(oe/K.worldSize[0]);for(let ue=Math.floor(he/K.worldSize[0]);ue<=pe;ue++)ie.push(new x(J,Math.max(K.getFirstColumnForWorld(ue),he),Math.min(K.getLastColumnForWorld(ue),oe)))}else ie.push(new x(J,he,oe));else he>K.last[0]||oe<K.first[0]||(he=Math.max(he,K.first[0]),oe=Math.min(oe,K.last[0]),ie.push(new x(J,he,oe)));J+=1;for(let pe=ae.length-1;pe>=0;pe--){const ue=ae[pe];ue.ymax>=J?ue.incrRow():ae.splice(pe,1)}}return W}getTileParentId(T){$.set(T);const j=this._lodInfos.indexOf(this._infoByLevel[$.level])-1;return j<0?null:(this._getTileIdAtLOD($,this._lodInfos[j],$),$.id)}getTileResolution(T){const P=this._infoByLevel["object"==typeof T?T.level:T];return P?P.resolution:-1}getTileScale(T){const P=this._infoByLevel[T.level];return P?P.scale:-1}intersects(T,P){$.set(P);const j=this._infoByLevel[$.level],K=T.lodInfo;if(K.resolution>j.resolution){this._getTileIdAtLOD($,K,$);const te=K.denormalizeCol($.col,$.world);for(const J of T.spans)if(J.row===$.row&&J.colFrom<=te&&J.colTo>=te)return!0}if(K.resolution<j.resolution){const[te,J,he,oe]=T.spans.reduce((ae,pe)=>(ae[0]=Math.min(ae[0],pe.row),ae[1]=Math.max(ae[1],pe.row),ae[2]=Math.min(ae[2],pe.colFrom),ae[3]=Math.max(ae[3],pe.colTo),ae),[1/0,-1/0,1/0,-1/0]),me=j.denormalizeCol($.col,$.world),de=K.getColumnForX(j.getXForColumn(me)),ie=K.getRowForY(j.getYForRow($.row)),V=K.getColumnForX(j.getXForColumn(me+1))-1,ce=K.getRowForY(j.getYForRow($.row+1))-1;return!(de>oe||V<he||ie>J||ce<te)}const W=K.denormalizeCol($.col,$.world);return T.spans.some(te=>te.row===$.row&&te.colFrom<=W&&te.colTo>=W)}normalizeBounds(T,P,j){if(T[0]=P[0],T[1]=P[1],T[2]=P[2],T[3]=P[3],this._wrap){const K=(0,M.C5)(this.tileInfo.spatialReference),W=-j*(K.valid[1]-K.valid[0]);T[0]+=W,T[2]+=W}return T}getSmallestInfoForScale(T){const P=this.scales;if(this._infoByScale[T])return this._infoByScale[T];if(T>P[0])return this._infoByScale[P[0]];for(let j=1;j<P.length-1;j++)if(T>P[j]+1e-6)return this._infoByScale[P[j-1]];return this._infoByScale[P[P.length-1]]}getClosestInfoForScale(T){const P=this.scales;return this._infoByScale[T]||(T=P.reduce((j,K)=>Math.abs(K-T)<Math.abs(j-T)?K:j,P[0])),this._infoByScale[T]}scaleToLevel(T){const P=this.scales;if(this._infoByScale[T])return this._infoByScale[T].level;for(let j=P.length-1;j>=0;j--)if(T<P[j])return j===P.length-1?this._infoByScale[P[P.length-1]].level:this._infoByScale[P[j]].level+(P[j]-T)/(P[j]-P[j+1]);return this._infoByScale[P[0]].level}scaleToZoom(T){return this.tileInfo.scaleToZoom(T)}_getTileIdAtLOD(T,P,j){const K=this._infoByLevel[j.level];return T.set(j),P.resolution<K.resolution?null:(P.resolution===K.resolution||(T.level=P.level,T.col=Math.floor(j.col*K.resolution/P.resolution+.01),T.row=Math.floor(j.row*K.resolution/P.resolution+.01)),T)}}},58098:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>D});var M=E(27899);class D{constructor(B,N,ne,k){this.set(B,N,ne,k)}static getId(B,N,ne,k){return"object"==typeof B?`${B.level}/${B.row}/${B.col}/${B.world}`:`${B}/${N}/${ne}/${k}`}get key(){return this}get id(){return this.toString()}set id(B){this.set(B)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(B,N,ne,k){this.set(B,N,ne,k)}contains(B){const N=B.level-this.level;return this.row===B.row>>N&&this.col===B.col>>N&&this.world===B.world}equals(B){return this.level===B.level&&this.row===B.row&&this.col===B.col&&this.world===B.world}clone(){return new D(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(B,N,ne,k){if(null==B)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof B)this.level=B.level||0,this.row=B.row||0,this.col=B.col||0,this.world=B.world||0;else if("string"==typeof B){const[F,I,x,$]=B.split("/");this.level=parseFloat(F),this.row=parseFloat(I),this.col=parseFloat(x),this.world=parseFloat($)}else this.level=+B,this.row=+N,this.col=+ne,this.world=+k||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new D(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const B=this.level+1,N=this.row<<1,ne=this.col<<1,k=this.world;return[new D(B,N,ne,k),new D(B,N,ne+1,k),new D(B,N+1,ne,k),new D(B,N+1,ne+1,k)]}compareRowMajor(B){return this.row<B.row?-1:this.row>B.row?1:this.col<B.col?-1:this.col>B.col?1:0}}D.pool=new M.Z(D,null,null,25,50)},8480:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>L});var M=E(17626),D=E(14517),Q=E(77712),k=(E(85931),E(8314),E(90912),E(76898)),F=E(67831),I=E(71251);const $=new Set,Y=[],Z=new Map,re=[0,0];let X=class extends D.Z{constructor(T){super(T),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:T,process:P,strategy:j}=this;this._queue=new I.e({concurrency:T,process:(K,W)=>{const te=this._keyToItem.get(K);return P(te,{signal:W})},peeker:"scale-first"===j?K=>this._peekByScaleFirst(K):K=>this._peekByCenterFirst(K)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(T){this._queue.abort("string"==typeof T?T:T.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(T){return this._keyToItem.has("string"==typeof T?T:T.id)}isOngoing(T){const P="string"==typeof T?T:T.id;return this.has(P)&&this._queue.isOngoing(P)}pause(){this._queue.pause()}push(T){const P=T.key.id;if(this._queue.has(P))return this._queue.get(P);const j=this._queue.push(P),K=()=>{this._keyToItem.delete(P),this.notifyChange("updating")};return this._keyToItem.set(P,T),j.then(K,K),this.notifyChange("updating"),j}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(T){if(!this.state)return T.values().next().value;const P=this.tileInfoView;let j=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY;T.forEach(me=>{const de=this._keyToItem.get(me),ie=this.tileInfoView.getTileScale(de.key);Z.has(ie)||(Z.set(ie,[]),j=Math.max(ie,j),K=Math.min(ie,K)),Z.get(ie).push(de.key),$.add(ie)});let W=this.state.scale;Z.has(W)||(function x(T,P){T.length=0,P.forEach(j=>T.push(j))}(Y,$),Y.sort((me,de)=>me-de),W=Y.reduce((me,de)=>Math.abs(de-W)<Math.abs(me-W)?de:me,Y[0])),W=Math.min(W,j),W=Math.max(W,K);const te=Z.get(W),J=P.getClosestInfoForScale(W),he=J.getColumnForX(this.state.center[0]),oe=J.getRowForY(this.state.center[1]);return te.sort((me,de)=>{const ie=J.denormalizeCol(me.col,me.world),V=J.denormalizeCol(de.col,de.world);return Math.sqrt((he-ie)*(he-ie)+(oe-me.row)*(oe-me.row))-Math.sqrt((he-V)*(he-V)+(oe-de.row)*(oe-de.row))}),$.clear(),Z.clear(),te[0].id}_peekByCenterFirst(T){if(!this.state)return T.values().next().value;const P=this.tileInfoView,j=this.state.center;let K=Number.POSITIVE_INFINITY,W=null;return T.forEach(te=>{const J=this._keyToItem.get(te);P.getTileCoords(re,J.key);const he=(0,F.b)(re,j);he<K&&(K=he,W=J.key)}),W.id}};(0,M._)([(0,Q.Cb)({constructOnly:!0})],X.prototype,"concurrency",void 0),(0,M._)([(0,Q.Cb)({constructOnly:!0})],X.prototype,"process",void 0),(0,M._)([(0,Q.Cb)()],X.prototype,"state",void 0),(0,M._)([(0,Q.Cb)({constructOnly:!0})],X.prototype,"strategy",void 0),(0,M._)([(0,Q.Cb)({constructOnly:!0})],X.prototype,"tileInfoView",void 0),(0,M._)([(0,Q.Cb)({readOnly:!0})],X.prototype,"updating",null),X=(0,M._)([(0,k.j)("esri.views.2d.tiling.TileQueue")],X);const L=X},79527:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var M=E(65401),D=E(67831);class Q{constructor(Z,re,X){this.maxSize=Z,this.tileInfoView=re,this.removedFunc=X,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(Z){return this._tilePerId.has(Z)}get(Z){return this._tilePerId.get(Z)}pop(Z){const re=this._tilePerId.get(Z);if(!re)return null;const L=this._tileKeysPerLevel[re.key.level];B(this._tilePerId,Z);for(let T=0;T<L.length;T++)if(L[T].id===Z){L.splice(T,1);break}return re.visible=!0,re}add(Z){Z.visible=!1;const re=Z.key,X=re.id;if(this._tilePerId.has(X))return;this._tilePerId.set(X,Z);const L=re.level;this._tileKeysPerLevel[L]||(this._tileKeysPerLevel[L]=[]),this._tileKeysPerLevel[L].push(re)}prune(Z,re,X){let L=this._tilePerId.size;if(L<=this.maxSize)return;let T=this._tileKeysPerLevel.length-1;for(;L>this.maxSize&&T>=0;)T!==Z&&(L=this._pruneAroundCenterTile(L,re,X,T)),T--;L>this.maxSize&&(L=this._pruneAroundCenterTile(L,re,X,Z))}_pruneAroundCenterTile(Z,re,X,L){const T=this._tileKeysPerLevel[L];if(!T||0===T.length)return Z;const{size:P,origin:j}=this.tileInfoView.tileInfo,K=X*P[0],W=X*P[1],te=[0,0],J=[0,0];for(T.sort((he,oe)=>(te[0]=j.x+K*(he.col+.5),te[1]=j.y-W*(he.row+.5),J[0]=j.x+K*(oe.col+.5),J[1]=j.y-W*(oe.row+.5),(0,D.a)(te,re)-(0,D.a)(J,re)));T.length>0;){const he=T.pop();if(this._removeTile(he.id),--Z===this.maxSize)break}return Z}_removeTile(Z){const re=this._tilePerId.get(Z);this.removedFunc&&this.removedFunc(re),B(this._tilePerId,Z)}}function B(Y,Z){Y.delete(Z)}var N=E(84378);const k=new(E(58098).Z)(0,0,0,0),F=new Map,I=[],x=[];class ${constructor(Z){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=Z.acquireTile,this.releaseTile=Z.releaseTile,this.tileInfoView=Z.tileInfoView,this.resampling=null==Z.resampling||!!Z.resampling,Z.cachePolicy&&(this.cachePolicy=Z.cachePolicy),Z.coveragePolicy&&(this.coveragePolicy=Z.coveragePolicy),null!=Z.buffer&&(this.buffer=Z.buffer),Z.cacheSize&&(this._tileCache=new Q(Z.cacheSize,this.tileInfoView,re=>{this.releaseTile(re)}))}destroy(){this.tileIndex.clear()}update(Z){const{resampling:re,tileIndex:X}=this,L=this.tileInfoView.getTileCoverage(Z.state,this.buffer,this.coveragePolicy);if(x.length=0,I.length=0,F.clear(),!L)return;const{minScale:T,maxScale:P}=this.tileInfoView.tileInfo,{spans:j,lodInfo:K}=L,{level:W}=K,{scale:te,center:J,resolution:he}=Z.state,oe=!Z.stationary&&te>this._previousScale;if(this._previousScale=te,this.tiles.length=0,!re&&(te>T||te<P))return this.tiles.length=0,F.clear(),X.forEach(V=>{this.releaseTile(V)}),X.clear(),x.length=0,I.length=0,F.clear(),N.Z.pool.release(L),!0;X.forEach(V=>V.visible=!0);let me=0,de=0;if(j.length>0)for(const{row:V,colFrom:ce,colTo:ae}of j)for(let pe=ce;pe<=ae;pe++){me++;const ue=k.set(W,V,K.normalizeCol(pe),K.getWorldForColumn(pe)).id;if(X.has(ue)){const ye=X.get(ue);ye.isReady?(F.set(ue,ye),de++):oe||this._addParentTile(ue,F)}else{let ye;if(this._tileCache&&this._tileCache.has(ue)){if(ye=this._tileCache.pop(ue),this.tileIndex.set(ue,ye),ye.isReady){F.set(ue,ye),de++;continue}}else ye=this.acquireTile(k),this.tileIndex.set(ue,ye);oe||this._addParentTile(ue,F)}}const ie=de===me;X.forEach((V,ce)=>{if(k.set(ce),F.has(ce))return;const ae=this.tileInfoView.intersects(L,k),pe="purge"===this.cachePolicy?k.level!==W:k.level>W;!ae||!oe&&ie?!pe&&ae||I.push(ce):V.isReady?pe&&"purge"===this.cachePolicy&&this._hasReadyAncestor(k,W)?I.push(ce):x.push(ce):pe&&I.push(ce)});for(const V of x){const ce=X.get(V);ce&&ce.isReady&&F.set(V,ce)}for(const V of I){const ce=X.get(V);this._tileCache?this._tileCache.add(ce):this.releaseTile(ce),X.delete(V)}return F.forEach(V=>this.tiles.push(V)),X.forEach(V=>{F.has(V.key.id)||(V.visible=!1)}),this._tileCache&&this._tileCache.prune(W,J,he),N.Z.pool.release(L),F.clear(),ie}clear(Z=!0){const{tileIndex:re}=this;Z&&re.forEach(X=>{this.releaseTile(X)}),re.clear()}updateCacheSize(Z){this._tileCache&&(this._tileCache.maxSize=Z)}_addParentTile(Z,re){let X=Z,L=null;for(;X=this.tileInfoView.getTileParentId(X),X;)if(this.tileIndex.has(X)){if(L=this.tileIndex.get(X),L&&L.isReady){re.has(L.key.id)||re.set(L.key.id,L);break}}else if(this._tileCache&&this._tileCache.has(X)&&(L=this._tileCache.pop(X),this.tileIndex.set(X,L),L&&L.isReady)){re.has(L.key.id)||re.set(L.key.id,L);break}}_hasReadyAncestor(Z,re){const X=(0,M.Ue)();this.tileInfoView.getTileBounds(X,Z,!0);for(const L of this.tileIndex.values())if(L.isReady&&L.key.level>=re&&L.key.level<Z.level){const T=(0,M.Ue)();if(this.tileInfoView.getTileBounds(T,L.key,!0),(0,M.r3)(T,X))return!0}return!1}}},78041:(qe,Me,E)=>{"use strict";function M(N,ne,k,F){const I=3*N,x=3*(k-N)-I,$=1-I-x,Y=3*ne,Z=3*(F-ne)-Y,re=1-Y-Z;function X(j){return(($*j+x)*j+I)*j}function T(j){return(3*$*j+2*x)*j+I}return function(j,K=1e-6){return function L(j){return((re*j+Z)*j+Y)*j}(function P(j,K){let W,te,J,he,oe,me;for(J=j,me=0;me<8;me++){if(he=X(J)-j,Math.abs(he)<K)return J;if(oe=T(J),Math.abs(oe)<1e-6)break;J-=he/oe}if(W=0,te=1,J=j,J<W)return W;if(J>te)return te;for(;W<te;){if(he=X(J),Math.abs(he-j)<K)return J;j>he?W=J:te=J,J=.5*(te-W)+W}return J}(j,K))}}E.d(Me,{LI:()=>Q,Qc:()=>B,n_:()=>M});const D=/^cubic-bezier\((.*)\)/,Q={};function B(N){let ne=Q[N]||null;if(!ne){const k=D.exec(N);if(k){const F=k[1].split(",").map(I=>parseFloat(I.trim()));4!==F.length||F.some(I=>isNaN(I))||(ne=M.apply(M,F))}}return ne}Q.ease=M(.25,.1,.25,1),Q.linear=M(0,0,1,1),Q.easeIn=Q["ease-in"]=M(.42,0,1,1),Q.easeOut=Q["ease-out"]=M(0,0,.58,1),Q.easeInOut=Q["ease-in-out"]=M(.42,0,.58,1)},24926:(qe,Me,E)=>{"use strict";E.d(Me,{H4:()=>Ve,dI:()=>xe,o2:()=>He,JG:()=>ce,Ue:()=>ie,EK:()=>J,ni:()=>ae,bk:()=>pe,Rb:()=>Se,Dq:()=>le,uG:()=>Ce,Ck:()=>ve,Jp:()=>Te,L2:()=>tt,ut:()=>Ze,gG:()=>at,SI:()=>ee,$H:()=>_e,YQ:()=>je,UZ:()=>it,Hy:()=>pt,qf:()=>ue,Rx:()=>_t});var M=E(15861),D=E(76687),Q=E(48701),B=E(62208),N=E(16730),ne=E(39863),k=E(31478),F=E(46342),I=E(67831),x=E(99770),$=E(2004),Y=E(21674),Z=E(49672),re=E(54614),X=E(65234),L=E(37053);const j=180/Math.PI;function K(Ke){return Ke.wkid?Ke:Ke.spatialReference||X.Z.WGS84}function W(Ke,ct){return ct.type?(0,I.s)(Ke,ct.x,ct.y):(0,I.c)(Ke,ct)}function te(Ke){return(0,N.c9)(Ke)}function J(Ke,ct){return Math.max(Ke.width/ct[0],Ke.height/ct[1])*function Ee(Ke){return(0,L.JY)(Ke)?39.37*te(Ke)*96:1}(Ke.spatialReference)}function he(Ke,ct,Et,Mt){return oe.apply(this,arguments)}function oe(){return(oe=(0,M.Z)(function*(Ke,ct,Et,Mt){let Gt,$t;if(!Ke||Array.isArray(Ke)&&!Ke.length)return null;if(Q.Z.isCollection(Ke)&&(Ke=Ke.toArray()),Array.isArray(Ke)&&Ke.length&&"object"==typeof Ke[0]){const cn=Ke.every(An=>"attributes"in An),xn=Ke.some(An=>!An.geometry);let pn=Ke;if(cn&&xn&&ct&&ct.allLayerViews){const An=new Map;for(const bt of Ke){const xt=bt.layer,Wt=An.get(xt)||[],Kt=bt.attributes[xt.objectIdField];null!=Kt&&Wt.push(Kt),An.set(xt,Wt)}const Pn=[];An.forEach((bt,xt)=>{const Wt=ct.allLayerViews.find(Kt=>Kt.layer.id===xt.id);if("queryFeatures"in Wt){const Kt=xt.createQuery();Kt.objectIds=bt,Kt.returnGeometry=!0,Pn.push(Wt.queryFeatures(Kt))}});const Sn=yield Promise.all(Pn),ut=[];for(const bt of Sn)if(bt&&bt.features&&bt.features.length)for(const xt of bt.features)(0,B.pC)(xt.geometry)&&ut.push(xt.geometry);pn=ut}for(const An of pn)Mt=yield he(An,ct,Et,Mt);return Mt}if(Array.isArray(Ke)&&2===Ke.length&&"number"==typeof Ke[0]&&"number"==typeof Ke[1])Gt=new Z.Z(Ke);else if(Ke instanceof Y.Z)Gt=Ke;else if("geometry"in Ke)if(Ke.geometry)Gt=Ke.geometry;else if(Ke.layer){const cn=Ke.layer,xn=ct.allLayerViews.find(pn=>pn.layer.id===cn.id);if("queryFeatures"in xn){const pn=cn.createQuery();pn.objectIds=[Ke.attributes[cn.objectIdField]],pn.returnGeometry=!0;const An=yield xn.queryFeatures(pn);Gt=(0,B.U2)(An,"features",0,"geometry")}}if((0,B.Wi)(Gt)||($t="point"===Gt.type?new $.Z({xmin:Gt.x,ymin:Gt.y,xmax:Gt.x,ymax:Gt.y,spatialReference:Gt.spatialReference}):Gt.extent,!$t))return null;(0,re.kR)()||(0,re.Up)($t.spatialReference,Et)||(yield(0,re.zD)());const Jt=(0,re.iV)($t,Et);return Jt?Mt=Mt?Mt.union(Jt):Jt:null})).apply(this,arguments)}function me(Ke){if(Ke&&(!Array.isArray(Ke)||"number"!=typeof Ke[0])&&("object"==typeof Ke||Array.isArray(Ke)&&"object"==typeof Ke[0])){if("layer"in Ke&&Ke.layer&&Ke.layer.minScale&&Ke.layer.maxScale){const ct=Ke.layer;return{min:ct.minScale,max:ct.maxScale}}if(Array.isArray(Ke)&&Ke.length&&Ke.every(ct=>"layer"in ct)){let ct=0,Et=0;for(const Mt of Ke){const Gt=Mt.layer;Gt&&Gt.minScale&&Gt.maxScale&&(ct=Gt.minScale<ct?Gt.minScale:ct,Et=Gt.maxScale>Et?Gt.maxScale:Et)}return ct&&Et?{min:ct,max:Et}:null}}}function de(Ke,ct){return(0,L.fS)(K(Ke),ct)?Ke:(0,re.iV)(Ke,ct)}function ie(Ke,ct){return V.apply(this,arguments)}function V(){return(V=(0,M.Z)(function*(Ke,ct){if(!Ke||!ct)return new D.Z({targetGeometry:new Z.Z,scale:0,rotation:0});let Et=ct.spatialReference;const{constraints:Mt,padding:Gt,viewpoint:$t,size:Jt}=ct,cn=[Gt?Jt[0]-Gt.left-Gt.right:Jt[0],Gt?Jt[1]-Gt.top-Gt.bottom:Jt[1]];let xn=null;Ke instanceof D.Z?xn=Ke:Ke.viewpoint?xn=Ke.viewpoint:Ke.target&&"esri.Viewpoint"===Ke.target.declaredClass&&(xn=Ke.target);let pn=null;xn&&xn.targetGeometry?pn=xn.targetGeometry:Ke instanceof $.Z?pn=Ke:(Ke||Ke&&("center"in Ke||"extent"in Ke||"target"in Ke))&&(pn=(yield he(Ke.center,ct,Et))||(yield he(Ke.extent,ct,Et))||(yield he(Ke.target,ct,Et))||(yield he(Ke,ct,Et))),!pn&&$t&&$t.targetGeometry?pn=$t.targetGeometry:!pn&&ct.extent&&(pn=ct.extent),Et||(Et=K(ct.spatialReference||ct.extent||pn)),(0,re.kR)()||(0,L.fS)(pn.spatialReference,Et)||(0,re.Up)(pn,Et)||(yield(0,re.zD)());const An=de(pn.center?pn.center:pn,Et);let Pn=null;if(xn&&(0,B.pC)(xn.targetGeometry)&&"point"===xn.targetGeometry.type)Pn=xn.scale;else if("scale"in Ke&&Ke.scale)Pn=Ke.scale;else if("zoom"in Ke&&-1!==Ke.zoom&&Mt&&Mt.effectiveLODs)Pn=Mt.zoomToScale(Ke.zoom);else if(Array.isArray(pn)||"point"===pn.type||"extent"===pn.type&&0===pn.width&&0===pn.height){const xt=de(ct.extent,Et);Pn=(0,B.pC)(xt)?J(xt,cn):ct.extent?J(ct.extent,cn):$t.scale}else Pn=J(de(pn.extent,Et),cn);const Sn=me(Ke);Sn&&(Sn.min&&Sn.min>Pn?Pn=Sn.min:Sn.max&&Sn.max<Pn&&(Pn=Sn.max));let ut=0;xn?ut=xn.rotation:Ke.hasOwnProperty("rotation")?ut=Ke.rotation:$t&&(ut=$t.rotation);let bt=new D.Z({targetGeometry:An,scale:Pn,rotation:ut});return Mt&&(bt=Mt.fit(bt),Mt.constrainByGeometry(bt),Mt.rotationEnabled||(bt.rotation=ut)),bt})).apply(this,arguments)}function ce(Ke,ct){const Et=Ke.targetGeometry,Mt=ct.targetGeometry;return Et.x=Mt.x,Et.y=Mt.y,Et.spatialReference=Mt.spatialReference,Ke.scale=ct.scale,Ke.rotation=ct.rotation,Ke}function ae(Ke,ct,Et){return Et?(0,I.s)(Ke,.5*(ct[0]-Et.right+Et.left),.5*(ct[1]-Et.bottom+Et.top)):(0,I.g)(Ke,ct,.5)}const pe=function(){const Ke=(0,x.a)();return function(ct,Et,Mt){const Gt=Et.targetGeometry;W(Ke,Gt);const $t=.5*Ce(Et);return ct.xmin=Ke[0]-$t*Mt[0],ct.ymin=Ke[1]-$t*Mt[1],ct.xmax=Ke[0]+$t*Mt[0],ct.ymax=Ke[1]+$t*Mt[1],ct.spatialReference=Gt.spatialReference,ct}}();function ue(Ke,ct,Et,Mt,Gt){return He(Ke,ct,Et.center),Ke.scale=J(Et,Mt),Gt&&Gt.constraints&&Gt.constraints.constrain(Ke),Ke}const le=function(){const Ke=(0,x.a)();return function(ct,Et,Mt){return(0,I.h)(ct,function Ge(Ke,ct){return(0,I.g)(Ke,ct,.5)}(ct,Et),ae(Ke,Et,Mt))}}(),se=function(){const Ke=(0,F.c)(),ct=(0,x.a)();return function(Et,Mt,Gt,$t){const Jt=Ce(Mt),cn=Pe(Mt);return(0,I.s)(ct,Jt,Jt),(0,k.f)(Ke,ct),(0,k.r)(Ke,Ke,cn),(0,k.t)(Ke,Ke,le(ct,Gt,$t)),(0,k.t)(Ke,Ke,[0,$t.top-$t.bottom]),(0,I.s)(Et,Ke[4],Ke[5])}}();function Ce(Ke){return Ke.scale*function ge(Ke){return(0,B.pC)(Ke)&&(0,L.JY)(Ke.spatialReference)?1/(39.37*te(Ke.spatialReference)*96):1}(Ke.targetGeometry)}function Pe(Ke){return(0,ne.t)(Ke.rotation)||0}const Se=function(){const Ke=(0,x.a)(),ct=(0,x.a)(),Et=(0,x.a)();return function(Mt,Gt,$t,Jt,cn,xn){return(0,I.n)(Ke,Gt),(0,I.g)(ct,$t,.5*xn),(0,I.s)(Et,1/Jt*xn,-1/Jt*xn),(0,k.a)(Mt,ct),cn&&(0,k.r)(Mt,Mt,cn),(0,k.s)(Mt,Mt,Et),(0,k.t)(Mt,Mt,Ke),Mt}}(),ve=function(){const Ke=(0,x.a)();return function(ct,Et,Mt,Gt){const $t=Ce(Et),Jt=Pe(Et);return W(Ke,Et.targetGeometry),Se(ct,Ke,Mt,$t,Jt,Gt)}}(),Te=function(){const Ke=(0,x.a)();return function(ct,Et,Mt,Gt){const $t=Ce(Et);return W(Ke,Et.targetGeometry),Se(ct,Ke,Mt,$t,0,Gt)}}();function Ze(Ke){if(Ke.isWrappable){const ct=(0,L.C5)(Ke);return ct.valid[1]-ct.valid[0]}return 0}function tt(Ke,ct){return Math.round(Ze(Ke)/ct)}const xe=function(){const Ke=(0,x.a)(),ct=(0,x.a)(),Et=[0,0,0];return function(Mt,Gt,$t){(0,I.f)(Ke,Mt,Gt),(0,I.i)(Ke,Ke),(0,I.f)(ct,Mt,$t),(0,I.i)(ct,ct),(0,I.j)(Et,Ke,ct);let Jt=Math.acos((0,I.k)(Ke,ct)/((0,I.l)(Ke)*(0,I.l)(ct)))*j;return Et[2]<0&&(Jt=-Jt),isNaN(Jt)&&(Jt=0),Jt}}(),Ve=function(){const Ke=(0,x.a)();return function(ct,Et,Mt,Gt){const $t=ct.targetGeometry;return ce(ct,Et),se(Ke,Et,Mt,Gt),$t.x+=Ke[0],$t.y+=Ke[1],ct}}(),He=function(Ke,ct,Et){ce(Ke,ct);const Mt=Ke.targetGeometry;return Mt.x=Et.x,Mt.y=Et.y,Mt.spatialReference=Et.spatialReference,Ke},ee=function(){const Ke=(0,x.a)();return function(ct,Et,Mt,Gt,$t){$t||($t="center"),(0,I.h)(Ke,Mt,Gt),(0,I.g)(Ke,Ke,.5);const Jt=Ke[0],cn=Ke[1];switch($t){case"center":(0,I.s)(Ke,0,0);break;case"left":(0,I.s)(Ke,-Jt,0);break;case"top":(0,I.s)(Ke,0,cn);break;case"right":(0,I.s)(Ke,Jt,0);break;case"bottom":(0,I.s)(Ke,0,-cn);break;case"top-left":(0,I.s)(Ke,-Jt,cn);break;case"bottom-left":(0,I.s)(Ke,-Jt,-cn);break;case"top-right":(0,I.s)(Ke,Jt,cn);break;case"bottom-right":(0,I.s)(Ke,Jt,-cn)}return _t(ct,Et,Ke),ct}}();function _e(Ke,ct,Et){return ce(Ke,ct),Ke.rotation+=Et,Ke}function je(Ke,ct,Et){return ce(Ke,ct),Ke.rotation=Et,Ke}const Ye=function(){const Ke=(0,x.a)();return function(ct,Et,Mt,Gt,$t){return ce(ct,Et),isNaN(Mt)||0===Mt||(ot(Ke,Gt,Et,$t),ct.scale=Et.scale*Mt,et(Ke,Ke,ct,$t),_t(ct,ct,(0,I.s)(Ke,Ke[0]-Gt[0],Gt[1]-Ke[1]))),ct}}();function pt(Ke,ct,Et){return ce(Ke,ct),Ke.scale=Et,Ke}const it=function(){const Ke=(0,x.a)();return function(ct,Et,Mt,Gt,$t,Jt){return ce(ct,Et),isNaN(Mt)||0===Mt||(ot(Ke,$t,Et,Jt),ct.scale=Et.scale*Mt,ct.rotation+=Gt,et(Ke,Ke,ct,Jt),_t(ct,ct,(0,I.s)(Ke,Ke[0]-$t[0],$t[1]-Ke[1]))),ct}}(),at=function(){const Ke=(0,x.a)(),ct=(0,x.a)();return function(Et,Mt,Gt,$t,Jt,cn,xn){return le(ct,cn,xn),(0,I.m)(Ke,Jt,ct),$t?it(Et,Mt,Gt,$t,Ke,cn):Ye(Et,Mt,Gt,Ke,cn)}}(),ot=function(){const Ke=(0,F.c)();return function(ct,Et,Mt,Gt){return(0,I.t)(ct,Et,function ye(Ke,ct,Et,Mt){return ve(Ke,ct,Et,Mt),(0,k.i)(Ke,Ke)}(Ke,Mt,Gt,1))}}(),et=function(){const Ke=(0,F.c)();return function(ct,Et,Mt,Gt){return(0,I.t)(ct,Et,ve(Ke,Mt,Gt,1))}}(),_t=function(){const Ke=(0,x.a)(),ct=(0,F.c)();return function(Et,Mt,Gt){ce(Et,Mt);const $t=Ce(Mt),Jt=Et.targetGeometry;return(0,k.b)(ct,Pe(Mt)),(0,k.s)(ct,ct,(0,x.f)($t,$t)),(0,I.t)(Ke,Gt,ct),Jt.x+=Ke[0],Jt.y+=Ke[1],Et}}()},59617:(qe,Me,E)=>{"use strict";var M,B;function Q(B){return B===M.Global?"global":"local"}E.d(Me,{JY:()=>M,M7:()=>Q}),(B=M||(M={}))[B.Global=1]="Global",B[B.Local=2]="Local"},35216:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>B});var M=E(63290);class D{constructor(F,I=[]){this.eventType=F,this.keyModifiers=I}matches(F){if(F.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const I=F.modifiers;for(const x of this.keyModifiers)if(!I.has(x))return!1;return!0}}const Q=M.Z.getLogger("esri.views.input.InputHandler");class B{constructor(F){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=F}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const F in this._incoming){const I=this._incoming[F];for(const x of I)this._incomingEventMatches.push(x.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(F=>F.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(F){this._manager?Q.error("This InputHandler has already been registered with an InputManager"):(F.setEventCallback(I=>this._handleEvent(I)),F.setUninstallCallback(()=>this._onUninstall()),this._manager=F)}onUninstall(){}registerIncoming(F,I,x){let $;"function"==typeof I?(x=I,$=[]):$=I||[];const Y="string"==typeof F?new D(F,$):F,Z=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},re=T=>{const P=this._incoming[T.match.eventType];if(P){const j=P.indexOf(T);P.splice(j,1),Z(),this._manager&&this._manager.updateDependencies()}},X=new N(Y,x,{onPause:re,onRemove:re,onResume:T=>{const P=this._incoming[T.match.eventType];P&&-1===P.indexOf(T)&&(P.push(T),Z(),this._manager&&this._manager.updateDependencies())}});let L=this._incoming[Y.eventType];return L||(L=[],this._incoming[Y.eventType]=L),L.push(X),Z(),this._manager&&this._manager.updateDependencies(),X}registerOutgoing(F){if(this._outgoing[F])throw Error("There is already a callback registered for this outgoing InputEvent: "+F);const I=new ne(F,{onEmit:(x,$,Y,Z)=>{this._manager.emit(x.eventType,$,Y,Z)},onRemove:x=>{delete this._outgoing[x.eventType],this._manager.updateDependencies()}});return this._outgoing[F]=I,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),I}startCapturingPointer(F){this._manager.setPointerCapture(F,!0)}stopCapturingPointer(F){this._manager.setPointerCapture(F,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):Q.error("This InputHandler is not registered with an InputManager")}_handleEvent(F){const I=this._incoming[F.type];if(I)for(const x of I)if(x.match.matches(F)&&(x.callback(F),F.shouldStopPropagation()))break}}class N{constructor(F,I,x){this.match=F,this._callback=I,this._handler=x}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class ne{constructor(F,I){this.eventType=F,this._removed=!1,this._handler=I}emit(F,I,x){this._removed||this._handler.onEmit(this,F,I,x)}remove(){this._removed=!0,this._handler.onRemove(this)}}},58677:(qe,Me,E)=>{"use strict";E.d(Me,{$:()=>re,f:()=>T});var M=E(17626),D=E(14517),Q=E(63290),B=E(35133),N=E(77712),I=(E(85931),E(8314),E(90912),E(76898)),x=E(25441),$=E(35216);class Y extends $.a{constructor(j){super(!0),this._onChange=j,this._value="mouse",this.registerIncoming("pointer-down",K=>{this._setValue("touch"===K.data.native.pointerType?"touch":"mouse")}),this._moveHandler=this.registerIncoming("pointer-move",K=>{this._setValue("touch"===K.data.native.pointerType?"touch":"mouse")}),this._moveHandler.pause()}_setValue(j){j!==this._value&&("touch"===j?this._moveHandler.resume():this._moveHandler.pause(),this._value=j,this._onChange(j))}}const Z=Q.Z.getLogger("esri.views.input.InputManager");let re=class extends D.Z{constructor(P){super(P),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=x.CK,this.latestPointerType="mouse",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const P=Object.keys(this._nameToGroup);for(const j of P)this.uninstallHandlers(j);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some(P=>P.handler.hasPendingInputs)}installHandlers(P,j,K=T.INTERNAL){if(this._nameToGroup[P])return void Z.error("There is already an InputHandler group registered under the name `"+P+"`");if(0===j.length)return void Z.error("Can't register a group of zero handlers");const W={name:P,handlers:j.map(te=>({handler:te,active:!0,removed:!1,priorityIndex:0,groupPriority:K,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[P]=W;for(let te=W.handlers.length-1;te>=0;te--){const J=W.handlers[te];this._handlers.push(J),J.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(he,oe,me,de,ie)=>{this._emitInputEvent(J.priorityIndex+1,he,oe,me,ie,de)},setPointerCapture:(he,oe)=>{this._setPointerCapture(W,J,he,oe)},setEventCallback:he=>{J.eventCallback=he},setUninstallCallback:he=>{J.uninstallCallback=he},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(P){const j=this._nameToGroup[P];j?(j.handlers.forEach(K=>{K.removed=!0,K.uninstallCallback()}),delete this._nameToGroup[P],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):Z.error("There is no InputHandler group registered under the name `"+P+"`")}hasHandlers(P){return void 0!==this._nameToGroup[P]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const P=new Set,j=new Set;this._handlersPriority=[];for(let K=this._handlers.length-1;K>=0;K--){const W=this._handlers[K];W.priorityIndex=K,this._handlersPriority.push(W)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let K=this._handlersPriority.length-1;K>=0;K--){const W=this._handlersPriority[K];W.priorityIndex=K;let te=W.handler.hasSideEffects;if(!te)for(const J of W.handler.outgoingEventTypes)if(P.has(J)){te=!0;break}if(te)for(const J of W.handler.incomingEventMatches){P.add(J.eventType);for(const he of J.keyModifiers)(0,x.wj)(he)||j.add(he)}W.active=te}this._sourceEvents=P,this._keyModifiers=j,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(P){this._set("latestPointerType",P)}_onEventReceived(P,j){"pointer-capture-lost"===P&&this._pointerCaptures.delete(j.native.pointerId),this._updateKeyModifiers(P,j),this._emitInputEventFromSource(P,j,null!=this.test.timestamp?this.test.timestamp:j.native?j.native.timestamp:void 0,j.native?j.native.cancelable:void 0)}_updateKeyModifiers(P,j){if(!j)return;let K=!1;const W=()=>{if(!K){const he=new Set;this._activeKeyModifiers.forEach(oe=>{he.add(oe)}),this._activeKeyModifiers=he,K=!0}},te=(he,oe)=>{oe&&!this._activeKeyModifiers.has(he)?(W(),this._activeKeyModifiers.add(he)):!oe&&this._activeKeyModifiers.has(he)&&(W(),this._activeKeyModifiers.delete(he))};if("key-down"===P||"key-up"===P){const he=j.key;this._keyModifiers.has(he)&&te(he,"key-down"===P)}const J=j.native;te("Alt",!(!J||!J.altKey)),te("Ctrl",!(!J||!J.ctrlKey)),te("Shift",!(!J||!J.shiftKey)),te("Meta",!(!J||!J.metaKey)),te("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new Y(P=>this._setLatestPointerType(P)),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,T.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],T.INTERNAL)}_setPointerCapture(P,j,K,W){const te=P.name+"-"+j.priorityIndex,J=this._pointerCaptures.get(K.pointerId)||new Set;this._pointerCaptures.set(K.pointerId,J),W?(J.add(te),1===J.size&&this.eventSource&&this.eventSource.setPointerCapture(K,!0)):J.has(te)&&(J.delete(te),0===J.size&&(this._pointerCaptures.delete(K.pointerId),this.eventSource&&this.eventSource.setPointerCapture(K,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(P=>!P.removed),this.updateDependencies()}_emitInputEventFromSource(P,j,K,W){this._emitInputEvent(0,P,j,K,W)}_emitInputEvent(P,j,K,W,te,J){const he=void 0!==W?W:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),me={event:new X(j,K,he,J||this._activeKeyModifiers,void 0!==te&&te),priorityIndex:P};this._currentPropagation?this._currentPropagation.events.push(me):this._doNewPropagation(me)}_doNewPropagation(P){this._currentPropagation={events:new B.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:P.event.timestamp},this._currentPropagation.events.push(P),this._continuePropagation()}_continuePropagation(){const P=this._currentPropagation;if(P){for(;this._currentPropagation.events.length>0;){const{event:j,priorityIndex:K}=this._currentPropagation.events.pop(),W=j.data&&j.data.eventId;if(null==W||!this._stoppedPropagationEventIds.has(W))for(P.currentHandler=this._handlersPriority[K];P.currentHandler;){if(P.currentHandler.removed)P.needsHandlerGarbageCollect=!0;else{if(P.currentHandler.active&&!j.shouldStopPropagation()&&P.currentHandler.eventCallback(j),j.shouldStopPropagation()){null!=W&&this._stoppedPropagationEventIds.add(W);break}if(j.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:j,priorityIndex:P.currentHandler.priorityIndex+1})}P.currentHandler=this._handlersPriority[P.currentHandler.priorityIndex+1]}}P.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(P){const j=new B.Z;for(j.push(P);this._currentPropagation.events.length;)j.push(this._currentPropagation.events.pop());this._currentPropagation.events=j,this._currentPropagation.currentHandler=null}_compareHandlerPriority(P,j){if(P.handler.hasSideEffects!==j.handler.hasSideEffects)return P.handler.hasSideEffects?1:-1;if(P.groupPriority!==j.groupPriority)return P.groupPriority>j.groupPriority?-1:1;for(const K of P.handler.incomingEventMatches)for(const W of j.handler.incomingEventMatches){if(K.eventType!==W.eventType)continue;const te=K.keyModifiers.filter(J=>-1!==W.keyModifiers.indexOf(J));if(te.length===K.keyModifiers.length!=(te.length===W.keyModifiers.length))return K.keyModifiers.length>W.keyModifiers.length?-1:1}return P.priorityIndex>j.priorityIndex?-1:1}_sortHandlersPriority(P){const j=[];for(const K of P){let W=0;for(;W<j.length&&this._compareHandlerPriority(K,j[W])>=0;)W++;j.splice(W,0,K)}return j}get debug(){const P=j=>{const K=this._setPointerCapture;this._setPointerCapture=()=>{},j(),this._setPointerCapture=K};return{injectEvent:(j,K)=>{P(()=>{this._onEventReceived(j,K)})},disablePointerCapture:P}}};(0,M._)([(0,N.Cb)({readOnly:!0})],re.prototype,"hasPendingInputs",null),(0,M._)([(0,N.Cb)()],re.prototype,"eventSource",void 0),(0,M._)([(0,N.Cb)()],re.prototype,"recognizers",void 0),(0,M._)([(0,N.Cb)({readOnly:!0})],re.prototype,"latestPointerType",void 0),re=(0,M._)([(0,I.j)("esri.views.input.InputManager")],re);class X{constructor(j,K,W,te,J){this.type=j,this.data=K,this.timestamp=W,this.modifiers=te,this.cancelable=J,this._propagationState=L.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=L.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&L.STOPPED)}async(j){this._propagationState|=L.PAUSED;const K=(W,te)=>{this._propagationState&=~L.PAUSED;const J=this._resumeCallback;if(this._resumeCallback=null,J&&J(),te)throw W;return W};return("function"==typeof j?j():j).then(W=>K(W,!1),W=>K(W,!0))}shouldPausePropagation(j){return!!(this._propagationState&L.PAUSED)&&(this._resumeCallback=j,!0)}preventDefault(){this.data.native.preventDefault()}}var L,P;(P=L||(L={}))[P.NONE=0]="NONE",P[P.STOPPED=1]="STOPPED",P[P.PAUSED=2]="PAUSED";const T={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}},25441:(qe,Me,E)=>{"use strict";E.d(Me,{kK:()=>N,wj:()=>ne,CK:()=>Q});var M=E(17770);const Q=(0,E(8314).Z)("mac")?"Meta":"Ctrl",B={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let k=48;k<58;k++)B[k]=String.fromCharCode(k);for(let k=1;k<25;k++)B[111+k]=`F${k}`;for(let k=65;k<91;k++)B[k]=[String.fromCharCode(k+32),String.fromCharCode(k)];function N(k){if(void 0!==k.key)return(0,M.kK)(k);const F=B[k.keyCode];return Array.isArray(F)?k.shiftKey?F[1]:F[0]:F}function ne(k){switch(k){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},71251:(qe,Me,E)=>{"use strict";E.d(Me,{e:()=>ne});var M=E(62208),D=E(10699),Q=E(35133),B=E(50618);class N{constructor(F,I){this.item=F,this.controller=I,this.promise=null}}class ne{constructor(F){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,F.concurrency&&(this.concurrency=F.concurrency),this._queue=new Q.Z(F.peeker),this.process=F.process;const I=F.scheduler;F.priority&&(0,M.pC)(I)&&(this._task=I.registerTask(F.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(F){const I=this._controllers.get(F);I&&I.abort()}clear(){this._queue.clear();const F=[];this._controllers.forEach(I=>F.push(I)),this._controllers.clear(),F.forEach(I=>I.abort()),this._processingItems.clear(),this._cancelNext()}forEach(F){this._deferreds.forEach((I,x)=>F(x))}get(F){const I=this._deferreds.get(F);return I?I.promise:void 0}isOngoing(F){return this._processingItems.has(F)}has(F){return this._deferreds.has(F)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(F,I){const x=this.get(F);if(x)return x;const $=new AbortController;let Y=null;I&&(Y=(0,D.fu)(I,()=>$.abort()));const re=()=>{X.remove(),(0,M.pC)(Y)&&Y.remove(),this._deferreds.delete(F),this._controllers.delete(F),this._queue.remove(F),this._processingItems.delete(F),this._scheduleNext()},X=(0,D.$F)($.signal,()=>{const T=this._processingItems.get(F);T&&T.controller.abort(),re(),L.reject((0,D.zE)())}),L=(0,D.dD)();return this._deferreds.set(F,L),this._controllers.set(F,$),L.promise.then(re,re),this._queue.push(F),this._scheduleNext(),L.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const F=[];this._processingItems.forEach(I=>F.push(I)),this._processingItems.clear();for(const I of F)this._queue.push(I.item),I.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const F=[];for(;this._queue.length;)F.push(this._queue.pop());return this.clear(),F}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(F){for(;!F.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),F.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,B.Os)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(F,I){this._canProcessFulfillment(F)&&(this._scheduleNext(),this._deferreds.get(F.item).resolve(I))}_processError(F,I){this._canProcessFulfillment(F)&&(this._scheduleNext(),this._deferreds.get(F.item).reject(I))}_canProcessFulfillment(F){return!!this._deferreds.get(F.item)&&this._processingItems.get(F.item)===F}_process(F){if((0,M.Wi)(F))return;let I;const x=new AbortController,$=new N(F,x);this._processingItems.set(F,$);try{I=this.process(F,x.signal)}catch(Y){this._processError($,Y)}(0,D.y8)(I)?($.promise=I,I.then(Y=>this._processResult($,Y),Y=>this._processError($,Y))):this._processResult($,I)}get test(){return{update:F=>this.runTask(F)}}}},74447:(qe,Me,E)=>{"use strict";E.d(Me,{sq:()=>Ce,T8:()=>te,G5:()=>le});var M=E(17626),D=E(14517),Q=E(72392),B=E(63290),N=E(62208),ne=E(73362),k=E(77029),F=E(10699),I=E(32917),x=E(27422),$=E(77712),X=(E(85931),E(8314),E(90912),E(76898));let L=class extends D.Z{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(Pe){for(;!Pe.done&&this._process(Pe);)Pe.madeProgress()}push(Pe,Ee,Ge){return this.running=!0,new Promise((Se,ve)=>this._tasks.push(new T(Se,ve,Pe,Ee,Ge)))}unshift(Pe,Ee,Ge){return this.running=!0,new Promise((Se,ve)=>this._tasks.unshift(new T(Se,ve,Pe,Ee,Ge)))}_process(Pe){if(0===this._tasks.length)return!1;const Ee=this._tasks.shift();try{const Ge=(0,F.Hc)(Ee.signal);if(Ge&&!Ee.abortCallback)Ee.reject((0,F.zE)());else{const Se=Ge?Ee.abortCallback((0,F.zE)()):Ee.callback(Pe);(0,F.y8)(Se)?Se.then(Ee.resolve,Ee.reject):Ee.resolve(Se)}}catch(Ge){Ee.reject(Ge)}return this.running=this._tasks.length>0,!0}cancelAll(){const Pe=(0,F.zE)();for(const Ee of this._tasks)if(Ee.abortCallback){const Ge=Ee.abortCallback(Pe);Ee.resolve(Ge)}else Ee.reject(Pe);this._tasks.length=0,this.running=!1}};(0,M._)([(0,$.Cb)()],L.prototype,"running",void 0),L=(0,M._)([(0,X.j)("esri.layers.support.PromiseQueue")],L);class T{constructor(Ee,Ge,Se,ve,Te){this.resolve=Ee,this.reject=Ge,this.callback=Se,this.signal=ve,this.abortCallback=Te}}let P=class extends D.Z{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,M._)([(0,$.Cb)()],P.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,M._)([(0,$.Cb)()],P.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),P=(0,M._)([(0,X.j)("esri.views.support.DebugFlags")],P);const j=new P,K=B.Z.getLogger("esri.views.support.Scheduler");var te,Pe;(Pe=te||(te={})).RESOURCE_CONTROLLER="schedule",Pe.SLIDE="slide",Pe.STREAM_DATA_LOADER="stream loader",Pe.ELEVATION_QUERY="elevation query",Pe.TERRAIN_SURFACE="terrain",Pe.SURFACE_GEOMETRY_UPDATES="surface geometry updates",Pe.GRAPHICS_CORE="Graphics3D",Pe.I3S_CONTROLLER="I3S",Pe.POINT_CLOUD_LAYER="point cloud",Pe.FEATURE_TILE_FETCHER="feature fetcher",Pe.OVERLAY="overlay",Pe.STAGE="stage",Pe.GRAPHICS_DECONFLICTOR="graphics deconflictor",Pe.FILTER_VISIBILITY="Graphics3D filter visibility",Pe.SCALE_VISIBILITY="Graphics3D scale visibility",Pe.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",Pe.POINT_OF_INTEREST_FREQUENT="POI frequent",Pe.POINT_OF_INTEREST_INFREQUENT="POI infrequent",Pe.LABELER="labeler",Pe.FEATURE_QUERY_ENGINE="feature query",Pe.FEATURE_TILE_TREE="feature tile tree",Pe.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",Pe.ELEVATION_ALIGNMENT="elevation alignment",Pe.TEXT_TEXTURE_ATLAS="text texture atlas",Pe.TEXTURE_UNLOAD="texture unload",Pe.LINE_OF_SIGHT_TOOL="line of sight tool",Pe.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",Pe.ELEVATION_PROFILE="elevation profile",Pe.SNAPPING="snapping",Pe.SHADOW_ACCUMULATOR="shadow accumulator",Pe.CLOUDS_GENERATOR="cloud generator",Pe[Pe.TEST_PRIO=1]="TEST_PRIO";const he=new Map([[te.RESOURCE_CONTROLLER,0],[te.SLIDE,0],[te.STREAM_DATA_LOADER,0],[te.ELEVATION_QUERY,0],[te.TERRAIN_SURFACE,1],[te.SURFACE_GEOMETRY_UPDATES,1],[te.GRAPHICS_CORE,2],[te.I3S_CONTROLLER,2],[te.POINT_CLOUD_LAYER,2],[te.FEATURE_TILE_FETCHER,2],[te.OVERLAY,4],[te.STAGE,4],[te.GRAPHICS_DECONFLICTOR,4],[te.FILTER_VISIBILITY,4],[te.SCALE_VISIBILITY,4],[te.FRUSTUM_VISIBILITY,4],[te.POINT_OF_INTEREST_FREQUENT,6],[te.POINT_OF_INTEREST_INFREQUENT,30],[te.LABELER,8],[te.FEATURE_QUERY_ENGINE,8],[te.FEATURE_TILE_TREE,16],[te.FEATURE_TILE_TREE_ACTIVE,0],[te.ELEVATION_ALIGNMENT,12],[te.TEXT_TEXTURE_ATLAS,12],[te.CLOUDS_GENERATOR,12],[te.TEXTURE_UNLOAD,12],[te.LINE_OF_SIGHT_TOOL,16],[te.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[te.SNAPPING,0],[te.SHADOW_ACCUMULATOR,30]]);function oe(Pe){return he.has(Pe)?he.get(Pe):"number"==typeof Pe?Pe:1}var me;!function(Pe){Pe[Pe.ANIMATING=0]="ANIMATING",Pe[Pe.INTERACTING=1]="INTERACTING",Pe[Pe.IDLE=2]="IDLE"}(me||(me={}));const de=(0,x.HA)(6.5),ie=(0,x.HA)(1),V=(0,x.HA)(30),ce=(0,x.HA)(1e3/30),ae=(0,x.HA)(100);var ue,ye;(function(Pe){let Ee=class extends D.Z{constructor(ve){super(ve),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new ne.Z("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=me.INTERACTING,this._tasks=new k.Z,this._runQueue=new k.Z,this._load=0,this._idleStateCallbacks=new k.Z,this._idleUpdatesStartFired=!1,this._maxReschedule=ge,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,I.YP)(()=>j.SCHEDULER_LOG_SLOW_TASKS,tt=>this._debug=tt,I.nn),this._budget=new Se(ve.nowFunc);for(const tt of Object.keys(te))this.performanceInfo.tasks.set(te[tt],new ne.Z(te[tt]));let Te;const Ze=this;this._test={get state(){return(0,N.Pt)(Te,Ze._state)},set state(tt){Te=tt},FRAME_SAFETY_BUDGET:de,INTERACTING_BUDGET:ce,IDLE_BUDGET:ae,get budget(){return Ze._budget.budget},usedBudget:0,setBudget:tt=>Ze._budget=tt,updateTask:tt=>this._updateTask(tt),getState:tt=>this._getState(tt),getRuntime:tt=>this._getRuntime(tt),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(ve=>ve.remove()),this._tasks.clear(),(0,N.hw)(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=ge,this._schedule(),this.frame()))}))}registerTask(ve,Te){const Ze=oe(ve),tt=new Ge(this,ve,Te,Ze);return this._tasks.push(tt),this.performanceInfo.tasks.has(ve)||this.performanceInfo.tasks.set(ve,new ne.Z(ve)),tt}registerIdleStateCallbacks(ve,Te){const Ze={idleBegin:ve,idleEnd:Te};this._idleStateCallbacks.push(Ze),this.state===me.IDLE&&this._idleUpdatesStartFired&&Ze.idleBegin();const tt=this;return{remove:()=>this._removeIdleStateCallbacks(Ze),set idleBegin(xe){tt._idleUpdatesStartFired&&(Ze.idleEnd(),tt._state===me.IDLE&&xe()),Ze.idleBegin=xe},set idleEnd(xe){Ze.idleEnd=xe}}}get now(){return this.nowFunc()}get load(){return this._load}set state(ve){this._state!==ve&&(this._state=ve,this.state!==me.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(Te=>Te.idleEnd())))}get state(){return(0,N.Wi)(this._test.state)?this._state:this._test.state}updateBudget(ve){this._test.usedBudget=0;let Te=de,Ze=ve.frameDuration,tt=ie;switch(this.state){case me.IDLE:Te=(0,x.HA)(0),Ze=(0,x.HA)(Math.max(ae,ve.frameDuration)),tt=V;break;case me.INTERACTING:Ze=(0,x.HA)(Math.max(ce,ve.frameDuration))}return Ze=(0,x.HA)(Ze-ve.elapsedFrameTime-Te),this.state!==me.IDLE&&Ze<ie&&!this._forceTask?(this._forceTask=!0,!1):(Ze=(0,x.HA)(Math.max(Ze,tt)),this._budget.reset(Ze,this.state),this._maxReschedule=ge,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case me.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(ve=>ve.idleBegin())),this._runIdle();break;case me.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset((0,x.HA)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(ve){this._idleUpdatesStartFired&&ve.idleEnd(),this._idleStateCallbacks.removeUnordered(ve)}removeTask(ve){this._tasks.removeUnordered(ve),this._runQueue.removeUnordered(ve)}_updateTask(ve){this._tasks.forAll(Te=>{Te.name===ve&&Te.setPriority(ve)})}_getState(ve){if(this._runQueue.some(Ze=>Ze.name===ve))return ye.SCHEDULED;let Te=ye.IDLE;return this._tasks.forAll(Ze=>{Ze.name===ve&&Ze.needsUpdate&&(Ze.schedulePriority<=1?Te=ye.READY:Te!==ye.READY&&(Te=ye.WAITING))}),Te}_getRuntime(ve){let Te=0;return this._tasks.forAll(Ze=>{Ze.name===ve&&(Te+=Ze.runtime)}),Te}_resetRuntimes(){this._tasks.forAll(ve=>ve.runtime=0)}_getRunning(){const ve=new Map;if(this._tasks.forAll(Ze=>{Ze.needsUpdate&&ve.set(Ze.name,(ve.get(Ze.name)||0)+1)}),0===ve.size)return null;let Te="";return ve.forEach((Ze,tt)=>{Te+=Ze>1?` ${Ze}x ${tt}`:` ${tt}`}),Te}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const ve=this._tasks.reduce((Te,Ze)=>Ze.needsUpdate?++Te:Te,0);this._load=.9*this._load+ve*(1-.9)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(ve=>!!ve.needsUpdate||(ve.schedulePriority=ve.basePriority,!1)),this._tasks.forAll(ve=>{0===ve.basePriority&&ve.needsUpdate&&!this._runQueue.some(Te=>Te===ve)&&this._runQueue.unshift(ve)});0===this._runQueue.length;){let ve=!1,Te=0;if(this._tasks.forAll(Ze=>{Ze.needsUpdate&&0!==Ze.schedulePriority&&0!==Ze.basePriority&&(ve=!0,Te=Math.max(Te,Ze.basePriority),1===Ze.schedulePriority?(Ze.schedulePriority=0,this._runQueue.push(Ze)):--Ze.schedulePriority)}),!ve)return this.updating=!1,!1;this._maxReschedule===ge&&(this._maxReschedule=Te),--this._maxReschedule}return this.updating=!0,!0}_run(){const ve=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const Te=this._budget.now(),Ze=this._runQueue.pop();this._budget.resetProgress();try{Ze.task.runTask(this._budget)}catch(xe){K.error(`Exception in task "${Ze.name}"`,xe)}Ze.schedulePriority=Ze.basePriority;const tt=this._budget.now()-Te;if(Ze.runtime+=tt,this._frameTaskTimes.set(Ze.priority,this._frameTaskTimes.get(Ze.priority)+tt),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",Ze.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this.updating=this._tasks.some(xe=>xe.needsUpdate),void this._recordFrameTaskTimes(this._budget.now()-ve)}}while(this._schedule());this.updating=this._tasks.some(Te=>Te.needsUpdate),this._recordFrameTaskTimes(this._budget.now()-ve)}_startFrameTaskTimes(){for(const ve of Object.keys(te))this._frameTaskTimes.set(te[ve],0)}_recordFrameTaskTimes(ve){this._frameTaskTimes.forEach((Te,Ze)=>this.performanceInfo.tasks.get(Ze).record(Te)),this.performanceInfo.total.record(ve)}get test(){return this._test}};(0,M._)([(0,$.Cb)()],Ee.prototype,"updating",void 0),(0,M._)([(0,$.Cb)()],Ee.prototype,"nowFunc",void 0),Ee=(0,M._)([(0,X.j)("esri.views.support.Scheduler")],Ee),Pe.Scheduler=Ee;let Ge=class extends D.Z{constructor(ve,Te,Ze,tt){super({}),this._scheduler=ve,this.name=Te,this._basePriority=tt,this.runtime=0,this._queue=new L,this._handles=new Q.Z,this.schedulePriority=this._basePriority,this.task=(0,N.pC)(Ze)?Ze:this._queue,this._handles.add((0,I.gx)(()=>this.task.running,()=>ve.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(le),this._scheduler.removeTask(this),this.schedule=Ce.schedule,this.reschedule=Ce.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(ve){this.name=ve;const Te=oe(ve);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=Te),this._basePriority=Te}get priority(){return this.name}set priority(ve){this.setPriority(ve)}get needsUpdate(){return this.updating||this.task.running}schedule(ve,Te,Ze){return this._queue.push(ve,Te,Ze)}reschedule(ve,Te,Ze){return this._queue.unshift(ve,Te,Ze)}processQueue(ve){this._queue.runTask(ve)}};(0,M._)([(0,$.Cb)({constructOnly:!0})],Ge.prototype,"task",void 0),(0,M._)([(0,$.Cb)({readOnly:!0})],Ge.prototype,"updating",null),Ge=(0,M._)([(0,X.j)("esri.views.support.SchedulerTask")],Ge);class Se{constructor(Te){this.now=Te,this._begin=0,this._budget=0,this._state=me.IDLE,this._didWork=!1,this._enabled=!0}run(Te){return!this.done&&(!0===Te()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(Te){this._enabled=Te}reset(Te,Ze){this._begin=this.now(),this._budget=Te,this._state=Ze,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}Pe.Budget=Se})(ue||(ue={})),function(Pe){Pe.SCHEDULED="s",Pe.READY="r",Pe.WAITING="w",Pe.IDLE="i"}(ye||(ye={}));const le=(()=>{const Pe=new ue.Budget(()=>performance.now());return Pe.enabled=!1,Pe})(),Ce=new class se{remove(){}processQueue(){}schedule(Ee,Ge,Se){try{if((0,F.Hc)(Ge)){const ve=(0,F.zE)();return Se?Promise.resolve(Se(ve)):Promise.reject(ve)}return(0,F.gx)(Ee(le))}catch(ve){return Promise.reject(ve)}}reschedule(Ee,Ge,Se){return this.schedule(Ee,Ge,Se)}},ge=Number.MAX_SAFE_INTEGER},70257:(qe,Me,E)=>{"use strict";E.d(Me,{t:()=>I});var M=E(17626),D=E(14517),Q=E(72392),B=E(62208),N=E(32917),ne=E(50618),k=E(77712),F=E(76898);let I=class extends D.Z{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new Q.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(Y,Z,re={}){return this._installWatch(Y,Z,re,N.YP)}addWhen(Y,Z,re={}){return this._installWatch(Y,Z,re,N.gx)}addOnCollectionChange(Y,Z,{initial:re=!1}={}){const X=++this.handleId;return this.handles.add([(0,N.on)(Y,"after-changes",this._createSyncUpdatingCallback(),N.Z_),(0,N.on)(Y,"change",Z,{onListenerAdd:re?L=>Z({added:L.toArray(),removed:[]}):void 0})],X),{remove:()=>this.handles.remove(X)}}addPromise(Y){if((0,B.Wi)(Y))return Y;const Z=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(Y)&&(0!==this.pendingPromises.size||this.handles.has(x)||this._set("updating",!1))}},Z),this.pendingPromises.add(Y),this._set("updating",!0);const re=()=>this.handles.remove(Z);return Y.then(re,re),Y}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(Y,Z,re={},X){const L=++this.handleId;re.sync||this._installSyncUpdatingWatch(Y,L);const T=X(Y,Z,re);return this.handles.add(T,L),{remove:()=>this.handles.remove(L)}}_installSyncUpdatingWatch(Y,Z){const re=this._createSyncUpdatingCallback(),X=(0,N.YP)(Y,re,{sync:!0,equals:()=>!1});return this.handles.add(X,Z),X}_createSyncUpdatingCallback(){return()=>{this.handles.remove(x),++this.scheduleHandleId;const Y=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,ne.Os)(()=>{Y===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(x))}),x)}}};(0,M._)([(0,k.Cb)({readOnly:!0})],I.prototype,"updating",void 0),I=(0,M._)([(0,F.j)("esri.views.support.WatchUpdatingTracking")],I);const x=-42;var $,Y;(Y=$||($={}))[Y.NONE=0]="NONE",Y[Y.SYNC=1]="SYNC",Y[Y.INIT=2]="INIT"},18605:(qe,Me,E)=>{"use strict";E.d(Me,{r7:()=>Y,gH:()=>F,LI:()=>x,RZ:()=>$,TT:()=>re,Jl:()=>Z}),E(8314);var D=E(21286);function F(ue,ye,le,se){se.premultipliedAlpha&&function de(ue){const ye=ue.data,le=ye.length;for(let se=0;se<le;se+=4){const Ce=ye[se+3];if(Ce>0){const ge=Ce/255;ye[se+0]=ye[se+0]/ge,ye[se+1]=ye[se+1]/ge,ye[se+2]=ye[se+2]/ge}}}(ue),le.width=ue.width,le.height=ue.height;const Ce=le.getContext("2d");Ce.putImageData(ue,0,0),se.flipY&&function me(ue){ue.save(),ue.globalCompositeOperation="copy",ue.scale(1,-1),ue.translate(0,-ue.canvas.height),ue.drawImage(ue.canvas,0,0),ue.restore()}(Ce);const ge=Ce.getImageData(0,0,ue.width,ue.height),Pe=function I(ue,ye){return ue.toDataURL(ie[ye.format],ye.quality/100)}(le,ye);return le.width=0,le.height=0,{dataUrl:Pe,data:ge}}function x(ue,ye){const le=function oe(ue){switch(ue){case"png":case"jpg":case"jpeg":return ue;default:return ce}}(ue);return{format:le,quality:(0,D.uZ)(null!=ye?ye:ae[le],0,100)}}function $(ue,ye){return ye/Math.max(ue[0],ue[1])}function Y(ue,ye,le){if(!ue||!ye)throw new Error("Cannot construct image data without dimensions");if(P)try{return new ImageData(ue,ye)}catch(se){P=!1}return L(ue,ye,le)}function Z(ue,ye,le,se){if(!ye||!le)throw new Error("Cannot construct image data without dimensions");if(P)try{return new ImageData(ue,ye,le)}catch(ge){P=!1}const Ce=L(ye,le,se);return Ce.data.set(ue,0),Ce}function re(ue,ye,le,se=0,Ce=0,ge=ue.width-se,Pe=ue.height-Ce,Ee=!1){const{data:Ge}=ue,{width:Se,height:ve,data:Te}=ye,Ze=ge/Se,tt=Pe/ve,xe=Math.ceil(Ze/2),Ve=Math.ceil(tt/2),He=ue.width;for(let ee=0;ee<ve;ee++)for(let _e=0;_e<Se;_e++){const je=4*(_e+(Ee?ve-ee-1:ee)*Se);let Ye=0,pt=0,it=0,at=0,ot=0,et=0;const _t=(ee+.5)*tt;for(let Ke=Math.floor(ee*tt);Ke<(ee+1)*tt;Ke++){const ct=Math.abs(_t-(Ke+.5))/Ve,Et=(_e+.5)*Ze,Mt=ct*ct;for(let Gt=Math.floor(_e*Ze);Gt<(_e+1)*Ze;Gt++){const $t=Math.abs(Et-(Gt+.5))/xe,Jt=Math.sqrt(Mt+$t*$t);if(Jt>=1)continue;let cn=2*Jt*Jt*Jt-3*Jt*Jt+1;const xn=4*(se+Gt+(Ce+Ke)*He);et+=cn*Ge[xn+3],pt+=cn,!le&&Ge[xn+3]<255&&(cn=cn*Ge[xn+3]/255),it+=cn*Ge[xn],at+=cn*Ge[xn+1],ot+=cn*Ge[xn+2],Ye+=cn}}Te[je]=it/Ye,Te[je+1]=at/Ye,Te[je+2]=ot/Ye,Te[je+3]=et/pt}return ye}function L(ue,ye,le){return le||(le=function j(){return T||(T=document.createElement("canvas"),T.width=1,T.height=1),T}()),le.getContext("2d").createImageData(ue,ye)}let T=null,P=!0;const ie={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},ce="png",ae={png:100,jpg:98,jpeg:98}},31637:(qe,Me,E)=>{"use strict";E.d(Me,{Y:()=>ne,hc:()=>N});var M=E(62208),D=E(57596);let Q,B;function N(re){switch(re){case D.zO.WEBGL1:return ne();case D.zO.WEBGL2:return function k(){return B||(B=function Z(){const re=new x,X=$(D.zO.WEBGL2,re);return(0,M.Wi)(X),re}()),B}()}}function ne(){return Q||(Q=function Y(){const re=new I,X=$(D.zO.WEBGL1,re);return(0,M.Wi)(X)||(re.supportsElementIndexUint=null!==X.getExtension("OES_element_index_uint"),re.supportsStandardDerivatives=null!==X.getExtension("OES_standard_derivatives"),re.supportsInstancedArrays=null!==X.getExtension("ANGLE_instanced_arrays"),re.supportsTextureFloat=null!==X.getExtension("OES_texture_float")),re}()),Q}class F{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1}}class I extends F{constructor(){super(...arguments),this.type=D.zO.WEBGL1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1}}class x extends F{constructor(){super(...arguments),this.type=D.zO.WEBGL2}}function $(re,X){if(re===D.zO.WEBGL1&&void 0===typeof WebGLRenderingContext||re===D.zO.WEBGL2&&void 0===typeof WebGL2RenderingContext)return null;const L=document.createElement("canvas");if(!L)return null;let T=(0,D.kr)(L,re,{failIfMajorPerformanceCaveat:!0});if((0,M.Wi)(T)&&(T=(0,D.kr)(L,re),(0,M.pC)(T)&&(X.majorPerformanceCaveat=!0)),(0,M.Wi)(T))return T;if(re===D.zO.WEBGL1){const j=T.getParameter(T.VERSION),K=null==j?void 0:j.match(/^WebGL\s+([\d.]*)/);if(K){const W=parseFloat(K[1]);X.available=W>=.94}}else X.available=!0;X.maxTextureSize=T.getParameter(T.MAX_TEXTURE_SIZE),X.supportsVertexShaderSamplers=T.getParameter(T.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const P=T.getShaderPrecisionFormat(T.FRAGMENT_SHADER,T.HIGH_FLOAT);return P&&(X.supportsHighPrecisionFragment=P.precision>0),T}},57596:(qe,Me,E)=>{"use strict";E.d(Me,{zO:()=>Q,kr:()=>k,sj:()=>B,Sh:()=>N});var Q,$,M=E(8314),D=E(62208);function B($,Y,Z={}){const re=N($);for(;re.length>1;){const X=k(Y,re.shift(),Z);if((0,D.pC)(X))return X}return function ne($,Y,Z={}){if(!window.WebGLRenderingContext)return F($,I),null;const re=k($,Y,Z);return(0,D.Wi)(re)&&F($,x),re}(Y,re.shift(),Z)}function N($){const Y=(0,M.Z)("esri-force-webgl");if(Y===Q.WEBGL1||Y===Q.WEBGL2)return[Y];switch($){case"2d":return[Q.WEBGL1];case"3d":return[Q.WEBGL2,Q.WEBGL1]}}function k($,Y,Z={}){const re=Y===Q.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let X=null;for(const L of re){try{X=$.getContext(L,Z)}catch(T){}if(X)break}return X}function F($,Y){const Z=$.parentNode;Z&&(Z.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+Y+"</div></div></td></tr></table>")}($=Q||(Q={}))[$.WEBGL1=1]="WEBGL1",$[$.WEBGL2=2]="WEBGL2";const I='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',x='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},92236:(qe,Me,E)=>{"use strict";E.d(Me,{a:()=>D,b:()=>Q});var M=E(90912);function D(B){const N=(0,M.vU)(100*(1-B));return Math.max(0,Math.min(N,100))}function Q(B){return Math.max(0,Math.min(1-B/100,1))}},32584:(qe,Me,E)=>{"use strict";E.d(Me,{Nw:()=>L});var M=E(26584),D=E(58817),Q=E(62208),B=E(94113),N=E(23025);const ne=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),k=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","route","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function $(T){return!("feature"!==T.type||T.url||!T.source||"memory"!==T.source.type)}function re(T,P){"maxScale"in T&&(P.maxScale=(0,N.k)(T.maxScale)),"minScale"in T&&(P.minScale=(0,N.k)(T.minScale))}function L(T,P,j){if(!("write"in T)||!T.write)return j&&j.messages&&j.messages.push(new M.Z("layer:unsupported",`Layers (${T.title}, ${T.id}) of type '${T.declaredClass}' cannot be persisted`,{layer:T})),null;if(function Y(T,P){if(P.restrictedWebMapWriting){const j=function x(T){return"basemap"===T.layerContainerType?ne:"operational-layers"===T.layerContainerType?k:null}(P);return!(0,Q.pC)(j)||j.has(T.type)&&!$(T)}return!0}(T,j)){const K={};return T.write(K,j)?K:null}return(0,Q.pC)(P)&&function X(T,P){if(function Z(T,P){if($(T)){const j=(0,B.hS)("featureCollection.layers",P),K=j&&j[0]&&j[0].layerDefinition;K&&re(T,K)}else"stream"===T.type?re(T,P.layerDefinition=P.layerDefinition||{}):"group"!==T.type&&re(T,P)}(T,P),"blendMode"in T&&(P.blendMode=T.blendMode,"normal"===P.blendMode&&delete P.blendMode),P.opacity=(0,N.k)(T.opacity),P.title=T.title||"Layer",P.visibility=T.visible,"legendEnabled"in T&&"wmts"!==T.type)if($(T)){const j=P.featureCollection;j&&(j.showLegend=T.legendEnabled)}else P.showLegend=T.legendEnabled}(T,P=(0,D.d9)(P)),P}},6785:(qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>He});var M=E(15861),D=E(17626),B=(E(52515),E(55538)),N=E(40764),ne=E(61885),k=E(72392),I=(E(8314),E(58817)),x=E(63290),$=E(62208),Y=E(60330),Z=E(10699),re=E(32917),X=E(35948),L=E(77712),T=E(66656),P=E(76898),j=E(36082),K=E(819),W=E(39605);E(62996);const J={handleInterceptedEvent:(ee,_e,je,Ye)=>(ee.scheduleRender(),_e.properties[`on${Ye.type}`].apply(_e.properties.bind||je,[Ye]))},he={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(ee,_e,je)=>{ee.style[_e]=je}},ie=(ee,_e,je=!1)=>{let Ye=ee;return _e.forEach((pt,it)=>{var at;const ot=null!=(at=Ye)&&at.children?((ee,_e)=>ee.find(et=>et.domNode===pt))(Ye.children):void 0;je&&!ot&&it!==_e.length-1||(Ye=ot)}),Ye};var ce=E(76210),ae=E(54346),pe=E(21726);let ue;ue="components/assets";var le=E(81431),se=E(66950),Ce=E(38570),ge=E(38745),Pe=E(56683),Ee=E(41840);const Ge="esri.widgets.Widget",Se=x.Z.getLogger(Ge);let ve=0;function Ze(ee,_e){for(const je in _e)null!=ee[je]&&("object"==typeof ee[je]&&"object"==typeof _e[je]?Ze(ee[je],_e[je]):ee[je]=_e[je]);return ee}const tt=(ee=>{let _e;const je=Pt(Pt({},J),ee),Ye=(ee=>Pt(Pt({},he),ee))(je),pt=Ye.performanceLogger;let it,at=!0,ot=!1;const et=[],_t=[],Ke=(Et,Mt,Gt)=>{let $t;Ye.eventHandlerInterceptor=(cn,xn,pn,An)=>function(Pn){let Sn;pt("domEvent",Pn);const ut=((ee,_e)=>{const je=[];for(;ee&&ee!==_e;)je.push(ee),ee=ee.parentNode;return je})(Pn.currentTarget,$t.domNode),bt=ut.some(Wt=>{var Kt;return customElements.get(null==Wt||null==(Kt=Wt.tagName)?void 0:Kt.toLowerCase())});if(Pn.eventPhase!==Event.CAPTURING_PHASE&&bt){const Wt=Pn.composedPath(),Kt=Wt.slice(Wt.indexOf(Pn.currentTarget),Wt.indexOf($t.domNode)).filter(At=>At.getRootNode()===At.ownerDocument).reverse();Sn=ie($t.getLastRender(),Kt,!0)}else ut.reverse(),Sn=ie($t.getLastRender(),ut);let xt;return Sn&&(xt=je.handleInterceptedEvent(_e,Sn,this,Pn)),pt("domEventProcessed",Pn),xt},null==je.postProcessProjectionOptions||je.postProcessProjectionOptions(Ye);const Jt=Gt();$t=Et(Mt,Jt,Ye),et.push($t),_t.push(Gt),je.afterFirstVNodeRendered&&je.afterFirstVNodeRendered($t,Jt)};let ct=()=>{if(it=void 0,at){at=!1,pt("renderStart",void 0);for(let Et=0;Et<et.length;Et++){const Mt=_t[Et]();pt("rendered",void 0),et[Et].update(Mt),pt("patched",void 0)}pt("renderDone",void 0),at=!0}};return je.modifyDoRenderImplementation&&(ct=je.modifyDoRenderImplementation(ct,et,_t)),_e={renderNow:ct,scheduleRender:()=>{it||ot||(it=requestAnimationFrame(ct))},stop:()=>{it&&(cancelAnimationFrame(it),it=void 0),ot=!0},resume:()=>{ot=!1,at=!0,_e.scheduleRender()},append:(Et,Mt)=>{Ke(W.v.append,Et,Mt)},insertBefore:(Et,Mt)=>{Ke(W.v.insertBefore,Et,Mt)},merge:(Et,Mt)=>{Ke(W.v.merge,Et,Mt)},replace:(Et,Mt)=>{Ke(W.v.replace,Et,Mt)},detach:Et=>{for(let Mt=0;Mt<_t.length;Mt++)if(_t[Mt]===Et)return _t.splice(Mt,1),et.splice(Mt,1)[0];throw new Error("renderFunction was not found")}},_e})({postProcessProjectionOptions(ee){const _e=ee.eventHandlerInterceptor,je=/capture$/i;ee.eventHandlerInterceptor=(Ye,pt,it,at)=>{const ot=_e(Ye,pt,it,at),et=je.test(Ye);if(!((Ye=Ye.replace(je,"")).toLowerCase()in it)||et){const _t=Ye[2].toLowerCase()+Ye.slice(3),Ke=Mt=>ot.call(it,Mt);it.addEventListener(_t,Ke,et);const ct=()=>it.removeEventListener(_t,Ke,et),Et=at.afterRemoved;at.afterRemoved=Mt=>{null==Et||Et(Mt),ct()}}return ot}},handleInterceptedEvent(ee,_e,je,Ye){const{eventPhase:pt,type:it}=Ye,at=pt===Event.CAPTURING_PHASE;let ot=`on${it}${at?"capture":""}`;const et=_e.properties;(ot in et||(ot=`on${it[0].toUpperCase()}${it.slice(1)}${at?"Capture":""}`,ot in et))&&((0,se.Uy)(),ee.scheduleRender(),et[ot].call(et.bind||je,Ye))}});let xe=!1,Ve=class extends((0,Y.v)(ne.Z.EventedAccessor)){constructor(ee,_e){var je;super(ee,_e),je=this,this._attached=!1,this._internalHandles=new k.Z,this._projector=tt,this._readyForTrueRender=!1,this.domNode=null,this.iconClass="esri-icon-checkbox-unchecked",this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=(0,Z.Ds)((0,M.Z)(function*(){if(je._messageBundleProps&&je._messageBundleProps.length){const et=yield(0,Z.as)(je._messageBundleProps.map(function(){var _t=(0,M.Z)(function*({bundlePath:Ke,propertyName:ct}){let Et=yield(0,Ee.ME)(Ke);je.uiStrings&&Object.keys(je.uiStrings)&&(Et=Ze((0,I.d9)(Et),je.uiStrings)),je[ct]=Et});return function(Ke){return _t.apply(this,arguments)}}()));for(const _t of et)_t.error&&Se.error("widget-intl:locale-error",je.declaredClass,_t.error)}yield je.loadLocale()})),function ye(){(0,ce.YY)((0,pe.hF)((0,ae.V)("components/assets")))}();const pt=(0,ge.Yo)()||"light";["light","dark"].includes(pt)||(0,B.x9)(Se,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const it="esri-widget-uid-"+(0,X.D)(),at=this.render.bind(this);this._trackingTarget=new K.M(()=>this.scheduleRender());const ot=()=>{var et;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:it,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const _t=at();let{properties:Ke}=_t;Ke||(_t.properties=Ke={});let{key:ct,styles:Et}=Ke;ct||(Ke.key=it),Et||(Ke.styles=Et={}),Et.display||(Et.display="");let Mt=0;return null==(et=_t.children)||et.forEach(Gt=>{if((0,le.ZJ)(Gt.vnodeSelector))return;let{properties:$t}=Gt;$t||(Gt.properties=$t={}),$t.key||($t.key=`${this.id}--${Mt++}`)}),(0,le.dh)(this,_t)};this.render=()=>{if(xe)return ot();let et=(0,se.O9)(this);if(et)return et;this._trackingTarget.clear(),xe=!0;try{et=(0,j.LJ)(this._trackingTarget,ot)}finally{xe=!1}return(0,se.KF)(this,et),et},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()}))}normalizeCtorArgs(ee,_e){const je=Pt({},ee);return _e&&(je.container=_e),je}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(Z.H9)}loadDependencies(){return(0,M.Z)(function*(){})()}loadLocale(){return(0,M.Z)(function*(){})()}destroy(){this.destroyed||(this._trackingTarget=(0,$.SC)(this._trackingTarget),this.viewModel=(0,$.SC)(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,se.w7)(this))}set container(ee){this._get("container")||this._set("container",ee)}castContainer(ee){return(0,N.L7)(ee)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+ve++}set id(ee){ee&&this._set("id",ee)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,se.w7)(this),this._projector.scheduleRender())}classes(...ee){return Ce.Sh.apply(this,ee)}own(ee){arguments.length>1&&(ee=Array.prototype.slice.call(arguments)),this._internalHandles.add(ee)}renderNow(){(0,se.w7)(this),this._projector.renderNow()}_postInitialize(){var _e,ee=this;if(this.destroyed)return;this.scheduleRender(),null!=(_e=this._delegatedEventNames)&&_e.length&&this._internalHandles.add((0,re.YP)(()=>this.viewModel,(Ye,pt)=>{pt&&this._internalHandles.remove("delegated-events"),Ye&&this._internalHandles.add(this._delegatedEventNames.map(it=>Ye.on(it,at=>{this.emit(it,at)})),"delegated-events")},re.nn)),this.postInitialize();const je=function(){var Ye=(0,M.Z)(function*(){yield ee._loadLocale().catch(Z.H9),ee.scheduleRender()});return function(){return Ye.apply(this,arguments)}}();this._internalHandles.add([(0,Pe.qe)(je),(0,re.YP)(()=>this.uiStrings,je),(0,re.gx)(()=>this.container,Ye=>{this.destroyed||this._attach(Ye)},{initial:!0,once:!0})])}_attach(ee){ee&&(this._projector.merge(ee,this.render),this._attached=!0)}_detach(ee){ee&&this._attached&&(this._projector.detach(this.render),ee.parentNode&&ee.parentNode.removeChild(ee),this._attached=!1)}};Ve[le.$X]=!0,(0,D._)([(0,L.Cb)()],Ve.prototype,"_readyForTrueRender",void 0),(0,D._)([(0,L.Cb)({value:null})],Ve.prototype,"container",null),(0,D._)([(0,T.p)("container")],Ve.prototype,"castContainer",null),(0,D._)([(0,L.Cb)({aliasOf:"container"})],Ve.prototype,"domNode",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"iconClass",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"id",null),(0,D._)([(0,L.Cb)()],Ve.prototype,"label",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"renderable",null),(0,D._)([(0,L.Cb)()],Ve.prototype,"uiStrings",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"viewModel",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"visible",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"key",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"children",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"afterCreate",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"afterUpdate",void 0),(0,D._)([(0,L.Cb)()],Ve.prototype,"afterRemoved",void 0),Ve=(0,D._)([(0,P.j)(Ge)],Ve);const He=Ve},24940:(qe,Me,E)=>{"use strict";E.d(Me,{h:()=>D});var M=E(38570);function D(){return function(N,ne){if(!N[ne])throw new TypeError(`Cannot auto bind undefined function '${ne}'`);return{value:B(N[ne])}}}function B(N){return function(ne,...k){!function Q(N){const{type:ne}=N;return N instanceof KeyboardEvent||"keyup"===ne||"keydown"===ne||"keypress"===ne}(ne)?N.call(this,ne,...k):(0,M.pf)(ne.key)&&(ne.preventDefault(),ne.stopPropagation(),ne.target.click())}}},25552:(qe,Me,E)=>{"use strict";function M(D){return function(Q,B){Q.hasOwnProperty("_messageBundleProps")||(Q._messageBundleProps=Q._messageBundleProps?Q._messageBundleProps.slice():[]),Q._messageBundleProps.push({bundlePath:D,propertyName:B})}}E.d(Me,{H:()=>M})},94450:(qe,Me,E)=>{"use strict";E.d(Me,{u:()=>N});var M=E(81431),D=function(k){return{vnodeSelector:"",properties:void 0,children:void 0,text:k.toString(),domNode:null}},Q=function(k,F){for(var I=0,x=k.length;I<x;I++){var $=k[I];Array.isArray($)?Q($,F):null!=$&&!1!==$&&($.hasOwnProperty("vnodeSelector")||($=D($)),F.push($))}};function N(k,F,...I){return"function"!=typeof k||(0,M.ZJ)(k)?function(k,F){for(var I=[],x=2;x<arguments.length;x++)I[x-2]=arguments[x];if(1===I.length&&"string"==typeof I[0])return{vnodeSelector:k,properties:F||void 0,children:void 0,text:I[0],domNode:null};var $=[];return Q(I,$),{vnodeSelector:k,properties:F||void 0,children:$,text:void 0,domNode:null}}(k,F,...I):k(F,...I)}},81431:(qe,Me,E)=>{"use strict";E.d(Me,{$X:()=>D,ZJ:()=>x,dh:()=>ne});var M=E(54024);const D=Symbol("widget"),Q=[],B={},N=new WeakMap;function ne($,Y){let Z=Y.children;if(Z&&Z.length)for(let X=0;X<Z.length;++X)Z[X]=ne($,Z[X]);else Z=Q;const re=Y.vnodeSelector;if(x(re)){const X=Y.properties||B,L=X.key||re;return{vnodeSelector:"div",properties:{key:L,afterCreate:k,afterUpdate:F,afterRemoved:I,parentWidget:$,widgetConstructor:re,widgetProperties:$n(Pt({},X),{key:L,children:Z})},children:void 0,text:void 0,domNode:null}}return Y}function k($,Y,Z,{parentWidget:re,widgetConstructor:X,widgetProperties:L}){const T=new X(L);T.container=$,N.set($,T),null==T.afterCreate||T.afterCreate(T,$),re._internalHandles.add((0,M.kB)(()=>I($)))}function F($,Y,Z,{widgetProperties:re}){const X=N.get($);X&&(X.set(re),null==X.afterUpdate||X.afterUpdate(X,$))}function I($){const Y=N.get($);Y&&(Y.destroy(),N.delete($))}function x($){return"function"==typeof $&&$[D]}},66950:(qe,Me,E)=>{"use strict";E.d(Me,{Uy:()=>D,w7:()=>N,O9:()=>Q,KF:()=>B});const M=new Map;function D(){M.clear()}function Q(ne){return M.get(ne)}function B(ne,k){M.set(ne,k)}function N(ne){M.delete(ne)}},40669:(qe,Me,E)=>{"use strict";function F(x){return x&&"function"==typeof x.render}function I(x){return x&&"function"==typeof x.postMixInProperties&&"function"==typeof x.buildRendering&&"function"==typeof x.postCreate&&"function"==typeof x.startup}E.d(Me,{o:()=>I,Qd:()=>F}),E(24940),E(55538),E(8314),E(63290),E(94450),E(38570)},38745:(qe,Me,E)=>{"use strict";function M(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function D(){return M().startsWith("dark")}function Q(){return"calcite-theme-"+(D()?"dark":"light")}E.d(Me,{rk:()=>Q,Yo:()=>M,$o:()=>D})},38570:(qe,Me,E)=>{"use strict";E.d(Me,{Sh:()=>ys,vU:()=>us,pV:()=>mi,pf:()=>ds,dZ:()=>Jr,w3:()=>Pr,Yo:()=>Xs});var N=Object.prototype,ne=Function.prototype.toString,k=N.hasOwnProperty,F=ne.call(Object),I=N.toString,x=function Q(Le,Ft){return function(Lt){return Le(Ft(Lt))}}(Object.getPrototypeOf,Object),re={exports:{}},X={},L={exports:{}},T={};function P(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var W=/javascript\s*\:/gim;T.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},T.getDefaultWhiteList=P,T.onAttr=function j(Le,Ft,Lt){},T.onIgnoreAttr=function K(Le,Ft,Lt){},T.safeAttrValue=function te(Le,Ft){return W.test(Ft)?"":Ft};var he_trim=function(Le){return String.prototype.trim?Le.trim():Le.replace(/(^\s*)|(\s*$)/g,"")},he_trimRight=function(Le){return String.prototype.trimRight?Le.trimRight():Le.replace(/(\s*$)/g,"")},de=T;function V(Le){return null==Le}function ae(Le){(Le=function ce(Le){var Ft={};for(var Lt in Le)Ft[Lt]=Le[Lt];return Ft}(Le||{})).whiteList=Le.whiteList||de.whiteList,Le.onAttr=Le.onAttr||de.onAttr,Le.onIgnoreAttr=Le.onIgnoreAttr||de.onIgnoreAttr,Le.safeAttrValue=Le.safeAttrValue||de.safeAttrValue,this.options=Le}ae.prototype.process=function(Le){if(!(Le=(Le=Le||"").toString()))return"";var Lt=this.options,rn=Lt.whiteList,Dn=Lt.onAttr,jn=Lt.onIgnoreAttr,Rn=Lt.safeAttrValue;return function oe(Le,Ft){";"!==(Le=he_trimRight(Le))[Le.length-1]&&(Le+=";");var Lt=Le.length,rn=!1,Dn=0,jn=0,Rn="";function ln(){if(!rn){var _n=he_trim(Le.slice(Dn,jn)),Nt=_n.indexOf(":");if(-1!==Nt){var nt=he_trim(_n.slice(0,Nt)),Ot=he_trim(_n.slice(Nt+1));if(nt){var ft=Ft(Dn,Rn.length,nt,Ot,_n);ft&&(Rn+=ft+"; ")}}}Dn=jn+1}for(;jn<Lt;jn++){var Jn=Le[jn];if("/"===Jn&&"*"===Le[jn+1]){var or=Le.indexOf("*/",jn+2);if(-1===or)break;Dn=(jn=or+1)+1,rn=!1}else"("===Jn?rn=!0:")"===Jn?rn=!1:";"===Jn?rn||ln():"\n"===Jn&&ln()}return he_trim(Rn)}(Le,function(Jn,or,_n,Nt,nt){var Ot=rn[_n],ft=!1;if(!0===Ot?ft=Ot:"function"==typeof Ot?ft=Ot(Nt):Ot instanceof RegExp&&(ft=Ot.test(Nt)),!0!==ft&&(ft=!1),Nt=Rn(_n,Nt)){var zt,Rt={position:or,sourcePosition:Jn,source:nt,isWhite:ft};if(ft)return V(zt=Dn(_n,Nt,Rt))?_n+":"+Nt:zt;if(!V(zt=jn(_n,Nt,Rt)))return zt}})};var pe=ae;!function(Le,Ft){var Lt=T,rn=pe;for(var jn in(Ft=Le.exports=function Dn(Rn,ln){return new rn(ln).process(Rn)}).FilterCSS=rn,Lt)Ft[jn]=Lt[jn]}(L,L.exports);var ue={indexOf:function(Le,Ft){var Lt,rn;if(Array.prototype.indexOf)return Le.indexOf(Ft);for(Lt=0,rn=Le.length;Lt<rn;Lt++)if(Le[Lt]===Ft)return Lt;return-1},forEach:function(Le,Ft,Lt){var rn,Dn;if(Array.prototype.forEach)return Le.forEach(Ft,Lt);for(rn=0,Dn=Le.length;rn<Dn;rn++)Ft.call(Lt,Le[rn],rn,Le)},trim:function(Le){return String.prototype.trim?Le.trim():Le.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(Le){var Lt=/\s|\n|\t/.exec(Le);return Lt?Lt.index:-1}},le=L.exports.getDefaultWhiteList,se=ue;var ge=new(0,L.exports.FilterCSS);function ve(Le){return Le.replace(Ze,"&lt;").replace(tt,"&gt;")}var Ze=/</g,tt=/>/g,xe=/"/g,Ve=/&quot;/g,He=/&#([a-zA-Z0-9]*);?/gim,ee=/&colon;?/gim,_e=/&newline;?/gim,je=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,Ye=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,pt=/u\s*r\s*l\s*\(.*/gi;function it(Le){return Le.replace(xe,"&quot;")}function at(Le){return Le.replace(Ve,'"')}function ot(Le){return Le.replace(He,function(Lt,rn){return String.fromCharCode("x"===rn[0]||"X"===rn[0]?parseInt(rn.substr(1),16):parseInt(rn,10))})}function et(Le){return Le.replace(ee,":").replace(_e," ")}function _t(Le){for(var Ft="",Lt=0,rn=Le.length;Lt<rn;Lt++)Ft+=Le.charCodeAt(Lt)<32?" ":Le.charAt(Lt);return se.trim(Ft)}function Ke(Le){return _t(Le=et(Le=ot(Le=at(Le))))}function ct(Le){return ve(Le=it(Le))}X.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},X.getDefaultWhiteList=function Ce(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},X.onTag=function Pe(Le,Ft,Lt){},X.onIgnoreTag=function Ee(Le,Ft,Lt){},X.onTagAttr=function Ge(Le,Ft,Lt){},X.onIgnoreTagAttr=function Se(Le,Ft,Lt){},X.safeAttrValue=function Te(Le,Ft,Lt,rn){if(Lt=Ke(Lt),"href"===Ft||"src"===Ft){if("#"===(Lt=se.trim(Lt)))return"#";if("http://"!==Lt.substr(0,7)&&"https://"!==Lt.substr(0,8)&&"mailto:"!==Lt.substr(0,7)&&"tel:"!==Lt.substr(0,4)&&"data:image/"!==Lt.substr(0,11)&&"ftp://"!==Lt.substr(0,6)&&"./"!==Lt.substr(0,2)&&"../"!==Lt.substr(0,3)&&"#"!==Lt[0]&&"/"!==Lt[0])return""}else if("background"===Ft){if(je.lastIndex=0,je.test(Lt))return""}else if("style"===Ft){if(Ye.lastIndex=0,Ye.test(Lt)||(pt.lastIndex=0,pt.test(Lt)&&(je.lastIndex=0,je.test(Lt))))return"";!1!==rn&&(Lt=(rn=rn||ge).process(Lt))}return ct(Lt)},X.escapeHtml=ve,X.escapeQuote=it,X.unescapeQuote=at,X.escapeHtmlEntities=ot,X.escapeDangerHtml5Entities=et,X.clearNonPrintableCharacter=_t,X.friendlyAttrValue=Ke,X.escapeAttrValue=ct,X.onIgnoreTagStripAll=function Et(){return""},X.StripTagBody=function Mt(Le,Ft){"function"!=typeof Ft&&(Ft=function(){});var Lt=!Array.isArray(Le),Dn=[],jn=!1;return{onIgnoreTag:function(Rn,ln,Jn){if(function rn(Rn){return!!Lt||-1!==se.indexOf(Le,Rn)}(Rn)){if(Jn.isClosing){var or="[/removed]";return Dn.push([!1!==jn?jn:Jn.position,Jn.position+or.length]),jn=!1,or}return jn||(jn=Jn.position),"[removed]"}return Ft(Rn,ln,Jn)},remove:function(Rn){var ln="",Jn=0;return se.forEach(Dn,function(or){ln+=Rn.slice(Jn,or[0]),Jn=or[1]}),ln+=Rn.slice(Jn)}}},X.stripCommentTag=function Gt(Le){for(var Ft="",Lt=0;Lt<Le.length;){var rn=Le.indexOf("\x3c!--",Lt);if(-1===rn){Ft+=Le.slice(Lt);break}Ft+=Le.slice(Lt,rn);var Dn=Le.indexOf("--\x3e",rn);if(-1===Dn)break;Lt=Dn+3}return Ft},X.stripBlankChar=function $t(Le){var Ft=Le.split("");return(Ft=Ft.filter(function(Lt){var rn=Lt.charCodeAt(0);return!(127===rn||rn<=31&&10!==rn&&13!==rn)})).join("")},X.cssFilter=ge,X.getDefaultCSSWhiteList=le;var Jt={},cn=ue;function xn(Le){var Ft=cn.spaceIndex(Le);if(-1===Ft)var Lt=Le.slice(1,-1);else Lt=Le.slice(1,Ft+1);return"/"===(Lt=cn.trim(Lt).toLowerCase()).slice(0,1)&&(Lt=Lt.slice(1)),"/"===Lt.slice(-1)&&(Lt=Lt.slice(0,-1)),Lt}function pn(Le){return"</"===Le.slice(0,2)}var Pn=/[^a-zA-Z0-9_:\.\-]/gim;function ut(Le,Ft){for(;Ft<Le.length;Ft++){var Lt=Le[Ft];if(" "!==Lt)return"="===Lt?Ft:-1}}function bt(Le,Ft){for(;Ft>0;Ft--){var Lt=Le[Ft];if(" "!==Lt)return"="===Lt?Ft:-1}}function Wt(Le){return function xt(Le){return'"'===Le[0]&&'"'===Le[Le.length-1]||"'"===Le[0]&&"'"===Le[Le.length-1]}(Le)?Le.substr(1,Le.length-2):Le}Jt.parseTag=function An(Le,Ft,Lt){var rn="",Dn=0,jn=!1,Rn=!1,ln=0,Jn=Le.length,or="",_n="";e:for(ln=0;ln<Jn;ln++){var Nt=Le.charAt(ln);if(!1===jn){if("<"===Nt){jn=ln;continue}}else if(!1===Rn){if("<"===Nt){rn+=Lt(Le.slice(Dn,ln)),jn=ln,Dn=ln;continue}if(">"===Nt){rn+=Lt(Le.slice(Dn,jn)),or=xn(_n=Le.slice(jn,ln+1)),rn+=Ft(jn,rn.length,or,_n,pn(_n)),Dn=ln+1,jn=!1;continue}if('"'===Nt||"'"===Nt)for(var nt=1,Ot=Le.charAt(ln-nt);""===Ot.trim()||"="===Ot;){if("="===Ot){Rn=Nt;continue e}Ot=Le.charAt(ln-++nt)}}else if(Nt===Rn){Rn=!1;continue}}return Dn<Le.length&&(rn+=Lt(Le.substr(Dn))),rn},Jt.parseAttr=function Sn(Le,Ft){var Lt=0,rn=[],Dn=!1,jn=Le.length;function Rn(Nt,nt){if(!((Nt=(Nt=cn.trim(Nt)).replace(Pn,"").toLowerCase()).length<1)){var Ot=Ft(Nt,nt||"");Ot&&rn.push(Ot)}}for(var ln=0;ln<jn;ln++){var _n,Jn=Le.charAt(ln);if(!1!==Dn||"="!==Jn)if(!1===Dn||ln!==Lt||'"'!==Jn&&"'"!==Jn||"="!==Le.charAt(ln-1)){if(/\s|\n|\t/.test(Jn)){if(Le=Le.replace(/\s|\n|\t/g," "),!1===Dn){if(-1===(_n=ut(Le,ln))){Rn(cn.trim(Le.slice(Lt,ln))),Dn=!1,Lt=ln+1;continue}ln=_n-1;continue}if(-1===(_n=bt(Le,ln-1))){Rn(Dn,Wt(cn.trim(Le.slice(Lt,ln)))),Dn=!1,Lt=ln+1;continue}}}else{if(-1===(_n=Le.indexOf(Jn,ln+1)))break;Rn(Dn,cn.trim(Le.slice(Lt+1,_n))),Dn=!1,Lt=(ln=_n)+1}else Dn=Le.slice(Lt,ln),Lt=ln+1}return Lt<Le.length&&(!1===Dn?Rn(Le.slice(Lt)):Rn(Dn,Wt(cn.trim(Le.slice(Lt))))),cn.trim(rn.join(" "))};var Kt=L.exports.FilterCSS,At=X,Yt=Jt.parseTag,sn=Jt.parseAttr,Ct=ue;function mt(Le){return null==Le}function we(Le){(Le=function ht(Le){var Ft={};for(var Lt in Le)Ft[Lt]=Le[Lt];return Ft}(Le||{})).stripIgnoreTag&&(Le.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),Le.onIgnoreTag=At.onIgnoreTagStripAll),Le.whiteList=Le.whiteList||At.whiteList,Le.onTag=Le.onTag||At.onTag,Le.onTagAttr=Le.onTagAttr||At.onTagAttr,Le.onIgnoreTag=Le.onIgnoreTag||At.onIgnoreTag,Le.onIgnoreTagAttr=Le.onIgnoreTagAttr||At.onIgnoreTagAttr,Le.safeAttrValue=Le.safeAttrValue||At.safeAttrValue,Le.escapeHtml=Le.escapeHtml||At.escapeHtml,this.options=Le,!1===Le.css?this.cssFilter=!1:(Le.css=Le.css||{},this.cssFilter=new Kt(Le.css))}we.prototype.process=function(Le){if(!(Le=(Le=Le||"").toString()))return"";var Lt=this.options,rn=Lt.whiteList,Dn=Lt.onTag,jn=Lt.onIgnoreTag,Rn=Lt.onTagAttr,ln=Lt.onIgnoreTagAttr,Jn=Lt.safeAttrValue,or=Lt.escapeHtml,_n=this.cssFilter;Lt.stripBlankChar&&(Le=At.stripBlankChar(Le)),Lt.allowCommentTag||(Le=At.stripCommentTag(Le));var Nt=!1;Lt.stripIgnoreTagBody&&(Nt=At.StripTagBody(Lt.stripIgnoreTagBody,jn),jn=Nt.onIgnoreTag);var nt=Yt(Le,function(Ot,ft,Rt,zt,Cn){var On,vn={sourcePosition:Ot,position:ft,isClosing:Cn,isWhite:rn.hasOwnProperty(Rt)};if(!mt(On=Dn(Rt,zt,vn)))return On;if(vn.isWhite){if(vn.isClosing)return"</"+Rt+">";var kn=function ze(Le){var Ft=Ct.spaceIndex(Le);if(-1===Ft)return{html:"",closing:"/"===Le[Le.length-2]};var Lt="/"===(Le=Ct.trim(Le.slice(Ft+1,-1)))[Le.length-1];return Lt&&(Le=Ct.trim(Le.slice(0,-1))),{html:Le,closing:Lt}}(zt),sr=rn[Rt],Xn=sn(kn.html,function(Wn,Qr){var hs,vr=-1!==Ct.indexOf(sr,Wn);return mt(hs=Rn(Rt,Wn,Qr,vr))?vr?(Qr=Jn(Rt,Wn,Qr,_n))?Wn+'="'+Qr+'"':Wn:mt(hs=ln(Rt,Wn,Qr,vr))?void 0:hs:hs});return zt="<"+Rt,Xn&&(zt+=" "+Xn),kn.closing&&(zt+=" /"),zt+">"}return mt(On=jn(Rt,zt,vn))?or(zt):On},or);return Nt&&(nt=Nt.remove(nt)),nt};var Xe=we;!function(Le,Ft){var Lt=X,rn=Jt,Dn=Xe;function jn(Jn,or){return new Dn(or).process(Jn)}for(var Rn in(Ft=Le.exports=jn).filterXSS=jn,Ft.FilterXSS=Dn,Lt)Ft[Rn]=Lt[Rn];for(var Rn in rn)Ft[Rn]=rn[Rn];(function ln(){return"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope})()&&(self.filterXSS=Le.exports)}(re,re.exports);var nn,fn,Dt=function(){function Le(Ft,Lt){var Dn,rn=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(jn,Rn,ln,Jn){return"a"===jn&&"href"===Rn||("img"===jn||"source"===jn)&&"src"===Rn?rn.sanitizeUrl(ln):re.exports.safeAttrValue(jn,Rn,ln,Jn)}},Ft&&!Lt?Dn=Ft:Ft&&Lt?(Dn=Object.create(this.arcgisFilterOptions),Object.keys(Ft).forEach(function(jn){"whiteList"===jn?Dn.whiteList=rn._extendObjectOfArrays([rn.arcgisWhiteList,Ft.whiteList||{}]):Dn[jn]=Ft[jn]})):(Dn=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=Dn,this._xssFilter=new re.exports.FilterXSS(Dn)}return Le.prototype.sanitize=function(Ft,Lt){switch(void 0===Lt&&(Lt={}),typeof Ft){case"number":return isNaN(Ft)||!isFinite(Ft)?null:Ft;case"boolean":return Ft;case"string":return this._xssFilter.process(Ft);case"object":return this._iterateOverObject(Ft,Lt);default:return Lt.allowUndefined&&void 0===Ft?void 0:null}},Le.prototype.sanitizeUrl=function(Ft){var Lt=this._trim(Ft.substring(0,Ft.indexOf(":")));return"/"===Ft||"#"===Ft||"#"===Ft[0]||this.allowedProtocols.indexOf(Lt.toLowerCase())>-1?re.exports.escapeAttrValue(Ft):""},Le.prototype.sanitizeHTMLAttribute=function(Ft,Lt,rn,Dn){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(Ft,Lt,rn,Dn):re.exports.safeAttrValue(Ft,Lt,rn,Dn)},Le.prototype.validate=function(Ft,Lt){void 0===Lt&&(Lt={});var rn=this.sanitize(Ft,Lt);return{isValid:Ft===rn,sanitized:rn}},Le.prototype._extendObjectOfArrays=function(Ft){var Lt={};return Ft.forEach(function(rn){Object.keys(rn).forEach(function(Dn){Lt[Dn]=Array.isArray(rn[Dn])&&Array.isArray(Lt[Dn])?Lt[Dn].concat(rn[Dn]):rn[Dn]})}),Lt},Le.prototype._iterateOverObject=function(Ft,Lt){var rn=this;void 0===Lt&&(Lt={});try{var Dn=!1,jn=void 0;if(Array.isArray(Ft))jn=Ft.reduce(function(ln,Jn){var or=rn.validate(Jn,Lt);return or.isValid?ln.concat([Jn]):(Dn=!0,ln.concat([or.sanitized]))},[]);else{if(!function Y(Le){if(!function $(Le){return!!Le&&"object"==typeof Le}(Le)||"[object Object]"!=I.call(Le)||function D(Le){var Ft=!1;if(null!=Le&&"function"!=typeof Le.toString)try{Ft=!!(Le+"")}catch(Lt){}return Ft}(Le))return!1;var Ft=x(Le);if(null===Ft)return!0;var Lt=k.call(Ft,"constructor")&&Ft.constructor;return"function"==typeof Lt&&Lt instanceof Lt&&ne.call(Lt)==F}(Ft))return Lt.allowUndefined&&void 0===Ft?void 0:null;jn=Object.keys(Ft).reduce(function(ln,Jn){var or=Ft[Jn],_n=rn.validate(or,Lt);return _n.isValid?ln[Jn]=or:(Dn=!0,ln[Jn]=_n.sanitized),ln},{})}return Dn?jn:Ft}catch(ln){return null}},Le.prototype._trim=function(Ft){return String.prototype.trim?Ft.trim():Ft.replace(/(^\s*)|(\s*$)/g,"")},Le}(),kt=E(35575),Vt=(E(54024),E(8314),E(63290)),Zt=E(66950),pr=function(Le){nn||function(Le){if("WebkitTransition"in Le.style)nn="webkitTransitionEnd",fn="webkitAnimationEnd";else{if(!("transition"in Le.style))throw new Error("Your browser is not supported!");nn="transitionend",fn="animationend"}}(Le)},Or=function(Le,Ft){return void 0===Ft&&(Ft=Le+"-active"),function(Lt){pr(Lt);var rn=!1,Dn=function(jn){rn||(rn=!0,Lt.removeEventListener(nn,Dn),Lt.removeEventListener(fn,Dn),Lt.classList.remove(Le),Lt.classList.remove(Ft))};Lt.classList.add(Le),Lt.addEventListener(nn,Dn),Lt.addEventListener(fn,Dn),requestAnimationFrame(function(){Lt.classList.add(Ft)})}},ar=function(Le,Ft){return void 0===Ft&&(Ft=Le+"-active"),function(Lt,rn){pr(Lt);var Dn=!1,jn=function(Rn){Dn||(Dn=!0,Lt.removeEventListener(nn,jn),Lt.removeEventListener(fn,jn),rn())};Lt.classList.add(Le),Lt.addEventListener(nn,jn),Lt.addEventListener(fn,jn),requestAnimationFrame(function(){Lt.classList.add(Ft)})}};Vt.Z.getLogger("esri.widgets.support.widgetUtils");function ys(Le){const Ft=kt.Z.acquire();for(let rn=0;rn<arguments.length;rn++){const Dn=arguments[rn],jn=typeof Dn;if("string"===jn)Ft.push(Dn);else if(Array.isArray(Dn))Ft.push.apply(Ft,Dn);else if("object"===jn)for(const Rn in Dn)Dn[Rn]&&Ft.push(Rn)}const Lt=Ft.join(" ");return kt.Z.release(Ft),Lt}function Jr(Le){const Ft=null==Le?void 0:Le.closest("[dir]");return null!==Ft&&Ft instanceof HTMLElement&&"rtl"===Ft.dir||"rtl"===document.dir}function mi(Le){this[Le.getAttribute("data-node-ref")]=null}function Xs(Le){this[Le.getAttribute("data-node-ref")]=Le}function us(Le,Ft){return("enter"===Le?Or:ar)(Ft)}(()=>{const Le=new Map;new ResizeObserver(Lt=>{(0,Zt.Uy)();for(const rn of Lt)Le.get(rn.target)(rn)})})();const Os=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((Le,Ft)=>(Le[Ft]=[],Le),{}),Ms=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Pr=new Dt({whiteList:Os,onTagAttr:(Le,Ft,Lt)=>{const rn=`${Ft}="${Lt}"`;if(Ms.includes(Ft))return rn},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function ds(Le){return"Enter"===Le||" "===Le}},15861:(qe,Me,E)=>{"use strict";function M(Q,B,N,ne,k,F,I){try{var x=Q[F](I),$=x.value}catch(Y){return void N(Y)}x.done?B($):Promise.resolve($).then(ne,k)}function D(Q){return function(){var B=this,N=arguments;return new Promise(function(ne,k){var F=Q.apply(B,N);function I($){M(F,ne,k,I,x,"next",$)}function x($){M(F,ne,k,I,x,"throw",$)}I(void 0)})}}E.d(Me,{Z:()=>D})}},qe=>{qe(qe.s=91829)}]);