"use strict";var se=Object.defineProperty,oe=Object.defineProperties,ie=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,Q=(f,u,e)=>u in f?se(f,u,{enumerable:!0,configurable:!0,writable:!0,value:e}):f[u]=e,X=(f,u)=>{for(var e in u||(u={}))ne.call(u,e)&&Q(f,e,u[e]);if(z)for(var e of z(u))ae.call(u,e)&&Q(f,e,u[e]);return f},Y=(f,u)=>oe(f,ie(u));(self.webpackChunkesri4_pwa=self.webpackChunkesri4_pwa||[]).push([[308],{38811:(f,u,e)=>{e.d(u,{E:()=>N});class g{constructor(E={}){this._options=E}toQueryParams(E){if(!E)return null;const v=E.toJSON(),T={};return Object.keys(v).forEach(n=>{const c=this._options[n];if(c){const r="boolean"!=typeof c&&c.name?c.name:n,y="boolean"!=typeof c&&c.getter?c.getter(v):v[n];null!=y&&(T[r]=(o=>{if(!Array.isArray(o))return!1;const[E]=o;return"number"==typeof E||"string"==typeof E})(y)?y.join(","):"object"==typeof y?JSON.stringify(y):y)}else T[n]=v[n]},this),T}}function N(o){return new g(o)}},15503:(f,u,e)=>{e.d(u,{et:()=>_,ef:()=>P,bI:()=>S,Wf:()=>O});var t=e(15861),g=e(84792),N=e(26584),o=e(62208),E=e(94113),v=e(21726),T=e(2618),n=e(17626),c=e(86810),r=e(77712),L=(e(85931),e(8314),e(90912),e(55342)),K=e(76898),I=e(51494),R=e(67854);let i=class extends c.wq{constructor(p){super(p),this.accumulateAttributeNames=null,this.currentVersion=null,this.defaultTravelMode=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsSupportedLanguages=null,this.directionsTimeAttribute=null,this.hasZ=null,this.impedance=null,this.networkDataset=null,this.supportedTravelModes=null}};(0,n._)([(0,r.Cb)()],i.prototype,"accumulateAttributeNames",void 0),(0,n._)([(0,r.Cb)()],i.prototype,"currentVersion",void 0),(0,n._)([(0,r.Cb)()],i.prototype,"defaultTravelMode",void 0),(0,n._)([(0,r.Cb)()],i.prototype,"directionsLanguage",void 0),(0,n._)([(0,L.J)(I.GX)],i.prototype,"directionsLengthUnits",void 0),(0,n._)([(0,r.Cb)()],i.prototype,"directionsSupportedLanguages",void 0),(0,n._)([(0,r.Cb)()],i.prototype,"directionsTimeAttribute",void 0),(0,n._)([(0,r.Cb)()],i.prototype,"hasZ",void 0),(0,n._)([(0,r.Cb)()],i.prototype,"impedance",void 0),(0,n._)([(0,r.Cb)()],i.prototype,"networkDataset",void 0),(0,n._)([(0,r.Cb)({type:[R.Z]})],i.prototype,"supportedTravelModes",void 0),i=(0,n._)([(0,K.j)("esri.rest.support.NetworkServiceDescription")],i);const B=i;function _(p,s,a,m){m[a]=[s.length,s.length+p.length],p.forEach(l=>{s.push(l.geometry)})}function P(p,s){for(let a=0;a<s.length;a++){const m=p[s[a]];if(m&&m.length)for(const l of m)l.z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function O(p,s){for(let a=0;a<s.length;a++){const m=p[s[a]];if(m&&m.length)for(const l of m)if((0,o.pC)(l)&&l.hasZ)return!0}return!1}function S(p,s,a){return U.apply(this,arguments)}function U(){return(U=(0,t.Z)(function*(p,s,a){if(!p)throw new N.Z("network-service:missing-url","Url to Network service is missing");const m=(0,T.lA)({f:"json",token:s},a),{data:l}=yield(0,g.default)(p,m);l.supportedTravelModes||(l.supportedTravelModes=[]);for(let A=0;A<l.supportedTravelModes.length;A++)l.supportedTravelModes[A].id||(l.supportedTravelModes[A].id=l.supportedTravelModes[A].itemId);const d=l.currentVersion>=10.4?D(p,s,a):j(p,a),{defaultTravelMode:h,supportedTravelModes:C}=yield d;return l.defaultTravelMode=h,l.supportedTravelModes=C,B.fromJSON(l)})).apply(this,arguments)}function j(p,s){return M.apply(this,arguments)}function M(){return(M=(0,t.Z)(function*(p,s){var a,m;const l=(0,T.lA)({f:"json"},s),{data:d}=yield(0,g.default)(p.replace(/\/rest\/.*$/i,"/info"),l);if(!d||!d.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};const{owningSystemUrl:h}=d,C=(0,v.Qj)(h)+"/sharing/rest/portals/self",{data:A}=yield(0,g.default)(C,l),x=(0,E.hS)("helperServices.routingUtilities.url",A);if(!x)return{supportedTravelModes:[],defaultTravelMode:null};const F=(0,T.en)(h),k=/\/solve$/i.test(F.path)?"Route":/\/solveclosestfacility$/i.test(F.path)?"ClosestFacility":"ServiceAreas",q=(0,T.lA)({f:"json",serviceName:k},s),ee=(0,v.Qj)(x)+"/GetTravelModes/execute",J=yield(0,g.default)(ee,q),G=[];let V=null;if(null!=J&&null!=(a=J.data)&&null!=(m=a.results)&&m.length){const te=J.data.results;for(const W of te){var H;if("supportedTravelModes"===W.paramName){if(null!=(H=W.value)&&H.features)for(const{attributes:$}of W.value.features)if($){const re=JSON.parse($.TravelMode);G.push(re)}}else"defaultTravelMode"===W.paramName&&(V=W.value)}}return{supportedTravelModes:G,defaultTravelMode:V}})).apply(this,arguments)}function D(p,s,a){return w.apply(this,arguments)}function w(){return(w=(0,t.Z)(function*(p,s,a){try{const m=(0,T.lA)({f:"json",token:s},a),l=(0,v.Qj)(p)+"/retrieveTravelModes",{data:{supportedTravelModes:d,defaultTravelMode:h}}=yield(0,g.default)(l,m);return{supportedTravelModes:d,defaultTravelMode:h}}catch(m){throw new N.Z("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:m})}})).apply(this,arguments)}},92383:(f,u,e)=>{e.d(u,{Z:()=>B});var t=e(17626),N=(e(29132),e(62208)),o=e(77712),n=(e(85931),e(8314),e(90912),e(68653)),c=e(76898),r=e(88879);let y=class extends r.Z{};(0,t._)([(0,o.Cb)()],y.prototype,"events",void 0),(0,t._)([(0,o.Cb)()],y.prototype,"strings",void 0),y=(0,t._)([(0,c.j)("esri.rest.support.DirectionsFeature")],y);const b=y;var Z=e(17253),L=e(2004),K=e(65234),I=e(55214),R=e(49672);let i=class extends Z.default{constructor(_){super(_),this.extent=null,this.features=null,this.geometryType="polyline",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(_,P){var O;if(!_)return[];const S=null!=(O=P.summary.envelope.spatialReference)?O:P.spatialReference,U=S&&K.Z.fromJSON(S);return _.map(j=>{var M,D;const w=this._decompressGeometry(j.compressedGeometry),p=new I.Z(Y(X({},w),{spatialReference:U})),s=null!=(M=null==(D=j.events)?void 0:D.map(a=>{const{arriveTimeUTC:m,ETA:l,point:{x:d,y:h,z:C},strings:A}=a;return new b({geometry:new R.Z({x:d,y:h,z:C,hasZ:void 0!==C,spatialReference:U}),attributes:{ETA:l,arriveTimeUTC:m},strings:A})}))?M:[];return new b({attributes:j.attributes,events:s,geometry:p,strings:j.strings})})}get mergedGeometry(){if(!this.features)return null;const _=this.features.map(({geometry:O})=>(0,N.Wg)(O)),P=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(_,P)}get strings(){return this.features.map(({strings:_})=>_)}_decompressGeometry(_){let P=0,O=0,S=0,U=0;const j=[];let M,D,w,p,s,a,m,l,d=0,h=0,C=0;if(s=_.match(/((\+|\-)[^\+\-\|]+|\|)/g),s||(s=[]),0===parseInt(s[d],32)){d=2;const A=parseInt(s[d],32);d++,a=parseInt(s[d],32),d++,1&A&&(h=s.indexOf("|")+1,m=parseInt(s[h],32),h++),2&A&&(C=s.indexOf("|",h)+1,l=parseInt(s[C],32),C++)}else a=parseInt(s[d],32),d++;for(;d<s.length&&"|"!==s[d];){M=parseInt(s[d],32)+P,d++,P=M,D=parseInt(s[d],32)+O,d++,O=D;const A=[M/a,D/a];h&&(p=parseInt(s[h],32)+S,h++,S=p,A.push(p/m)),C&&(w=parseInt(s[C],32)+U,C++,U=w,A.push(w/l)),j.push(A)}return{paths:[j],hasZ:h>0,hasM:C>0}}_mergePolylinesToSinglePath(_,P){if(0===_.length)return new I.Z({spatialReference:P});const O=[];for(const M of _)for(const D of M.paths)O.push(...D);const S=[];O.forEach((M,D)=>{0!==D&&M[0]===O[D-1][0]&&M[1]===O[D-1][1]||S.push(M)});const{hasM:U,hasZ:j}=_[0];return new I.Z({hasM:U,hasZ:j,paths:[S],spatialReference:P})}};(0,t._)([(0,o.Cb)({type:L.Z,json:{read:{source:"summary.envelope"}}})],i.prototype,"extent",void 0),(0,t._)([(0,o.Cb)()],i.prototype,"features",void 0),(0,t._)([(0,n.r)("features")],i.prototype,"readFeatures",null),(0,t._)([(0,o.Cb)()],i.prototype,"geometryType",void 0),(0,t._)([(0,o.Cb)({readOnly:!0})],i.prototype,"mergedGeometry",null),(0,t._)([(0,o.Cb)()],i.prototype,"routeId",void 0),(0,t._)([(0,o.Cb)()],i.prototype,"routeName",void 0),(0,t._)([(0,o.Cb)({value:null,readOnly:!0})],i.prototype,"strings",null),(0,t._)([(0,o.Cb)({json:{read:{source:"summary.totalDriveTime"}}})],i.prototype,"totalDriveTime",void 0),(0,t._)([(0,o.Cb)({json:{read:{source:"summary.totalLength"}}})],i.prototype,"totalLength",void 0),(0,t._)([(0,o.Cb)({json:{read:{source:"summary.totalTime"}}})],i.prototype,"totalTime",void 0),i=(0,t._)([(0,c.j)("esri.rest.support.DirectionsFeatureSet")],i);const B=i},45568:(f,u,e)=>{e.d(u,{Z:()=>y});var t=e(17626),g=e(2076),N=e(86810),o=e(77712),n=(e(85931),e(8314),e(90912),e(76898));const c=new g.X({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let r=class extends N.wq{constructor(b){super(b),this.description=null,this.type=null}};(0,t._)([(0,o.Cb)({type:String,json:{write:!0}})],r.prototype,"description",void 0),(0,t._)([(0,o.Cb)({type:String,json:{read:c.read,write:c.write}})],r.prototype,"type",void 0),r=(0,t._)([(0,n.j)("esri.rest.support.GPMessage")],r);const y=r},12334:(f,u,e)=>{e.d(u,{Z:()=>y});var t=e(17626),g=e(2076),N=e(77712),T=(e(85931),e(8314),e(90912),e(76898)),n=e(45568);const c=new g.X({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});let r=class extends n.Z{constructor(b){super(b),this.type=null}};(0,t._)([(0,N.Cb)({type:String,json:{read:c.read,write:c.write}})],r.prototype,"type",void 0),r=(0,t._)([(0,T.j)("esri.rest.support.NAMessage")],r);const y=r},67854:(f,u,e)=>{e.d(u,{Z:()=>y});var c,t=e(17626),g=e(86810),N=e(58817),o=e(77712),v=(e(90912),e(55342)),T=e(76898),n=e(51494);let r=c=class extends g.wq{constructor(b){super(b),this.attributeParameterValues=null,this.description=null,this.distanceAttributeName=null,this.id=null,this.impedanceAttributeName=null,this.name=null,this.restrictionAttributeNames=null,this.simplificationTolerance=null,this.simplificationToleranceUnits=null,this.timeAttributeName=null,this.type=null,this.useHierarchy=null,this.uturnAtJunctions=null}clone(){return new c((0,N.d9)({attributeParameterValues:this.attributeParameterValues,description:this.description,distanceAttributeName:this.distanceAttributeName,id:this.id,impedanceAttributeName:this.impedanceAttributeName,name:this.name,restrictionAttributeNames:this.restrictionAttributeNames,simplificationTolerance:this.simplificationTolerance,simplificationToleranceUnits:this.simplificationToleranceUnits,timeAttributeName:this.timeAttributeName,type:this.type,useHierarchy:this.useHierarchy,uturnAtJunctions:this.uturnAtJunctions}))}};(0,t._)([(0,o.Cb)({type:[Object],json:{write:!0}})],r.prototype,"attributeParameterValues",void 0),(0,t._)([(0,o.Cb)({type:String,json:{write:!0}})],r.prototype,"description",void 0),(0,t._)([(0,o.Cb)({type:String,json:{write:!0}})],r.prototype,"distanceAttributeName",void 0),(0,t._)([(0,o.Cb)({type:String,json:{write:!0}})],r.prototype,"id",void 0),(0,t._)([(0,o.Cb)({type:String,json:{write:!0}})],r.prototype,"impedanceAttributeName",void 0),(0,t._)([(0,o.Cb)({type:String,json:{write:!0}})],r.prototype,"name",void 0),(0,t._)([(0,o.Cb)({type:[String],json:{write:!0}})],r.prototype,"restrictionAttributeNames",void 0),(0,t._)([(0,o.Cb)({type:Number,json:{write:{allowNull:!0}}})],r.prototype,"simplificationTolerance",void 0),(0,t._)([(0,v.J)(n.q$)],r.prototype,"simplificationToleranceUnits",void 0),(0,t._)([(0,o.Cb)({type:String,json:{write:!0}})],r.prototype,"timeAttributeName",void 0),(0,t._)([(0,v.J)(n.DJ)],r.prototype,"type",void 0),(0,t._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],r.prototype,"useHierarchy",void 0),(0,t._)([(0,v.J)(n.ip)],r.prototype,"uturnAtJunctions",void 0),r=c=(0,t._)([(0,T.j)("esri.rest.support.TravelMode")],r);const y=r},51494:(f,u,e)=>{e.d(u,{oi:()=>I,W7:()=>b,td:()=>B,cW:()=>i,GX:()=>N,$7:()=>E,hB:()=>o,Dd:()=>R,q$:()=>g,yP:()=>Z,no:()=>v,ip:()=>n,BW:()=>K,SS:()=>L,DJ:()=>y});var t=e(2076);const g=(0,t.w)()({esriCentimeters:"centimeters",esriDecimalDegrees:"decimal-degrees",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriPoints:"points",esriUnknownUnits:"unknown",esriYards:"yards"}),N=(0,t.w)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards"}),o=(0,t.w)()({esriNAUDays:"days",esriNAUHours:"hours",esriNAUMinutes:"minutes",esriNAUSeconds:"seconds"}),E=(0,t.w)()({esriDOTComplete:"complete",esriDOTCompleteNoEvents:"complete-no-events",esriDOTFeatureSets:"featuresets",esriDOTInstructionsOnly:"instructions-only",esriDOTStandard:"standard",esriDOTSummaryOnly:"summary-only"}),v=(0,t.w)()({esriNAOutputLineNone:"none",esriNAOutputLineStraight:"straight",esriNAOutputLineTrueShape:"true-shape",esriNAOutputLineTrueShapeWithMeasure:"true-shape-with-measure"}),n=((0,t.w)()({esriNAOutputPolygonNone:"none",esriNAOutputPolygonSimplified:"simplified",esriNAOutputPolygonDetailed:"detailed"}),(0,t.w)()({esriNFSBAllowBacktrack:"allow-backtrack",esriNFSBAtDeadEndsOnly:"at-dead-ends-only",esriNFSBNoBacktrack:"no-backtrack",esriNFSBAtDeadEndsAndIntersections:"at-dead-ends-and-intersections"})),y=((0,t.w)()({esriNATravelDirectionFromFacility:"from-facility",esriNATravelDirectionToFacility:"to-facility"}),(0,t.w)()({esriNATimeOfDayNotUsed:"not-used",esriNATimeOfDayUseAsStartTime:"start",esriNATimeOfDayUseAsEndTime:"end"}),(0,t.w)()({AUTOMOBILE:"automobile",TRUCK:"truck",WALK:"walk",OTHER:"other"})),b=(0,t.w)()({0:"either-side-of-vehicle",1:"right-side-of-vehicle",2:"left-side-of-vehicle",3:"no-u-turn"},{useNumericKeys:!0}),Z=(0,t.w)()({0:"stop",1:"waypoint",2:"break"},{useNumericKeys:!0}),L=(0,t.w)()({0:"ok",1:"not-located",2:"network-element-not-located",3:"element-not-traversable",4:"invalid-field-values",5:"not-reached",6:"time-window-violation",7:"not-located-on-closest"},{useNumericKeys:!0}),K=(0,t.w)()({1:"right",2:"left"},{useNumericKeys:!0}),I=(0,t.w)()({0:"restriction",1:"added-cost"},{useNumericKeys:!0}),R=(0,t.w)()({0:"permit",1:"restrict"},{useNumericKeys:!0}),i=(0,t.w)()({1:"header",50:"arrive",51:"depart",52:"straight",100:"on-ferry",101:"off-ferry",102:"central-fork",103:"roundabout",104:"u-turn",150:"door",151:"stairs",152:"elevator",153:"escalator",154:"pedestrian-ramp",200:"left-fork",201:"left-ramp",202:"clockwise-roundabout",203:"left-handed-u-turn",204:"bear-left",205:"left-turn",206:"sharp-left",207:"left-turn-and-immediate-left-turn",208:"left-turn-and-immediate-right-turn",300:"right-fork",301:"right-ramp",302:"counter-clockwise-roundabout",303:"right-handed-u-turn",304:"bear-right",305:"right-turn",306:"sharp-right",307:"right-turn-and-immediate-left-turn",308:"right-turn-and-immediate-right-turn",400:"up-elevator",401:"up-escalator",402:"up-stairs",500:"down-elevator",501:"down-escalator",502:"down-stairs",1e3:"general-event",1001:"landmark",1002:"time-zone-change",1003:"traffic-event",1004:"scaled-cost-barrier-event",1005:"boundary-crossing",1006:"restriction-violation"},{useNumericKeys:!0}),B=(0,t.w)()({0:"unknown",1:"segment",2:"maneuver-segment",3:"restriction-violation",4:"scaled-cost-barrier",5:"heavy-traffic",6:"slow-traffic",7:"moderate-traffic"},{useNumericKeys:!0})}}]);