"use strict";var b=Object.defineProperty,f=Object.defineProperties,v=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,E=(l,s,e)=>s in l?b(l,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[s]=e,y=(l,s)=>{for(var e in s||(s={}))j.call(s,e)&&E(l,e,s[e]);if(u)for(var e of u(s))I.call(s,e)&&E(l,e,s[e]);return l},d=(l,s)=>f(l,v(s));(self.webpackChunkesri4_pwa=self.webpackChunkesri4_pwa||[]).push([[5876],{65876:(l,s,e)=>{e.r(s),e.d(s,{default:()=>C});var h=e(17626),c=e(62208),p=e(27e3),D=(e(63290),e(90912),e(85931),e(8314),e(82255),e(76898)),O=e(98624),M=e(68915);let n=class extends M.default{initialize(){this.handles.add([(0,p.S1)(this.view,"viewpoint",()=>this._update())])}_injectOverrides(r){let t=super._injectOverrides(r);const i=this.view.scale,_=this.layer.sublayers.filter(o=>function P(r,t){return!r.visible||0!==r.minScale&&t>r.minScale||0!==r.maxScale&&t<r.maxScale}(o,i)).map(o=>o.subtypeCode);if(!_.length)return t;t=(0,c.pC)(t)?t:(new O.Z).toJSON();const a=`NOT ${this.layer.subtypeField} IN (${_.join(",")})`;return t.where=t.where?`(${t.where}) AND (${a})`:a,t}_setLayersForFeature(r){const t=this.layer.fieldsIndex.get(this.layer.subtypeField),i=r.attributes[t.name],_=this.layer.sublayers.find(a=>a.subtypeCode===i);r.layer=_,r.sourceLayer=this.layer}_createSchemaConfig(){const r={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map(a=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:a.labelingInfo,labelsVisible:a.labelsVisible,renderer:a.renderer,subtypeCode:a.subtypeCode,orderBy:null}))},t=this.layer.sublayers.map(a=>a.subtypeCode).join(",");let _=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return _+=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${t})`:"1=2",d(y(y({},super._createSchemaConfig()),r),{definitionExpression:_})}};n=(0,h._)([(0,D.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],n);const C=n}}]);