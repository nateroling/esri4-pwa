"use strict";var Be=Object.defineProperty,Ge=Object.defineProperties,Ne=Object.getOwnPropertyDescriptors,Oe=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,Me=(be,ge,W)=>ge in be?Be(be,ge,{enumerable:!0,configurable:!0,writable:!0,value:W}):be[ge]=W,Se=(be,ge)=>{for(var W in ge||(ge={}))Fe.call(ge,W)&&Me(be,W,ge[W]);if(Oe)for(var W of Oe(ge))Ve.call(ge,W)&&Me(be,W,ge[W]);return be},Ee=(be,ge)=>Ge(be,Ne(ge));(self.webpackChunkesri4_pwa=self.webpackChunkesri4_pwa||[]).push([[581],{3579:(be,ge,W)=>{W.d(ge,{J:()=>de});var X,ue,oe,ie={exports:{}};X=ie,void 0!==(oe=function(){function H(o){this.message="JPEG error: "+o}return(H.prototype=new Error).name="JpegError",H.constructor=H,H}(),ue=function(){if(!self||!self.Uint8ClampedArray)return null;var H=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),o=4017,B=1567,Z=3784,x=5793,G=2896;function J(){this.decodeTransform=null,this.colorTransform=-1}function te(_,D){for(var L,i,t=0,a=[],s=16;s>0&&!_[s-1];)s--;a.push({children:[],index:0});var f,T=a[0];for(L=0;L<s;L++){for(i=0;i<_[L];i++){for((T=a.pop()).children[T.index]=D[t];T.index>0;)T=a.pop();for(T.index++,a.push(T);a.length<=L;)a.push(f={children:[],index:0}),T.children[T.index]=f.children,T=f;t++}L+1<s&&(a.push(f={children:[],index:0}),T.children[T.index]=f.children,T=f)}return a[0].children}function z(_,D,L){return 64*((_.blocksPerLine+1)*D+L)}function he(_,D,L,i,t,a,s,f,T){var A=L.mcusPerLine,O=D,U=0,M=0;function R(){if(M>0)return M--,U>>M&1;if(255===(U=_[D++])){var I=_[D++];if(I)throw new oe("unexpected marker "+(U<<8|I).toString(16))}return M=7,U>>>7}function N(I){for(var K=I;;){if("number"==typeof(K=K[R()]))return K;if("object"!=typeof K)throw new oe("invalid huffman sequence")}}function P(I){for(var K=0;I>0;)K=K<<1|R(),I--;return K}function Y(I){if(1===I)return 1===R()?1:-1;var K=P(I);return K>=1<<I-1?K:K+(-1<<I)+1}var u,n=0,c=0;function p(I,K,q,le,pe){K(I,z(I,(q/A|0)*I.v+le,q%A*I.h+pe))}var h,y,m,v,C,w,b=i.length;w=L.progressive?0===a?0===f?function e(I,K){var q=N(I.huffmanTableDC),le=0===q?0:Y(q)<<T;I.blockData[K]=I.pred+=le}:function r(I,K){I.blockData[K]|=R()<<T}:0===f?function l(I,K){if(n>0)n--;else for(var q=a,le=s;q<=le;){var pe=N(I.huffmanTableAC),ve=15&pe,ye=pe>>4;if(0!==ve){var Ce=H[q+=ye];I.blockData[K+Ce]=Y(ve)*(1<<T),q++}else{if(ye<15){n=P(ye)+(1<<ye)-1;break}q+=16}}}:function d(I,K){for(var q,le,pe=a,ve=s,ye=0;pe<=ve;){var Ce=H[pe];switch(c){case 0:if(ye=(le=N(I.huffmanTableAC))>>4,0==(q=15&le))ye<15?(n=P(ye)+(1<<ye),c=4):(ye=16,c=1);else{if(1!==q)throw new oe("invalid ACn encoding");u=Y(q),c=ye?2:3}continue;case 1:case 2:I.blockData[K+Ce]?I.blockData[K+Ce]+=R()<<T:0==--ye&&(c=2===c?3:0);break;case 3:I.blockData[K+Ce]?I.blockData[K+Ce]+=R()<<T:(I.blockData[K+Ce]=u<<T,c=0);break;case 4:I.blockData[K+Ce]&&(I.blockData[K+Ce]+=R()<<T)}pe++}4===c&&0==--n&&(c=0)}:function S(I,K){var q=N(I.huffmanTableDC),le=0===q?0:Y(q);I.blockData[K]=I.pred+=le;for(var pe=1;pe<64;){var ve=N(I.huffmanTableAC),ye=15&ve,Ce=ve>>4;if(0!==ye){var _e=H[pe+=Ce];I.blockData[K+_e]=Y(ye),pe++}else{if(Ce<15)break;pe+=16}}};var j,k,F,V,I,q,Q=0;for(k=1===b?i[0].blocksPerLine*i[0].blocksPerColumn:A*L.mcusPerColumn;Q<k;){var $=t?Math.min(k-Q,t):k;for(y=0;y<b;y++)i[y].pred=0;if(n=0,1===b)for(h=i[0],C=0;C<$;C++)w(I=h,z(I,(q=Q)/I.blocksPerLine|0,q%I.blocksPerLine)),Q++;else for(C=0;C<$;C++){for(y=0;y<b;y++)for(F=(h=i[y]).h,V=h.v,m=0;m<V;m++)for(v=0;v<F;v++)p(h,w,Q,m,v);Q++}M=0,(j=ce(_,D))&&j.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+j.invalid),D=j.offset);var ee=j&&j.marker;if(!ee||ee<=65280)throw new oe("marker was not found");if(!(ee>=65488&&ee<=65495))break;D+=2}return(j=ce(_,D))&&j.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+j.invalid),D=j.offset),D-O}function ne(_,D,L){var i,t,a,s,f,T,A,E,O,U,M,R,N,P,Y,S,e,r=_.quantizationTable,n=_.blockData;if(!r)throw new oe("missing required Quantization Table.");for(var l=0;l<64;l+=8)O=n[D+l],O*=r[l],0!=((U=n[D+l+1])|(M=n[D+l+2])|(R=n[D+l+3])|(N=n[D+l+4])|(P=n[D+l+5])|(Y=n[D+l+6])|(S=n[D+l+7]))?(t=(i=(i=x*O+128>>8)+(t=x*(N*=r[l+4])+128>>8)+1>>1)-t,e=(a=M*=r[l+2])*Z+(s=Y*=r[l+6])*B+128>>8,a=a*B-s*Z+128>>8,A=(f=(f=G*((U*=r[l+1])-(S*=r[l+7]))+128>>8)+(A=(P*=r[l+5])<<4)+1>>1)-A,T=(E=(E=G*(U+S)+128>>8)+(T=(R*=r[l+3])<<4)+1>>1)-T,s=(i=i+(s=e)+1>>1)-s,a=(t=t+a+1>>1)-a,e=2276*f+3406*E+2048>>12,f=3406*f-2276*E+2048>>12,E=e,e=799*T+A*o+2048>>12,T=T*o-799*A+2048>>12,A=e,L[l]=i+E,L[l+7]=i-E,L[l+1]=t+A,L[l+6]=t-A,L[l+2]=a+T,L[l+5]=a-T,L[l+3]=s+f,L[l+4]=s-f):(L[l]=e=x*O+512>>10,L[l+1]=e,L[l+2]=e,L[l+3]=e,L[l+4]=e,L[l+5]=e,L[l+6]=e,L[l+7]=e);for(var u=0;u<8;++u)O=L[u],0!=((U=L[u+8])|(M=L[u+16])|(R=L[u+24])|(N=L[u+32])|(P=L[u+40])|(Y=L[u+48])|(S=L[u+56]))?(t=(i=4112+((i=x*O+2048>>12)+(t=x*N+2048>>12)+1>>1))-t,e=(a=M)*Z+(s=Y)*B+2048>>12,a=a*B-s*Z+2048>>12,s=e,A=(f=(f=G*(U-S)+2048>>12)+(A=P)+1>>1)-A,T=(E=(E=G*(U+S)+2048>>12)+(T=R)+1>>1)-T,e=2276*f+3406*E+2048>>12,f=3406*f-2276*E+2048>>12,E=e,e=799*T+A*o+2048>>12,T=T*o-799*A+2048>>12,O=(O=(i=i+s+1>>1)+E)<16?0:O>=4080?255:O>>4,U=(U=(t=t+a+1>>1)+(A=e))<16?0:U>=4080?255:U>>4,M=(M=(a=t-a)+T)<16?0:M>=4080?255:M>>4,R=(R=(s=i-s)+f)<16?0:R>=4080?255:R>>4,N=(N=s-f)<16?0:N>=4080?255:N>>4,P=(P=a-T)<16?0:P>=4080?255:P>>4,Y=(Y=t-A)<16?0:Y>=4080?255:Y>>4,S=(S=i-E)<16?0:S>=4080?255:S>>4,n[D+u]=O,n[D+u+8]=U,n[D+u+16]=M,n[D+u+24]=R,n[D+u+32]=N,n[D+u+40]=P,n[D+u+48]=Y,n[D+u+56]=S):(e=(e=x*O+8192>>14)<-2040?0:e>=2024?255:e+2056>>4,n[D+u]=e,n[D+u+8]=e,n[D+u+16]=e,n[D+u+24]=e,n[D+u+32]=e,n[D+u+40]=e,n[D+u+48]=e,n[D+u+56]=e)}function re(_,D){for(var L=D.blocksPerLine,i=D.blocksPerColumn,t=new Int16Array(64),a=0;a<i;a++)for(var s=0;s<L;s++)ne(D,z(D,a,s),t);return D.blockData}function ce(_,D,L){function i(T){return _[T]<<8|_[T+1]}var t=_.length-1,a=L<D?L:D;if(D>=t)return null;var s=i(D);if(s>=65472&&s<=65534)return{invalid:null,marker:s,offset:D};for(var f=i(a);!(f>=65472&&f<=65534);){if(++a>=t)return null;f=i(a)}return{invalid:s.toString(16),marker:f,offset:a}}return J.prototype={parse:function(_){function D(){var I=_[s]<<8|_[s+1];return s+=2,I}function L(){var I=D(),K=s+I-2,q=ce(_,K,s);q&&q.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+q.invalid),K=q.offset);var le=_.subarray(s,K);return s+=le.length,le}function i(I){for(var K=Math.ceil(I.samplesPerLine/8/I.maxH),q=Math.ceil(I.scanLines/8/I.maxV),le=0;le<I.components.length;le++){C=I.components[le];var pe=Math.ceil(Math.ceil(I.samplesPerLine/8)*C.h/I.maxH),ve=Math.ceil(Math.ceil(I.scanLines/8)*C.v/I.maxV);C.blockData=new Int16Array(q*C.v*64*(K*C.h+1)),C.blocksPerLine=pe,C.blocksPerColumn=ve}I.mcusPerLine=K,I.mcusPerColumn=q}var t,a,s=0,f=null,T=null,A=[],E=[],O=[],U=D();if(65496!==U)throw new oe("SOI not found");for(U=D();65497!==U;){var M,R,N;switch(U){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var P=L();65504===U&&74===P[0]&&70===P[1]&&73===P[2]&&70===P[3]&&0===P[4]&&(f={version:{major:P[5],minor:P[6]},densityUnits:P[7],xDensity:P[8]<<8|P[9],yDensity:P[10]<<8|P[11],thumbWidth:P[12],thumbHeight:P[13],thumbData:P.subarray(14,14+3*P[12]*P[13])}),65518===U&&65===P[0]&&100===P[1]&&111===P[2]&&98===P[3]&&101===P[4]&&(T={version:P[5]<<8|P[6],flags0:P[7]<<8|P[8],flags1:P[9]<<8|P[10],transformCode:P[11]});break;case 65499:for(var Y=D()+s-2;s<Y;){var S=_[s++],e=new Uint16Array(64);if(S>>4==0)for(R=0;R<64;R++)e[H[R]]=_[s++];else{if(S>>4!=1)throw new oe("DQT - invalid table spec");for(R=0;R<64;R++)e[H[R]]=D()}A[15&S]=e}break;case 65472:case 65473:case 65474:if(t)throw new oe("Only single frame JPEGs supported");D(),(t={}).extended=65473===U,t.progressive=65474===U,t.precision=_[s++],t.scanLines=D(),t.samplesPerLine=D(),t.components=[],t.componentIds={};var r,n=_[s++],l=0,u=0;for(M=0;M<n;M++){r=_[s];var c=_[s+1]>>4,d=15&_[s+1];l<c&&(l=c),u<d&&(u=d),N=t.components.push({h:c,v:d,quantizationId:_[s+2],quantizationTable:null}),t.componentIds[r]=N-1,s+=3}t.maxH=l,t.maxV=u,i(t);break;case 65476:var g=D();for(M=2;M<g;){var h=_[s++],y=new Uint8Array(16),m=0;for(R=0;R<16;R++,s++)m+=y[R]=_[s];var v=new Uint8Array(m);for(R=0;R<m;R++,s++)v[R]=_[s];M+=17+m,(h>>4==0?O:E)[15&h]=te(y,v)}break;case 65501:D(),a=D();break;case 65498:D();var C,w=_[s++],b=[];for(M=0;M<w;M++){var j=t.componentIds[_[s++]],k=_[s++];(C=t.components[j]).huffmanTableDC=O[k>>4],C.huffmanTableAC=E[15&k],b.push(C)}var F=_[s++],V=_[s++],Q=_[s++],$=he(_,s,t,b,a,F,V,Q>>4,15&Q);s+=$;break;case 65535:255!==_[s]&&s--;break;default:if(255===_[s-3]&&_[s-2]>=192&&_[s-2]<=254){s-=3;break}throw new oe("unknown marker "+U.toString(16))}U=D()}for(this.width=t.samplesPerLine,this.height=t.scanLines,this.jfif=f,this.eof=s,this.adobe=T,this.components=[],M=0;M<t.components.length;M++){var ee=A[(C=t.components[M]).quantizationId];ee&&(C.quantizationTable=ee),this.components.push({output:re(0,C),scaleX:C.h/t.maxH,scaleY:C.v/t.maxV,blocksPerLine:C.blocksPerLine,blocksPerColumn:C.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(_,D){var L,i,t,a,s,f,T,A,E,O,U,M=this.width/_,R=this.height/D,N=0,P=this.components.length,Y=_*D*P,S=new Uint8ClampedArray(Y),e=new Uint32Array(_),r=4294967288;for(T=0;T<P;T++){for(i=(L=this.components[T]).scaleX*M,t=L.scaleY*R,N=T,U=L.output,a=L.blocksPerLine+1<<3,s=0;s<_;s++)e[s]=((A=0|s*i)&r)<<3|7&A;for(f=0;f<D;f++)for(O=a*((A=0|f*t)&r)|(7&A)<<3,s=0;s<_;s++)S[N]=U[O+e[s]],N+=P}var n=this.decodeTransform;if(n)for(T=0;T<Y;)for(A=0,E=0;A<P;A++,T++,E+=2)S[T]=(S[T]*n[E]>>8)+n[E+1];return S},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(_){for(var D,L,i,t=0,a=_.length;t<a;t+=3)L=_[t+1],_[t]=(D=_[t])-179.456+1.402*(i=_[t+2]),_[t+1]=D+135.459-.344*L-.714*i,_[t+2]=D-226.816+1.772*L;return _},_convertYcckToRgb:function(_){for(var D,L,i,t,a=0,s=0,f=_.length;s<f;s+=4)_[a++]=(L=_[s+1])*(-660635669420364e-19*L+.000437130475926232*(i=_[s+2])-54080610064599e-18*(D=_[s])+.00048449797120281*(t=_[s+3])-.154362151871126)-122.67195406894+i*(-.000957964378445773*i+.000817076911346625*D-.00477271405408747*t+1.53380253221734)+D*(.000961250184130688*D-.00266257332283933*t+.48357088451265)+t*(-.000336197177618394*t+.484791561490776),_[a++]=107.268039397724+L*(219927104525741e-19*L-.000640992018297945*i+.000659397001245577*D+.000426105652938837*t-.176491792462875)+i*(-.000778269941513683*i+.00130872261408275*D+.000770482631801132*t-.151051492775562)+D*(.00126935368114843*D-.00265090189010898*t+.25802910206845)+t*(-.000318913117588328*t-.213742400323665),_[a++]=L*(-.000570115196973677*L-263409051004589e-19*i+.0020741088115012*D-.00288260236853442*t+.814272968359295)-20.810012546947+i*(-153496057440975e-19*i-.000132689043961446*D+.000560833691242812*t-.195152027534049)+D*(.00174418132927582*D-.00255243321439347*t+.116935020465145)+t*(-.000343531996510555*t+.24165260232407);return _},_convertYcckToCmyk:function(_){for(var D,L,i,t=0,a=_.length;t<a;t+=4)L=_[t+1],_[t]=434.456-(D=_[t])-1.402*(i=_[t+2]),_[t+1]=119.541-D+.344*L+.714*i,_[t+2]=481.816-D-1.772*L;return _},_convertCmykToRgb:function(_){for(var D,L,i,t,a=0,s=1/255,f=0,T=_.length;f<T;f+=4)_[a++]=255+(D=_[f]*s)*(-4.387332384609988*D+54.48615194189176*(L=_[f+1]*s)+18.82290502165302*(i=_[f+2]*s)+212.25662451639585*(t=_[f+3]*s)-285.2331026137004)+L*(1.7149763477362134*L-5.6096736904047315*i-17.873870861415444*t-5.497006427196366)+i*(-2.5217340131683033*i-21.248923337353073*t+17.5119270841813)-t*(21.86122147463605*t+189.48180835922747),_[a++]=255+D*(8.841041422036149*D+60.118027045597366*L+6.871425592049007*i+31.159100130055922*t-79.2970844816548)+L*(-15.310361306967817*L+17.575251261109482*i+131.35250912493976*t-190.9453302588951)+i*(4.444339102852739*i+9.8632861493405*t-24.86741582555878)-t*(20.737325471181034*t+187.80453709719578),_[a++]=255+D*(.8842522430003296*D+8.078677503112928*L+30.89978309703729*i-.23883238689178934*t-14.183576799673286)+L*(10.49593273432072*L+63.02378494754052*i+50.606957656360734*t-112.23884253719248)+i*(.03296041114873217*i+115.60384449646641*t-193.58209356861505)-t*(22.33816807309886*t+180.12613974708367);return _},getData:function(_,D,L){if(this.numComponents>4)throw new oe("Unsupported color mode");var i=this._getLinearizedBlockData(_,D);if(1===this.numComponents&&L){for(var t=i.length,a=new Uint8ClampedArray(3*t),s=0,f=0;f<t;f++){var T=i[f];a[s++]=T,a[s++]=T,a[s++]=T}return a}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(i);if(4===this.numComponents){if(this._isColorConversionNeeded())return L?this._convertYcckToRgb(i):this._convertYcckToCmyk(i);if(L)return this._convertCmykToRgb(i)}return i}},J}())&&(X.exports=ue);const de=ie.exports},34022:(be,ge,W)=>{W.d(ge,{Z:()=>de});var X,me,ue,ie={exports:{}};me=ie,X=function(){function oe(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return oe.prototype={ensureBuffer:function(H){var o=this.buffer,se=o?o.byteLength:0;if(H<se)return o;for(var fe=512;fe<H;)fe<<=1;for(var ae=new Uint8Array(fe),B=0;B<se;++B)ae[B]=o[B];return this.buffer=ae},getByte:function(){for(var H=this.pos;this.bufferLength<=H;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(H){var o=this.pos;if(H){this.ensureBuffer(o+H);for(var se=o+H;!this.eof&&this.bufferLength<se;)this.readBlock();var fe=this.bufferLength;se>fe&&(se=fe)}else{for(;!this.eof;)this.readBlock();se=this.bufferLength}return this.pos=se,this.buffer.subarray(o,se)},lookChar:function(){for(var H=this.pos;this.bufferLength<=H;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var H=this.pos;this.bufferLength<=H;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(H,o,se){for(var fe=H+o;this.bufferLength<=fe&&!this.eof;)this.readBlock();return new Stream(this.buffer,H,o,se)},skip:function(H){H||(H=1),this.pos+=H},reset:function(){this.pos=0}},oe}(),void 0!==(ue=function(){if(!self||!self.Uint32Array)return null;var oe=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),o=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),se=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fe=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function ae(Z){throw new Error(Z)}function B(Z){var x=0,G=Z[x++],J=Z[x++];-1!=G&&-1!=J||ae("Invalid header in flate stream"),8!=(15&G)&&ae("Unknown compression method in flate stream"),((G<<8)+J)%31!=0&&ae("Bad FCHECK in flate stream"),32&J&&ae("FDICT bit set in flate stream"),this.bytes=Z,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,X.call(this)}return(B.prototype=Object.create(X.prototype)).getBits=function(Z){for(var x,G=this.codeSize,J=this.codeBuf,te=this.bytes,z=this.bytesPos;G<Z;)void 0===(x=te[z++])&&ae("Bad encoding in flate stream"),J|=x<<G,G+=8;return x=J&(1<<Z)-1,this.codeBuf=J>>Z,this.codeSize=G-=Z,this.bytesPos=z,x},B.prototype.getCode=function(Z){for(var x=Z[0],G=Z[1],J=this.codeSize,te=this.codeBuf,z=this.bytes,he=this.bytesPos;J<G;){var ne;void 0===(ne=z[he++])&&ae("Bad encoding in flate stream"),te|=ne<<J,J+=8}var re=x[te&(1<<G)-1],ce=re>>16,_=65535&re;return(0==J||J<ce||0==ce)&&ae("Bad encoding in flate stream"),this.codeBuf=te>>ce,this.codeSize=J-ce,this.bytesPos=he,_},B.prototype.generateHuffmanTable=function(Z){for(var x=Z.length,G=0,J=0;J<x;++J)Z[J]>G&&(G=Z[J]);for(var te=1<<G,z=new Uint32Array(te),he=1,ne=0,re=2;he<=G;++he,ne<<=1,re<<=1)for(var ce=0;ce<x;++ce)if(Z[ce]==he){var _=0,D=ne;for(J=0;J<he;++J)_=_<<1|1&D,D>>=1;for(J=_;J<te;J+=re)z[J]=he<<16|ce;++ne}return[z,G]},B.prototype.readBlock=function(){function Z(e,r,n,l,u){for(var c=e.getBits(n)+l;c-- >0;)r[re++]=u}var x=this.getBits(3);if(1&x&&(this.eof=!0),0!=(x>>=1)){var G,J;if(1==x)G=se,J=fe;else if(2==x){for(var te=this.getBits(5)+257,z=this.getBits(5)+1,he=this.getBits(4)+4,ne=Array(oe.length),re=0;re<he;)ne[oe[re++]]=this.getBits(3);for(var ce=this.generateHuffmanTable(ne),_=0,D=(re=0,te+z),L=new Array(D);re<D;){var i=this.getCode(ce);16==i?Z(this,L,2,3,_):17==i?Z(this,L,3,3,_=0):18==i?Z(this,L,7,11,_=0):L[re++]=_=i}G=this.generateHuffmanTable(L.slice(0,te)),J=this.generateHuffmanTable(L.slice(te,D))}else ae("Unknown block type in flate stream");for(var t=(P=this.buffer)?P.length:0,a=this.bufferLength;;){var s=this.getCode(G);if(s<256)a+1>=t&&(t=(P=this.ensureBuffer(a+1)).length),P[a++]=s;else{if(256==s)return void(this.bufferLength=a);var f=(s=H[s-=257])>>16;f>0&&(f=this.getBits(f)),_=(65535&s)+f,s=this.getCode(J),(f=(s=o[s])>>16)>0&&(f=this.getBits(f));var T=(65535&s)+f;a+_>=t&&(t=(P=this.ensureBuffer(a+_)).length);for(var A=0;A<_;++A,++a)P[a]=P[a-T]}}}else{var E,O=this.bytes,U=this.bytesPos;void 0===(E=O[U++])&&ae("Bad block header in flate stream");var M=E;void 0===(E=O[U++])&&ae("Bad block header in flate stream"),M|=E<<8,void 0===(E=O[U++])&&ae("Bad block header in flate stream");var R=E;void 0===(E=O[U++])&&ae("Bad block header in flate stream"),(R|=E<<8)!=(65535&~M)&&ae("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var N=this.bufferLength,P=this.ensureBuffer(N+M),Y=N+M;this.bufferLength=Y;for(var S=N;S<Y;++S){if(void 0===(E=O[U++])){this.eof=!0;break}P[S]=E}this.bytesPos=U}},B}())&&(me.exports=ue);const de=ie.exports},78260:(be,ge,W)=>{function me(t){return"h"in t&&"s"in t&&"v"in t}function ue(t){return"l"in t&&"a"in t&&"b"in t}function ie(t){return"l"in t&&"c"in t&&"h"in t}W.d(ge,{_Y:()=>ce,Y3:()=>_,sJ:()=>D,xr:()=>re});const oe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],H=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function o(t,a){const s=[];let f,T;if(t[0].length!==a.length)throw"dimensions do not match";const A=t.length,E=t[0].length;let O=0;for(f=0;f<A;f++){for(O=0,T=0;T<E;T++)O+=t[f][T]*a[T];s.push(O)}return s}function se(t){const a=[t.r/255,t.g/255,t.b/255].map(f=>f<=.04045?f/12.92:((f+.055)/1.055)**2.4),s=o(oe,a);return{x:100*s[0],y:100*s[1],z:100*s[2]}}function fe(t){const a=o(H,[t.x/100,t.y/100,t.z/100]).map(s=>Math.min(1,Math.max(s<=.0031308?12.92*s:1.055*s**.4166666666666667-.055,0)));return{r:Math.round(255*a[0]),g:Math.round(255*a[1]),b:Math.round(255*a[2])}}function ae(t){const a=[t.x/95.047,t.y/100,t.z/108.883].map(s=>s>.008856451679035631?s**.3333333333333333:7.787037037037035*s+.13793103448275862);return{l:116*a[1]-16,a:500*(a[0]-a[1]),b:200*(a[1]-a[2])}}function B(t){const a=t.l,s=[(a+16)/116+t.a/500,(a+16)/116,(a+16)/116-t.b/200].map(f=>f>6/29?f**3:3*(6/29)**2*(f-4/29));return{x:95.047*s[0],y:100*s[1],z:108.883*s[2]}}function re(t){return function X(t){return"r"in t&&"g"in t&&"b"in t}(t)?t:ie(t)?function z(t){return fe(B(function x(t){const s=t.c,f=t.h;return{l:t.l,a:s*Math.cos(f),b:s*Math.sin(f)}}(t)))}(t):ue(t)?function J(t){return fe(B(t))}(t):function de(t){return"x"in t&&"y"in t&&"z"in t}(t)?fe(t):me(t)?function ne(t){const a=(t.h+360)%360/60,f=t.v/100*255,T=f*(t.s/100),A=T*(1-Math.abs(a%2-1));let E;switch(Math.floor(a)){case 0:E={r:T,g:A,b:0};break;case 1:E={r:A,g:T,b:0};break;case 2:E={r:0,g:T,b:A};break;case 3:E={r:0,g:A,b:T};break;case 4:E={r:A,g:0,b:T};break;case 5:case 6:E={r:T,g:0,b:A};break;default:E={r:0,g:0,b:0}}return E.r=Math.round(E.r+f-T),E.g=Math.round(E.g+f-T),E.b=Math.round(E.b+f-T),E}(t):t}function ce(t){return me(t)?t:function he(t){const a=t.r,s=t.g,f=t.b,T=Math.max(a,s,f),A=T-Math.min(a,s,f);let E=T,O=0===A?0:T===a?(s-f)/A%6:T===s?(f-a)/A+2:(a-s)/A+4,U=0===A?0:A/E;return O<0&&(O+=6),O*=60,U*=100,E*=100/255,{h:O,s:U,v:E}}(re(t))}function _(t){return ue(t)?t:function G(t){return ae(se(t))}(re(t))}function D(t){return ie(t)?t:function te(t){return function Z(t){const a=t.l,s=t.a,f=t.b,T=Math.sqrt(s*s+f*f);let A=Math.atan2(f,s);return A=A>0?A:A+2*Math.PI,{l:a,c:T,h:A}}(ae(se(t)))}(re(t))}},79645:(be,ge,W)=>{W.d(ge,{Z:()=>Z});var X=W(17626),me=W(86810),ue=W(62208),ie=W(77712),o=(W(85931),W(8314),W(90912),W(76898)),se=W(2004),fe=W(65234),ae=W(27497);let B=class extends me.wq{constructor(x){super(x),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get dataType(){var x,G,J;const te=null!=(x=null==(G=this.keyProperties)||null==(J=G.DataType)?void 0:J.toLowerCase())?x:"generic";return"stdtime"===te?"standard-time":te}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(x){x&&this._set("nativeExtent",x)}get nativePixelSize(){if(!(0,ue.pC)(this.transform)||!this.transform.affectsPixelSize)return this.pixelSize;const x=this.nativeExtent;return{x:x.width/this.width,y:x.height/this.height}}};(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"attributeTable",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"bandCount",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"colormap",void 0),(0,X._)([(0,ie.Cb)({type:String,readOnly:!0})],B.prototype,"dataType",null),(0,X._)([(0,ie.Cb)({type:se.Z,json:{write:!0}})],B.prototype,"extent",void 0),(0,X._)([(0,ie.Cb)({type:se.Z,json:{write:!0}})],B.prototype,"nativeExtent",null),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"nativePixelSize",null),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"format",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"height",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"width",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"histograms",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"keyProperties",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"multidimensionalInfo",void 0),(0,X._)([(0,ie.Cb)()],B.prototype,"noDataValue",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"pixelSize",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"pixelType",void 0),(0,X._)([(0,ie.Cb)()],B.prototype,"isPseudoSpatialReference",void 0),(0,X._)([(0,ie.Cb)({type:fe.Z,json:{write:!0}})],B.prototype,"spatialReference",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"statistics",void 0),(0,X._)([(0,ie.Cb)({type:ae.Z,json:{write:!0}})],B.prototype,"storageInfo",void 0),(0,X._)([(0,ie.Cb)({json:{write:!0}})],B.prototype,"transform",void 0),B=(0,X._)([(0,o.j)("esri.layers.support.RasterInfo")],B);const Z=B},27497:(be,ge,W)=>{W.d(ge,{Z:()=>fe});var X=W(17626),me=W(86810),ue=W(77712),H=(W(85931),W(8314),W(90912),W(76898)),o=W(49672);let se=class extends me.wq{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.blockBoundary=null}};(0,X._)([(0,ue.Cb)({type:Number,json:{write:!0}})],se.prototype,"blockWidth",void 0),(0,X._)([(0,ue.Cb)({type:Number,json:{write:!0}})],se.prototype,"blockHeight",void 0),(0,X._)([(0,ue.Cb)({type:String,json:{write:!0}})],se.prototype,"compression",void 0),(0,X._)([(0,ue.Cb)({type:o.Z,json:{write:!0}})],se.prototype,"origin",void 0),(0,X._)([(0,ue.Cb)({type:Number,json:{write:!0}})],se.prototype,"firstPyramidLevel",void 0),(0,X._)([(0,ue.Cb)({type:Number,json:{write:!0}})],se.prototype,"maximumPyramidLevel",void 0),(0,X._)([(0,ue.Cb)({json:{write:!0}})],se.prototype,"pyramidResolutions",void 0),(0,X._)([(0,ue.Cb)({type:Number,json:{write:!0}})],se.prototype,"pyramidScalingFactor",void 0),(0,X._)([(0,ue.Cb)({type:Number,json:{write:!0}})],se.prototype,"pyramidBlockWidth",void 0),(0,X._)([(0,ue.Cb)({type:Number,json:{write:!0}})],se.prototype,"pyramidBlockHeight",void 0),(0,X._)([(0,ue.Cb)({type:Boolean,json:{write:!0}})],se.prototype,"isVirtualTileInfo",void 0),(0,X._)([(0,ue.Cb)({json:{write:!0}})],se.prototype,"tileInfo",void 0),(0,X._)([(0,ue.Cb)()],se.prototype,"blockBoundary",void 0),se=(0,X._)([(0,H.j)("esri.layers.support.RasterStorageInfo")],se);const fe=se},15365:(be,ge,W)=>{function X(me,ue){let ie=0,de="",oe=0,H=0;const o=me.length;for(;ie<o;)H=me[ie++],oe=H>>4,oe<8?oe=1:15===oe?(oe=4,H=(7&H)<<18|(63&me[ie++])<<12|(63&me[ie++])<<6|63&me[ie++]):14===oe?(oe=3,H=(15&H)<<12|(63&me[ie++])<<6|63&me[ie++]):(oe=2,H=(31&H)<<6|63&me[ie++]),(0!==H||ue)&&(de+=String.fromCharCode(H));return de}W.d(ge,{f:()=>X})},68786:(be,ge,W)=>{W.d(ge,{Jx:()=>ae,zD:()=>de});var X=W(54346);const me=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,128]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let ue=null,ie=null;function de(){return ue||(ue=W.e(2045).then(W.bind(W,72045)).then(Z=>Z.l).then(({default:Z})=>Z({locateFile:x=>(0,X.V)(`esri/layers/support/rasterFormats/${x}`)})).then(Z=>{(function se(Z){const{_malloc:x,_free:G,_lerc_getBlobInfo:J,_lerc_getDataRanges:te,_lerc_decode_4D:z,asm:he}=Z;let ne;const re=Object.values(he).find(_=>_&&"buffer"in _&&_.buffer===Z.HEAPU8.buffer),ce=_=>{const D=_.map(a=>function o(Z){return 16+(Z>>3<<3)}(a)),L=D.reduce((a,s)=>a+s),i=x(L);ne=new Uint8Array(re.buffer);let t=D[0];D[0]=i;for(let a=1;a<D.length;a++){const s=D[a];D[a]=D[a-1]+t,t=s}return D};H.getBlobInfo=_=>{const i=new Uint8Array(48),t=new Uint8Array(24),[a,s,f]=ce([_.length,i.length,t.length]);ne.set(_,a),ne.set(i,s),ne.set(t,f);let T=J(a,_.length,s,f,12,3);if(T)throw G(a),`lerc-getBlobInfo: error code is ${T}`;ne=new Uint8Array(re.buffer),i.set(ne.slice(s,s+i.length)),t.set(ne.slice(f,f+t.length));const A=new Uint32Array(i.buffer),E=new Float64Array(t.buffer),[O,U,M,R,N,P,Y,S,e,,r]=A,n={version:O,dimCount:M,width:R,height:N,validPixelCount:Y,bandCount:P,blobSize:S,maskCount:e,dataType:U,minValue:E[0],maxValue:E[1],maxZerror:E[2],statistics:[],bandCountWithNoData:r};if(r)return n;if(1===M&&1===P)return G(a),n.statistics.push({minValue:E[0],maxValue:E[1]}),n;const l=M*P*8,u=new Uint8Array(l),c=new Uint8Array(l);let d,p=a,g=0,h=!1;if(ne.byteLength<a+2*l?(G(a),h=!0,[p,g,d]=ce([_.length,l,l]),ne.set(_,p)):[g,d]=ce([l,l]),ne.set(u,g),ne.set(c,d),T=te(a,_.length,M,P,g,d),T)throw G(p),h||G(g),`lerc-getDataRanges: error code is ${T}`;ne=new Uint8Array(re.buffer),u.set(ne.slice(g,g+l)),c.set(ne.slice(d,d+l));const y=new Float64Array(u.buffer),m=new Float64Array(c.buffer),v=n.statistics;for(let C=0;C<P;C++)if(M>1){const w=y.slice(C*M,(C+1)*M),b=m.slice(C*M,(C+1)*M),j=Math.min.apply(null,w),k=Math.max.apply(null,b);v.push({minValue:j,maxValue:k,dimStats:{minValues:w,maxValues:b}})}else v.push({minValue:y[C],maxValue:m[C]});return G(p),h||G(g),n},H.decode=(_,D)=>{const{maskCount:L,dimCount:i,bandCount:t,width:a,height:s,dataType:f,bandCountWithNoData:T}=D,A=me[f],E=a*s,O=new Uint8Array(E*t),U=E*i*t*A.size,M=new Uint8Array(U),R=new Uint8Array(t),N=8*t,P=new Uint8Array(N),[Y,S,e,r,n]=ce([_.length,O.length,M.length,R.length,P.length]);ne.set(_,Y),ne.set(O,S),ne.set(M,e),ne.set(R,r),ne.set(P,n);const l=z(Y,_.length,L,S,i,a,s,t,f,e,r,n);if(l)throw G(Y),`lerc-decode: error code is ${l}`;ne=new Uint8Array(re.buffer),M.set(ne.slice(e,e+U)),O.set(ne.slice(S,S+E));let u=null;if(T){R.set(ne.slice(r,r+t)),P.set(ne.slice(n,n+N)),u=[];for(let c=0;c<R.length;c++)u.push(R[c]?P[c]:null)}return G(Y),{data:M,maskData:O,noDataValues:u}}})(Z),ie=!0}),ue)}const H={getBlobInfo:null,decode:null};function fe(Z,x,G,J,te){if(G<2)return Z;const z=new J(x*G);if(te)for(let he=0,ne=0;he<x;he++)for(let re=0,ce=he;re<G;re++,ce+=x)z[ce]=Z[ne++];else for(let he=0,ne=0;he<x;he++)for(let re=0,ce=he;re<G;re++,ce+=x)z[ne++]=Z[ce];return z}function ae(Z,x={}){var G;const J=null!=(G=x.inputOffset)?G:0,te=Z instanceof Uint8Array?Z.subarray(J):new Uint8Array(Z,J),z=H.getBlobInfo(te),{data:he,maskData:ne}=H.decode(te,z),{width:re,height:ce,bandCount:_,dimCount:D,dataType:L,maskCount:i,statistics:t}=z,a=me[L],s=new a.ctor(he.buffer),f=[],T=[],A=re*ce,E=A*D;for(let N=0;N<_;N++){const P=s.subarray(N*E,(N+1)*E);if(x.returnPixelInterleavedDims)f.push(P);else{const Y=fe(P,A,D,a.ctor,!0);f.push(Y)}T.push(ne.subarray(N*E,(N+1)*E))}const O=0===i?null:1===i?T[0]:new Uint8Array(A);if(i>1){O.set(T[0]);for(let N=1;N<T.length;N++){const P=T[N];for(let Y=0;Y<A;Y++)O[Y]=O[Y]&P[Y]}}const{noDataValue:U}=x;if(i>0&&null!=U&&a.range[0]<=U&&a.range[1]>=U){const{noDataValue:N}=x;for(let P=0;P<_;P++){const Y=f[P],S=T[P]||O;for(let e=0;e<A;e++)0===S[e]&&(Y[e]=N)}}return{width:re,height:ce,bandCount:_,pixelType:x.pixelType&&0===z.version?x.pixelType:a.pixelType,dimCount:D,statistics:t,pixels:f,mask:O,bandMasks:i===_&&_>1?T:null}}},94194:(be,ge,W)=>{function me(){const oe=[];for(let H=0;H<=257;H++)oe[H]=[H];return oe}function ue(oe,H){for(let o=0;o<H.length;o++)oe.push(H[o])}W.d(ge,{J:()=>de});const ie=new Set;function de(oe,H,o,se=!0){const fe=function X(oe,H,o,se=!0){if(H%4!=0||o%4!=0){const fe=new ArrayBuffer(4*Math.ceil(o/4)),ae=new Uint8Array(fe),B=new Uint8Array(oe,H,o);if(se)for(let Z=0;Z<ae.length;Z+=4)ae[Z]=B[Z+3],ae[Z+1]=B[Z+2],ae[Z+2]=B[Z+1],ae[Z+3]=B[Z];else ae.set(B);return new Uint32Array(ae.buffer)}if(se){const fe=new Uint8Array(oe,H,o),ae=new Uint8Array(fe.length);for(let B=0;B<ae.length;B+=4)ae[B]=fe[B+3],ae[B+1]=fe[B+2],ae[B+2]=fe[B+1],ae[B+3]=fe[B];return new Uint32Array(ae.buffer)}return new Uint32Array(oe,H,o/4)}(oe,H,o,se);let ae=9,B=me(),Z=32,x=B.length,G=[],J=1,te=fe[0],z=0;const he=fe.length,ne=8*(4*he-o),re=[];for(;null!=te;){if(Z>=ae)Z-=ae,z=te>>>32-ae,te<<=ae;else{z=te>>>32-Z,te=fe[J++];const _=ae-Z;Z=32-_,z=(z<<_)+(te>>>Z),te<<=_}if(257===z)break;if(256===z){ae=9,B=me(),x=B.length,G=[];continue}const ce=B[z];if(null==ce){if(z>B.length)throw"data integrity issue: code does not exist on code page";G.push(G[0]),B[x++]=G.slice(),ue(re,G)}else ue(re,ce),G.push(ce[0]),G.length>1&&(B[x++]=G.slice()),G=ce.slice();if(ie.has(x)&&ae++,0===Z&&(te=fe[J++],Z=32),J>he||J===he&&Z<=ne)break}return new Uint8Array(re)}ie.add(511),ie.add(1023),ie.add(2047),ie.add(4095),ie.add(8191)},8614:(be,ge,W)=>{W.d(ge,{J:()=>P,y:()=>N});var X=W(15861),me=W(26584),ue=W(60295),ie=W(10699),de=W(34022);class oe{constructor(e){e&&(this.canvas=e.canvas,this.ctx=e.ctx||e.canvas&&e.canvas.getContext("2d"))}decode(e,r,n){if(!e||e.byteLength<10)throw new me.Z("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:l,height:u,format:c}=r;const{applyJpegMask:d}=r;if(d&&(!l||!u))throw new me.Z("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((p,g)=>{let h=null;"jpg"===c&&d&&(h=oe._getMask(e,{width:l,height:u}));const y=new Blob([new Uint8Array(e)],{type:"image/"+c=="jpg"?"jpeg":c}),m=URL.createObjectURL(y),v=new Image;let C;v.src=m,v.onload=()=>{if(URL.revokeObjectURL(m),(0,ie.Hc)(n))return void g((0,ie.zE)());l=v.width,u=v.height,this.canvas?(this.canvas.width===l&&this.canvas.height===u||(this.canvas.width=l,this.canvas.height=u),this.ctx.clearRect(0,0,l,u)):(this.canvas=document.createElement("canvas"),this.canvas.width=l,this.canvas.height=u,this.ctx=this.canvas.getContext("2d")),this.ctx.drawImage(v,0,0);const w=this.ctx.getImageData(0,0,l,u);let b;if(C=w.data,r.renderOnCanvas){if(h)for(b=0;b<h.length;b++)C[4*b+3]=h[b]?255:0;return this.ctx.putImageData(w,0,0),void p(null)}const j=l*u,k=new Uint8Array(j),F=new Uint8Array(j),V=new Uint8Array(j);if(h)for(b=0;b<j;b++)k[b]=C[4*b],F[b]=C[4*b+1],V[b]=C[4*b+2];else for(h=new Uint8Array(j),b=0;b<j;b++)k[b]=C[4*b],F[b]=C[4*b+1],V[b]=C[4*b+2],h[b]=C[4*b+3];p({width:l,height:u,pixels:[k,F,V],mask:h,pixelType:"u8"})},v.onerror=()=>{URL.revokeObjectURL(m),g("cannot load image")}})}static _getMask(e,r){let n=null;try{const l=new Uint8Array(e),u=Math.ceil(l.length/2);let c=0;const d=l.length-2;for(c=u;c<d&&(255!==l[c]||217!==l[c+1]);c++);if(c+=2,c<l.length-1){const p=new de.Z(l.subarray(c)).getBytes();n=new Uint8Array(r.width*r.height);let g=0;for(let h=0;h<p.length;h++)for(let y=7;y>=0;y--)n[g++]=p[h]>>y&1}}catch(l){}return n}}var H=W(3579),se=W(68786),fe=W(94194);const ae=function(S,e){return Math.floor(S.byteLength/(e.width*e.height*B(e.pixelType)))},B=function(S){let e=1;switch(S){case Uint8Array:case Int8Array:e=1;break;case Uint16Array:case Int16Array:e=2;break;case Uint32Array:case Int32Array:case Float32Array:e=4;break;case Float64Array:e=8}return e};var G=W(93122),J=W(44853),te=function(S){var l,u,c;function d(p){var g,y,m,v,C,w,b,j,k,F,V,Q;for(this.data=p,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(g=this.readUInt32(),b=function(){var $,ee;for(ee=[],$=0;$<4;++$)ee.push(String.fromCharCode(this.data[this.pos++]));return ee}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(g);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),y=this.readUInt16()||100,v.delay=1e3*m/y,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for("fdAT"===b&&(this.pos+=4,g-=4),p=(null!=v?v.data:void 0)||this.imgData,F=0;0<=g?F<g:F>g;0<=g?++F:--F)p.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(g),(j=255-this.transparency.indexed.length)>0)for(V=0;0<=j?V<j:V>j;0<=j?++V:--V)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(g)[0];break;case 2:this.transparency.rgb=this.read(g)}break;case"tEXt":C=(k=this.read(g)).indexOf(0),w=String.fromCharCode.apply(String,k.slice(0,C)),this.text[w]=String.fromCharCode.apply(String,k.slice(C+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(Q=this.colorType)||6===Q,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=g}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return d.load=function(p,g,h){var y;return"function"==typeof g&&(h=g),(y=new XMLHttpRequest).open("GET",p,!0),y.responseType="arraybuffer",y.onload=function(){var m;return m=new d(new Uint8Array(y.response||y.mozResponseArrayBuffer)),"function"==typeof(null!=g?g.getContext:void 0)&&m.render(g),"function"==typeof h?h(m):void 0},y.send(null)},d.prototype.read=function(p){var g,h;for(h=[],g=0;0<=p?g<p:g>p;0<=p?++g:--g)h.push(this.data[this.pos++]);return h},d.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},d.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},d.prototype.decodePixels=function(p){var g,h,y,m,v,C,w,b,k,F,V,Q,$,ee,I,K,q,le,pe,ve,ye,Ce;if(null==p&&(p=this.imgData),0===p.length)return new Uint8Array(0);for(p=(p=new de.Z(p)).getBytes(),I=(V=this.pixelBitlength/8)*this.width,Q=new Uint8Array(I*this.height),C=p.length,ee=0,$=0,h=0;$<C;){switch(p[$++]){case 0:for(m=le=0;le<I;m=le+=1)Q[h++]=p[$++];break;case 1:for(m=pe=0;pe<I;m=pe+=1)g=p[$++],v=m<V?0:Q[h-V],Q[h++]=(g+v)%256;break;case 2:for(m=ve=0;ve<I;m=ve+=1)g=p[$++],y=(m-m%V)/V,Q[h++]=((K=ee&&Q[(ee-1)*I+y*V+m%V])+g)%256;break;case 3:for(m=ye=0;ye<I;m=ye+=1)g=p[$++],y=(m-m%V)/V,v=m<V?0:Q[h-V],K=ee&&Q[(ee-1)*I+y*V+m%V],Q[h++]=(g+Math.floor((v+K)/2))%256;break;case 4:for(m=Ce=0;Ce<I;m=Ce+=1)g=p[$++],y=(m-m%V)/V,0===ee?K=q=0:(K=Q[(ee-1)*I+y*V+m%V],q=y&&Q[(ee-1)*I+(y-1)*V+m%V]),w=(v=m<V?0:Q[h-V])+K-q,b=Math.abs(w-v),k=Math.abs(w-K),F=Math.abs(w-q),Q[h++]=(g+(b<=k&&b<=F?v:k<=F?K:q))%256;break;default:throw new Error("Invalid filter algorithm: "+p[$-1])}ee++}return Q},d.prototype.decodePalette=function(){var p,g,h,y,m,v,C,w,b;for(h=this.palette,v=this.transparency.indexed||[],m=new Uint8Array((v.length||0)+h.length),y=0,p=0,g=C=0,w=h.length;C<w;g=C+=3)m[y++]=h[g],m[y++]=h[g+1],m[y++]=h[g+2],m[y++]=null!=(b=v[p++])?b:255;return m},d.prototype.copyToImageData=function(p,g){var h,y,m,v,C,w,b,j,k,F,V;if(y=this.colors,k=null,h=this.hasAlphaChannel,this.palette.length&&(k=null!=(V=this._decodedPalette)?V:this._decodedPalette=this.decodePalette(),y=4,h=!0),j=(m=p.data||p).length,C=k||g,v=w=0,1===y)for(;v<j;)b=k?4*g[v/4]:w,F=C[b++],m[v++]=F,m[v++]=F,m[v++]=F,m[v++]=h?C[b++]:this.transparency.grayscale&&this.transparency.grayscale===F?0:255,w=b;else for(;v<j;)b=k?4*g[v/4]:w,m[v++]=C[b++],m[v++]=C[b++],m[v++]=C[b++],m[v++]=h?C[b++]:this.transparency.rgb&&this.transparency.rgb[1]===C[b-3]&&this.transparency.rgb[3]===C[b-2]&&this.transparency.rgb[5]===C[b-1]?0:255,w=b},d.prototype.decode=function(){var p;return p=new Uint8Array(this.width*this.height*4),this.copyToImageData(p,this.decodePixels()),p},u=S.document&&S.document.createElement("canvas"),c=u&&u.getContext("2d"),l=function(p){var g;return c.width=p.width,c.height=p.height,c.clearRect(0,0,p.width,p.height),c.putImageData(p,0,0),(g=new Image).src=u.toDataURL(),g},d.prototype.decodeFrames=function(p){var g,h,y,m,v,C,w,b;if(this.animation){for(b=[],h=v=0,C=(w=this.animation.frames).length;v<C;h=++v)y=p.createImageData((g=w[h]).width,g.height),m=this.decodePixels(new Uint8Array(g.data)),this.copyToImageData(y,m),g.imageData=y,b.push(g.image=l(y));return b}},d.prototype.renderFrame=function(p,g){var h,y,m;return h=(y=this.animation.frames)[g],m=y[g-1],0===g&&p.clearRect(0,0,this.width,this.height),1===(null!=m?m.disposeOp:void 0)?p.clearRect(m.xOffset,m.yOffset,m.width,m.height):2===(null!=m?m.disposeOp:void 0)&&p.putImageData(m.imageData,m.xOffset,m.yOffset),0===h.blendOp&&p.clearRect(h.xOffset,h.yOffset,h.width,h.height),p.drawImage(h.image,h.xOffset,h.yOffset)},d.prototype.animate=function(p){var g,h,y,m,v,C,w=this;return h=0,m=(C=this.animation).numFrames,y=C.frames,v=C.numPlays,(g=function(){var b,j;if(b=h++%m,j=y[b],w.renderFrame(p,b),m>1&&h/m<v)return w.animation._timeout=setTimeout(g,j.delay)})()},d.prototype.stopAnimation=function(){var p;return clearTimeout(null!=(p=this.animation)?p._timeout:void 0)},d.prototype.render=function(p){var g,h;return p._png&&p._png.stopAnimation(),p._png=this,p.width=this.width,p.height=this.height,g=p.getContext("2d"),this.animation?(this.decodeFrames(g),this.animate(g)):(h=g.createImageData(this.width,this.height),this.copyToImageData(h,this.decodePixels()),g.putImageData(h,0,0))},d}(self);const z=new Set(["jpg","png","bmp","gif"]),he=new Set(["S8","U8","S16","U16","S32","U32","F32","F64"]);function ne(S,e){return re.apply(this,arguments)}function re(){return(re=(0,X.Z)(function*(S,e){var r;if(!J.f)throw new me.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");yield(0,se.zD)();const{offset:n,noDataValue:l}=e;let u=null==(r=e.pixelType)?void 0:r.toUpperCase();u&&!he.has(u)&&(u=null);const{width:c,height:d,pixelType:p,statistics:g,pixels:h,mask:y}=(0,se.Jx)(S,{inputOffset:n,noDataValue:l,pixelType:u});return new ue.Z({width:c,height:d,pixelType:p.toLowerCase(),pixels:h,mask:y,statistics:g})})).apply(this,arguments)}function ce(S,e){return _.apply(this,arguments)}function _(){return(_=(0,X.Z)(function*(S,e){const r=yield(0,G.Jx)(S,e.pyramidLevel||0),n=new ue.Z({width:r.width,height:r.height,pixels:r.pixels,pixelType:r.pixelType.toLowerCase(),mask:r.mask,statistics:null});return n.updateStatistics(),n})).apply(this,arguments)}function D(S,e){return L.apply(this,arguments)}function L(){return(L=(0,X.Z)(function*(S,e){const r=yield(0,G.Uw)(S,e.customOptions),n=new ue.Z({width:r.width,height:r.height,pixels:r.pixels,pixelType:r.pixelType.toLowerCase(),mask:r.mask,statistics:null});return n.updateStatistics(),n})).apply(this,arguments)}function i(S,e){const r=e.pixelType||"u8",n=ue.Z.getPixelArrayConstructor(r),l="u8"===r?S:new n(S.buffer),u=[],c=e.planes||1;if(1===c)u.push(l);else for(let p=0;p<c;p++){const g=(e.width||1)*(e.height||S.length),h=new n(g);for(let y=0;y<g;y++)h[y]=l[y*c+p];u.push(h)}const d=new ue.Z({width:e.width||1,height:e.height||S.length,pixels:u,pixelType:r,statistics:null});return d.updateStatistics(),d}function t(S,e){return i(new de.Z(new Uint8Array(S)).getBytes(),e)}function a(S,e){return i((0,fe.J)(S,e.offset,e.eof,!e.isInputBigEndian),e)}function f(S){const e=class o{static decode(e){const r=new Uint8Array(e),n=new H.J;n.parse(r);const{width:l,height:u,numComponents:c,eof:d}=n,p=n.getData(l,u,!0);let g;const h=l*u;let y=0,m=0,v=0;if(d<r.length-1){const b=new de.Z(r.subarray(d)).getBytes();g=new Uint8Array(h);let j=0;for(y=0;y<b.length;y++)for(v=7;v>=0;v--)g[j++]=b[y]>>v&1}let C,w=null;if(1===c)w=[p,p,p];else{for(w=[],y=0;y<3;y++)C=new Uint8Array(h),w.push(C);for(v=0,m=0;m<h;m++)for(y=0;y<3;y++)w[y][m]=p[v++]}return{width:l,height:u,pixels:w,mask:g}}}.decode(S),r=new ue.Z({width:e.width,height:e.height,pixels:e.pixels,pixelType:"U8",mask:e.mask,statistics:null});return r.updateStatistics(),r}function T(S,e){const r=new Uint8Array(S),n=new te(r),{width:l,height:u}=e,c=l*u,d=n.decode();let p,g=0,h=0;const y=new Uint8Array(c);for(g=0;g<c;g++)y[g]=d[4*g+3];const m=new ue.Z({width:l,height:u,pixels:[],pixelType:"U8",mask:y,statistics:[]});for(g=0;g<3;g++){for(p=new Uint8Array(c),h=0;h<c;h++)p[h]=d[4*h+g];m.addData({pixels:p})}return m.updateStatistics(),m}function A(S,e,r,n){return E.apply(this,arguments)}function E(){return(E=(0,X.Z)(function*(S,e,r,n){const l=new oe,u=Se({applyJpegMask:!1,format:e},r),c=yield l.decode(S,u,n),d=new ue.Z(c);return d.updateStatistics(),d})).apply(this,arguments)}function O(S){if(null==S)throw new me.Z("rasterCodec:decode","parameter encodeddata is required.");const e=new Uint8Array(S,0,10);let r="";return 255===e[0]&&216===e[1]?r="jpg":137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]?r="png":67===e[0]&&110===e[1]&&116===e[2]&&90===e[3]&&73===e[4]&&109===e[5]&&97===e[6]&&103===e[7]&&101===e[8]&&32===e[9]?r="lerc":76===e[0]&&101===e[1]&&114===e[2]&&99===e[3]&&50===e[4]&&32===e[5]?r="lerc2":73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3]||73===e[0]&&73===e[1]&&43===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&43===e[3]?r="tiff":71===e[0]&&73===e[1]&&70===e[2]?r="gif":66===e[0]&&77===e[1]?r="bmp":String.fromCharCode.apply(null,e).toLowerCase().indexOf("error")>-1&&(r="error"),r}function U(S){let e=null;switch(S){case"lerc":case"lerc2":e=ne;break;case"jpg":e=f;break;case"png":e=T;break;case"bsq":case"bip":e=(r,n)=>function s(S,e,r){const{pixelTypeCtor:n}=function M(S){let e=null,r=null;switch(S?S.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":r=255,e=Uint8Array;break;case"u16":r=r||65535,e=Uint16Array;break;case"u32":r=r||2**32-1,e=Uint32Array;break;case"s8":r=r||-128,e=Int8Array;break;case"s16":r=r||-32768,e=Int16Array;break;case"s32":r=r||0-2**31,e=Int32Array;break;default:e=Float32Array}return{pixelTypeCtor:e,noDataValue:r}}(e.pixelType),l=(0,class x{static decode(e,r){const n=r.pixelType,l=[],u=r.width*r.height,c=ae(e,r),{bandIds:d,format:p}=r,g=d&&d.length||ae(e,r),h=e.byteLength-e.byteLength%(u*B(n)),y=new n(e,0,u*c);let m,v,C,w,b;if("bip"===p)for(m=0;m<g;m++){for(w=new n(u),b=d?d[m]:m,v=0;v<u;v++)w[v]=y[v*c+b];l.push(w)}else if("bsq"===p)for(m=0;m<g;m++)b=d?d[m]:m,l.push(y.subarray(b*u,(b+1)*u));return h<e.byteLength-1&&(C=function(S,e){if(8*S.byteLength<e)return null;const r=new Uint8Array(S,0,Math.ceil(e/8)),n=new Uint8Array(e);let l=0,u=0,c=0,d=0;for(c=0;c<r.length-1;c++)for(u=r[c],d=7;d>=0;d--)n[l++]=u>>d&1;for(d=7;l<e-1;)u=r[r.length-1],n[l++]=u>>d&1,d--;return n}(e.slice(h),u)),{pixels:l,mask:C}}}.decode)(S,{width:e.width,height:e.height,pixelType:n,format:r}),u=new ue.Z({width:e.width,height:e.height,pixels:l.pixels,pixelType:e.pixelType,mask:l.mask,statistics:null});return u.updateStatistics(),u}(r,n,S);break;case"tiff":e=ce;break;case"deflate":e=t;break;case"lzw":e=a;break;case"error":e=()=>{throw new me.Z("rasterCodec:decode","input data contains error")};break;default:e=()=>{throw new me.Z("rasterCodec:decode","unsupported raster format")}}return e}function R(S,e=1){if(!S)return;const{pixels:r,width:n,height:l,mask:u}=S;if(!r||0===r.length)return;const c=r.length,d=n-1,p=l-1,g=[];let h,y,m,v,C,w,b;const j=ue.Z.getPixelArrayConstructor(S.pixelType);if(0===e){for(h=0;h<c;h++){for(C=r[h],w=new j(d*p),y=0;y<p;y++)for(v=y*n,m=0;m<d;m++)w[y*d+m]=C[v+m];g.push(w)}if(u)for(b=new Uint8Array(d*p),y=0;y<p;y++)for(v=y*n,m=0;m<d;m++)b[y*d+m]=u[v+m]}else{for(h=0;h<c;h++){for(C=r[h],w=new j(d*p),y=0;y<p;y++)for(v=y*n,m=0;m<d;m++)w[y*d+m]=(C[v+m]+C[v+m+1]+C[v+n+m]+C[v+n+m+1])/4;g.push(w)}if(u)for(b=new Uint8Array(d*p),y=0;y<p;y++)for(v=y*n,m=0;m<d;m++)b[y*d+m]=Math.min.apply(null,[u[v+m],u[v+m+1],u[v+n+m],u[v+n+m+1]])}S.width=d,S.height=p,S.mask=b,S.pixels=g}function N(S){let e=O(S);return"lerc2"===e?e="lerc":"error"===e&&(e=""),e}function P(S){return Y.apply(this,arguments)}function Y(){return(Y=(0,X.Z)(function*(S,e={},r){if(null==S)throw new me.Z("rasterCodec:decode","missing encodeddata parameter.");let n,l,u=e.format&&e.format.toLowerCase();if(!("bsq"!==u&&"bip"!==u||null!=e.width&&null!=e.height))throw new me.Z("rasterCodec:decode","requires width and height in options parameter.");return"tiff"===u&&e.customOptions?D(S,e):((!u||"bsq"!==u&&"bip"!==u&&"deflate"!==u&&"lzw"!==u)&&(u=O(S)),e.useCanvas&&z.has(u)?l=yield A(S,u,e,r):(n=U(u),e.isPoint&&((e=Se({},e)).width++,e.height++),l=yield n(S,e),e.isPoint&&R(l)),l)})).apply(this,arguments)}},93122:(be,ge,W)=>{W.d(ge,{Jx:()=>Y,Uw:()=>N,FI:()=>s,If:()=>f,Dq:()=>a,vr:()=>M,cK:()=>U});var X=W(15861),me=W(15365),ue=W(3579),ie=W(68786),de=W(94194),oe=W(635),H=W(44853),o=W(34022);const se=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],fe=4294967296,ae=new Set([1,5,6,7,8,34712,34887]);function B(e,r){let n="unknown";return 3===e?n="f32":1===e?1===r?n="u1":2===r?n="u2":4===r?n="u4":r<=8?n="u8":r<=16?n="u16":r<=32&&(n="u32"):2===e&&(r<=8?n="s8":r<=16?n="s16":r<=32&&(n="s32")),n}function Z(e){let r=null;switch(e?e.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":r=Uint8Array;break;case"u16":r=Uint16Array;break;case"u32":r=Uint32Array;break;case"s8":r=Int8Array;break;case"s16":r=Int16Array;break;case"s32":r=Int32Array;break;default:r=Float32Array}return r}function x(e,r){return{x:r[0]*e.x+r[1]*e.y+r[2],y:r[3]*e.x+r[4]*e.y+r[5]}}function G(e,r){var n;return null==(n=e.get(r))?void 0:n.values}function J(e,r){var n;return null==(n=e.get(r))?void 0:n.values}function te(e,r){var n;return null==(n=e.get(r))?void 0:n.values[0]}function z(e,r){var n;return null==(n=e.get(r))?void 0:n.values[0]}function he(e,r,n,l=0,u=oe.Z.TIFF_TAGS,c=4){const d=8===c,p=d?A(new DataView(e,n,8),0,r):new DataView(e,n,2).getUint16(0,r),g=4+2*c,h=d?8:2,y=h+p*g;if(n+y>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:y};const m=n+y+4<=e.byteLength?O(new DataView(e,n+y,8===c?8:4),0,r,8===c):null,v=n+h,C=new Map;let w,b,j,k,F,V,Q;for(let $=0;$<p;$++){b=new DataView(e,v+g*$,g),j=b.getUint16(0,r),F=b.getUint16(2,r),k=oe.Z.getTagName(j,u);const ee=[];2===c?(V=b.getUint16(4,r),Q=b.getUint16(6,r)):4===c?(V=b.getUint32(4,r),Q=b.getUint32(8,r)):8===c&&(V=O(b,4,r,!0),Q=O(b,12,r,!0),ee.push(b.getUint32(12,r)),ee.push(b.getUint32(16,r))),w={id:j,type:F,valueCount:V,valueOffset:Q,valueOffsets:ee,values:null},a(e,r,w,l,!1,c),C.set(k,w)}return{success:!0,ifd:C,nextIFD:m,requiredBufferSize:y}}const ne=function(e,r){return(0,ie.Jx)(e,{inputOffset:r}).pixels[0]};function re(e,r,n,l,u){return ce.apply(this,arguments)}function ce(){return(ce=(0,X.Z)(function*(e,r,n,l,u){var c,d;const p=H.f===r,g=z(n,"BITSPERSAMPLE"),h=B(null!=(c=z(n,"SAMPLEFORMAT"))?c:1,g),y=null!=(d=z(n,"COMPRESSION"))?d:1,m=Z(h);let v,C,w,b,j,k,F;if(34887===y)return yield(0,ie.zD)(),ne(e,l);if(1===y)w=e.slice(l,l+u),b=new Uint8Array(w);else if(8===y||32946===y)b=new Uint8Array(e,l,u),k=new o.Z(b),F=k.getBytes(),w=new ArrayBuffer(F.length),b=new Uint8Array(w),b.set(F);else if(6===y){b=new Uint8Array(e,l,u);const V=new ue.J;V.parse(b);const Q=V.getData(V.width,V.height,!0);w=new ArrayBuffer(Q.length),b=new Uint8Array(w),b.set(Q)}else if(7===y){const V=n.get("JPEGTABLES").values,Q=V.length-2;b=new Uint8Array(Q+u-2);for(let K=0;K<Q;K++)b[K]=V[K];const $=new Uint8Array(e,l+2,u-2);for(let K=0;K<$.length;K++)b[Q+K]=$[K];const ee=new ue.J;ee.parse(b);const I=ee.getData(ee.width,ee.height,!0);w=new ArrayBuffer(I.length),b=new Uint8Array(w),b.set(I)}else 5===y&&(b=(0,de.J)(e,l,u,r),w=b.buffer);if("u8"===h||"s8"===h||p)C=new m(w);else{switch(w=new ArrayBuffer(b.length),j=new Uint8Array(w),h){case"u16":case"s16":for(v=0;v<b.length;v+=2)j[v]=b[v+1],j[v+1]=b[v];break;case"u32":case"s32":case"f32":for(v=0;v<b.length;v+=4)j[v]=b[v+3],j[v+1]=b[v+2],j[v+2]=b[v+1],j[v+3]=b[v]}C=new m(w)}return C})).apply(this,arguments)}function _(e,r,n){return D.apply(this,arguments)}function D(){return(D=(0,X.Z)(function*(e,r,n){var l;const u=J(n,"TILEOFFSETS");if(void 0===u)return null;const c=J(n,"TILEBYTECOUNTS"),{width:d,height:p,pixelType:g,tileWidth:h,tileHeight:y}=s([n]),m=f(n,r),v=r.planes,C=d*p,w=z(n,"BITSPERSAMPLE"),b=34887===(null!=(l=z(n,"COMPRESSION"))?l:1),j=Z(g),k=[];for(let De=0;De<v;De++)k.push(new j(C));let F,V,Q,$,ee,I,K,q,le,pe,ve,ye,Ce;const _e=Math.ceil(d/h);if(w%8==0)if(b&&m&&v>1){const De=Math.round(u.length/v);for(F=0;F<De;F++){I=Math.floor(F/_e)*y,K=F%_e*h,q=I*d+K;for(let Ae=0;Ae<v;Ae++){const Pe=F*v+Ae;for(Q=yield re(e,r.littleEndian,n,u[Pe],c[Pe]),pe=0,le=q,ye=Math.min(h,d-K),ve=Math.min(y,p-I),Ce=k[Ae],$=0;$<ve;$++)for(le=q+$*d,pe=$*h,ee=0;ee<ye;ee++,le++,pe++)Ce[le]=Q[pe]}}}else for(F=0;F<u.length;F++)for(I=Math.floor(F/_e)*y,K=F%_e*h,q=I*d+K,Q=yield re(e,r.littleEndian,n,u[F],c[F]),pe=0,le=q,ye=Math.min(h,d-K),ve=Math.min(y,p-I),V=0;V<v;V++)if(Ce=k[V],m||b)for($=0;$<ve;$++)for(le=q+$*d,pe=h*y*V+$*h,ee=0;ee<ye;ee++,le++,pe++)Ce[le]=Q[pe];else for($=0;$<ve;$++)for(le=q+$*d,pe=$*h*v+V,ee=0;ee<ye;ee++,le++,pe+=v)Ce[le]=Q[pe];return{width:d,height:p,pixelType:g,pixels:k}})).apply(this,arguments)}const L=function(e,r,n){var l;const u=H.f===r.littleEndian,c=J(n,"STRIPOFFSETS");if(void 0===c)return null;const{width:d,height:p,pixelType:g}=s([n]),h=r.planes,y=d*p,m=z(n,"BITSPERSAMPLE"),v=Z(g),C=new v(y*h),w=J(n,"STRIPBYTECOUNTS"),b=z(n,"ROWSPERSTRIP"),j=null!=(l=z(n,"COMPRESSION"))?l:1;let k,F,V,Q,$,ee,I,K,q,le,pe,ve=b;if(m%8==0)for(k=0;k<c.length;k++){if($=k*(b*d)*h,ve=(k+1)*b>p?p-k*b:b,"u8"===g||"s8"===g||u){if(8===j||32946===j)I=new Uint8Array(e,c[k],w[k]),le=new o.Z(I),pe=le.getBytes(),ee=new ArrayBuffer(pe.length),I=new Uint8Array(ee),I.set(pe),I.length!==ve*d*h*m/8&&console.log("strip byte counts is different than expected");else if(6===j){I=new Uint8Array(e,c[k],w[k]);const Ce=new ue.J;Ce.parse(I);const _e=Ce.getData(Ce.width,Ce.height,!0);ee=new ArrayBuffer(_e.length),I=new Uint8Array(ee),I.set(_e)}else 5===j?(I=(0,de.J)(e,c[k],w[k],r.littleEndian),ee=I.buffer):1===j&&(w[k]!==ve*d*h*m/8&&console.log("strip byte counts is different than expected"),ee=e.slice(c[k],c[k]+w[k]));Q=new v(ee)}else{switch(6===j||8===j||32946===j?(I=new Uint8Array(e,c[k],w[k]),le=new o.Z(I),I=le.getBytes(),ee=new ArrayBuffer(I.length),K=new Uint8Array(ee),I.length!==ve*d*h*m/8&&console.log("strip byte counts is different than expected")):1===j&&(w[k]!==ve*d*h*m/8&&console.log("strip byte counts is different than expected"),ee=new ArrayBuffer(w[k]),I=new Uint8Array(e,c[k],w[k]),K=new Uint8Array(ee)),g){case"u16":case"s16":for(V=0;V<I.length;V+=2)K[V]=I[V+1],K[V+1]=I[V];break;case"u32":case"s32":case"f32":for(V=0;V<I.length;V+=4)K[V]=I[V+3],K[V+1]=I[V+2],K[V+2]=I[V+1],K[V+3]=I[V]}Q=new v(ee)}C.set(Q,$)}const ye=[];if(1===h)ye.push(C);else for(k=0;k<h;k++){for(q=new v(y),F=0;F<y;F++)q[F]=C[F*h+k];ye.push(q)}return{width:d,height:p,pixelType:g,pixels:ye}},i=function(e,r,n){if(!(e&&e.length>0&&r&&n))return null;let l,u,c;const d=e[0].length,p=e.length,g=new Uint8Array(d);for(let h=0;h<p;h++)if(l=e[h],u=r[h],c=n[h],0===h)for(let y=0;y<d;y++)g[y]=l[y]<u||l[y]>c?0:1;else for(let y=0;y<d;y++)g[y]&&(g[y]=l[y]<u||l[y]>c?0:1);return g};function a(e,r,n,l=0,u=!1,c=4){if(n.values)return!0;const d=n.type,p=n.valueCount;let g=n.valueOffset,h=[];const y=se[d],m=8*y,v=p*y,C=p*se[d]*8;let w,b;const j=8===c?64:32,k=n.valueOffsets;if(C>j&&v>(u?e.byteLength:e?e.byteLength-g+l:0))return n.offlineOffsetSize=[g,v],n.values=null,!1;if(C<=j){if(!r)if(j<=32)g>>>=32-C;else{const F=null!=k&&k.length?k[0]:g>>>0,V=null!=k&&k.length?k[1]:Math.round((g-F)/fe);C<=32?(g=F>>>32-C,k[0]=g):(g=F*2**(32-C)+(V>>>32-C),k[0]=F,k[1]=V>>>32-C)}if(1===p&&m===j)h=[g];else if(64===j){const F=null!=k&&k.length?k[0]:g>>>0,V=null!=k&&k.length?k[1]:Math.round((g-F)/fe);let Q=F,$=32;for(b=1;b<=p;b++){const ee=32-m*b%32;if($<m){const I=Q<<ee>>>32-$;Q=V,h.push(I+(V<<32-$>>>32-$)*2**(m-$)),$-=32-(m-$)}else h.push(Q<<ee>>>32-m),$-=m;0===$&&($=32,Q=V)}}else for(b=1;b<=p;b++)h.push(g<<32-m*b>>>32-m)}else{g-=l,u&&(g=0);for(let F=g;F<g+v;F+=y){switch(d){case 1:case 2:case 7:w=new DataView(e,F,1).getUint8(0);break;case 3:w=new DataView(e,F,2).getUint16(0,r);break;case 4:case 13:w=new DataView(e,F,4).getUint32(0,r);break;case 5:w=new DataView(e,F,4).getUint32(0,r)/new DataView(e,F+4,4).getUint32(0,r);break;case 6:w=new DataView(e,F,1).getInt8(0);break;case 8:w=new DataView(e,F,2).getInt16(0,r);break;case 9:w=new DataView(e,F,4).getInt32(0,r);break;case 10:w=new DataView(e,F,4).getInt32(0,r)/new DataView(e,F+4,4).getInt32(0,r);break;case 11:w=new DataView(e,F,4).getFloat32(0,r);break;case 12:w=new DataView(e,F,8).getFloat64(0,r);break;case 16:case 18:w=A(new DataView(e,F,8),0,r);break;case 17:w=E(new DataView(e,F,8),0,r);break;default:w=null}h.push(w)}}if(2===d){let F="";const V=h;for(h=[],b=0;b<V.length;b++)0===V[b]&&""!==F?(h.push(F),F=""):F+=String.fromCharCode(V[b]);""===F&&0!==h.length||h.push(F)}return n.values=h,!0}function s(e){var r,n;const l=e[0],u=z(l,"TILEWIDTH"),c=z(l,"TILELENGTH"),d=z(l,"IMAGEWIDTH"),p=z(l,"IMAGELENGTH"),g=z(l,"BITSPERSAMPLE"),h=z(l,"SAMPLESPERPIXEL"),y=null!=(r=z(l,"SAMPLEFORMAT"))?r:1,m=B(y,g),v=f(l),C=G(l,"GDAL_NODATA");let w;null!=C&&C.length&&(w=C.map(Te=>parseFloat(Te)),w.some(Te=>isNaN(Te))&&(w=null));const b=null!=(n=z(l,"COMPRESSION"))?n:1;let j;switch(b){case 1:j="NONE";break;case 2:case 3:case 4:case 32771:j="CCITT";break;case 5:j="LZW";break;case 6:case 7:j="JPEG";break;case 32773:j="PACKBITS";break;case 8:case 32946:j="DEFLATE";break;case 34712:j="JPEG2000";break;case 34887:j="LERC";break;default:j=String(b)}let k=!0,F="";ae.has(b)||(k=!1,F+="unsupported tag compression "+b),y>3&&(k=!1,F+="unsupported tag sampleFormat "+y),g%8!=0&&(k=!1,F+="unsupported tag bitsPerSample "+g);const V=te(l,"GEOASCIIPARAMS");let Q;if(V){const Te=V.split("|").find(Ie=>Ie.indexOf("ESRI PE String = ")>-1),we=Te?Te.replace("ESRI PE String = ",""):"";Q=we.startsWith("COMPD_CS")||we.startsWith("PROJCS")||we.startsWith("GEOGCS")?{wkid:null,wkt:we}:null}const $=J(l,"GEOTIEPOINTS"),ee=J(l,"GEOPIXELSCALE"),I=J(l,"GEOTRANSMATRIX"),K=l.has("GEOKEYDIRECTORY")?l.get("GEOKEYDIRECTORY").data:null;let q,le,pe=!1;if(K){pe=2===z(K,"GTRasterTypeGeoKey");const Te=z(K,"GTModelTypeGeoKey");if(2===Te){const we=z(K,"GeographicTypeGeoKey");we>=1024&&we<=32766&&(Q={wkid:we})}else if(1===Te){const we=z(K,"ProjectedCSTypeGeoKey");we>=1024&&we<=32766&&(Q={wkid:we})}}if(ee&&$&&$.length>=6?(q=[ee[0],0,$[3]-$[0]*ee[0],0,-Math.abs(ee[1]),$[4]-$[1]*ee[1]],pe&&(q[2]-=.5*q[0]+.5*q[1],q[5]-=.5*q[3]+.5*q[4])):I&&16===I.length&&(q=pe?[I[0],I[1],I[3]-.5*I[0],I[4],I[5],I[7]-.5*I[5]]:[I[0],I[1],I[3],I[4],I[5],I[7]]),q){const Te=[{x:0,y:p},{x:0,y:0},{x:d,y:p},{x:d,y:0}];let we,Ie=Number.POSITIVE_INFINITY,ke=Number.POSITIVE_INFINITY,Re=Number.NEGATIVE_INFINITY,xe=Number.NEGATIVE_INFINITY;for(let Le=0;Le<Te.length;Le++)we=x(Te[Le],q),Ie=we.x>Ie?Ie:we.x,Re=we.x<Re?Re:we.x,ke=we.y>ke?ke:we.y,xe=we.y<xe?xe:we.y;le={xmin:Ie,xmax:Re,ymin:ke,ymax:xe,spatialReference:Q}}else le={xmin:-.5,ymin:.5-p,xmax:d-.5,ymax:.5,spatialReference:Q};const ve=e.filter(Te=>1===te(Te,"NEWSUBFILETYPE"));let ye,Ce,_e,De,Ae;if(ve.length>0){ye=Math.round(Math.log(d/z(ve[0],"IMAGEWIDTH"))/Math.LN2);const Te=ve[ve.length-1];Ce=Math.round(Math.log(d/z(Te,"IMAGEWIDTH"))/Math.LN2),_e=z(Te,"TILEWIDTH"),De=z(Te,"TILELENGTH")}_e=Ce>0?_e||u:null,De=Ce>0?De||c:null,u&&(Ae=[{maxCol:Math.ceil(d/u)-1,maxRow:Math.ceil(p/c)-1,minRow:0,minCol:0}],ve.forEach(Te=>{Ae.push({maxCol:Math.ceil(z(Te,"IMAGEWIDTH")/z(Te,"TILEWIDTH"))-1,maxRow:Math.ceil(z(Te,"IMAGELENGTH")/z(Te,"TILELENGTH"))-1,minRow:0,minCol:0})}));const Ue=function(e){if(!e)return null;const r=e.match(/<Item(.*?)Item>/gi);if(!r||0===r.length)return null;const n=new Map;let l,u,c,d,p;for(let k=0;k<r.length;k++)l=r[k],u=l.slice(6,l.indexOf(">")),d=l.indexOf("sample="),d>-1&&(p=l.slice(d+8,l.indexOf('"',d+8))),d=l.indexOf("name="),d>-1&&(u=l.slice(d+6,l.indexOf('"',d+6))),u&&(c=l.slice(l.indexOf(">")+1,l.indexOf("</Item>")).trim(),null!=p?n.has(u)?n.get(u)[p]=c:n.set(u,[c]):n.set(u,c)),p=null;const g=n.get("STATISTICS_MINIMUM"),h=n.get("STATISTICS_MAXIMUM"),y=n.get("STATISTICS_MEAN"),m=n.get("STATISTICS_STDDEV");let v=null;if(g&&h){v=[];for(let k=0;k<g.length;k++)v.push({min:parseFloat(g[k]),max:parseFloat(h[k]),avg:y&&parseFloat(y[k]),stddev:m&&parseFloat(m[k])})}const C=n.get("BandName"),w=n.get("WavelengthMin"),b=n.get("WavelengthMax");let j=null;if(C){j=[];for(let k=0;k<C.length;k++)j.push({BandName:C[k],WavelengthMin:w&&parseFloat(w[k]),WavelengthMax:b&&parseFloat(b[k])})}return{statistics:v,bandProperties:j,dataType:n.get("DataType"),rawMetadata:n}}(te(e[0],"GDAL_METADATA"));return F+=" "+R({width:d,height:p,tileWidth:u,tileHeight:c,planes:h,ifds:e}),{width:d,height:p,tileWidth:u,tileHeight:c,planes:h,isBSQ:v,pixelType:m,compression:j,noData:w,isSupported:k,message:F,extent:le,affine:ee?null:q,firstPyramidLevel:ye,maximumPyramidLevel:Ce,pyramidBlockWidth:_e,pyramidBlockHeight:De,tileBoundary:Ae,metadata:Ue}}function f(e,r){const n=G(e,"PLANARCONFIGURATION");return n?2===n[0]:!!r&&r.isBSQ}function T(e){const{littleEndian:r,isBigTiff:n,firstIFD:l}=U(e);let u=l;const c=[];do{const d=M(e,r,u,0,oe.Z.TIFF_TAGS,n?8:4);if(!d.success)break;c.push(d.ifd),u=d.nextIFD}while(u>0);return Ee(Se({},s(c)),{littleEndian:r,isBigTiff:n,ifds:c})}function A(e,r,n){const l=e.getUint32(r,n),u=e.getUint32(r+4,n);return n?u*fe+l:l*fe+u}function E(e,r,n){let l=n?e.getInt32(r,n):e.getUint32(r,n),u=n?e.getUint32(r+4,n):e.getInt32(r+4,n);const c=(n?l:u)>=0?1:-1;return n?l*=c:u*=c,c*(n?u*fe+l:l*fe+u)}function O(e,r,n,l){return l?A(e,r,n):e.getUint32(r,n)}function U(e){const r=new DataView(e,0,16),n=r.getUint16(0,!1);let l=null;if(18761===n)l=!0;else{if(19789!==n)throw"unexpected endianess byte";l=!1}const u=r.getUint16(2,l);if(42!==u&&43!==u)throw"unexpected tiff identifier";let c=4;const d=43===u;if(d){const p=r.getUint16(c,l);if(c+=2,8!==p||0!==r.getUint16(c,l))throw"unsupported bigtiff version";c+=2}return{littleEndian:l,isBigTiff:d,firstIFD:O(r,c,l,d)}}function M(e,r,n,l=0,u=oe.Z.TIFF_TAGS,c=4){const d=he(e,r,n,l,u,c);let p;const g=d.ifd;if(g){if(oe.Z.ifdTags.forEach((h,y)=>{g.has(y)&&(p=g.get(y),p.data=he(e,r,p.valueOffset-l,l,h).ifd)}),g.has("GEOKEYDIRECTORY")){p=g.get("GEOKEYDIRECTORY");const h=p.values;if(h&&h.length>4){const y=h[0]+"."+h[1]+"."+h[2];p.data=he(e,r,p.valueOffset+6-l,l,oe.Z.GEO_KEYS,2).ifd,p.data&&p.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[y]})}}if(g.has("XMP")){p=g.get("XMP");const h=p.values;"number"==typeof h[0]&&7===p.type&&(p.values=[(0,me.f)(new Uint8Array(h))])}}return d}function R(e){const{width:r,height:n,tileHeight:l,tileWidth:u}=e,c=e.planes,d=u?u*l:r*n,p=z(e.ifds[0],"BITSPERSAMPLE");let g="";return d*c>2**30/(p>8?p/8:1)&&(g=u?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),g}function N(e,r){return P.apply(this,arguments)}function P(){return(P=(0,X.Z)(function*(e,r){var n;const{headerInfo:l,ifd:u,offsets:c,sizes:d}=r,p=[];for(let le=0;le<c.length;le++){const pe=yield re(e,l.littleEndian,u,c[le],d[le]||e.byteLength);p.push(pe)}const g=f(u,l),{pixelType:h,planes:y}=l,m=Z(h),v=z(u,"TILEWIDTH"),C=z(u,"TILELENGTH"),w=null!=(n=z(u,"COMPRESSION"))?n:1,b=v*C;let j;const k=[];let F=p[0];const V=34887===w;for(let le=0;le<y;le++){if(j=new m(b),g&&V){F=p[le];for(let pe=0;pe<b;pe++)j[pe]=F[le][pe+le]}else if(g||V&&!g)j=F.slice(b*le,b*(le+1));else for(let pe=0;pe<b;pe++)j[pe]=F[pe*y+le];k.push(j)}const Q=l.noData?l.noData[0]:null,$=l.metadata?l.metadata.statistics:null,ee=$?$.map(le=>le.min):null,I=$?$.map(le=>le.max):null;let K,q;if(null!=Q)if(K=new Uint8Array(b),Math.abs(Q)>1e24)for(q=0;q<b;q++)K[q]=Math.abs((k[0][q]-Q)/Q)<1e-6?0:1;else for(q=0;q<b;q++)K[q]=k[0][q]===Q?0:1;else ee&&I&&r.applyMinMaxConstraint&&(K=i(k,ee,I));return{pixelType:h,width:v,height:C,pixels:k,mask:K,noDataValue:Q}})).apply(this,arguments)}function Y(e){return S.apply(this,arguments)}function S(){return(S=(0,X.Z)(function*(e,r=0,n){n=n||T(e);const{ifds:l,noData:u}=n;if(0===l.length)throw"no valid image file directory";const c=R(n);if(c)throw c;let d,p;const g=-1===r?l[l.length-1]:l[r],h=u?u[0]:null;if(p=n.tileWidth?yield _(e,n,g):yield L(e,n,g),null!==h){if(p.mask=new Uint8Array(p.width*p.height),Math.abs(h)>1e24)for(d=0;d<p.width*p.height;d++)p.mask[d]=Math.abs((p.pixels[0][d]-h)/h)<1e-6?0:1;else for(d=0;d<p.width*p.height;d++)p.mask[d]=p.pixels[0][d]===h?0:1;p.noDataValue=h}return p})).apply(this,arguments)}},635:(be,ge,W)=>{W.d(ge,{Z:()=>H});const X=(()=>{const o=[];return o[254]="NEWSUBFILETYPE",o[255]="SUBFILETYPE",o[256]="IMAGEWIDTH",o[257]="IMAGELENGTH",o[258]="BITSPERSAMPLE",o[259]="COMPRESSION",o[262]="PHOTOMETRICINTERPRETATION",o[263]="THRESHHOLDING",o[264]="CELLWIDTH",o[265]="CELLLENGTH",o[266]="FILLORDER",o[269]="DOCUMENTNAME",o[270]="IMAGEDESCRIPTION",o[271]="MAKE",o[272]="MODEL",o[273]="STRIPOFFSETS",o[274]="ORIENTATION",o[277]="SAMPLESPERPIXEL",o[278]="ROWSPERSTRIP",o[279]="STRIPBYTECOUNTS",o[280]="MINSAMPLEVALUE",o[281]="MAXSAMPLEVALUE",o[282]="XRESOLUTION",o[283]="YRESOLUTION",o[284]="PLANARCONFIGURATION",o[285]="PAGENAME",o[286]="XPOSITION",o[287]="YPOSITION",o[288]="FREEOFFSETS",o[289]="FREEBYTECOUNTS",o[290]="GRAYRESPONSEUNIT",o[291]="GRAYRESPONSECURVE",o[292]="T4OPTIONS",o[293]="T6OPTIONS",o[296]="RESOLUTIONUNIT",o[297]="PAGENUMBER",o[300]="COLORRESPONSEUNIT",o[301]="TRANSFERFUNCTION",o[305]="SOFTWARE",o[306]="DATETIME",o[315]="ARTIST",o[316]="HOSTCOMPUTER",o[317]="PREDICTOR",o[318]="WHITEPOINT",o[319]="PRIMARYCHROMATICITIES",o[320]="COLORMAP",o[321]="HALFTONEHINTS",o[322]="TILEWIDTH",o[323]="TILELENGTH",o[324]="TILEOFFSETS",o[325]="TILEBYTECOUNTS",o[326]="BADFAXLINES",o[327]="CLEANFAXDATA",o[328]="CONSECUTIVEBADFAXLINES",o[330]="SUBIFD",o[332]="INKSET",o[333]="INKNAMES",o[334]="NUMBEROFINKS",o[336]="DOTRANGE",o[337]="TARGETPRINTER",o[338]="EXTRASAMPLES",o[339]="SAMPLEFORMAT",o[340]="SMINSAMPLEVALUE",o[341]="SMAXSAMPLEVALUE",o[342]="TRANSFERRANGE",o[347]="JPEGTABLES",o[512]="JPEGPROC",o[513]="JPEGIFOFFSET",o[514]="JPEGIFBYTECOUNT",o[515]="JPEGRESTARTINTERVAL",o[517]="JPEGLOSSLESSPREDICTORS",o[518]="JPEGPOINTTRANSFORM",o[519]="JPEGQTABLES",o[520]="JPEGDCTABLES",o[521]="JPEGACTABLES",o[529]="YCBCRCOEFFICIENTS",o[530]="YCBCRSUBSAMPLING",o[531]="YCBCRPOSITIONING",o[532]="REFERENCEBLACKWHITE",o[700]="XMP",o[33550]="GEOPIXELSCALE",o[33922]="GEOTIEPOINTS",o[33432]="COPYRIGHT",o[42112]="GDAL_METADATA",o[42113]="GDAL_NODATA",o[50844]="RPCCOEFFICIENT",o[34264]="GEOTRANSMATRIX",o[34735]="GEOKEYDIRECTORY",o[34736]="GEODOUBLEPARAMS",o[34737]="GEOASCIIPARAMS",o[34665]="EXIFIFD",o[34853]="GPSIFD",o[40965]="INTEROPERABILITYIFD",o})(),me=(()=>{const o=[].concat(X);return o[36864]="ExifVersion",o[40960]="FlashpixVersion",o[40961]="ColorSpace",o[42240]="Gamma",o[37121]="ComponentsConfiguration",o[37122]="CompressedBitsPerPixel",o[40962]="PixelXDimension",o[40963]="PixelYDimension",o[37500]="MakerNote",o[37510]="UserComment",o[40964]="RelatedSoundFile",o[36867]="DateTimeOriginal",o[36868]="DateTimeDigitized",o[36880]="OffsetTime",o[36881]="OffsetTimeOriginal",o[36882]="OffsetTimeDigitized",o[37520]="SubSecTime",o[37521]="SubSecTimeOriginal",o[37522]="SubSecTimeDigitized",o[37888]="Temperature",o[37889]="Humidity",o[37890]="Pressure",o[37891]="WaterDepth",o[37892]="Acceleration",o[37893]="CameraElevationAngle",o[42016]="ImageUniqueID",o[42032]="CameraOwnerName",o[42033]="BodySerialNumber",o[42034]="LensSpecification",o[42035]="LensMake",o[42036]="LensModel",o[42037]="LensSerialNumber",o[33434]="ExposureTime",o[33437]="FNumber",o[34850]="ExposureProgram",o[34852]="SpectralSensitivity",o[34855]="PhotographicSensitivity",o[34856]="OECF",o[34864]="SensitivityType",o[34865]="StandardOutputSensitivity",o[34866]="RecommendedExposureIndex",o[34867]="ISOSpeed",o[34868]="ISOSpeedLatitudeyyy",o[34869]="ISOSpeedLatitudezzz",o[37377]="ShutterSpeedValue",o[37378]="ApertureValue",o[37379]="BrightnessValue",o[37380]="ExposureBiasValue",o[37381]="MaxApertureValue",o[37382]="SubjectDistance",o[37383]="MeteringMode",o[37384]="LightSource",o[37385]="Flash",o[37386]="FocalLength",o[37396]="SubjectArea",o[41483]="FlashEnergy",o[41484]="SpatialFrequencyResponse",o[41486]="FocalPlaneXResolution",o[41487]="FocalPlaneYResolution",o[41488]="FocalPlaneResolutionUnit",o[41492]="SubjectLocation",o[41493]="ExposureIndex",o[41495]="SensingMethod",o[41728]="FileSource",o[41729]="SceneType",o[41730]="CFAPattern",o[41985]="CustomRendered",o[41986]="ExposureMode",o[41987]="WhiteBalance",o[41988]="DigitalZoomRatio",o[41989]="FocalLengthIn35mmFilm",o[41990]="SceneCaptureType",o[41991]="GainControl",o[41992]="Contrast",o[41993]="Saturation",o[41994]="Sharpness",o[41995]="DeviceSettingDescription",o[41996]="SubjectDistanceRange",o})(),ie=(()=>{const o=[];return o[1024]="GTModelTypeGeoKey",o[1025]="GTRasterTypeGeoKey",o[1026]="GTCitationGeoKey",o[2048]="GeographicTypeGeoKey",o[2049]="GeogCitationGeoKey",o[2050]="GeogGeodeticDatumGeoKey",o[2051]="GeogPrimeMeridianGeoKey",o[2052]="GeogLinearUnitsGeoKey",o[2053]="GeogLinearUnitSizeGeoKey",o[2054]="GeogAngularUnitsGeoKey",o[2055]="GeogAngularUnitSizeGeoKey",o[2056]="GeogEllipsoidGeoKey",o[2057]="GeogSemiMajorAxisGeoKey",o[2058]="GeogSemiMinorAxisGeoKey",o[2059]="GeogInvFlatteningGeoKey",o[2061]="GeogPrimeMeridianLongGeoKey",o[2060]="GeogAzimuthUnitsGeoKey",o[3072]="ProjectedCSTypeGeoKey",o[3073]="PCSCitationGeoKey",o[3074]="ProjectionGeoKey",o[3075]="ProjCoordTransGeoKey",o[3076]="ProjLinearUnitsGeoKey",o[3077]="ProjLinearUnitSizeGeoKey",o[3078]="ProjStdParallel1GeoKey",o[3079]="ProjStdParallel2GeoKey",o[3080]="ProjNatOriginLongGeoKey",o[3081]="ProjNatOriginLatGeoKey",o[3082]="ProjFalseEastingGeoKey",o[3083]="ProjFalseNorthingGeoKey",o[3084]="ProjFalseOriginLongGeoKey",o[3085]="ProjFalseOriginLatGeoKey",o[3086]="ProjFalseOriginEastingGeoKey",o[3087]="ProjFalseOriginNorthingGeoKey",o[3088]="ProjCenterLongGeoKey",o[3090]="ProjCenterEastingGeoKey",o[3091]="ProjCenterNorthingGeoKey",o[3092]="ProjScaleAtNatOriginGeoKey",o[3093]="ProjScaleAtCenterGeoKey",o[3094]="ProjAzimuthAngleGeoKey",o[3095]="ProjStraightVertPoleLongGeoKey",o[4096]="VerticalCSTypeGeoKey",o[4097]="VerticalCitationGeoKey",o[4098]="VerticalDatumGeoKey",o[4099]="VerticalUnitsGeoKey",o})(),oe=new Map;oe.set("EXIFIFD",me),oe.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const H={TIFF_TAGS:X,ifdTags:oe,GEO_KEYS:ie,getTagName:function(o,se){let fe=(se||X)[o];return void 0===fe&&(fe="unknown"+String(o)),fe}}},44853:(be,ge,W)=>{W.d(ge,{f:()=>X});const X=(()=>{const me=new ArrayBuffer(4),ue=new Uint8Array(me);return new Uint32Array(me)[0]=1,1===ue[0]})()},54805:(be,ge,W)=>{W.d(ge,{Z:()=>L});var X=W(17626),me=W(78260),ue=W(86810),ie=W(63290),de=W(62208),oe=W(77712),fe=(W(85931),W(8314),W(90912),W(76898)),ae=W(79645),B=W(77692),Z=W(60295);function x(i){let{altitude:t,azimuth:a}=i;const{hillshadeType:s,pixelSizePower:f,pixelSizeFactor:T,scalingType:A,isGCS:E,resolution:O}=i,U="multi-directional"===s?2*i.zFactor:i.zFactor,{x:M,y:R}=O;let N=U/(8*M),P=U/(8*R);if(E&&U>.001&&(N/=111e3,P/=111e3),"adjusted"===A)if(E){const v=111e3*M,C=111e3*R;N=(U+v**f*T)/(8*v),P=(U+C**f*T)/(8*C)}else N=(U+M**f*T)/(8*M),P=(U+R**f*T)/(8*R);let Y=(90-t)*Math.PI/180,S=Math.cos(Y),e=(360-a+90)*Math.PI/180,r=Math.sin(Y)*Math.cos(e),n=Math.sin(Y)*Math.sin(e);const l=[315,270,225,360,180,0],u=[60,60,60,60,60,90],c=new Float32Array([3,5,3,2,1,4]),d=c.reduce((v,C)=>v+C),p=c.map(v=>v/d),g="multi-directional"===s?l.length:1,h=new Float32Array(6),y=new Float32Array(6),m=new Float32Array(6);if("multi-directional"===s)for(let v=0;v<g;v++)t=u[v],a=l[v],Y=(90-t)*Math.PI/180,S=Math.cos(Y),e=(360-a+90)*Math.PI/180,r=Math.sin(Y)*Math.cos(e),n=Math.sin(Y)*Math.sin(e),h[v]=S,y[v]=r,m[v]=n;else h.fill(S),y.fill(r),m.fill(n);return{resolution:O,factor:[N,P],sinZcosA:r,sinZsinA:n,cosZ:S,sinZcosAs:y,sinZsinAs:m,cosZs:h,weights:p,hillshadeType:["traditional","multi-directional"].indexOf(s)}}var te=W(70208);const z=ie.Z.getLogger("esri.renderers.support.RasterSymbolizer"),ce={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]};let _=class extends ue.wq{constructor(i){super(i)}bind(){const{rendererJSON:i}=this;if(!i)return{success:!1};let t;switch(this.lookup={rendererJSON:{}},i.type){case"uniqueValue":t=this._updateUVRenderer(i);break;case"rasterColormap":t=this._updateColormapRenderer(i);break;case"rasterStretch":t=this._updateStretchRenderer(i);break;case"classBreaks":t=this._updateClassBreaksRenderer(i);break;case"rasterShadedRelief":t=this._updateShadedReliefRenderer(i);break;case"vectorField":t=this._updateVectorFieldRenderer();break;case"flowRenderer":t=this._updateFlowRenderer()}return t}symbolize(i){let t=i&&i.pixelBlock;if(!D(t))return t;if(i.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(t,i.simpleStretchParams);try{let a;switch(t.pixels.length>3&&(t=(0,B.qF)(t,[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":a=this._symbolizeColormap(t);break;case"classBreaks":a=this._symbolizeClassBreaks(t);break;case"rasterStretch":a=this._symbolizeStretch(t,i.bandIds);break;case"rasterShadedRelief":{const{extent:s}=i;a=this._symbolizeShadedRelief(t,{isGCS:s.spatialReference.isGeographic,resolution:{x:(s.xmax-s.xmin)/t.width,y:(s.ymax-s.ymin)/t.height}});break}}return a}catch(a){return z.error("symbolize",a.message),t}}simpleStretch(i,t){if(!D(i))return i;try{return i.pixels.length>3&&(i=(0,B.qF)(i,[0,1,2])),(0,B.dy)(i,t)}catch(a){return z.error("symbolize",a.message),i}}generateWebGLParameters(i){if(["uniqueValue","rasterColormap","classBreaks"].indexOf(this.rendererJSON.type)>-1){var t;const{indexedColormap:E,offset:O}=(null==(t=this.lookup)?void 0:t.colormapLut)||{};return{colormap:E,colormapOffset:O,type:"lut"}}const{pixelBlock:a,isGCS:s,resolution:f,bandIds:T}=i,{rendererJSON:A}=this;return"rasterStretch"===A.type?this._generateStretchWebGLParams(a,A,T):"rasterShadedRelief"===A.type?this._generateShadedReliefWebGLParams(A,s,f):"vectorField"===A.type?this._generateVectorFieldWebGLParams(A):null}_isLUTChanged(i){if(!this.lookup||!this.lookup.rendererJSON)return!0;if("colorRamp"in this.rendererJSON){const t=this.rendererJSON.colorRamp;return i?JSON.stringify(t)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(i){return this._isLUTChanged()&&!this.bind().success?i:(0,B.SJ)(i,this.lookup.colormapLut)}_symbolizeClassBreaks(i){const a=["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType)>-1;return this._isLUTChanged()&&!this.bind().success?i:a?(0,B.SJ)(i,this.lookup.colormapLut):(0,B.zp)(i,this.lookup.remapLut)}_symbolizeStretch(i,t){const{pixelType:a,bandCount:s}=this.rasterInfo,f=this.rendererJSON,T=["u8","u16","s8","s16"].indexOf(a)>-1;let A,E;const{dra:O}=f,U=f.useGamma?f.gamma:null;if("histogramEqualization"===f.stretchType){const N=O?null:this.lookup.histogramLut,P=this._getStretchCutoff(f,i,t,!N),Y=(0,B.dy)(i,Ee(Se({},P),{gamma:U}));E=(0,B.XV)(Y,{lut:O?P.histogramLut:N,offset:0})}else if(T){var M,R;if(O){const N=this._getStretchCutoff(f,i,t);A=(0,B.hE)(Ee(Se({pixelType:a},N),{gamma:U}))}else if(this._isLUTChanged()){if(!this.bind().success)return i;A=this.lookup?this.lookup.stretchLut:null}else A=this.lookup?this.lookup.stretchLut:null;if(!A)return i;s>1&&(null==t?void 0:t.length)===(null==(M=(0,de.Wg)(i))?void 0:M.pixels.length)&&(null==(R=A)?void 0:R.lut.length)===s&&(A={lut:t.map(N=>A.lut[N]),offset:A.offset}),E=(0,B.XV)(i,A)}else{const N=this._getStretchCutoff(f,i,t);E=(0,B.dy)(i,Ee(Se({},N),{gamma:U}))}if(f.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return i;E=(0,B.SJ)(E,this.lookup.colormapLut)}return E}_symbolizeShadedRelief(i,t){var a,s;const f=this.rendererJSON,A=function G(i,t){if(!(0,B.nk)(i))return i;const{width:a,height:s,mask:f}=i,T=new Uint8Array(a*s);f&&T.set(f);const{factor:A,sinZcosA:E,sinZsinA:O,cosZ:U,sinZcosAs:M,sinZsinAs:R,cosZs:N,weights:P}=x(t),[Y,S]=A,{hillshadeType:e}=t,r=i.pixels[0],n=new Uint8Array(a*s);let l,u,c,d,p,g,h,y;for(let v=1;v<s-1;v++){const C=v*a;for(let w=1;w<a-1;w++){if(f&&!f[C+w]){n[C+w]=0;continue}let b=8;if(f&&(b=f[C-a+w-1]+f[C-a+w]+f[C-a+w+1]+f[C+w-1]+f[C+w+1]+f[C+a+w-1]+f[C+a+w]+f[C+a+w+1],b<7)){n[C+w]=0,T[C+w]=0;continue}7===b?(l=f[C-a+w-1]?r[C-a+w-1]:r[C+w],u=f[C-a+w]?r[C-a+w]:r[C+w],c=f[C-a+w+1]?r[C-a+w+1]:r[C+w],d=f[C+w-1]?r[C+w-1]:r[C+w],p=f[C+w+1]?r[C+w+1]:r[C+w],g=f[C+a+w-1]?r[C+a+w-1]:r[C+w],h=f[C+a+w]?r[C+a+w]:r[C+w],y=f[C+a+w+1]?r[C+a+w+1]:r[C+w]):(l=r[C-a+w-1],u=r[C-a+w],c=r[C-a+w+1],d=r[C+w-1],p=r[C+w+1],g=r[C+a+w-1],h=r[C+a+w],y=r[C+a+w+1]);const j=(c+p+p+y-(l+d+d+g))*Y,k=(g+h+h+y-(l+u+u+c))*S,F=Math.sqrt(1+j*j+k*k);let V=0;if("traditional"===e){let Q=255*(U+O*k-E*j)/F;Q<0&&(Q=0),V=Q}else{const Q=R.length;for(let $=0;$<Q;$++){let ee=255*(N[$]+R[$]*k-M[$]*j)/F;ee<0&&(ee=0),V+=ee*P[$]}}n[C+w]=255&V}}for(let v=0;v<s;v++)n[v*a]=n[v*a+1],n[(v+1)*a-1]=n[(v+1)*a-2];for(let v=1;v<a-1;v++)n[v]=n[v+a],n[v+(s-1)*a]=n[v+(s-2)*a];return new Z.Z({width:a,height:s,pixels:[n],mask:f?T:null,pixelType:"u8",validPixelCount:i.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}(i,Se(Se({},f),t));if(!f.colorRamp)return A;let E;if(this._isLUTChanged(!0)){if(!this.bind().success)return A;E=this.lookup?this.lookup.hsvMap:null}else E=this.lookup?this.lookup.hsvMap:null;return E?(function J(i,t,a,s){if(!(0,B.nk)(i)||!(0,B.nk)(t))return;const{min:f,max:T}=s,A=i.pixels[0],{pixels:E,mask:O}=t,U=E[0],M=255.00001/(T-f),R=new Uint8ClampedArray(U.length),N=new Uint8ClampedArray(U.length),P=new Uint8ClampedArray(U.length),Y=a.length-1;for(let S=0;S<U.length;S++){if(O&&0===O[S])continue;const e=Math.floor((U[S]-f)*M),[r,n]=a[e<0?0:e>Y?Y:e],l=A[S],u=l*n,c=u*(1-Math.abs(r%2-1)),d=l-u;switch(Math.floor(r)){case 0:R[S]=u+d,N[S]=c+d,P[S]=d;break;case 1:R[S]=c+d,N[S]=u+d,P[S]=d;break;case 2:R[S]=d,N[S]=u+d,P[S]=c+d;break;case 3:R[S]=d,N[S]=c+d,P[S]=u+d;break;case 4:R[S]=c+d,N[S]=d,P[S]=u+d;break;case 5:case 6:R[S]=u+d,N[S]=d,P[S]=c+d}}i.pixels=[R,N,P],i.updateStatistics()}(A,i,E,null!=(a=null==(s=(0,de.Wg)(this.rasterInfo.statistics))?void 0:s[0])?a:{min:0,max:8e3}),A):A}_isVectorFieldData(){const{bandCount:i,dataType:t}=this.rasterInfo;return 2===i&&("vector-magdir"===t||"vector-uv"===t)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(i){const{bandCount:t,attributeTable:a,pixelType:s}=this.rasterInfo,f=i.field1;if(!f)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const T=i.defaultSymbol,A=1===t&&["u8","s8"].includes(s);if(!function he(i,t){const{attributeTable:a,bandCount:s}=i;return!(!(0,de.pC)(a)||s>1||t&&null==a.fields.find(f=>f.name.toLowerCase()===t.toLowerCase()))}(this.rasterInfo,f)&&!A)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const E=[];if(a){const U=a.fields.find(M=>"value"===M.name.toLowerCase());if(!U)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};a.features.forEach(M=>{var R;const N=i.uniqueValueInfos.find(Y=>String(Y.value)===String(M.attributes[f])),P=null==N||null==(R=N.symbol)?void 0:R.color;P?E.push([M.attributes[U.name]].concat(P)):T&&E.push([M.attributes[U.name]].concat(T.color))})}else{if("value"!==f.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};i.uniqueValueInfos.forEach(U=>{var M;const R=null==U||null==(M=U.symbol)?void 0:M.color;R?E.push([parseInt(""+U.value,10)].concat(R)):T&&E.push([parseInt(""+U.value,10)].concat(T.color))})}if(0===E.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const O=(0,B.Pz)({colormap:E});return this.lookup={rendererJSON:i,colormapLut:O},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(i){if(!function re(i){const{bandCount:t,colormap:a}=i;return(0,de.pC)(a)&&a.length&&1===t}(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const t=i.colormapInfos.map(s=>[s.value].concat(s.color)).sort((s,f)=>s[0]-f[0]);if(!t||0===t.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const a=(0,B.Pz)({colormap:t});return this.lookup={rendererJSON:i,colormapLut:a},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(i){if(!function ne(i){return"elevation"===i.dataType}(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation".`};if(i.colorRamp){const t=(0,te.Jw)(i.colorRamp,256,!0),a=(0,B.Pz)({colormap:t}),s=[],f=a.indexedColormap;for(let T=0;T<f.length;T+=4){const A=(0,me._Y)({r:f[T],g:f[T+1],b:f[T+2]});s.push([A.h/60,A.s/100,255*A.v/100])}this.lookup={rendererJSON:i,colormapLut:a,hsvMap:s}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_updateClassBreaksRenderer(i){const a=["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType)>-1,s=i.classBreakInfos;if(null==s||!s.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const f=s.sort((M,R)=>M.classMaxValue-R.classMaxValue),T=f[f.length-1];let A=i.minValue;if(!a){const M=[];for(let R=0;R<f.length;R++){var E;M.push({value:null!=(E=f[R].classMinValue)?E:A,mappedColor:f[R].symbol.color}),A=f[R].classMaxValue}return M.push({value:T.classMaxValue,mappedColor:T.symbol.color}),this.lookup={rendererJSON:i,remapLut:M},this.canRenderInWebGL=!1,{success:!0}}const O=[];A=Math.floor(i.minValue);for(let M=0;M<f.length;M++){const R=f[M];for(let N=A;N<R.classMaxValue;N++)O.push([N].concat(R.symbol.color));A=Math.ceil(R.classMaxValue)}T.classMaxValue===A&&O.push([T.classMaxValue].concat(T.symbol.color));const U=(0,B.Pz)({colormap:O,fillUnspecified:!1});return this.lookup={rendererJSON:i,colormapLut:U},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(i){return"percentClip"===i||"histogramEqualization"===i}_isValidRasterStatistics(i){return(0,de.pC)(i)&&i.length>0&&null!=i[0].min&&null!=i[0].max}_updateStretchRenderer(i){var t;let{stretchType:a,dra:s}=i;if(!("none"===a||null!=(t=i.statistics)&&t.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||s))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const f=(0,de.Wg)(i.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(i.stretchType)||null!=f&&f.length||s||(a="minMax");const{gamma:T,useGamma:A,colorRamp:E}=i,O=this.rasterInfo.pixelType,U=!s&&["u8","u16","s8","s16"].indexOf(O)>-1;if("histogramEqualization"===a){const M=f.map(R=>(0,B.oc)(R));this.lookup={rendererJSON:i,histogramLut:M}}else if(U){const M=this._getStretchCutoff(i),R=(0,B.hE)(Ee(Se({pixelType:O},M),{gamma:A?T:null}));this.lookup={rendererJSON:i,stretchLut:R}}if(E){const M=(0,te.Jw)(E,256,!0);this.lookup||(this.lookup={rendererJSON:i}),this.lookup.colormapLut=(0,B.Pz)({colormap:M}),this.lookup.rendererJSON=i}return this.canRenderInWebGL=!0,{success:!0}}_getStretchCutoff(i,t=null,a,s){var f,T,A;let E,O,U=i.stretchType;var M;if(i.dra)if("minMax"===U&&(0,de.pC)(t)&&t.statistics)E=t.statistics.map(m=>[m.minValue,m.maxValue,0,0]);else{const m=(0,B.Hv)(t);E=(0,de.pC)(m)?m.statistics:null,O=(0,de.pC)(m)?m.histograms:null}else E=(null==(M=i.statistics)?void 0:M.length)>0?i.statistics:(0,de.Wg)(this.rasterInfo.statistics),O=i.histograms||(0,de.Wg)(this.rasterInfo.histograms);!this._isHistogramRequired(U)||null!=(f=O)&&f.length||(U="minMax");const R=(null==(T=E)?void 0:T.length)||(null==(A=O)?void 0:A.length)||this.rasterInfo.bandCount,N=[],P=[];let Y,S,e,r,n,l,u,c,d,p,g,h;switch(E&&!Array.isArray(E[0])&&(E=E.map(m=>[m.min,m.max,m.avg,m.stddev])),U){case"none":{const m=ce[this.rasterInfo.pixelType]||ce.f32;for(c=0;c<R;c++)N[c]=m[0],P[c]=m[1]}break;case"minMax":for(c=0;c<R;c++)N[c]=E[c][0],P[c]=E[c][1];break;case"standardDeviation":for(c=0;c<R;c++)N[c]=E[c][2]-i.numberOfStandardDeviations*E[c][3],P[c]=E[c][2]+i.numberOfStandardDeviations*E[c][3],N[c]<E[c][0]&&(N[c]=E[c][0]),P[c]>E[c][1]&&(P[c]=E[c][1]);break;case"histogramEqualization":for(c=0;c<R;c++)N[c]=O[c].min,P[c]=O[c].max;break;case"percentClip":for(c=0;c<O.length;c++){for(Y=O[c],n=new Uint32Array(Y.size),r=[...Y.counts],r.length>=20&&(r[0]=r[1]=r[2]=r[r.length-1]=r[r.length-2]=0),e=0,S=(Y.max-Y.min)/Y.size,u=-.5===Y.min&&1===S?.5:0,d=0;d<Y.size;d++)e+=r[d],n[d]=e;for(l=(i.minPercent||0)*e/100,d=0;d<Y.size;d++)if(n[d]>l){N[c]=Y.min+S*(d+u);break}for(l=(1-(i.maxPercent||0)/100)*e,d=Y.size-2;d>=0;d--)if(n[d]<l){P[c]=Y.min+S*(d+2-u);break}}break;default:for(c=0;c<R;c++)N[c]=E[c][0],P[c]=E[c][1]}return"histogramEqualization"===U?(g=O[0].size||256,p=0,s&&(h=O.map(m=>(0,B.oc)(m)))):(g=i.max||255,p=i.min||0),this._getSelectedBandCutoffs({minCutOff:N,maxCutOff:P,outMax:g,outMin:p,histogramLut:h},a)}_getSelectedBandCutoffs(i,t){if(null==t||0===t.length)return i;const a=Math.max.apply(null,t),{minCutOff:s,maxCutOff:f,outMin:T,outMax:A,histogramLut:E}=i;return s.length===t.length||s.length<=a?i:{minCutOff:t.map(O=>s[O]),maxCutOff:t.map(O=>f[O]),histogramLut:E?t.map(O=>E[O]):null,outMin:T,outMax:A}}_generateStretchWebGLParams(i,t,a){let s=null,f=null;const T=this.lookup&&this.lookup.colormapLut;t.colorRamp&&T&&(s=T.indexedColormap,f=T.offset),"histogramEqualization"===t.stretchType&&(t=Ee(Se({},t),{stretchType:"minMax"}));const{gamma:A}=t,E=!!(t.useGamma&&A&&A.some(n=>1!==n)),{minCutOff:O,maxCutOff:U,outMin:M,outMax:R}=this._getStretchCutoff(t,i,a);let N=0;(0,de.pC)(i)&&(N=i.getPlaneCount(),2===N&&((i=i.clone()).statistics=[i.statistics[0]],i.pixels=[i.pixels[0]]));const P=Math.min(3,(null==a?void 0:a.length)||N||this.rasterInfo.bandCount),Y=new Float32Array(P),S=s||E?1:255;let e;for(e=0;e<P;e++)Y[e]=(R-M)/(U[e]-O[e])/S;const r=new Float32Array(P);if(E)for(e=0;e<P;e++)r[e]=A[e]>1?A[e]>2?6.5+(A[e]-2)**2.5:6.5+100*(2-A[e])**4:1;return{bandCount:P,outMin:M/S,outMax:R/S,minCutOff:O,maxCutOff:U,factor:Y,useGamma:E,gamma:E?A:[1,1,1],gammaCorrection:E?r:[1,1,1],colormap:s,colormapOffset:f,stretchType:t.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(i,t,a){var s,f,T;let A=null,E=null;const O=this.lookup&&this.lookup.colormapLut;i.colorRamp&&O&&(A=O.indexedColormap,E=O.offset);const M=x(Ee(Se({},i),{isGCS:t,resolution:a})),R=null==(s=(0,de.Wg)(this.rasterInfo.statistics))?void 0:s[0];return Ee(Se({},M),{minValue:null!=(f=null==R?void 0:R.min)?f:0,maxValue:null!=(T=null==R?void 0:R.max)?T:8e3,hillshadeType:"traditional"===i.hillshadeType?0:1,type:"hillshade",colormap:A,colormapOffset:E})}_generateVectorFieldWebGLParams(i){var t,a,s,f,T,A,E,O;const{style:U,inputUnit:M,outputUnit:R,visualVariables:N,symbolTileSize:P,flowRepresentation:Y}=i;let S;const e=null!=(t=null==(a=this.rasterInfo.statistics)?void 0:a[0].min)?t:0,r=null!=(s=null==(f=this.rasterInfo.statistics)?void 0:f[0].max)?s:50,n=null!=(T=null==N?void 0:N.find(h=>"sizeInfo"===h.type))?T:{type:"sizeInfo",field:"Magnitude",maxDataValue:r,maxSize:.8*P,minDataValue:e,minSize:.2*P},l=null!=(A=n.minDataValue)?A:e,u=null!=(E=n.maxDataValue)?E:r,c=(0,de.pC)(n.maxSize)&&(0,de.pC)(n.minSize)?[n.minSize/P,n.maxSize/P]:[.2,.8];"wind_speed"===U&&(c[0]=c[1]=(c[0]+c[1])/2);const d=(0,de.pC)(l)&&(0,de.pC)(u)?[l,u]:null;if("classified_arrow"===U)if((0,de.pC)(l)&&(0,de.pC)(u)&&(0,de.pC)(n)){S=[];const h=(n.maxDataValue-n.minDataValue)/5;for(let y=0;y<6;y++)S.push(n.minDataValue+h*y)}else S=[0,1e-6,3.5,7,10.5,14];const p="flow_to"===Y==("ocean_current_kn"===U||"ocean_current_m"===U)?0:Math.PI,g=null==N?void 0:N.find(h=>"rotationInfo"===h.type);return{breakValues:S,dataRange:d,inputUnit:M,outputUnit:R,symbolTileSize:P,symbolPercentRange:c,style:U||"single_arrow",rotation:p,rotationType:(null==(O=this.rasterInfo.storageInfo)?void 0:O.tileInfo)&&"vector-uv"===this.rasterInfo.dataType?"geographic":(null==g?void 0:g.rotationType)||i.rotationType,type:"vectorField"}}};function D(i){return(0,B.nk)(i)&&0!==i.validPixelCount}(0,X._)([(0,oe.Cb)({json:{write:!0}})],_.prototype,"rendererJSON",void 0),(0,X._)([(0,oe.Cb)({type:ae.Z,json:{write:!0}})],_.prototype,"rasterInfo",void 0),(0,X._)([(0,oe.Cb)({json:{write:!0}})],_.prototype,"lookup",void 0),(0,X._)([(0,oe.Cb)()],_.prototype,"canRenderInWebGL",void 0),_=(0,X._)([(0,fe.j)("esri.renderers.support.RasterSymbolizer")],_);const L=_},70208:(be,ge,W)=>{W.d(ge,{Ms:()=>ue,Jw:()=>se,Uh:()=>o,pM:()=>fe,io:()=>Z});var X=W(91558),me=W(78260);const ue=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],ie={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};function de(x,G){if(!x||!G||x.length!==G.length)return!1;for(let J=0;J<x.length;J++)if(x[J]>G[J]+2||x[J]<G[J]-2)return!1;return!0}function oe(x,G,J){const te=(0,me.Y3)(x),z=(0,me.Y3)(G);return(0,me.xr)({l:te.l*(1-J)+J*z.l,a:te.a*(1-J)+J*z.a,b:te.b*(1-J)+J*z.b})}function o(x){const G=function H(x,G){if(!x)return;const J=G||ue;let te,z=null;return"algorithmic"===x.type?J.some(he=>{if(de(x.fromColor.toRgb(),he.fromColor)&&de(x.toColor.toRgb(),he.toColor))return z=he.id,!0}):"multipart"===x.type&&J.some(he=>{if(x.colorRamps&&he.colorRamps&&x.colorRamps.length===he.colorRamps.length&&(te=x.colorRamps,!he.colorRamps.some((ne,re)=>{if(!de(te[re].fromColor.toRgb(),new X.Z(ne.fromColor).toRgb())||!de(te[re].toColor.toRgb(),new X.Z(ne.toColor).toRgb()))return!0}))){if(z)return!0;z=he.id}}),z}(x);return G?ie[G]:null}function se(x,G,J=!1){if(!x||!G||G<1)return;const te="toJSON"in x?x.toJSON():x,z="multipart"===te.type?te.colorRamps.length:1,he=[],ne=[];let re,ce,_,D,L,i=0;if(1===G)return re="multipart"===te.type?te.colorRamps[0].fromColor:te.fromColor,ne.push([0].concat(re)),ne;for(let t=0;t<z;t++)he[t]={start:null,end:null},he[t].start=i,he[t].end=i+1/z,i=he[t].end;for(let t=0;t<G;t++)D=t/(G-1),he.forEach((a,s)=>{if(D>=a.start&&(D<a.end||t===G-1&&s===z-1)){L=(D-a.start)/(a.end-a.start),"multipart"===te.type?(re=te.colorRamps[s].fromColor,ce=te.colorRamps[s].toColor):(re=te.fromColor,ce=te.toColor),0===t?ne.push([t].concat(re.slice(0,3))):t===G-1?ne.push([t].concat(ce.slice(0,3))):(_=oe({r:re[0],g:re[1],b:re[2]},{r:ce[0],g:ce[1],b:ce[2]},L),ne.push([t,_.r,_.g,_.b]));const f=null!=re[3]?re[3]>1?re[3]/255:re[3]:1,T=null!=ce[3]?ce[3]>1?ce[3]/255:ce[3]:1;J&&ne[t].push(Math.min(255,Math.round(255*(f*(1-L)+T*L))))}});return ne}function fe(x){const G=o(x);if(x){if("algorithmic"===x.type)return Ee(Se({},ae(x)),{Name:G});if(x.colorRamps){const J=x.colorRamps.map(ae);return{type:"MultiPartColorRamp",NumColorRamps:J.length,ArrayOfColorRamp:J,Name:G}}}}function ae(x){if(!x)return;const G=x.toJSON();return{Algorithm:(null==G?void 0:G.Algorithm)||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:B(x.fromColor),ToColor:B(x.toColor)}}function B(x){const G=(0,me._Y)(x);return{type:"HsvColor",Hue:G.h,Saturation:G.s,Value:G.v,AlphaValue:255}}function Z(x){const G=x.reverse().map(J=>{const te=J.toString(16);return te.length<2?"0"+te:te});return 4294967295&Number.parseInt(G.join(""),16)}}}]);