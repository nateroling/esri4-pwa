"use strict";var H=Object.defineProperty,k=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,$=(y,f,n)=>f in y?H(y,f,{enumerable:!0,configurable:!0,writable:!0,value:n}):y[f]=n,I=(y,f)=>{for(var n in f||(f={}))Y.call(f,n)&&$(y,n,f[n]);if(G)for(var n of G(f))J.call(f,n)&&$(y,n,f[n]);return y},B=(y,f)=>k(y,Q(f));(self.webpackChunkesri4_pwa=self.webpackChunkesri4_pwa||[]).push([[5024],{52884:(y,f,n)=>{n.d(f,{AM:()=>R});var h=n(17626),d=n(14517),l=n(8314),T=n(58817),b=n(63290),t=n(77712),u=(n(90912),n(76898)),C=n(29538),r=n(53390);let R=class extends d.Z{constructor(i){super(i),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,l.Z)("mapview-transitions-duration"),this.effects=[]}set effect(i){if(this._get("effect")!==(i=i||"")){this._set("effect",i);try{this._transitionTo(P(i))}catch(o){this._transitionTo([]),b.Z.getLogger(this.declaredClass).warn("Invalid Effect",{effect:i,error:o})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(i){this._updateForScale(i)}get transitioning(){return null!==this._to}canTransitionTo(i){try{return this.scale>0&&D(this._current,P(i),this.scale)}catch(o){return!1}}transitionStep(i,o){this._applyTimeTransition(i),this._updateForScale(o)}end(){this._applyTimeTransition(this.duration)}_transitionTo(i){this.scale>0&&D(this._current,i,this.scale)?(this._final=i,this._to=(0,T.d9)(i),function K(i,o,g){var m,V;const E=i.length>o.length?i:o,_=i.length>o.length?o:i,p=_[_.length-1],M=null!=(m=null==p?void 0:p.scale)?m:g,z=null!=(V=null==p?void 0:p.effects)?V:[];for(let S=_.length;S<E.length;S++)_.push({scale:M,effects:[...z]});for(let S=0;S<E.length;S++)_[S].scale=-1===_[S].scale?g:_[S].scale,E[S].scale=-1===E[S].scale?g:E[S].scale,(0,r.uF)(_[S].effects,E[S].effects)}(this._current,this._to,this.scale),this._from=(0,T.d9)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=i),this._set("effects",this._current[0]?(0,T.d9)(this._current[0].effects):[])}_applyTimeTransition(i){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=i;const o=Math.min(1,this._time/this.duration);for(let g=0;g<this._current.length;g++){const m=this._current[g],V=this._from[g],E=this._to[g];m.scale=X(V.scale,E.scale,o);for(let _=0;_<m.effects.length;_++)m.effects[_].interpolate(V.effects[_],E.effects[_],o)}1===o&&(this._current=this._final,this._set("effects",this._current[0]?(0,T.d9)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(i){if(this._set("scale",i),0===this._current.length)return;const o=this._current,g=this._current.length-1;let m,V,E=1;if(1===o.length||i>=o[0].scale)V=m=o[0].effects;else if(i<=o[g].scale)V=m=o[g].effects;else for(let _=0;_<g;_++){const p=o[_],M=o[_+1];if(p.scale>=i&&M.scale<=i){E=(i-p.scale)/(M.scale-p.scale),m=p.effects,V=M.effects;break}}for(let _=0;_<this.effects.length;_++)this.effects[_].interpolate(m[_],V[_],E)}};function P(i){const o=(0,C.Q)(i)||[];return function N(i){const o=i[0];return!!o&&"type"in o}(o)?[{scale:-1,effects:o}]:o}function D(i,o,g){var m,V,E,_;return null==(m=i[0])||!m.effects||null==(V=o[0])||!V.effects||!((-1===(null==(E=i[0])?void 0:E.scale)||-1===(null==(_=o[0])?void 0:_.scale))&&(i.length>1||o.length>1)&&g<=0)&&(0,r.AS)(i[0].effects,o[0].effects)}function X(i,o,g){return i+(o-i)*g}(0,h._)([(0,t.Cb)()],R.prototype,"_to",void 0),(0,h._)([(0,t.Cb)()],R.prototype,"duration",void 0),(0,h._)([(0,t.Cb)({value:""})],R.prototype,"effect",null),(0,h._)([(0,t.Cb)({readOnly:!0})],R.prototype,"effects",void 0),(0,h._)([(0,t.Cb)({readOnly:!0})],R.prototype,"hasEffects",null),(0,h._)([(0,t.Cb)({value:0})],R.prototype,"scale",null),(0,h._)([(0,t.Cb)({readOnly:!0})],R.prototype,"transitioning",null),R=(0,h._)([(0,u.j)("esri.layers.effects.EffectView")],R)},1011:(y,f,n)=>{n.d(f,{W:()=>T});var h=n(49966),d=n(52884),l=n(57477);class T extends l.s{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t,this.requestRender()}get clips(){return this._clips}set clips(t){this._clips=t,this.children.forEach(c=>c.clips=t)}get computedEffects(){var t,c;return null!=(t=null==(c=this._effectView)?void 0:c.effects)?t:null}get effect(){var t,c;return null!=(t=null==(c=this._effectView)?void 0:c.effect)?t:""}set effect(t){(this._effectView||t)&&(this._effectView||(this._effectView=new d.AM),this._effectView.effect=t,this.requestRender())}updateTransitionProperties(t,c){super.updateTransitionProperties(t,c),this._effectView&&(this._effectView.transitionStep(t,c),this._effectView.transitioning&&this.requestRender())}doRender(t){const c=this.createRenderParams(t);this.renderChildren(c)}addChild(t){return this.addChildAt(t,this.children.length)}addChildAt(t,c=this.children.length){if(!t||this.contains(t))return t;this._needsSort=!0;const u=t.parent;return u&&u!==this&&u.removeChild(t),c>=this.children.length?this.children.push(t):this.children.splice(c,0,t),this._childrenSet.add(t),t.parent=this,t.stage=this.stage,this!==this.stage&&(t.clips=this.clips),this.requestRender(),t}contains(t){return this._childrenSet.has(t)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const t of this.children)this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null;this.children.length=0}removeChild(t){return this.contains(t)?this.removeChildAt(this.children.indexOf(t)):t}removeChildAt(t){if(t<0||t>=this.children.length)return null;this._needsSort=!0;const c=this.children.splice(t,1)[0];return this._childrenSet.delete(c),this!==this.stage&&(c.clips=null),c.stage=null,c.parent=null,c}sortChildren(t){this._needsSort&&(this.children.sort(t),this._needsSort=!1)}_createTransforms(){return{dvs:(0,h.c)()}}onAttach(){super.onAttach();const t=this.stage;for(const c of this.children)c.stage=t}onDetach(){super.onDetach();for(const t of this.children)t.stage=null}renderChildren(t){for(const c of this.children)c.beforeRender(t);for(const c of this.children)c.processRender(t);for(const c of this.children)c.afterRender(t)}createRenderParams(t){return B(I({},t),{blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:t.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition})}}},57477:(y,f,n)=>{n.d(f,{s:()=>t});var h=n(61885),d=n(8314),l=n(62208),T=n(10699);const b=1/(0,d.Z)("mapview-transitions-duration");class t extends h.Z{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(u){this._clips=u,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(u){this._opacity!==u&&(this._opacity=Math.min(1,Math.max(u,0)),this.requestRender())}get stage(){return this._stage}set stage(u){if(this._stage===u)return;const C=this._stage;this._stage=u,u?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):C.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return(0,l.Wi)(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(u){this._visible!==u&&(this._visible=u,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,T.hh)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,T.hh)(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(u){this.updateTransitionProperties(u.deltaTime,u.state.scale)}afterRender(u){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){var u;null==(u=this.parent)||u.removeChild(this)}setTransform(u){}processRender(u){this.stage&&this.computedVisible&&this.doRender(u)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(u,C){if(this.fadeTransitionEnabled){const r=this._fadeOutResolver||!this.visible?0:this.opacity,L=this.computedOpacity;if(L===r)this.computedVisible=this.visible;else{const R=u*b;this.computedOpacity=L>r?Math.max(r,L-R):Math.min(r,L+R),this.computedVisible=this.computedOpacity>0;const P=r===this.computedOpacity;this.inFadeTransition=!P,P||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(u){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}},61261:(y,f,n)=>{var h,d,r;function l(r){switch(r){case"left":return h.Left;case"right":return h.Right;case"center":case"justify":return h.Center}}function T(r){switch(r){case"top":return d.Top;case"middle":return d.Center;case"baseline":return d.Baseline;case"bottom":return d.Bottom}}function b(r){switch(r){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[h.Right,d.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[h.Center,d.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[h.Left,d.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[h.Right,d.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[h.Center,d.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[h.Left,d.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[h.Right,d.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[h.Center,d.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[h.Left,d.Top];default:return console.debug(`Found invalid placement type ${r}`),[h.Center,d.Center]}}function t(r){switch(r){case h.Right:return-1;case h.Center:return 0;case h.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${r}`),0}}function c(r){switch(r){case d.Top:return 1;case d.Center:return 0;case d.Bottom:case d.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${r}`),0}}function u(r){switch(r){case"left":return h.Left;case"right":return h.Right;case"center":case"justify":return h.Center}}function C(r){switch(r){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}n.d(f,{M7:()=>h,TR:()=>d,qv:()=>b,Hd:()=>u,kH:()=>l,g:()=>t,b7:()=>T,tf:()=>c,NS:()=>C}),(r=h||(h={}))[r.Left=-1]="Left",r[r.Center=0]="Center",r[r.Right=1]="Right",function(r){r[r.Top=1]="Top",r[r.Center=0]="Center",r[r.Bottom=-1]="Bottom",r[r.Baseline=2]="Baseline"}(d||(d={}))},18716:(y,f,n)=>{n.d(f,{dk:()=>w,Gq:()=>x,a:()=>F,mE:()=>U,m2:()=>p,qr:()=>W,jj:()=>E});var h=n(26584),d=n(61261),l=n(39406);function E(v,e){switch(v){case l.LW.FILL:return w.from(e);case l.LW.LINE:return F.from(e);case l.LW.MARKER:return U.from(e);case l.LW.TEXT:return W.from(e);case l.LW.LABEL:return x.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${v}`)}}class p{constructor(e){this._data=0,this._data=e}static load(e){const s=this.shared;return s.data=e,s}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(e){this.setBits(e,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(e){this.setBit(20,e)}get sdf(){return!!this.bit(11)}set sdf(e){this.setBit(11,e)}get pattern(){return!!this.bit(12)}set pattern(e){this.setBit(12,e)}get textureBinding(){return this.bits(0,8)}set textureBinding(e){this.setBits(e,0,8)}get geometryTypeString(){switch(this.geometryType){case l.LW.FILL:return"fill";case l.LW.MARKER:return"marker";case l.LW.LINE:return"line";case l.LW.TEXT:return"text";case l.LW.LABEL:return"label";default:throw new h.Z(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,s){const O=1<<e;s?this._data|=O:this._data&=~O}bit(e){return(this._data&1<<e)>>e}setBits(e,s,O){for(let A=s,j=0;A<O;A++,j++)this.setBit(A,0!=(e&1<<j))}bits(e,s){let O=0;for(let A=e,j=0;A<s;A++,j++)O|=this.bit(A)<<j;return O}hasVV(){return!1}setVV(e,s){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(7&this.textureBinding)}}p.shared=new p(0);const M=v=>class extends v{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(e){this.setBit(16,e)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(e){this.setBit(17,e)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(e){this.setBit(18,e)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(e){this.setBit(19,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,s){super.setVV(e,s);const O=function T(v,e){const s=l.X.SIZE_FIELD_STOPS|l.X.SIZE_MINMAX_VALUE|l.X.SIZE_SCALE_STOPS|l.X.SIZE_UNIT_VALUE,O=(v&(l.mf.FIELD_TARGETS_OUTLINE|l.mf.MINMAX_TARGETS_OUTLINE|l.mf.SCALE_TARGETS_OUTLINE|l.mf.UNIT_TARGETS_OUTLINE))>>>4;return e.isOutline||e.isOutlinedFill?s&O:s&~O}(e,s)&e;this.vvSizeMinMaxValue=!!(O&l.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(O&l.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(O&l.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(O&l.X.SIZE_SCALE_STOPS)}},z=v=>class extends v{get vvRotation(){return 0!==this.bit(15)}set vvRotation(e){this.setBit(15,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,s){super.setVV(e,s),this.vvRotation=!s.isOutline&&!!(e&l.X.ROTATION)}},S=v=>class extends v{get vvColor(){return 0!==this.bit(13)}set vvColor(e){this.setBit(13,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,s){super.setVV(e,s),this.vvColor=!s.isOutline&&!!(e&l.X.COLOR)}},Z=v=>class extends v{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(e){this.setBit(14,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,s){super.setVV(e,s),this.vvOpacity=!s.isOutline&&!!(e&l.X.OPACITY)}};class w extends(S(Z(M(p)))){static load(e){const s=this.shared;return s.data=e,s}static from(e){const s=this.load(0);return s.geometryType=l.LW.FILL,s.dotDensity="dot-density"===e.stride.fill,s.simple="simple"===e.stride.fill,s.outlinedFill=e.isOutlinedFill,s.dotDensity||s.setVV(e.vvFlags,e),s.data}getVariation(){return B(I({},super.getVariation()),{dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}get dotDensity(){return!!this.bit(15)}set dotDensity(e){this.setBit(15,e)}get simple(){return!!this.bit(22)}set simple(e){this.setBit(22,e)}get outlinedFill(){return!!this.bit(21)}set outlinedFill(e){this.setBit(21,e)}}w.shared=new w(0);class U extends(S(Z(z(M(p))))){static load(e){const s=this.shared;return s.data=e,s}static from(e){const s=this.load(0);return s.geometryType=l.LW.MARKER,s.setVV(e.vvFlags,e),s.data}getVariation(){return B(I({},super.getVariation()),{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}U.shared=new U(0);class F extends(S(Z(M(p)))){static load(e){const s=this.shared;return s.data=e,s}static from(e){const s=this.load(0);return s.geometryType=l.LW.LINE,s.setVV(e.vvFlags,e),s.data}getVariation(){return B(I({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}F.shared=new F(0);class W extends(S(Z(z(M(p))))){static load(e){const s=this.shared;return s.data=e,s}static from(e){const s=this.load(0);return s.geometryType=l.LW.TEXT,s.setVV(e.vvFlags,e),s.data}getVariation(){return B(I({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}W.shared=new W(0);class x extends(M(p)){static load(e){const s=this.shared;return s.data=e,s}static from(e){const s=this.load(0);return s.geometryType=l.LW.LABEL,s.setVV(e.vvFlags,e),s.mapAligned=(0,d.NS)(e.placement),s.data}getVariation(){return B(I({},super.getVariation()),{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}x.shared=new x(0)}}]);