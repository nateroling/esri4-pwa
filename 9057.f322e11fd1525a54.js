"use strict";(self.webpackChunkesri4_pwa=self.webpackChunkesri4_pwa||[]).push([[9057],{7547:(ae,yt,U)=>{var K,et,v,dt,B,nt,at,lt,it,Et,W,Tt,At,xt,M,O,It,Pt,q,Z,st,rt,pt,ct,Rt,Mt,gt,ht,$,Ct,G,j,Lt,t,Ut,Ft,Zt,Gt,Vt,Ot,Kt,bt,wt,_t,Ht,Jt,vt,jt,Qt,qt,kt,$t,Yt,te,X,Wt,ot,Xt,ee,ne,e;U.d(yt,{v2:()=>v,UR:()=>O,zV:()=>M,RL:()=>K,Tx:()=>B,eZ:()=>at,DD:()=>lt,Ky:()=>it,TF:()=>q,Em:()=>Z,$y:()=>st,id:()=>ct,zQ:()=>gt,Dd:()=>ht,AH:()=>et,kP:()=>Ut,sj:()=>Ft,r4:()=>Vt,JS:()=>_t,bj:()=>Ht,CS:()=>Jt,Lh:()=>vt,UX:()=>X,Qb:()=>Wt,RS:()=>Xt}),(e=K||(K={}))[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN",function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(et||(et={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(v||(v={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(dt||(dt={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(B||(B={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(nt||(nt={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(at||(at={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(lt||(lt={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(it||(it={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(Et||(Et={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(W||(W={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(Tt||(Tt={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(At||(At={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(xt||(xt={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(M||(M={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(O||(O={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(It||(It={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(Pt||(Pt={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(q||(q={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees"}(Z||(Z={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(st||(st={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(rt||(rt={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(pt||(pt={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(ct||(ct={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(Rt||(Rt={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(Mt||(Mt={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(gt||(gt={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(ht||(ht={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}($||($={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(Ct||(Ct={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(G||(G={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(j||(j={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(Lt||(Lt={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(t||(t={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(Ut||(Ut={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(Ft||(Ft={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(Zt||(Zt={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(Gt||(Gt={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(Vt||(Vt={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(Ot||(Ot={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(Kt||(Kt={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(bt||(bt={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(wt||(wt={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(_t||(_t={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(Ht||(Ht={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(Jt||(Jt={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(vt||(vt={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(jt||(jt={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(Qt||(Qt={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(qt||(qt={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(kt||(kt={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}($t||($t={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(Yt||(Yt={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(te||(te={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(X||(X={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(Wt||(Wt={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(ot||(ot={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(Xt||(Xt={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(ee||(ee={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(ne||(ne={}))},90195:(ae,yt,U)=>{U.r(yt),U.d(yt,{default:()=>Ee});var K=U(15861),et=U(10699),v=U(919),dt=U(62208),B=U(86575);function at(d){return!(d<11904)&&(d>=12704&&d<=12735||d>=12544&&d<=12591||d>=65072&&d<=65103||d>=63744&&d<=64255||d>=13056&&d<=13311||d>=11904&&d<=12031||d>=12736&&d<=12783||d>=12288&&d<=12351||d>=13312&&d<=19903||d>=19968&&d<=40959||d>=12800&&d<=13055||d>=65280&&d<=65519||d>=12352&&d<=12447||d>=12272&&d<=12287||d>=12032&&d<=12255||d>=12784&&d<=12799||d>=12448&&d<=12543||d>=65040&&d<=65055||d>=42128&&d<=42191||d>=40960&&d<=42127)}function lt(d){switch(d){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1}function it(d){switch(d){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1}var Et=U(84439);const W=24;class At{constructor(n,i,o,r,c,a,l){this._glyphItems=n,this._maxWidth=i,this._lineHeight=o,this._letterSpacing=r,this._hAnchor=c,this._vAnchor=a,this._justify=l}getShaping(n,i,o){const r=this._letterSpacing,c=this._lineHeight,a=this._justify,l=this._maxWidth,h=[];let u=0,E=0;const f=n.length;for(let A=0;A<f;A++){const S=n.charCodeAt(A),_=o&&(746===(d=S)||747===d||!(d<4352)&&(d>=12704&&d<=12735||d>=12544&&d<=12591||d>=65072&&d<=65103&&!(d>=65097&&d<=65103)||d>=63744&&d<=64255||d>=13056&&d<=13311||d>=11904&&d<=12031||d>=12736&&d<=12783||d>=12288&&d<=12351&&!(d>=12296&&d<=12305||d>=12308&&d<=12319||12336===d)||d>=13312&&d<=19903||d>=19968&&d<=40959||d>=12800&&d<=13055||d>=12592&&d<=12687||d>=43360&&d<=43391||d>=55216&&d<=55295||d>=4352&&d<=4607||d>=44032&&d<=55215||d>=12352&&d<=12447||d>=12272&&d<=12287||d>=12688&&d<=12703||d>=12032&&d<=12255||d>=12784&&d<=12799||d>=12448&&d<=12543&&12540!==d||d>=65280&&d<=65519&&!(65288===d||65289===d||65293===d||d>=65306&&d<=65310||65339===d||65341===d||65343===d||d>=65371&&d<=65503||65507===d||d>=65512&&d<=65519)||d>=65104&&d<=65135&&!(d>=65112&&d<=65118||d>=65123&&d<=65126)||d>=5120&&d<=5759||d>=6320&&d<=6399||d>=65040&&d<=65055||d>=19904&&d<=19967||d>=40960&&d<=42127||d>=42128&&d<=42191));let p;for(const C of this._glyphItems)if(p=C[S],p)break;h.push({codePoint:S,x:u,y:E,vertical:_,glyphMosaicItem:p}),p&&(u+=p.metrics.advance+r)}var d;let T=u;l>0&&(T=u/Math.max(1,Math.ceil(u/l)));const R=n.indexOf("\u200b")>=0,g=[];for(let A=0;A<f-1;A++){const S=h[A].codePoint,_=at(S);if(lt(S)||_){let p=0;if(10===S)p-=1e4;else if(_&&R)p+=150;else{40!==S&&65288!==S||(p+=50);const C=h[A+1].codePoint;41!==C&&65289!==C||(p+=50)}g.push(this._buildBreak(A+1,h[A].x,T,g,p,!1))}}const x=this._optimalBreaks(this._buildBreak(f,u,T,g,0,!0));let N=0;const y=i?-c:c;let I=0;for(let A=0;A<x.length;A++){const S=x[A];let _=I;for(;_<S&&it(h[_].codePoint);)h[_].glyphMosaicItem=null,++_;let p=S-1;for(;p>_&&it(h[p].codePoint);)h[p].glyphMosaicItem=null,--p;if(_<=p){const C=h[_].x;for(let m=_;m<=p;m++)h[m].x-=C,h[m].y=E;let P=h[p].x;h[p].glyphMosaicItem&&(P+=h[p].glyphMosaicItem.metrics.advance),N=Math.max(P,N),a&&this._applyJustification(h,_,p)}I=S,E+=y}if(h.length>0){const A=x.length-1,S=(a-this._hAnchor)*N;let _=(-this._vAnchor*(A+1)+.5)*c;i&&A&&(_+=A*c);for(const p of h)p.x+=S,p.y+=_}return h.filter(A=>A.glyphMosaicItem)}static getTextBox(n,i){if(!n.length)return null;let o=1/0,r=1/0,c=0,a=0;for(const l of n){const u=l.x,E=l.y-17,f=u+l.glyphMosaicItem.metrics.advance,T=E+i;o=Math.min(o,u),c=Math.max(c,f),r=Math.min(r,E),a=Math.max(a,T)}return{x:o,y:r,width:c-o,height:a-r}}static getBox(n){if(!n.length)return null;let i=1/0,o=1/0,r=0,c=0;for(const a of n){const{height:l,left:h,top:u,width:E}=a.glyphMosaicItem.metrics,f=a.x,T=a.y-(l-Math.abs(u)),R=f+E+h,g=T+l;i=Math.min(i,f),r=Math.max(r,R),o=Math.min(o,T),c=Math.max(c,g)}return{x:i,y:o,width:r-i,height:c-o}}static addDecoration(n,i){const o=n.length;if(0===o)return;let c=n[0].x+n[0].glyphMosaicItem.metrics.left,a=n[0].y;for(let h=1;h<o;h++){const u=n[h];if(u.y!==a){const E=n[h-1].x+n[h-1].glyphMosaicItem.metrics.left+n[h-1].glyphMosaicItem.metrics.width;n.push({codePoint:0,x:c,y:a+i-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new Et.Z(4,0,4,8),metrics:{width:E-c,height:8,left:0,top:0,advance:0},page:0,code:0}}),a=u.y,c=u.x+u.glyphMosaicItem.metrics.left}}const l=n[o-1].x+n[o-1].glyphMosaicItem.metrics.left+n[o-1].glyphMosaicItem.metrics.width;n.push({codePoint:0,x:c,y:a+i-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new Et.Z(4,0,4,8),metrics:{width:l-c,height:8,left:0,top:0,advance:0},page:0,code:0}})}_breakScore(n,i,o,r){const c=(n-i)*(n-i);return r?n<i?c/2:2*c:c+Math.abs(o)*o}_buildBreak(n,i,o,r,c,a){let l=null,h=this._breakScore(i,o,c,a);for(const u of r){const f=this._breakScore(i-u.x,o,c,a)+u.score;f<=h&&(l=u,h=f)}return{index:n,x:i,score:h,previousBreak:l}}_optimalBreaks(n){return n?this._optimalBreaks(n.previousBreak).concat(n.index):[]}_applyJustification(n,i,o){const r=n[o],a=(r.x+(r.vertical?W:r.glyphMosaicItem?r.glyphMosaicItem.metrics.advance:0))*this._justify;for(let l=i;l<=o;l++)n[l].x-=a}}var xt=U(47132),M=U(1268),O=U(97938);const Z=.5;class rt{constructor(n,i,o=0,r=-1,c=Z){this.x=n,this.y=i,this.angle=o,this.segment=r,this.minzoom=c}}class pt{constructor(n,i,o,r,c,a=Z,l=B.B1){this.anchor=n,this.labelAngle=i,this.glyphAngle=o,this.page=r,this.alternateVerticalGlyph=c,this.minzoom=a,this.maxzoom=l}}class ct{constructor(n,i,o,r,c,a,l,h,u,E,f,T){this.tl=n,this.tr=i,this.bl=o,this.br=r,this.mosaicRect=c,this.labelAngle=a,this.minAngle=l,this.maxAngle=h,this.anchor=u,this.minzoom=E,this.maxzoom=f,this.page=T}}class Rt{constructor(n){this.shapes=n}}class Mt{getIconPlacement(n,i,o){const r=new O.E(n.x,n.y),c=o.rotationAlignment===M.aF.MAP,a=o.keepUpright;let l=o.rotate*B.DT;c&&(l+=n.angle);const h=new Rt([]);return o.allowOverlap&&o.ignorePlacement||!xt.Bf||(h.iconColliders=[]),this._addIconPlacement(h,r,i,o,l),c&&a&&this._addIconPlacement(h,r,i,o,l+B.JJ),h}_addIconPlacement(n,i,o,r,c){const a=o.pixelRatio,l=o.width/a,h=o.height/a,u=r.offset;let E=u[0],f=u[1];switch(r.anchor){case M.nR.CENTER:E-=l/2,f-=h/2;break;case M.nR.LEFT:f-=h/2;break;case M.nR.RIGHT:E-=l,f-=h/2;break;case M.nR.TOP:E-=l/2;break;case M.nR.BOTTOM:E-=l/2,f-=h;break;case M.nR.TOP_LEFT:break;case M.nR.BOTTOM_LEFT:f-=h;break;case M.nR.TOP_RIGHT:E-=l;break;case M.nR.BOTTOM_RIGHT:E-=l,f-=h}const T=o.rect,R=2/a,g=E-R,x=f-R,N=g+T.width/a,y=x+T.height/a,I=new O.E(g,x),A=new O.E(N,y),S=new O.E(g,y),_=new O.E(N,x);if(0!==c){const C=Math.cos(c),P=Math.sin(c);I.rotate(C,P),A.rotate(C,P),S.rotate(C,P),_.rotate(C,P)}const p=new ct(I,_,S,A,T,c,0,256,i,Z,B.B1,0);if(n.shapes.push(p),(!r.allowOverlap||!r.ignorePlacement)&&xt.Bf){const C=r.size,P=r.padding;n.iconColliders.push({xTile:i.x,yTile:i.y,dxPixels:E*C-P,dyPixels:f*C-P,hard:!r.optional,partIndex:0,width:l*C+2*P,height:h*C+2*P,angle:c,minLod:Z,maxLod:B.B1})}}getTextPlacement(n,i,o,r){const c=new O.E(n.x,n.y),a=r.rotate*B.DT,l=r.rotationAlignment===M.aF.MAP,h=r.keepUpright,u=r.padding;let E=Z;const f=l?n.angle:0,T=n.segment>=0&&l,R=r.allowOverlap&&r.ignorePlacement?null:[],g=[],N=!T;let y=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,A=y,S=I;const _=(T||l)&&h,p=r.size/W;let C=!1;for(const D of i)if(D.vertical){C=!0;break}let P,m=0,L=0;if(!T&&C){const D=At.getTextBox(i,r.lineHeight*W);switch(r.anchor){case M.nR.LEFT:m=D.height/2,L=-D.width/2;break;case M.nR.RIGHT:m=-D.height/2,L=D.width/2;break;case M.nR.TOP:m=D.height/2,L=D.width/2;break;case M.nR.BOTTOM:m=-D.height/2,L=-D.width/2;break;case M.nR.TOP_LEFT:m=D.height;break;case M.nR.BOTTOM_LEFT:L=-D.width;break;case M.nR.TOP_RIGHT:L=D.width;break;case M.nR.BOTTOM_RIGHT:m=-D.height}}m+=r.offset[0]*W,L+=r.offset[1]*W;for(const D of i){const H=D.glyphMosaicItem;if(!H||H.rect.isEmpty)continue;const V=H.rect,F=H.metrics,J=H.page;if(R&&N){if(void 0!==P&&P!==D.y){let Y,Q,St,Nt;C?(Y=-S+m,Q=y+L,St=S-A,Nt=I-y):(Y=y+m,Q=A+L,St=I-y,Nt=S-A),R.push({xTile:n.x,yTile:n.y,dxPixels:Y*p-u,dyPixels:Q*p-u,hard:!r.optional,partIndex:1,width:St*p+2*u,height:Nt*p+2*u,angle:a,minLod:Z,maxLod:B.B1}),y=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,A=y,S=I}P=D.y}const z=[];if(T){const Q=(D.x+F.left-4+.5*H.metrics.width)*p*8;if(E=this._placeGlyph(n,E,Q,o,n.segment,1,D.vertical,J,z),h&&(E=this._placeGlyph(n,E,Q,o,n.segment,-1,D.vertical,J,z)),E>=2)break}else z.push(new pt(c,f,f,J,!1)),l&&h&&z.push(new pt(c,f+B.JJ,f+B.JJ,J,!1));const b=D.x+F.left,tt=D.y-17-F.top,ut=b+F.width,zt=tt+F.height;let k,ft,ie,se,mt,le,Re,ge;!T&&C?D.vertical?(k=new O.E(-((tt+zt)/2+F.width/2)-4+m,(b+ut)/2-F.height/2-4+L),ft=new O.E(k.x+V.width,k.y+V.height),ie=new O.E(k.x,ft.y),se=new O.E(ft.x,k.y)):(k=new O.E(4-tt+m,b-4+L),ft=new O.E(k.x-V.height,k.y+V.width),ie=new O.E(ft.x,k.y),se=new O.E(k.x,ft.y)):(k=new O.E(b-4+m,tt-4+L),ft=new O.E(k.x+V.width,k.y+V.height),ie=new O.E(k.x,ft.y),se=new O.E(ft.x,k.y));for(const Y of z){let Q,St,Nt,Dt;Y.alternateVerticalGlyph?(mt||(mt=new O.E((b+ut)/2+m-F.height/2-4,(tt+zt)/2+L+F.width/2+4),le=new O.E(mt.x+V.height,mt.y-V.width),Re=new O.E(le.x,mt.y),ge=new O.E(mt.x,le.y)),Q=mt,St=Re,Nt=ge,Dt=le):(Q=k,St=ie,Nt=se,Dt=ft);const ce=tt,Te=zt,he=Y.glyphAngle+a;if(0!==he){const Bt=Math.cos(he),ue=Math.sin(he);Q=Q.clone(),St=St.clone(),Nt=Nt.clone(),Dt=Dt.clone(),Q.rotate(Bt,ue),Dt.rotate(Bt,ue),St.rotate(Bt,ue),Nt.rotate(Bt,ue)}let re=0,oe=256;T&&C?D.vertical?Y.alternateVerticalGlyph?(re=32,oe=96):(re=224,oe=32):(re=224,oe=96):(re=192,oe=64),g.push(new ct(Q,Nt,St,Dt,V,Y.labelAngle,re,oe,Y.anchor,Y.minzoom,Y.maxzoom,Y.page)),!R||_&&!this._legible(Y.labelAngle)||(N?(b<y&&(y=b),ce<A&&(A=ce),ut>I&&(I=ut),Te>S&&(S=Te)):Y.minzoom<2&&R.push({xTile:n.x,yTile:n.y,dxPixels:(b+m)*p-u,dyPixels:(ce+m)*p-u,hard:!r.optional,partIndex:1,width:(ut-b)*p+2*u,height:(Te-ce)*p+2*u,angle:he,minLod:Y.minzoom,maxLod:Y.maxzoom}))}}if(E>=2)return null;if(R&&N){let D,H,V,F;C?(D=-S+m,H=y+L,V=S-A,F=I-y):(D=y+m,H=A+L,V=I-y,F=S-A),R.push({xTile:n.x,yTile:n.y,dxPixels:D*p-u,dyPixels:H*p-u,hard:!r.optional,partIndex:1,width:V*p+2*u,height:F*p+2*u,angle:a,minLod:Z,maxLod:B.B1})}const w=new Rt(g);return R&&R.length>0&&(w.textColliders=R),w}_legible(n){const i=(0,B.Or)(n);return i<65||i>=193}_placeGlyph(n,i,o,r,c,a,l,h,u){let E=a;const f=E<0?(0,B.DQ)(n.angle+B.JJ,B._U):n.angle;let T=0;o<0&&(E*=-1,o*=-1,T=B.JJ),E>0&&++c;let R=new O.E(n.x,n.y),g=r[c],x=B.B1;if(r.length<=c)return x;for(;;){const N=g.x-R.x,y=g.y-R.y,I=Math.sqrt(N*N+y*y),A=Math.max(o/I,i),p=(0,B.DQ)(Math.atan2(y/I,N/I)+T,B._U);if(u.push(new pt(R,f,p,h,!1,A,x)),l&&u.push(new pt(R,f,p,h,!0,A,x)),A<=i)return A;R=g.clone();do{if(r.length<=(c+=E)||c<0)return A;g=r[c]}while(R.isEqual(g));let C=g.x-R.x,P=g.y-R.y;const m=Math.sqrt(C*C+P*P);C*=I/m,P*=I/m,R.x-=C,R.y-=P,x=A}}}var $,d,gt=U(24192),ht=U(58774);(d=$||($={}))[d.moveTo=1]="moveTo",d[d.lineTo=2]="lineTo",d[d.close=7]="close";class Ct{constructor(n,i){this.values={};const o=i.keys,r=i.values;for(;n.next();)switch(n.tag()){case 1:this.id=n.getUInt64();break;case 2:{const c=n.getMessage(),a=this.values;for(;!c.empty();){const l=c.getUInt32(),h=c.getUInt32();a[o[l]]=r[h]}c.release();break}case 3:this.type=n.getUInt32();break;case 4:this._pbfGeometry=n.getMessage();break;default:n.skip()}}getGeometry(n){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const i=this._pbfGeometry;let o,r;this._pbfGeometry=null,n?n.reset(this.type):o=[];let c,a=$.moveTo,l=0,h=0,u=0;for(;!i.empty();){if(0===l){const E=i.getUInt32();a=7&E,l=E>>3}switch(l--,a){case $.moveTo:h+=i.getSInt32(),u+=i.getSInt32(),n?n.moveTo(h,u):(r&&o.push(r),r=[],r.push(new O.E(h,u)));break;case $.lineTo:h+=i.getSInt32(),u+=i.getSInt32(),n?n.lineTo(h,u):r.push(new O.E(h,u));break;case $.close:n?n.close():r&&!r[0].equals(h,u)&&r.push(r[0].clone());break;default:throw i.release(),new Error("Invalid path operation")}}return n?c=n.result():(r&&o.push(r),c=o),i.release(),this._geometry=c,c}}var G=U(36243);class j extends G.Z{constructor(){super(12)}add(n,i,o){const r=this.array;r.push(n),r.push(i),r.push(o)}}class t{constructor(n){for(this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=n.clone();n.next();)switch(n.tag()){case 1:this.name=n.getString();break;case 3:this.keys.push(n.getString());break;case 4:this.values.push(n.processMessage(t._parseValue));break;case 5:this.extent=n.getUInt32();break;default:n.skip()}}getData(){return this._pbfLayer}static _parseValue(n){for(;n.next();)switch(n.tag()){case 1:return n.getString();case 2:return n.getFloat();case 3:return n.getDouble();case 4:return n.getInt64();case 5:return n.getUInt64();case 6:return n.getSInt64();case 7:return n.getBool();default:n.skip()}return null}}class Ut extends G.Z{constructor(n){super(n)}add(n,i,o,r,c,a,l,h,u,E,f,T){const R=this.array;let g=G.Z.i1616to32(n,i);R.push(g);const x=31;g=G.Z.i8888to32(Math.round(x*o),Math.round(x*r),Math.round(x*c),Math.round(x*a)),R.push(g),g=G.Z.i8888to32(Math.round(x*l),Math.round(x*h),Math.round(x*u),Math.round(x*E)),R.push(g),g=G.Z.i1616to32(f,0),R.push(g),T&&R.push(...T)}}class Ft extends G.Z{constructor(n){super(n)}add(n,i,o){const r=this.array;r.push(G.Z.i1616to32(n,i)),o&&r.push(...o)}}class Zt extends G.Z{constructor(n){super(n)}add(n,i,o,r,c,a,l){const h=this.array,u=this.index;let E=G.Z.i1616to32(n,i);return h.push(E),E=G.Z.i8888to32(Math.round(15*o),Math.round(15*r),c,a),h.push(E),l&&h.push(...l),u}}class Gt extends G.Z{constructor(n){super(n)}add(n,i,o,r,c,a,l,h,u,E,f,T){const R=this.array;let g=G.Z.i1616to32(n,i);R.push(g),g=G.Z.i1616to32(Math.round(8*o),Math.round(8*r)),R.push(g),g=G.Z.i8888to32(c/4,a/4,h,u),R.push(g),g=G.Z.i8888to32(0,(0,B.Or)(l),10*E,Math.min(10*f,255)),R.push(g),T&&R.push(...T)}}class Vt extends G.Z{constructor(n){super(n)}add(n,i,o,r,c){const a=this.array,l=G.Z.i1616to32(2*n+o,2*i+r);a.push(l),c&&a.push(...c)}}class Ot{constructor(n,i,o){this.layerExtent=4096,this._features=[],this.layer=n,this.zoom=i,this._spriteInfo=o,this._filter=n.getFeatureFilter()}pushFeature(n){this._filter&&!this._filter.filter(n,this.zoom)||this._features.push(n)}hasFeatures(){return this._features.length>0}getResources(n,i,o){}}class Kt extends Ot{constructor(n,i,o,r,c){super(n,i,o),this.type=v.al.CIRCLE,this._circleVertexBuffer=r,this._circleIndexBuffer=c}get circleIndexStart(){return this._circleIndexStart}get circleIndexCount(){return this._circleIndexCount}processFeatures(n){const i=this._circleVertexBuffer,o=this._circleIndexBuffer;this._circleIndexStart=3*o.index,this._circleIndexCount=0;const r=this.layer,c=this.zoom;n&&n.setExtent(this.layerExtent);for(const a of this._features){const l=a.getGeometry(n);if(!l)continue;const h=r.circleMaterial.encodeAttributes(a,c,r);for(const u of l)if(u)for(const E of u){const f=i.index;i.add(E.x,E.y,0,0,h),i.add(E.x,E.y,0,1,h),i.add(E.x,E.y,1,0,h),i.add(E.x,E.y,1,1,h),o.add(f+0,f+1,f+2),o.add(f+1,f+2,f+3),this._circleIndexCount+=6}}}serialize(){let n=6;n+=this.layerUIDs.length,n+=this._circleVertexBuffer.array.length,n+=this._circleIndexBuffer.array.length;const i=new Uint32Array(n),o=new Int32Array(i.buffer);let r=0;i[r++]=this.type,i[r++]=this.layerUIDs.length;for(let c=0;c<this.layerUIDs.length;c++)i[r++]=this.layerUIDs[c];i[r++]=this._circleIndexStart,i[r++]=this._circleIndexCount,i[r++]=this._circleVertexBuffer.array.length;for(let c=0;c<this._circleVertexBuffer.array.length;c++)o[r++]=this._circleVertexBuffer.array[c];i[r++]=this._circleIndexBuffer.array.length;for(let c=0;c<this._circleIndexBuffer.array.length;c++)i[r++]=this._circleIndexBuffer.array[c];return i.buffer}}var bt=U(35575),wt=U(11915);class _t extends Ot{constructor(n,i,o,r,c,a,l){super(n,i,o),this.type=v.al.FILL,this._patternMap=new Map,this._fillVertexBuffer=r,this._fillIndexBuffer=c,this._outlineVertexBuffer=a,this._outlineIndexBuffer=l}get fillIndexStart(){return this._fillIndexStart}get fillIndexCount(){return this._fillIndexCount}get outlineIndexStart(){return this._outlineIndexStart}get outlineIndexCount(){return this._outlineIndexCount}getResources(n,i,o){const c=this.zoom,a=this.layer.getPaintProperty("fill-pattern");if(a)if(a.isDataDriven)for(const l of this._features)i(a.getValue(c,l),!0);else i(a.getValue(c),!0)}processFeatures(n){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;const i=this.layer,o=this.zoom,{fillMaterial:r,outlineMaterial:c,hasDataDrivenFill:a,hasDataDrivenOutline:l}=i;n&&n.setExtent(this.layerExtent);const h=i.getPaintProperty("fill-pattern"),u=null==h?void 0:h.isDataDriven;let E=!h&&i.getPaintValue("fill-antialias",o);if(i.outlineUsesFillColor){if(E&&!i.hasDataDrivenOpacity){const R=i.getPaintValue("fill-opacity",o),g=i.getPaintValue("fill-opacity",o+1);R<1&&g<1&&(E=!1)}if(E&&!i.hasDataDrivenColor){const R=i.getPaintValue("fill-color",o),g=i.getPaintValue("fill-color",o+1);R[3]<1&&g[3]<1&&(E=!1)}}const f=this._features,T=null==n?void 0:n.validateTessellation;if(u){const R=[];for(const g of f){const x=h.getValue(o,g),N=this._spriteInfo[x];if(!N||!N.rect)continue;const y=r.encodeAttributes(g,o,i,N),I=E&&l?c.encodeAttributes(g,o,i):[],A=g.getGeometry(n);R.push({ddFillAttributes:y,ddOutlineAttributes:I,page:N.page,geometry:A}),R.sort((S,_)=>S.page-_.page);for(const{ddFillAttributes:S,ddOutlineAttributes:_,page:p,geometry:C}of R)this._processFeature(C,E,i.outlineUsesFillColor,S,_,T,p)}}else for(const R of f){const g=a?r.encodeAttributes(R,o,i):null,x=E&&l?c.encodeAttributes(R,o,i):null,N=R.getGeometry(n);this._processFeature(N,E,i.outlineUsesFillColor,g,x,T)}}serialize(){let n=10;n+=this.layerUIDs.length,n+=this._fillVertexBuffer.array.length,n+=this._fillIndexBuffer.array.length,n+=this._outlineVertexBuffer.array.length,n+=this._outlineIndexBuffer.array.length,n+=3*this._patternMap.size+1;const i=new Uint32Array(n),o=new Int32Array(i.buffer);let r=0;i[r++]=this.type,i[r++]=this.layerUIDs.length;for(let l=0;l<this.layerUIDs.length;l++)i[r++]=this.layerUIDs[l];i[r++]=this._fillIndexStart,i[r++]=this._fillIndexCount,i[r++]=this._outlineIndexStart,i[r++]=this._outlineIndexCount;const c=this._patternMap,a=c.size;if(i[r++]=a,a>0)for(const[l,[h,u]]of c)i[r++]=l,i[r++]=h,i[r++]=u;i[r++]=this._fillVertexBuffer.array.length;for(let l=0;l<this._fillVertexBuffer.array.length;l++)o[r++]=this._fillVertexBuffer.array[l];i[r++]=this._fillIndexBuffer.array.length;for(let l=0;l<this._fillIndexBuffer.array.length;l++)i[r++]=this._fillIndexBuffer.array[l];i[r++]=this._outlineVertexBuffer.array.length;for(let l=0;l<this._outlineVertexBuffer.array.length;l++)o[r++]=this._outlineVertexBuffer.array[l];i[r++]=this._outlineIndexBuffer.array.length;for(let l=0;l<this._outlineIndexBuffer.array.length;l++)i[r++]=this._outlineIndexBuffer.array[l];return i.buffer}_processFeature(n,i,o,r,c,a,l){if(!n)return;const h=n.length;if(i&&(!o||!c||0===c.length))for(let T=0;T<h;T++)this._processOutline(n[T],c);let f;for(let T=0;T<h;T++){const R=_t._area(n[T]);R>32?(void 0!==f&&this._processFill(n,f,r,a,l),f=[T]):R<-32&&void 0!==f&&f.push(T)}void 0!==f&&this._processFill(n,f,r,a,l)}_processOutline(n,i){const o=this._outlineVertexBuffer,r=this._outlineIndexBuffer,c=r.index;let a,l,h;const u=new O.E(0,0),E=new O.E(0,0),f=new O.E(0,0);let T=-1,R=-1,g=-1,x=-1,N=-1,y=!1,A=n.length;if(A<2)return;const S=n[0];let _=n[A-1];for(;A&&_.isEqual(S);)--A,_=n[A-1];if(!(A-0<2)){for(let p=0;p<A;++p){0===p?(a=n[A-1],l=n[0],h=n[1],u.assignSub(l,a),u.normalize(),u.rightPerpendicular()):(a=l,l=h,h=p!==A-1?n[p+1]:n[0],u.assign(E));const C=this._isClipEdge(a,l);-1===x&&(y=C),E.assignSub(h,l),E.normalize(),E.rightPerpendicular();const P=u.x*E.y-u.y*E.x;f.assignAdd(u,E),f.normalize();const m=-f.x*-u.x+-f.y*-u.y;let L=Math.abs(0!==m?1/m:1);L>8&&(L=8),P>=0?(g=o.add(l.x,l.y,u.x,u.y,0,1,i),-1===x&&(x=g),T>=0&&R>=0&&g>=0&&!C&&r.add(T,R,g),R=o.add(l.x,l.y,L*-f.x,L*-f.y,0,-1,i),-1===N&&(N=R),T>=0&&R>=0&&g>=0&&!C&&r.add(T,R,g),T=R,R=g,g=o.add(l.x,l.y,f.x,f.y,0,1,i),T>=0&&R>=0&&g>=0&&!C&&r.add(T,R,g),R=o.add(l.x,l.y,E.x,E.y,0,1,i),T>=0&&R>=0&&g>=0&&!C&&r.add(T,R,g)):(g=o.add(l.x,l.y,L*f.x,L*f.y,0,1,i),-1===x&&(x=g),T>=0&&R>=0&&g>=0&&!C&&r.add(T,R,g),R=o.add(l.x,l.y,-u.x,-u.y,0,-1,i),-1===N&&(N=R),T>=0&&R>=0&&g>=0&&!C&&r.add(T,R,g),T=R,R=g,g=o.add(l.x,l.y,-f.x,-f.y,0,-1,i),T>=0&&R>=0&&g>=0&&!C&&r.add(T,R,g),T=o.add(l.x,l.y,-E.x,-E.y,0,-1,i),T>=0&&R>=0&&g>=0&&!C&&r.add(T,R,g))}T>=0&&R>=0&&x>=0&&!y&&r.add(T,R,x),T>=0&&x>=0&&N>=0&&!y&&r.add(T,N,x),this._outlineIndexCount+=3*(r.index-c)}}_processFill(n,i,o,r,c){let a;i.length>1&&(a=[]);let l=0;for(const f of i)0!==l&&a.push(l),l+=n[f].length;const h=2*l,u=bt.Z.acquire();for(const f of i){const T=n[f],R=T.length;for(let g=0;g<R;++g)u.push(T[g].x,T[g].y)}const E=(0,wt.e)(u,a,2);if(wt.e.deviation(u,a,2,E)>0){const f=i.map(g=>n[g].length),{buffer:T,vertexCount:R}=(0,ht.b)(u,f);if(R>0){const g=this._fillVertexBuffer.index;for(let x=0;x<R;x++)this._fillVertexBuffer.add(T[2*x],T[2*x+1],o);for(let x=0;x<R;x+=3){const N=g+x;this._fillIndexBuffer.add(N,N+1,N+2)}if(void 0!==c){const x=this._patternMap,N=x.get(c);N?N[1]+=R:x.set(c,[this._fillIndexStart+this._fillIndexCount,R])}this._fillIndexCount+=R}}else{const f=E.length;if(f>0){const T=this._fillVertexBuffer.index;let R=0;for(;R<h;)this._fillVertexBuffer.add(u[R++],u[R++],o);let g=0;for(;g<f;)this._fillIndexBuffer.add(T+E[g++],T+E[g++],T+E[g++]);if(void 0!==c){const x=this._patternMap,N=x.get(c);N?N[1]+=f:x.set(c,[this._fillIndexStart+this._fillIndexCount,f])}this._fillIndexCount+=f}}bt.Z.release(u)}_isClipEdge(n,i){return n.x===i.x?n.x<=-64||n.x>=4160:n.y===i.y&&(n.y<=-64||n.y>=4160)}static _area(n){let i=0;const o=n.length-1;for(let r=0;r<o;r++)i+=(n[r].x-n[r+1].x)*(n[r].y+n[r+1].y);return i+=(n[o].x-n[0].x)*(n[o].y+n[0].y),.5*i}}var Ht=U(46519);class vt extends Ot{constructor(n,i,o,r,c){super(n,i,o),this.type=v.al.LINE,this._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0},this._patternMap=new Map,this.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null},this.tessellationProperties._lineVertexBuffer=r,this.tessellationProperties._lineIndexBuffer=c,this._lineTessellator=new Ht.z(jt(this.tessellationProperties),Qt(this.tessellationProperties),n.canUseThinTessellation)}get lineIndexStart(){return this._lineIndexStart}get lineIndexCount(){return this._lineIndexCount}getResources(n,i,o){const r=this.layer,c=this.zoom,a=r.hasDataDrivenLine,l=r.getPaintProperty("line-pattern"),h=r.getPaintProperty("line-dasharray"),u=r.getLayoutProperty("line-cap");if(!l&&!h)return;const E=(null==u?void 0:u.getValue(c))||0,f=null==u?void 0:u.isDataDriven;if(a){const T=null==l?void 0:l.isDataDriven,R=null==h?void 0:h.isDataDriven;if(!T&&!R)return;for(const g of this._features)i(T?l.getValue(c,g):this._getDashArrayKey(g,c,r,h,f,u,E))}else if(l)i(l.getValue(c));else if(h){const T=h.getValue(c);i(r.getDashKey(T,E))}}processFeatures(n){var i,o,r,c,a,l;this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;const h=this.layer,u=this.zoom,E=this._features,f=this._tessellationOptions,{hasDataDrivenLine:T,lineMaterial:R}=h;n&&n.setExtent(this.layerExtent);const g=h.getPaintProperty("line-pattern"),x=h.getPaintProperty("line-dasharray"),N=null==g?void 0:g.isDataDriven,y=null==x?void 0:x.isDataDriven;let I;I=h.getLayoutProperty("line-cap");const A=null!=(i=I)&&i.isDataDriven?I:null,S=A?null:h.getLayoutValue("line-cap",u),_=S||0,p=!!A;I=h.getLayoutProperty("line-join");const C=null!=(o=I)&&o.isDataDriven?I:null,P=C?null:h.getLayoutValue("line-join",u);I=h.getLayoutProperty("line-miter-limit");const m=null!=(r=I)&&r.isDataDriven?I:null,L=m?null:h.getLayoutValue("line-miter-limit",u);I=h.getLayoutProperty("line-round-limit");const w=null!=(c=I)&&c.isDataDriven?I:null,D=w?null:h.getLayoutValue("line-round-limit",u);I=h.getPaintProperty("line-width");const H=null!=(a=I)&&a.isDataDriven?I:null,V=H?null:h.getPaintValue("line-width",u);I=h.getPaintProperty("line-offset");const F=null!=(l=I)&&l.isDataDriven?I:null,J=F?null:h.getPaintValue("line-offset",u);if(N||y){const z=[];for(const b of E){const tt=N?g.getValue(u,b):this._getDashArrayKey(b,u,h,x,p,A,_),ut=this._spriteInfo[tt];if(!ut||!ut.rect)continue;const zt=R.encodeAttributes(b,u,h,ut),k=b.getGeometry(n);z.push({ddAttributes:zt,page:ut.page,cap:A?A.getValue(u,b):S,join:C?C.getValue(u,b):P,miterLimit:m?m.getValue(u,b):L,roundLimit:w?w.getValue(u,b):D,halfWidth:.5*(H?H.getValue(u,b):V),offset:F?F.getValue(u,b):J,geometry:k})}z.sort((b,tt)=>b.page-tt.page),f.textured=!0;for(const{ddAttributes:b,page:tt,cap:ut,join:zt,miterLimit:k,roundLimit:ft,halfWidth:ie,offset:se,geometry:mt}of z)f.capType=ut,f.joinType=zt,f.miterLimit=k,f.roundLimit=ft,f.halfWidth=ie,f.offset=se,this._processFeature(mt,b,tt)}else{f.textured=!(!g&&!x),f.capType=S,f.joinType=P,f.miterLimit=L,f.roundLimit=D,f.halfWidth=.5*V,f.offset=J;for(const z of E){const b=T?R.encodeAttributes(z,u,h):null;A&&(f.capType=A.getValue(u,z)),C&&(f.joinType=C.getValue(u,z)),m&&(f.miterLimit=m.getValue(u,z)),w&&(f.roundLimit=w.getValue(u,z)),H&&(f.halfWidth=.5*H.getValue(u,z)),F&&(f.offset=F.getValue(u,z));const tt=z.getGeometry(n);this._processFeature(tt,b)}}}serialize(){let n=6;n+=this.layerUIDs.length,n+=this.tessellationProperties._lineVertexBuffer.array.length,n+=this.tessellationProperties._lineIndexBuffer.array.length,n+=3*this._patternMap.size+1;const i=new Uint32Array(n),o=new Int32Array(i.buffer);let r=0;i[r++]=this.type,i[r++]=this.layerUIDs.length;for(let l=0;l<this.layerUIDs.length;l++)i[r++]=this.layerUIDs[l];i[r++]=this._lineIndexStart,i[r++]=this._lineIndexCount;const c=this._patternMap,a=c.size;if(i[r++]=a,a>0)for(const[l,[h,u]]of c)i[r++]=l,i[r++]=h,i[r++]=u;i[r++]=this.tessellationProperties._lineVertexBuffer.array.length;for(let l=0;l<this.tessellationProperties._lineVertexBuffer.array.length;l++)o[r++]=this.tessellationProperties._lineVertexBuffer.array[l];i[r++]=this.tessellationProperties._lineIndexBuffer.array.length;for(let l=0;l<this.tessellationProperties._lineIndexBuffer.array.length;l++)i[r++]=this.tessellationProperties._lineIndexBuffer.array[l];return i.buffer}_processFeature(n,i,o){if(!n)return;const r=n.length;for(let c=0;c<r;c++)this._processGeometry(n[c],i,o)}_processGeometry(n,i,o){if(n.length<2)return;let c,a,l=n[0],h=1;for(;h<n.length;)c=n[h].x-l.x,a=n[h].y-l.y,c*c+a*a<1e-6?n.splice(h,1):(l=n[h],++h);if(n.length<2)return;const u=this.tessellationProperties._lineIndexBuffer,E=3*u.index;this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=i,this._lineTessellator.tessellate(n,this._tessellationOptions);const f=3*u.index-E;if(void 0!==o){const T=this._patternMap,R=T.get(o);R?R[1]+=f:T.set(o,[E+this._lineIndexCount,f])}this._lineIndexCount+=f}_getDashArrayKey(n,i,o,r,c,a,l){const h=c?a.getValue(i,n):l,u=r.getValue(i,n);return o.getDashKey(u,h)}}const jt=d=>(n,i,o,r,c,a,l,h,u,E,f)=>(d._lineVertexBuffer.add(n,i,l,h,o,r,c,a,u,E,f,d._ddValues),d._lineVertexBuffer.index-1),Qt=d=>(n,i,o)=>{d._lineIndexBuffer.add(n,i,o)};var qt=U(6879),kt=U(77275),$t=U(77928);function te(d,n){return d.iconMosaicItem&&n.iconMosaicItem?d.iconMosaicItem.page===n.iconMosaicItem.page?0:d.iconMosaicItem.page-n.iconMosaicItem.page:d.iconMosaicItem&&!n.iconMosaicItem?1:!d.iconMosaicItem&&n.iconMosaicItem?-1:0}class X extends Ot{constructor(n,i,o,r,c,a,l,h){super(n,i,h.getSpriteItems()),this.type=v.al.SYMBOL,this._markerMap=new Map,this._glyphMap=new Map,this._glyphBufferDataStorage=new Map,this._isIconSDF=!1,this._iconVertexBuffer=o,this._iconIndexBuffer=r,this._textVertexBuffer=c,this._textIndexBuffer=a,this._placementEngine=l,this._workerTileHandler=h}get markerPageMap(){return this._markerMap}get glyphsPageMap(){return this._glyphMap}get symbolInstances(){return this._symbolInstances}getResources(n,i,o){const r=this.layer,c=this.zoom;n&&n.setExtent(this.layerExtent);const a=r.getLayoutProperty("icon-image"),l=r.getLayoutProperty("text-field");let h=r.getLayoutProperty("text-transform"),u=r.getLayoutProperty("text-font");const E=[];let f,T,R,g;a&&!a.isDataDriven&&(f=a.getValue(c)),l&&!l.isDataDriven&&(T=l.getValue(c)),h&&h.isDataDriven||(R=r.getLayoutValue("text-transform",c),h=null),u&&u.isDataDriven||(g=r.getLayoutValue("text-font",c),u=null);for(const x of this._features){const N=x.getGeometry(n);if(!N||0===N.length)continue;let y,I;a&&(y=a.isDataDriven?a.getValue(c,x):this._replaceKeys(f,x.values),y&&i(y));let A=!1;if(l&&(I=l.isDataDriven?l.getValue(c,x):this._replaceKeys(T,x.values),I)){switch(I=I.replace(/\\n/g,"\n"),h&&(R=h.getValue(c,x)),R){case M._5.LOWERCASE:I=I.toLowerCase();break;case M._5.UPPERCASE:I=I.toUpperCase()}if(X._bidiEngine.hasBidiChar(I)){let C;C="rtl"===X._bidiEngine.checkContextual(I)?"IDNNN":"ICNNN",I=X._bidiEngine.bidiTransform(I,C,"VLYSN"),A=!0}const p=I.length;if(p>0){u&&(g=u.getValue(c,x));for(const C of g){let P=o[C];P||(P=o[C]=new Set);for(let m=0;m<p;m++){const L=I.charCodeAt(m);P.add(L)}}}}if(!y&&!I)continue;const S=r.getLayoutValue("symbol-sort-key",c,x),_={feature:x,sprite:y,label:I,rtl:A,geometry:N,hash:(I?(0,kt.hP)(I):0)^(y?(0,kt.hP)(y):0),priority:S,textFont:g};E.push(_)}this._symbolFeatures=E}processFeatures(n){n&&n.setExtent(this.layerExtent);const i=this.layer,o=this.zoom,r=i.getLayoutValue("symbol-placement",o),c=r!==M.R.POINT,a=8*i.getLayoutValue("symbol-spacing",o),l=i.getLayoutProperty("icon-image"),h=i.getLayoutProperty("text-field"),u=l?new $t._L(i,o,c):null,E=h?new $t.nj(i,o,c):null,f=this._workerTileHandler;let T;l&&(T=f.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();const R=[];let g=1;E&&E.size&&(g=E.size/W);const x=E?E.maxAngle*B.DT:0,N=E?8*E.size:0;for(const y of this._symbolFeatures){let I,A;u&&T&&y.sprite&&(I=T[y.sprite],I&&I.sdf&&(this._isIconSDF=!0)),I&&u.update(o,y.feature);let S=0;const _=y.label;if(_){E.update(o,y.feature);const p=c?E.keepUpright:E.writingMode&&E.writingMode.indexOf(M.r1.VERTICAL)>=0;let C=.5;switch(E.anchor){case M.nR.TOP_LEFT:case M.nR.LEFT:case M.nR.BOTTOM_LEFT:C=0;break;case M.nR.TOP_RIGHT:case M.nR.RIGHT:case M.nR.BOTTOM_RIGHT:C=1}let P=.5;switch(E.anchor){case M.nR.TOP_LEFT:case M.nR.TOP:case M.nR.TOP_RIGHT:P=0;break;case M.nR.BOTTOM_LEFT:case M.nR.BOTTOM:case M.nR.BOTTOM_RIGHT:P=1}let m=.5;switch(E.justify){case M.vL.AUTO:m=C;break;case M.vL.LEFT:m=0;break;case M.vL.RIGHT:m=1}const L=E.letterSpacing*W,w=c?0:E.maxWidth*W,D=E.lineHeight*W,H=y.textFont.map(V=>f.getGlyphItems(V));if(A=new At(H,w,D,L,C,P,m).getShaping(_,y.rtl,p),A&&A.length>0){let V=1e30,F=-1e30;for(const J of A)V=Math.min(V,J.x),F=Math.max(F,J.x);S=(F-V+48)*g*8}}for(let p of y.geometry){const C=[];if(r===M.R.LINE){if(A&&A.length>0&&E&&E.size){const P=8*E.size*(2+Math.min(2,4*Math.abs(E.offset[1])));p=X._smoothVertices(p,P)}X._pushAnchors(C,p,a,S)}else r===M.R.LINE_CENTER?X._pushCenterAnchor(C,p):y.feature.type===O.V.Polygon?X._pushCentroid(C,p):C.push(new rt(p[0].x,p[0].y));for(const P of C){if(P.x<0||P.x>4096||P.y<0||P.y>4096||c&&S>0&&E.rotationAlignment===M.aF.MAP&&!X._honorsTextMaxAngle(p,P,S,x,N))continue;const m={shaping:A,line:p,iconMosaicItem:I,anchor:P,symbolFeature:y,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]};R.push(m),this._processFeature(m,u,E)}}}R.sort(te),this._addPlacedGlyphs(),this._symbolInstances=R}serialize(){let n=11;n+=this.layerUIDs.length,n+=3*this.markerPageMap.size,n+=3*this.glyphsPageMap.size,n+=X._symbolsSerializationLength(this._symbolInstances),n+=this._iconVertexBuffer.array.length,n+=this._iconIndexBuffer.array.length,n+=this._textVertexBuffer.array.length,n+=this._textIndexBuffer.array.length;const i=new Uint32Array(n),o=new Int32Array(i.buffer),r=new Float32Array(i.buffer);let c=0;i[c++]=this.type,i[c++]=this.layerUIDs.length;for(let a=0;a<this.layerUIDs.length;a++)i[c++]=this.layerUIDs[a];i[c++]=this._isIconSDF?1:0,i[c++]=this.markerPageMap.size;for(const[a,[l,h]]of this.markerPageMap)i[c++]=a,i[c++]=l,i[c++]=h;i[c++]=this.glyphsPageMap.size;for(const[a,[l,h]]of this.glyphsPageMap)i[c++]=a,i[c++]=l,i[c++]=h;i[c++]=this._iconVertexBuffer.index/4,i[c++]=this._textVertexBuffer.index/4,c=X.serializeSymbols(i,o,r,c,this._symbolInstances),i[c++]=this._iconVertexBuffer.array.length;for(let a=0;a<this._iconVertexBuffer.array.length;a++)o[c++]=this._iconVertexBuffer.array[a];i[c++]=this._iconIndexBuffer.array.length;for(let a=0;a<this._iconIndexBuffer.array.length;a++)i[c++]=this._iconIndexBuffer.array[a];i[c++]=this._textVertexBuffer.array.length;for(let a=0;a<this._textVertexBuffer.array.length;a++)o[c++]=this._textVertexBuffer.array[a];i[c++]=this._textIndexBuffer.array.length;for(let a=0;a<this._textIndexBuffer.array.length;a++)i[c++]=this._textIndexBuffer.array[a];return i.buffer}static _symbolsSerializationLength(n){let i=0;i+=1;for(const o of n||[]){i+=4,i+=1;for(const r of o.textColliders)i+=10;for(const r of o.iconColliders)i+=10;i+=1,i+=2*o.textVertexRanges.length,i+=1,i+=2*o.iconVertexRanges.length}return i}static serializeSymbols(n,i,o,r,c){i[r++]=(c=c||[]).length;for(const a of c){i[r++]=a.anchor.x,i[r++]=a.anchor.y,i[r++]=a.symbolFeature.hash,i[r++]=a.symbolFeature.priority,i[r++]=a.textColliders.length+a.iconColliders.length;for(const l of a.textColliders)i[r++]=l.xTile,i[r++]=l.yTile,i[r++]=l.dxPixels,i[r++]=l.dyPixels,i[r++]=l.hard?1:0,i[r++]=l.partIndex,o[r++]=l.minLod,o[r++]=l.maxLod,i[r++]=l.width,i[r++]=l.height;for(const l of a.iconColliders)i[r++]=l.xTile,i[r++]=l.yTile,i[r++]=l.dxPixels,i[r++]=l.dyPixels,i[r++]=l.hard?1:0,i[r++]=l.partIndex,o[r++]=l.minLod,o[r++]=l.maxLod,i[r++]=l.width,i[r++]=l.height;i[r++]=a.textVertexRanges.length;for(const[l,h]of a.textVertexRanges)i[r++]=l,i[r++]=h;i[r++]=a.iconVertexRanges.length;for(const[l,h]of a.iconVertexRanges)i[r++]=l,i[r++]=h}return r}_replaceKeys(n,i){return n.replace(/{([^{}]+)}/g,function(o,r){return r in i?i[r]:""})}_processFeature(n,i,o){const{line:r,iconMosaicItem:c,shaping:a,anchor:l}=n,h=this.zoom,u=this.layer,E=!!c;let f=!0;E&&(f=i.optional||!c);const T=a&&a.length>0;let R,g,x=!0;if(T&&(x=o.optional),E&&(R=this._placementEngine.getIconPlacement(l,c,i)),(R||f)&&(T&&(g=this._placementEngine.getTextPlacement(l,a,r,o)),g||x)){if(R&&g||(x||f?x||g?f||R||(g=null):R=null:(R=null,g=null)),g){const N=u.hasDataDrivenText?u.textMaterial.encodeAttributes(n.symbolFeature.feature,h,u):null;if(this._storePlacedGlyphs(n,g.shapes,h,o.rotationAlignment,N),g.textColliders){n.textColliders=g.textColliders;for(const y of g.textColliders){y.minLod=Math.max(h+(0,B.k3)(y.minLod),0),y.maxLod=Math.min(h+(0,B.k3)(y.maxLod),25);const I=y.angle;if(I){const A=Math.cos(I),S=Math.sin(I),_=y.dxPixels*A-y.dyPixels*S,p=y.dxPixels*S+y.dyPixels*A,C=(y.dxPixels+y.width)*A-y.dyPixels*S,P=(y.dxPixels+y.width)*S+y.dyPixels*A,m=y.dxPixels*A-(y.dyPixels+y.height)*S,L=y.dxPixels*S+(y.dyPixels+y.height)*A,w=(y.dxPixels+y.width)*A-(y.dyPixels+y.height)*S,D=(y.dxPixels+y.width)*S+(y.dyPixels+y.height)*A,H=Math.min(_,C,m,w),V=Math.max(_,C,m,w),F=Math.min(p,P,L,D),J=Math.max(p,P,L,D);y.dxPixels=H,y.dyPixels=F,y.width=V-H,y.height=J-F}}}}if(R){const N=u.hasDataDrivenIcon?u.iconMaterial.encodeAttributes(n.symbolFeature.feature,h,u):null;if(this._addPlacedIcons(n,R.shapes,h,c.page,i.rotationAlignment===M.aF.VIEWPORT,N),R.iconColliders){n.iconColliders=R.iconColliders;for(const y of R.iconColliders){y.minLod=Math.max(h+(0,B.k3)(y.minLod),0),y.maxLod=Math.min(h+(0,B.k3)(y.maxLod),25);const I=y.angle;if(I){const A=Math.cos(I),S=Math.sin(I),_=y.dxPixels*A-y.dyPixels*S,p=y.dxPixels*S+y.dyPixels*A,C=(y.dxPixels+y.width)*A-y.dyPixels*S,P=(y.dxPixels+y.width)*S+y.dyPixels*A,m=y.dxPixels*A-(y.dyPixels+y.height)*S,L=y.dxPixels*S+(y.dyPixels+y.height)*A,w=(y.dxPixels+y.width)*A-(y.dyPixels+y.height)*S,D=(y.dxPixels+y.width)*S+(y.dyPixels+y.height)*A,H=Math.min(_,C,m,w),V=Math.max(_,C,m,w),F=Math.min(p,P,L,D),J=Math.max(p,P,L,D);y.dxPixels=H,y.dyPixels=F,y.width=V-H,y.height=J-F}}}}}}_addPlacedIcons(n,i,o,r,c,a){const l=Math.max(o-1,0),h=this._iconVertexBuffer,u=this._iconIndexBuffer,E=this._markerMap;for(const f of i){const T=c?0:Math.max(o+(0,B.k3)(f.minzoom),l),R=c?25:Math.min(o+(0,B.k3)(f.maxzoom),25);if(R<=T)continue;const g=f.tl,x=f.tr,N=f.bl,y=f.br,I=f.mosaicRect,A=f.labelAngle,S=f.minAngle,_=f.maxAngle,p=f.anchor,C=h.index,P=I.x,m=I.y,L=P+I.width,w=m+I.height,D=h.index;h.add(p.x,p.y,g.x,g.y,P,m,A,S,_,T,R,a),h.add(p.x,p.y,x.x,x.y,L,m,A,S,_,T,R,a),h.add(p.x,p.y,N.x,N.y,P,w,A,S,_,T,R,a),h.add(p.x,p.y,y.x,y.y,L,w,A,S,_,T,R,a),n.iconVertexRanges.length>0&&n.iconVertexRanges[0][0]+n.iconVertexRanges[0][1]===D?n.iconVertexRanges[0][1]+=4:n.iconVertexRanges.push([D,4]),u.add(C+0,C+1,C+2),u.add(C+1,C+2,C+3),E.has(r)?E.get(r)[1]+=6:E.set(r,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}_addPlacedGlyphs(){const n=this._textVertexBuffer,i=this._textIndexBuffer,o=this._glyphMap;for(const[r,c]of this._glyphBufferDataStorage)for(const a of c){const l=n.index,h=a.symbolInstance,u=a.ddAttributes,E=n.index;n.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tl[0],a.tl[1],a.xmin,a.ymin,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,u),n.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tr[0],a.tr[1],a.xmax,a.ymin,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,u),n.add(a.glyphAnchor[0],a.glyphAnchor[1],a.bl[0],a.bl[1],a.xmin,a.ymax,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,u),n.add(a.glyphAnchor[0],a.glyphAnchor[1],a.br[0],a.br[1],a.xmax,a.ymax,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,u),h.textVertexRanges.length>0&&h.textVertexRanges[0][0]+h.textVertexRanges[0][1]===E?h.textVertexRanges[0][1]+=4:h.textVertexRanges.push([E,4]),i.add(l+0,l+1,l+2),i.add(l+1,l+2,l+3),o.has(r)?o.get(r)[1]+=6:o.set(r,[this._textIndexStart+this._textIndexCount,6]),this._textIndexCount+=6}this._glyphBufferDataStorage.clear()}_storePlacedGlyphs(n,i,o,r,c){const a=Math.max(o-1,0),l=r===M.aF.VIEWPORT;let h,u,E,f,T,R,g,x,N,y,I;for(const A of i)h=l?0:Math.max(o+(0,B.k3)(A.minzoom),a),u=l?25:Math.min(o+(0,B.k3)(A.maxzoom),25),!(u<=h)&&(E=A.tl,f=A.tr,T=A.bl,R=A.br,g=A.labelAngle,x=A.minAngle,N=A.maxAngle,y=A.anchor,I=A.mosaicRect,this._glyphBufferDataStorage.has(A.page)||this._glyphBufferDataStorage.set(A.page,[]),this._glyphBufferDataStorage.get(A.page).push({glyphAnchor:[y.x,y.y],tl:[E.x,E.y],tr:[f.x,f.y],bl:[T.x,T.y],br:[R.x,R.y],xmin:I.x,ymin:I.y,xmax:I.x+I.width,ymax:I.y+I.height,labelAngle:g,minAngle:x,maxAngle:N,minLod:h,maxLod:u,placementLod:a,symbolInstance:n,ddAttributes:c}))}static _pushAnchors(n,i,o,r){o+=r;let c=0;const a=i.length-1;for(let T=0;T<a;T++)c+=O.E.distance(i[T],i[T+1]);let l=r||o;if(l*=.5,c<=l)return;const h=l/c;let u=0,E=-(o=c/Math.max(Math.round(c/o),1))/2;const f=i.length-1;for(let T=0;T<f;T++){const R=i[T],g=i[T+1],x=g.x-R.x,N=g.y-R.y,y=Math.sqrt(x*x+N*N);let I;for(;E+o<u+y;){E+=o;const A=(E-u)/y,S=(0,B.sX)(R.x,g.x,A),_=(0,B.sX)(R.y,g.y,A);void 0===I&&(I=Math.atan2(N,x)),n.push(new rt(S,_,I,T,h))}u+=y}}static _pushCenterAnchor(n,i){let o=0;const r=i.length-1;for(let h=0;h<r;h++)o+=O.E.distance(i[h],i[h+1]);const c=o/2;let a=0;const l=i.length-1;for(let h=0;h<l;h++){const u=i[h],E=i[h+1],f=E.x-u.x,T=E.y-u.y,R=Math.sqrt(f*f+T*T);if(c<a+R){const g=(c-a)/R,x=(0,B.sX)(u.x,E.x,g),N=(0,B.sX)(u.y,E.y,g),y=Math.atan2(T,f);return void n.push(new rt(x,N,y,h,0))}a+=R}}static _deviation(n,i,o){return Math.atan2((i.x-n.x)*(o.y-i.y)-(i.y-n.y)*(o.x-i.x),(i.x-n.x)*(o.x-i.x)+(i.y-n.y)*(o.y-i.y))}static _honorsTextMaxAngle(n,i,o,r,c){let a=0;const l=o/2;let h=new O.E(i.x,i.y),u=i.segment+1;for(;a>-l;){if(--u,u<0)return!1;a-=O.E.distance(n[u],h),h=n[u]}a+=O.E.distance(n[u],n[u+1]);const E=[];let f=0;const T=n.length;for(;a<l;){const R=n[u];let g,x=u;do{if(++x,x===T)return!1;g=n[x]}while(g.isEqual(R));let N,y=x;do{if(++y,y===T)return!1;N=n[y]}while(N.isEqual(g));const I=this._deviation(R,g,N);for(E.push({deviation:I,distToAnchor:a}),f+=I;a-E[0].distToAnchor>c;)f-=E.shift().deviation;if(Math.abs(f)>r)return!1;a+=O.E.distance(g,N),u=x}return!0}static _smoothVertices(n,i){if(i<=0)return n;let o=n.length;if(o<3)return n;const r=[];let c=0,a=0;r.push(0);for(let x=1;x<o;x++){const N=O.E.distance(n[x],n[x-1]);N>0&&(c+=N,r.push(c),a++,a!==x&&(n[a]=n[x]))}if(o=a+1,o<3)return n;i=Math.min(i,.2*c);const l=n[0].x,h=n[0].y,u=n[o-1].x,E=n[o-1].y,f=O.E.sub(n[0],n[1]);f.normalize(),n[0].x+=i*f.x,n[0].y+=i*f.y,f.assignSub(n[o-1],n[o-2]),f.normalize(),n[o-1].x+=i*f.x,n[o-1].y+=i*f.y,r[0]-=i,r[o-1]+=i;const T=[];T.push(new O.E(l,h));const R=1e-6,g=.5*i;for(let x=1;x<o-1;x++){let N=0,y=0,I=0;for(let A=x-1;A>=0;A--){const S=g+r[A+1]-r[x];if(S<0)break;const _=r[A+1]-r[A],p=r[x]-r[A]<g?1:S/_;if(p<R)break;const C=p*p,P=p*S-.5*C*_,m=p*_/i,L=n[A+1],w=n[A].x-L.x,D=n[A].y-L.y;N+=m/P*(L.x*p*S+.5*C*(S*w-_*L.x)-C*p*_*w/3),y+=m/P*(L.y*p*S+.5*C*(S*D-_*L.y)-C*p*_*D/3),I+=m}for(let A=x+1;A<o;A++){const S=g-r[A-1]+r[x];if(S<0)break;const _=r[A]-r[A-1],p=r[A]-r[x]<g?1:S/_;if(p<R)break;const C=p*p,P=p*S-.5*C*_,m=p*_/i,L=n[A-1],w=n[A].x-L.x,D=n[A].y-L.y;N+=m/P*(L.x*p*S+.5*C*(S*w-_*L.x)-C*p*_*w/3),y+=m/P*(L.y*p*S+.5*C*(S*D-_*L.y)-C*p*_*D/3),I+=m}T.push(new O.E(N/I,y/I))}return T.push(new O.E(u,E)),n[0].x=l,n[0].y=h,n[o-1].x=u,n[o-1].y=E,T}static _pushCentroid(n,i){const l=i.length-1;let h=0,u=0,E=0,f=i[0].x,T=i[0].y;f>4096&&(f=4096),f<0&&(f=0),T>4096&&(T=4096),T<0&&(T=0);for(let R=1;R<l;R++){let g=i[R].x,x=i[R].y,N=i[R+1].x,y=i[R+1].y;g>4096&&(g=4096),g<0&&(g=0),x>4096&&(x=4096),x<0&&(x=0),N>4096&&(N=4096),N<0&&(N=0),y>4096&&(y=4096),y<0&&(y=0);const I=(g-f)*(y-T)-(N-f)*(x-T);h+=I*(f+g+N),u+=I*(T+x+y),E+=I}h/=3*E,u/=3*E,isNaN(h)||isNaN(u)||n.push(new rt(h,u))}}X._bidiEngine=new qt.Z;var ot,Wt=U(47018);!function(d){d[d.INITIALIZED=0]="INITIALIZED",d[d.NO_DATA=1]="NO_DATA",d[d.READY=2]="READY",d[d.MODIFIED=3]="MODIFIED",d[d.INVALID=4]="INVALID"}(ot||(ot={}));class e{constructor(n,i,o,r,c){if(this._pbfTiles={},this._tileClippers={},this._client=o,this._tile=i,c){this._styleLayerUIDs=new Set;for(const E of c)this._styleLayerUIDs.add(E)}this._styleRepository=r,this._layers=this._styleRepository.layers;const[a,l,h]=i.tileKey.split("/").map(parseFloat);this._level=a;const u=8+Math.max(5*(this._level-14),0);for(const E of Object.keys(n)){const f=n[E];if(this._pbfTiles[E]=new gt.Z(new Uint8Array(f.protobuff),new DataView(f.protobuff)),f.refKey){const[T]=f.refKey.split("/").map(parseFloat),R=a-T;if(R>0){const g=(1<<R)-1;this._tileClippers[E]=new Wt.b(R,l&g,h&g,8,u)}}this._tileClippers[E]||(this._tileClippers[E]=new Wt.I)}}_canParseStyleLayer(n){return!this._styleLayerUIDs||this._styleLayerUIDs.has(n)}parse(n){var i=this;return(0,K.Z)(function*(){const o=(0,ht.j)(),r=i._initialize(n),{returnedBuckets:c}=r;i._processLayers(r),i._linkReferences(r),i._filterFeatures(r);const a=[],l=new Set,h=(f,T)=>{l.has(f)||(a.push({name:f,repeat:T}),l.add(f))},u={};for(const f of c)f.getResources(f.tileClipper,h,u);if(i._tile.status===ot.INVALID)return Promise.resolve([]);const E=i._fetchResources(a,u,n);return Promise.all([...E,o]).then(()=>i._processFeatures(r.returnedBuckets))})()}_initialize(n){return{signal:n&&n.signal,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}_processLayers(n){const{sourceNameToTileData:i,layers:o,zoom:r,sourceNameToTileClipper:c,sourceNameToUniqueSourceLayerBuckets:a,sourceNameToUniqueSourceLayers:l,returnedBuckets:h,layerIdToBucket:u,referencerUIDToReferencedId:E}=n;for(let f=o.length-1;f>=0;f--){const T=o[f];if(!this._canParseStyleLayer(T.uid)||T.minzoom&&r<Math.floor(T.minzoom)||T.maxzoom&&r>=T.maxzoom||T.type===M.fR.BACKGROUND||!i[T.source]||!c[T.source])continue;const g=c[T.source],x=T.sourceLayer,N=i[T.source][x];if(N){let y=l[T.source];if(y||(y=l[T.source]=new Set),y.add(T.sourceLayer),T.refLayerId)E.set(T.uid,T.refLayerId);else{const I=this._createBucket(T);if(I){I.layerUIDs=[T.uid],I.layerExtent=N.extent,I.tileClipper=g;let A=a[T.source];A||(A=a[T.source]={});let S=A[x];S||(S=A[x]=[]),S.push(I),h.push(I),u[T.id]=I}}}}}_linkReferences(n){const{layerIdToBucket:i,referencerUIDToReferencedId:o}=n;o.forEach((r,c)=>{i[r=r]&&i[r].layerUIDs.push(c)})}_filterFeatures(n){const{signal:i,sourceNameToTileData:o,sourceNameToUniqueSourceLayerBuckets:r,sourceNameToUniqueSourceLayers:c}=n,a=10*this._level,l=10*(this._level+1),h=[],u=[];for(const E of Object.keys(c))c[E].forEach(f=>{h.push(f),u.push(E)});for(let E=0;E<h.length;E++){const f=u[E],T=h[E];if(!o[f]||!r[f])continue;const R=o[f][T],g=r[f][T];if(!g||0===g.length)continue;if((0,et.Hc)(i))return;const x=R.getData();for(;x.nextTag(2);){const N=x.getMessage(),y=new Ct(N,R);N.release();const I=y.values;if(I){const A=I._minzoom;if(A&&A>=l)continue;const S=I._maxzoom;if(S&&S<=a)continue}for(const A of g)A.pushFeature(y)}}}_fetchResources(n,i,o){const r=[],c=this._tile.getWorkerTileHandler();let a,l;n.length>0&&(a=c.fetchSprites(n,this._client,o),r.push(a));for(const h in i){const u=i[h];u.size>0&&(l=c.fetchGlyphs(this._tile.tileKey,h,u,this._client,o),r.push(l))}return r}_processFeatures(n){const i=n.filter(o=>o.hasFeatures()||this._canParseStyleLayer(o.layer.uid));for(const o of i)o.processFeatures(o.tileClipper);return i}_parseTileData(n){const i={};for(const o of Object.keys(n)){const r=n[o],c={};for(;r.next();)switch(r.tag()){case 3:{const a=r.getMessage(),l=new t(a);a.release(),c[l.name]=l;break}default:r.skip()}i[o]=c}return i}_createBucket(n){switch(n.type){case M.fR.BACKGROUND:return null;case M.fR.FILL:return this._createFillBucket(n);case M.fR.LINE:return this._createLineBucket(n);case M.fR.CIRCLE:return this._createCircleBucket(n);case M.fR.SYMBOL:return this._createSymbolBucket(n)}}_createFillBucket(n){return new _t(n,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new Ft(n.fillMaterial.getStride()),new j,new Zt(n.outlineMaterial.getStride()),new j)}_createLineBucket(n){return new vt(n,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new Ut(n.lineMaterial.getStride()),new j)}_createCircleBucket(n){return new Kt(n,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new Vt(n.circleMaterial.getStride()),new j)}_createSymbolBucket(n){const i=this._tile;return new X(n,this._level,new Gt(n.iconMaterial.getStride()),new j,new Gt(n.textMaterial.getStride()),new j,i.placementEngine,i.getWorkerTileHandler())}}class fe{constructor(n,i,o,r){this.status=ot.INITIALIZED,this.placementEngine=new Mt,this.tileKey=n,this.refKeys=i,this._workerTileHandler=o,this._styleRepository=r}release(){this.tileKey="",this.refKeys=null,this.status=ot.INITIALIZED,this._workerTileHandler=null}parse(n,i){var o=this;return(0,K.Z)(function*(){const r=i&&i.signal;if((0,dt.pC)(r)){const f=()=>{r.removeEventListener("abort",f),o.status=ot.INVALID};r.addEventListener("abort",f)}let c;const a={bucketsWithData:[],emptyBuckets:null};try{c=yield o._parse(n,i)}catch(f){if((0,et.D_)(f))throw f;return{result:a,transferList:[]}}o.status=ot.READY;const l=a.bucketsWithData,h=[];for(const f of c)if(f.hasFeatures()){const T=f.serialize();l.push(T)}else h.push(f.layer.uid);const u=[...l];let E=null;return h.length>0&&(E=Uint32Array.from(h),u.push(E.buffer)),a.emptyBuckets=E,{result:a,transferList:u}})()}setObsolete(){this.status=ot.INVALID}getLayers(){return this._workerTileHandler.getLayers()}getWorkerTileHandler(){return this._workerTileHandler}_parse(n,i){var o=this;return(0,K.Z)(function*(){const r=n.sourceName2DataAndRefKey;return 0===Object.keys(r).length?[]:(o.status=ot.MODIFIED,new e(r,o,i.client,o._styleRepository,n.styleLayerUIDs).parse(i))})()}}var de=U(78364);class Ee{constructor(){this._spriteInfo={},this._glyphInfo={}}reset(){return this._spriteInfo={},this._glyphInfo={},Promise.resolve()}getLayers(){var n;return null==(n=this._styleRepository)?void 0:n.layers}createTileAndParse(n,i){var o=this;return(0,K.Z)(function*(){const{key:r}=n,c={};for(const l of Object.keys(n.sourceName2DataAndRefKey))c[l]=n.sourceName2DataAndRefKey[l].refKey;const a=new fe(r,c,o,o._styleRepository);try{return yield a.parse(n,i)}catch(l){if(a.setObsolete(),a.release(),!(0,et.D_)(l))throw l;return null}})()}updateStyle(n){if(!n||0===n.length||!this._styleRepository)return;const i=this._styleRepository;for(const o of n){const c=o.data;switch(o.type){case v.Fr.PAINTER_CHANGED:i.setPaintProperties(c.layer,c.paint);break;case v.Fr.LAYOUT_CHANGED:i.setLayoutProperties(c.layer,c.layout);break;case v.Fr.LAYER_REMOVED:i.deleteStyleLayer(c.layer);break;case v.Fr.LAYER_CHANGED:i.setStyleLayer(c.layer,c.index);break;case v.Fr.SPRITES_CHANGED:this._spriteInfo={}}}}setStyle(n){this._styleRepository=new de.Z(n),this._spriteInfo={},this._glyphInfo={}}fetchSprites(n,i,o){const r=[],c=this._spriteInfo;for(const a of n)void 0===c[a.name]&&r.push(a);return 0===r.length?Promise.resolve():i.invoke("getSprites",r,{signal:o&&o.signal}).then(a=>{for(const l in a)c[l]=a[l]})}getSpriteItems(){return this._spriteInfo}fetchGlyphs(n,i,o,r,c){const a=[];let l=this._glyphInfo[i];return l?o.forEach(h=>{l[h]||a.push(h)}):(l=this._glyphInfo[i]=[],o.forEach(h=>a.push(h))),0===a.length?Promise.resolve():r.invoke("getGlyphs",{tileID:n,font:i,codePoints:a},c).then(h=>{for(let u=0;u<h.length;u++)h[u]&&(l[u]=h[u])})}getGlyphItems(n){return this._glyphInfo[n]}}},39351:(ae,yt,U)=>{U.d(yt,{xl:()=>Zt,lK:()=>Kt,_5:()=>Ft,pU:()=>Gt,aK:()=>Vt,eF:()=>rt,Uh:()=>ee,_6:()=>Ee,Tz:()=>e,CQ:()=>ne,oK:()=>fe,e0:()=>de,SD:()=>d,XJ:()=>te,$0:()=>W,iV:()=>Ht,Zd:()=>_t,Ex:()=>Z,uG:()=>wt,Jc:()=>jt,xm:()=>Tt,m4:()=>bt,MI:()=>Xt,AI:()=>v,Ip:()=>X,ru:()=>B,fL:()=>Yt,iJ:()=>gt,nM:()=>ht,Ij:()=>$,f2:()=>Ct,Ic:()=>Mt,Al:()=>Rt,Xj:()=>G,QU:()=>j,Jw:()=>Lt,kF:()=>t,yP:()=>Ut,D3:()=>ct,Iw:()=>st,tQ:()=>vt,I_:()=>nt,a:()=>kt,CU:()=>qt,V4:()=>Qt});const v=1e-30,B=4294967295,nt=512,W=8,Tt=29,Z=24,st=8,rt={metrics:{width:15,height:17,left:0,top:-7,advance:14}},ct=0,Rt=0,Mt=0,gt=1,ht=2,$=3,Ct=4,G=12,j=5,Lt=6,t=5,Ut=6,Ft=0,Zt=1,Gt=2,Vt=3,Kt=4,bt=2,wt=1,_t=2,Ht=4,vt=1.05,jt=6,Qt=5,qt=6,kt=1.15,Yt=2,te=8,X=500,Xt=10,ee=2,ne=0,e=1,fe=4,de=8,Ee=4,d=1},40852:(ae,yt,U)=>{U.d(yt,{G:()=>K});class K{constructor(v,dt,B,nt,at,lt=!1,it=0){this.name=v,this.count=dt,this.type=B,this.offset=nt,this.stride=at,this.normalized=lt,this.divisor=it}}},67969:(ae,yt,U)=>{var K,et,v,dt,B,nt,at,lt,it,Et,W,Tt,At,xt,M,O,It,Pt,q,Z,st,rt,t;U.d(yt,{Ld:()=>pt,zi:()=>v,db:()=>dt,w0:()=>B,lk:()=>K,Y5:()=>G,VY:()=>Rt,wb:()=>it,q_:()=>gt,Wf:()=>at,g:()=>lt,Lu:()=>Mt,OU:()=>rt,LR:()=>nt,qi:()=>Z,VI:()=>xt,Br:()=>O,MX:()=>et,Tg:()=>It,_g:()=>ct,Ho:()=>q,lP:()=>M,xS:()=>Et,V7:()=>j,Lm:()=>st,cw:()=>W,No:()=>At,e8:()=>Tt,Se:()=>ht,l1:()=>Pt}),(t=K||(K={}))[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(et||(et={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(v||(v={})),function(t){t[t.ADD=32774]="ADD",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(dt||(dt={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"}(B||(B={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(nt||(nt={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(at||(at={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT"}(lt||(lt={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(it||(it={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(Et||(Et={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(W||(W={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Tt||(Tt={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(At||(At={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(xt||(xt={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(M||(M={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(O||(O={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(It||(It={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(Pt||(Pt={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(q||(q={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(Z||(Z={})),function(t){t[t.TEXTURE=0]="TEXTURE",t[t.RENDER_BUFFER=1]="RENDER_BUFFER",t[t.CUBEMAP=2]="CUBEMAP"}(st||(st={})),function(t){t[t.NONE=0]="NONE",t[t.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER",t[t.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER",t[t.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER",t[t.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"}(rt||(rt={}));const pt=33984;var ct,Rt;(function(t){t[t.Texture=0]="Texture",t[t.Buffer=1]="Buffer",t[t.VAO=2]="VAO",t[t.Shader=3]="Shader",t[t.Program=4]="Program",t[t.Framebuffer=5]="Framebuffer",t[t.Renderbuffer=6]="Renderbuffer",t[t.Sync=7]="Sync",t[t.COUNT=8]="COUNT"})(ct||(ct={})),function(t){t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(Rt||(Rt={}));const Mt=33306;var gt,ht,$,Ct,G,j,Lt;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(gt||(gt={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(ht||(ht={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}($||($={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}(Ct||(Ct={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(G||(G={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(j||(j={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(Lt||(Lt={}))}}]);