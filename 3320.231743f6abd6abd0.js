"use strict";(self.webpackChunkesri4_pwa=self.webpackChunkesri4_pwa||[]).push([[3320],{4794:(fe,_,c)=>{function h(){return[0,0,0,0]}function s(f,y,M,m){return[f,y,M,m]}function N(f,y){return new Float64Array(f,y,4)}function x(){return s(1,1,1,1)}function R(){return s(1,0,0,0)}function w(){return s(0,1,0,0)}function H(){return s(0,0,1,0)}function Z(){return s(0,0,0,1)}c.d(_,{a:()=>N,c:()=>h,f:()=>s});const p=x(),C=R(),D=w(),k=H(),K=Z();Object.freeze({__proto__:null,create:h,clone:function Y(f){return[f[0],f[1],f[2],f[3]]},fromValues:s,fromArray:function S(f){const y=[0,0,0,0],M=Math.min(4,f.length);for(let m=0;m<M;++m)y[m]=f[m];return y},createView:N,zeros:function F(){return[0,0,0,0]},ones:x,unitX:R,unitY:w,unitZ:H,unitW:Z,ZEROS:[0,0,0,0],ONES:p,UNIT_X:C,UNIT_Y:D,UNIT_Z:k,UNIT_W:K})},83320:(fe,_,c)=>{c.r(_),c.d(_,{destroyContext:()=>ye,dracoDecompressPointCloudData:()=>M,filterObbsForModifications:()=>le,filterObbsForModificationsSync:()=>ee,initialize:()=>A,interpretObbModificationResults:()=>me,process:()=>f,setLegacySchema:()=>he,setModifications:()=>de,setModificationsSync:()=>Q,test:()=>be});var S,N,t,h=c(15861),Y=c(62208),s=c(55713);(t=S||(S={}))[t.None=0]="None",t[t.Int16=1]="Int16",t[t.Int32=2]="Int32",function(t){t[t.Replace=0]="Replace",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Finished=3]="Finished"}(N||(N={}));var F=c(54346);function R(t){return(0,F.V)(`esri/libs/i3s/${t}`)}let w;var O,p,C,D,k;function f(t){return y.apply(this,arguments)}function y(){return y=(0,h.Z)(function*(t){yield A();const n=[t.geometryBuffer];return{result:q(t,n),transferList:n}}),y.apply(this,arguments)}function M(t){return m.apply(this,arguments)}function m(){return m=(0,h.Z)(function*(t){var n;yield A();const r=[t.geometryBuffer],{geometryBuffer:u}=t,a=u.byteLength,b=i._malloc(a),l=new Uint8Array(i.HEAPU8.buffer,b,a);l.set(new Uint8Array(u));const g=i.dracoDecompressPointCloudData(b,l.byteLength);if(i._free(b),g.error.length>0)throw`i3s.wasm: ${g.error}`;const E=(null==(n=g.featureIds)?void 0:n.length)>0?(0,s.tP)(g.featureIds):null,T=(0,s.tP)(g.positions);return E&&r.push(E.buffer),r.push(T.buffer),{result:{positions:T,featureIds:E},transferList:r}}),m.apply(this,arguments)}function le(t){return W.apply(this,arguments)}function W(){return W=(0,h.Z)(function*(t){yield A(),ee(t);const n={buffer:t.buffer};return{result:n,transferList:[n.buffer]}}),W.apply(this,arguments)}function de(t){return V.apply(this,arguments)}function V(){return V=(0,h.Z)(function*(t){yield A(),Q(t)}),V.apply(this,arguments)}function he(t){return j.apply(this,arguments)}function j(){return j=(0,h.Z)(function*(t){yield A(),i.setLegacySchema(t.context,t.jsonSchema)}),j.apply(this,arguments)}function ye(t){te(t)}let B,i;function Q(t){const n=t.modifications,r=i._malloc(8*n.length),u=new Float64Array(i.HEAPU8.buffer,r,n.length);for(let a=0;a<n.length;++a)u[a]=n[a];i.setModifications(t.context,r,n.length,t.isGeodetic),i._free(r)}function q(t,n){if(!i)return null;const{context:r,localOrigin:u,globalTrafo:a,mbs:b,obb:l,elevationOffset:g,geometryBuffer:E,geometryDescriptor:T,indexToVertexProjector:z,vertexToRenderProjector:pe}=t,G=i._malloc(E.byteLength),$=i._malloc(33*Float64Array.BYTES_PER_ELEMENT),re=new Uint8Array(i.HEAPU8.buffer,G,E.byteLength);re.set(new Uint8Array(E));const d=new Float64Array(i.HEAPU8.buffer,$,33);v(d,u);let I=d.byteOffset+3*d.BYTES_PER_ELEMENT,L=new Float64Array(d.buffer,I);v(L,a),I+=16*d.BYTES_PER_ELEMENT,L=new Float64Array(d.buffer,I),v(L,b),I+=4*d.BYTES_PER_ELEMENT,(0,Y.pC)(l)&&(L=new Float64Array(d.buffer,I),v(L,l.center),I+=3*d.BYTES_PER_ELEMENT,L=new Float64Array(d.buffer,I),v(L,l.halfSize),I+=3*d.BYTES_PER_ELEMENT,L=new Float64Array(d.buffer,I),v(L,l.quaternion));const oe=T,ge={isDraco:!1,isLegacy:!1,color:t.layouts.some(P=>P.some(U=>"color"===U.name)),normal:t.needNormals&&t.layouts.some(P=>P.some(U=>"normalCompressed"===U.name)),uv0:t.layouts.some(P=>P.some(U=>"uv0"===U.name)),uvRegion:t.layouts.some(P=>P.some(U=>"uvRegion"===U.name)),featureIndex:oe.featureIndex},o=i.process(r,!!t.obb,G,re.byteLength,oe,ge,$,g,z,pe,t.normalReferenceFrame);if(i._free($),i._free(G),o.error.length>0)throw`i3s.wasm: ${o.error}`;if(o.discarded)return null;const X=o.componentOffsets.length>0?(0,s.tP)(o.componentOffsets):null,J=o.featureIds.length>0?(0,s.tP)(o.featureIds):null,ie=(0,s.tP)(o.interleavedVertedData).buffer,se=(0,s.tP)(o.indicesType===S.Int16?new Uint16Array(o.indices.buffer,o.indices.byteOffset,o.indices.byteLength/2):new Uint32Array(o.indices.buffer,o.indices.byteOffset,o.indices.byteLength/4)),ae=(0,s.tP)(o.positions),ue=(0,s.tP)(o.positionIndicesType===S.Int16?new Uint16Array(o.positionIndices.buffer,o.positionIndices.byteOffset,o.positionIndices.byteLength/2):new Uint32Array(o.positionIndices.buffer,o.positionIndices.byteOffset,o.positionIndices.byteLength/4)),Ee={layout:t.layouts[0],interleavedVertexData:ie,indices:se,hasColors:o.hasColors,hasModifications:o.hasModifications,positionData:{data:ae,indices:ue}};return J&&n.push(J.buffer),X&&n.push(X.buffer),n.push(ie),n.push(se.buffer),n.push(ae.buffer),n.push(ue.buffer),{componentOffsets:X,featureIds:J,transformedGeometry:Ee,obb:o.obb}}function me(t){return 0===t?p.Unmodified:1===t?p.PotentiallyModified:2===t?p.Culled:p.Unknown}function ee(t){const{context:n,buffer:r}=t,u=i._malloc(r.byteLength),a=r.byteLength/Float64Array.BYTES_PER_ELEMENT,b=new Float64Array(i.HEAPU8.buffer,u,a),l=new Float64Array(r);b.set(l),i.filterOBBs(n,u,a),l.set(b),i._free(u)}function te(t){i&&i.destroy(t)}function v(t,n){for(let r=0;r<n.length;++r)t[r]=n[r]}function A(){return i?Promise.resolve():(B||(B=function x(){return w||(w=new Promise(t=>c.e(5979).then(c.bind(c,85979)).then(n=>n.i).then(({default:n})=>{const r=n({locateFile:R,onRuntimeInitialized:()=>t(r)});delete r.then})).catch(t=>Promise.reject(t))),w}().then(t=>{i=t,B=null})),B)}c(4794),function(t){t[t.Unmodified=0]="Unmodified",t[t.Culled=1]="Culled",t[t.NotChecked=2]="NotChecked"}(O||(O={})),function(t){t[t.Unmodified=0]="Unmodified",t[t.PotentiallyModified=1]="PotentiallyModified",t[t.Culled=2]="Culled",t[t.Unknown=3]="Unknown",t[t.NotChecked=4]="NotChecked"}(p||(p={})),function(t){t[t.Unknown=0]="Unknown",t[t.Uncached=1]="Uncached",t[t.Cached=2]="Cached"}(C||(C={})),function(t){t[t.None=0]="None",t[t.MaxScreenThreshold=1]="MaxScreenThreshold",t[t.ScreenSpaceRelative=2]="ScreenSpaceRelative",t[t.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",t[t.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(D||(D={})),function(t){t[t.Hole=0]="Hole",t[t.Leaf=1]="Leaf"}(k||(k={}));const be={transform:q,destroy:te}}}]);